function zk(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function qk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n0={exports:{}},ld={},i0={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Wk=Symbol.for("react.portal"),Hk=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),Gk=Symbol.for("react.profiler"),Kk=Symbol.for("react.provider"),Yk=Symbol.for("react.context"),Jk=Symbol.for("react.forward_ref"),Xk=Symbol.for("react.suspense"),Zk=Symbol.for("react.memo"),ew=Symbol.for("react.lazy"),Ax=Symbol.iterator;function tw(e){return e===null||typeof e!="object"?null:(e=Ax&&e[Ax]||e["@@iterator"],typeof e=="function"?e:null)}var o0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l0=Object.assign,d0={};function Rn(e,t,s){this.props=e,this.context=t,this.refs=d0,this.updater=s||o0}Rn.prototype.isReactComponent={};Rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function c0(){}c0.prototype=Rn.prototype;function Pm(e,t,s){this.props=e,this.context=t,this.refs=d0,this.updater=s||o0}var Am=Pm.prototype=new c0;Am.constructor=Pm;l0(Am,Rn.prototype);Am.isPureReactComponent=!0;var Ix=Array.isArray,u0=Object.prototype.hasOwnProperty,Im={current:null},m0={key:!0,ref:!0,__self:!0,__source:!0};function h0(e,t,s){var a,n={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)u0.call(t,a)&&!m0.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];n.children=d}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:lo,type:e,key:i,ref:o,props:n,_owner:Im.current}}function rw(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mm(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Mx=/\/+/g;function Jd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sw(""+e.key):t.toString(36)}function Xo(e,t,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case lo:case Wk:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+Jd(o,0):a,Ix(n)?(s="",e!=null&&(s=e.replace(Mx,"$&/")+"/"),Xo(n,t,s,"",function(c){return c})):n!=null&&(Mm(n)&&(n=rw(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Mx,"$&/")+"/")+e)),t.push(n)),1;if(o=0,a=a===""?".":a+":",Ix(e))for(var l=0;l<e.length;l++){i=e[l];var d=a+Jd(i,l);o+=Xo(i,t,s,d,n)}else if(d=tw(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=a+Jd(i,l++),o+=Xo(i,t,s,d,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function So(e,t,s){if(e==null)return e;var a=[],n=0;return Xo(e,a,"","",function(i){return t.call(s,i,n++)}),a}function aw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},Zo={transition:null},nw={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Zo,ReactCurrentOwner:Im};function x0(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:So,forEach:function(e,t,s){So(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return So(e,function(){t++}),t},toArray:function(e){return So(e,function(t){return t})||[]},only:function(e){if(!Mm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Rn;ce.Fragment=Hk;ce.Profiler=Gk;ce.PureComponent=Pm;ce.StrictMode=Qk;ce.Suspense=Xk;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nw;ce.act=x0;ce.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=l0({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Im.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)u0.call(t,d)&&!m0.hasOwnProperty(d)&&(a[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)a.children=s;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:lo,type:e.type,key:n,ref:i,props:a,_owner:o}};ce.createContext=function(e){return e={$$typeof:Yk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kk,_context:e},e.Consumer=e};ce.createElement=h0;ce.createFactory=function(e){var t=h0.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Jk,render:e}};ce.isValidElement=Mm;ce.lazy=function(e){return{$$typeof:ew,_payload:{_status:-1,_result:e},_init:aw}};ce.memo=function(e,t){return{$$typeof:Zk,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Zo.transition;Zo.transition={};try{e()}finally{Zo.transition=t}};ce.unstable_act=x0;ce.useCallback=function(e,t){return Pt.current.useCallback(e,t)};ce.useContext=function(e){return Pt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Pt.current.useEffect(e,t)};ce.useId=function(){return Pt.current.useId()};ce.useImperativeHandle=function(e,t,s){return Pt.current.useImperativeHandle(e,t,s)};ce.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Pt.current.useMemo(e,t)};ce.useReducer=function(e,t,s){return Pt.current.useReducer(e,t,s)};ce.useRef=function(e){return Pt.current.useRef(e)};ce.useState=function(e){return Pt.current.useState(e)};ce.useSyncExternalStore=function(e,t,s){return Pt.current.useSyncExternalStore(e,t,s)};ce.useTransition=function(){return Pt.current.useTransition()};ce.version="18.3.1";i0.exports=ce;var f=i0.exports;const Er=qk(f),iw=zk({__proto__:null,default:Er},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow=f,lw=Symbol.for("react.element"),dw=Symbol.for("react.fragment"),cw=Object.prototype.hasOwnProperty,uw=ow.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mw={key:!0,ref:!0,__self:!0,__source:!0};function p0(e,t,s){var a,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)cw.call(t,a)&&!mw.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:lw,type:e,key:i,ref:o,props:n,_owner:uw.current}}ld.Fragment=dw;ld.jsx=p0;ld.jsxs=p0;n0.exports=ld;var r=n0.exports,au={},f0={exports:{}},Yt={},g0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var J=z.length;z.push(U);e:for(;0<J;){var H=J-1>>>1,me=z[H];if(0<n(me,U))z[H]=U,z[J]=me,J=H;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var U=z[0],J=z.pop();if(J!==U){z[0]=J;e:for(var H=0,me=z.length,ne=me>>>1;H<ne;){var Q=2*(H+1)-1,le=z[Q],de=Q+1,cr=z[de];if(0>n(le,J))de<me&&0>n(cr,le)?(z[H]=cr,z[de]=J,H=de):(z[H]=le,z[Q]=J,H=Q);else if(de<me&&0>n(cr,J))z[H]=cr,z[de]=J,H=de;else break e}}return U}function n(z,U){var J=z.sortIndex-U.sortIndex;return J!==0?J:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,m=null,x=3,h=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var U=s(c);U!==null;){if(U.callback===null)a(c);else if(U.startTime<=z)a(c),U.sortIndex=U.expirationTime,t(d,U);else break;U=s(c)}}function k(z){if(y=!1,j(z),!g)if(s(d)!==null)g=!0,L(w);else{var U=s(c);U!==null&&ie(k,U.startTime-z)}}function w(z,U){g=!1,y&&(y=!1,p(T),T=-1),h=!0;var J=x;try{for(j(U),m=s(d);m!==null&&(!(m.expirationTime>U)||z&&!V());){var H=m.callback;if(typeof H=="function"){m.callback=null,x=m.priorityLevel;var me=H(m.expirationTime<=U);U=e.unstable_now(),typeof me=="function"?m.callback=me:m===s(d)&&a(d),j(U)}else a(d);m=s(d)}if(m!==null)var ne=!0;else{var Q=s(c);Q!==null&&ie(k,Q.startTime-U),ne=!1}return ne}finally{m=null,x=J,h=!1}}var C=!1,N=null,T=-1,_=5,P=-1;function V(){return!(e.unstable_now()-P<_)}function R(){if(N!==null){var z=e.unstable_now();P=z;var U=!0;try{U=N(!0,z)}finally{U?G():(C=!1,N=null)}}else C=!1}var G;if(typeof b=="function")G=function(){b(R)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,E=ee.port2;ee.port1.onmessage=R,G=function(){E.postMessage(null)}}else G=function(){v(R,0)};function L(z){N=z,C||(C=!0,G())}function ie(z,U){T=v(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,L(w))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var J=x;x=U;try{return z()}finally{x=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=x;x=z;try{return U()}finally{x=J}},e.unstable_scheduleCallback=function(z,U,J){var H=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?H+J:H):J=H,z){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=J+me,z={id:u++,callback:U,priorityLevel:z,startTime:J,expirationTime:me,sortIndex:-1},J>H?(z.sortIndex=J,t(c,z),s(d)===null&&z===s(c)&&(y?(p(T),T=-1):y=!0,ie(k,J-H))):(z.sortIndex=me,t(d,z),g||h||(g=!0,L(w))),z},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(z){var U=x;return function(){var J=x;x=U;try{return z.apply(this,arguments)}finally{x=J}}}})(b0);g0.exports=b0;var hw=g0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=f,Wt=hw;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y0=new Set,Ai={};function La(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(Ai[e]=t,e=0;e<t.length;e++)y0.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nu=Object.prototype.hasOwnProperty,pw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_x={},Ex={};function fw(e){return nu.call(Ex,e)?!0:nu.call(_x,e)?!1:pw.test(e)?Ex[e]=!0:(_x[e]=!0,!1)}function gw(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bw(e,t,s,a){if(t===null||typeof t>"u"||gw(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,s,a,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function Em(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,Em);nt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,Em);nt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,Em);nt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rm(e,t,s,a){var n=nt.hasOwnProperty(t)?nt[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bw(t,s,n,a)&&(s=null),a||n===null?fw(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var ns=xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),ou=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),Om=Symbol.for("react.memo"),fs=Symbol.for("react.lazy"),k0=Symbol.for("react.offscreen"),Rx=Symbol.iterator;function Qn(e){return e===null||typeof e!="object"?null:(e=Rx&&e[Rx]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Xd;function oi(e){if(Xd===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Xd=t&&t[1]||""}return`
`+Xd+e}var Zd=!1;function ec(e,t){if(!e||Zd)return"";Zd=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var d=`
`+n[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{Zd=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?oi(e):""}function yw(e){switch(e.tag){case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 2:case 15:return e=ec(e.type,!1),e;case 11:return e=ec(e.type.render,!1),e;case 1:return e=ec(e.type,!0),e;default:return""}}function du(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ka:return"Fragment";case Ga:return"Portal";case iu:return"Profiler";case Dm:return"StrictMode";case ou:return"Suspense";case lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j0:return(e.displayName||"Context")+".Consumer";case v0:return(e._context.displayName||"Context")+".Provider";case Lm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Om:return t=e.displayName||null,t!==null?t:du(e.type)||"Memo";case fs:t=e._payload,e=e._init;try{return du(e(t))}catch{}}return null}function vw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return du(t);case 8:return t===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function w0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jw(e){var t=w0(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function To(e){e._valueTracker||(e._valueTracker=jw(e))}function N0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=w0(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cu(e,t){var s=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Dx(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=Bs(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S0(e,t){t=t.checked,t!=null&&Rm(e,"checked",t,!1)}function uu(e,t){S0(e,t);var s=Bs(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mu(e,t.type,s):t.hasOwnProperty("defaultValue")&&mu(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lx(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function mu(e,t,s){(t!=="number"||fl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var li=Array.isArray;function mn(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Bs(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ox(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(q(92));if(li(s)){if(1<s.length)throw Error(q(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Bs(s)}}function C0(e,t){var s=Bs(t.value),a=Bs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function Fx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,P0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ii(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kw=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){kw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function A0(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function I0(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=A0(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var ww=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(e,t){if(t){if(ww[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function Fm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bu=null,hn=null,xn=null;function Bx(e){if(e=mo(e)){if(typeof bu!="function")throw Error(q(280));var t=e.stateNode;t&&(t=hd(t),bu(e.stateNode,e.type,t))}}function M0(e){hn?xn?xn.push(e):xn=[e]:hn=e}function _0(){if(hn){var e=hn,t=xn;if(xn=hn=null,Bx(e),t)for(e=0;e<t.length;e++)Bx(t[e])}}function E0(e,t){return e(t)}function R0(){}var tc=!1;function D0(e,t,s){if(tc)return e(t,s);tc=!0;try{return E0(e,t,s)}finally{tc=!1,(hn!==null||xn!==null)&&(R0(),_0())}}function Mi(e,t){var s=e.stateNode;if(s===null)return null;var a=hd(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(q(231,t,typeof s));return s}var yu=!1;if(Jr)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{yu=!1}function Nw(e,t,s,a,n,i,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(u){this.onError(u)}}var xi=!1,gl=null,bl=!1,vu=null,Sw={onError:function(e){xi=!0,gl=e}};function Cw(e,t,s,a,n,i,o,l,d){xi=!1,gl=null,Nw.apply(Sw,arguments)}function Tw(e,t,s,a,n,i,o,l,d){if(Cw.apply(this,arguments),xi){if(xi){var c=gl;xi=!1,gl=null}else throw Error(q(198));bl||(bl=!0,vu=c)}}function Oa(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function L0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ux(e){if(Oa(e)!==e)throw Error(q(188))}function Pw(e){var t=e.alternate;if(!t){if(t=Oa(e),t===null)throw Error(q(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return Ux(n),e;if(i===a)return Ux(n),t;i=i.sibling}throw Error(q(188))}if(s.return!==a.return)s=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,a=i;break}if(l===a){o=!0,a=n,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,a=n;break}if(l===a){o=!0,a=i,s=n;break}l=l.sibling}if(!o)throw Error(q(189))}}if(s.alternate!==a)throw Error(q(190))}if(s.tag!==3)throw Error(q(188));return s.stateNode.current===s?e:t}function O0(e){return e=Pw(e),e!==null?F0(e):null}function F0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F0(e);if(t!==null)return t;e=e.sibling}return null}var B0=Wt.unstable_scheduleCallback,$x=Wt.unstable_cancelCallback,Aw=Wt.unstable_shouldYield,Iw=Wt.unstable_requestPaint,Fe=Wt.unstable_now,Mw=Wt.unstable_getCurrentPriorityLevel,Bm=Wt.unstable_ImmediatePriority,U0=Wt.unstable_UserBlockingPriority,yl=Wt.unstable_NormalPriority,_w=Wt.unstable_LowPriority,$0=Wt.unstable_IdlePriority,dd=null,Ir=null;function Ew(e){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(dd,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:Lw,Rw=Math.log,Dw=Math.LN2;function Lw(e){return e>>>=0,e===0?32:31-(Rw(e)/Dw|0)|0}var Ao=64,Io=4194304;function di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~n;l!==0?a=di(l):(i&=o,i!==0&&(a=di(i)))}else o=s&~n,o!==0?a=di(o):i!==0&&(a=di(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-gr(t),n=1<<s,a|=e[s],t&=~n;return a}function Ow(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fw(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gr(i),l=1<<o,d=n[o];d===-1?(!(l&s)||l&a)&&(n[o]=Ow(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function V0(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function rc(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function co(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=s}function Bw(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-gr(s),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function Um(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-gr(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var ve=0;function z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var q0,$m,W0,H0,Q0,ku=!1,Mo=[],Ss=null,Cs=null,Ts=null,_i=new Map,Ei=new Map,ys=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(e,t){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ei.delete(t.pointerId)}}function Kn(e,t,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=mo(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function $w(e,t,s,a,n){switch(t){case"focusin":return Ss=Kn(Ss,e,t,s,a,n),!0;case"dragenter":return Cs=Kn(Cs,e,t,s,a,n),!0;case"mouseover":return Ts=Kn(Ts,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return _i.set(i,Kn(_i.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Ei.set(i,Kn(Ei.get(i)||null,e,t,s,a,n)),!0}return!1}function G0(e){var t=ua(e.target);if(t!==null){var s=Oa(t);if(s!==null){if(t=s.tag,t===13){if(t=L0(s),t!==null){e.blockedOn=t,Q0(e.priority,function(){W0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);gu=a,s.target.dispatchEvent(a),gu=null}else return t=mo(s),t!==null&&$m(t),e.blockedOn=s,!1;t.shift()}return!0}function zx(e,t,s){el(e)&&s.delete(t)}function Vw(){ku=!1,Ss!==null&&el(Ss)&&(Ss=null),Cs!==null&&el(Cs)&&(Cs=null),Ts!==null&&el(Ts)&&(Ts=null),_i.forEach(zx),Ei.forEach(zx)}function Yn(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,Vw)))}function Ri(e){function t(n){return Yn(n,e)}if(0<Mo.length){Yn(Mo[0],e);for(var s=1;s<Mo.length;s++){var a=Mo[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Ss!==null&&Yn(Ss,e),Cs!==null&&Yn(Cs,e),Ts!==null&&Yn(Ts,e),_i.forEach(t),Ei.forEach(t),s=0;s<ys.length;s++)a=ys[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<ys.length&&(s=ys[0],s.blockedOn===null);)G0(s),s.blockedOn===null&&ys.shift()}var pn=ns.ReactCurrentBatchConfig,jl=!0;function zw(e,t,s,a){var n=ve,i=pn.transition;pn.transition=null;try{ve=1,Vm(e,t,s,a)}finally{ve=n,pn.transition=i}}function qw(e,t,s,a){var n=ve,i=pn.transition;pn.transition=null;try{ve=4,Vm(e,t,s,a)}finally{ve=n,pn.transition=i}}function Vm(e,t,s,a){if(jl){var n=wu(e,t,s,a);if(n===null)mc(e,t,a,kl,s),Vx(e,a);else if($w(n,e,t,s,a))a.stopPropagation();else if(Vx(e,a),t&4&&-1<Uw.indexOf(e)){for(;n!==null;){var i=mo(n);if(i!==null&&q0(i),i=wu(e,t,s,a),i===null&&mc(e,t,a,kl,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else mc(e,t,a,null,s)}}var kl=null;function wu(e,t,s,a){if(kl=null,e=Fm(a),e=ua(e),e!==null)if(t=Oa(e),t===null)e=null;else if(s=t.tag,s===13){if(e=L0(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kl=e,null}function K0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mw()){case Bm:return 1;case U0:return 4;case yl:case _w:return 16;case $0:return 536870912;default:return 16}default:return 16}}var js=null,zm=null,tl=null;function Y0(){if(tl)return tl;var e,t=zm,s=t.length,a,n="value"in js?js.value:js.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var o=s-e;for(a=1;a<=o&&t[s-a]===n[i-a];a++);return tl=n.slice(e,1<a?1-a:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function qx(){return!1}function Jt(e){function t(s,a,n,i,o){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_o:qx,this.isPropagationStopped=qx,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=Jt(Dn),uo=Le({},Dn,{view:0,detail:0}),Ww=Jt(uo),sc,ac,Jn,cd=Le({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(sc=e.screenX-Jn.screenX,ac=e.screenY-Jn.screenY):ac=sc=0,Jn=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),Wx=Jt(cd),Hw=Le({},cd,{dataTransfer:0}),Qw=Jt(Hw),Gw=Le({},uo,{relatedTarget:0}),nc=Jt(Gw),Kw=Le({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yw=Jt(Kw),Jw=Le({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xw=Jt(Jw),Zw=Le({},Dn,{data:0}),Hx=Jt(Zw),eN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rN[e])?!!t[e]:!1}function Wm(){return sN}var aN=Le({},uo,{key:function(e){if(e.key){var t=eN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wm,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nN=Jt(aN),iN=Le({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=Jt(iN),oN=Le({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wm}),lN=Jt(oN),dN=Le({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cN=Jt(dN),uN=Le({},cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mN=Jt(uN),hN=[9,13,27,32],Hm=Jr&&"CompositionEvent"in window,pi=null;Jr&&"documentMode"in document&&(pi=document.documentMode);var xN=Jr&&"TextEvent"in window&&!pi,J0=Jr&&(!Hm||pi&&8<pi&&11>=pi),Gx=" ",Kx=!1;function X0(e,t){switch(e){case"keyup":return hN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function pN(e,t){switch(e){case"compositionend":return Z0(t);case"keypress":return t.which!==32?null:(Kx=!0,Gx);case"textInput":return e=t.data,e===Gx&&Kx?null:e;default:return null}}function fN(e,t){if(Ya)return e==="compositionend"||!Hm&&X0(e,t)?(e=Y0(),tl=zm=js=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J0&&t.locale!=="ko"?null:t.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gN[e.type]:t==="textarea"}function eb(e,t,s,a){M0(a),t=wl(t,"onChange"),0<t.length&&(s=new qm("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var fi=null,Di=null;function bN(e){ub(e,0)}function ud(e){var t=Za(e);if(N0(t))return e}function yN(e,t){if(e==="change")return t}var tb=!1;if(Jr){var ic;if(Jr){var oc="oninput"in document;if(!oc){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),oc=typeof Jx.oninput=="function"}ic=oc}else ic=!1;tb=ic&&(!document.documentMode||9<document.documentMode)}function Xx(){fi&&(fi.detachEvent("onpropertychange",rb),Di=fi=null)}function rb(e){if(e.propertyName==="value"&&ud(Di)){var t=[];eb(t,Di,e,Fm(e)),D0(bN,t)}}function vN(e,t,s){e==="focusin"?(Xx(),fi=t,Di=s,fi.attachEvent("onpropertychange",rb)):e==="focusout"&&Xx()}function jN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(Di)}function kN(e,t){if(e==="click")return ud(t)}function wN(e,t){if(e==="input"||e==="change")return ud(t)}function NN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jr=typeof Object.is=="function"?Object.is:NN;function Li(e,t){if(jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!nu.call(t,n)||!jr(e[n],t[n]))return!1}return!0}function Zx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,t){var s=Zx(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zx(s)}}function sb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ab(){for(var e=window,t=fl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=fl(e.document)}return t}function Qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SN(e){var t=ab(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&sb(s.ownerDocument.documentElement,s)){if(a!==null&&Qm(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=ep(s,i);var o=ep(s,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CN=Jr&&"documentMode"in document&&11>=document.documentMode,Ja=null,Nu=null,gi=null,Su=!1;function tp(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Su||Ja==null||Ja!==fl(a)||(a=Ja,"selectionStart"in a&&Qm(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),gi&&Li(gi,a)||(gi=a,a=wl(Nu,"onSelect"),0<a.length&&(t=new qm("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Ja)))}function Eo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Xa={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},lc={},nb={};Jr&&(nb=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function md(e){if(lc[e])return lc[e];if(!Xa[e])return e;var t=Xa[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in nb)return lc[e]=t[s];return e}var ib=md("animationend"),ob=md("animationiteration"),lb=md("animationstart"),db=md("transitionend"),cb=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(e,t){cb.set(e,t),La(t,[e])}for(var dc=0;dc<rp.length;dc++){var cc=rp[dc],TN=cc.toLowerCase(),PN=cc[0].toUpperCase()+cc.slice(1);Qs(TN,"on"+PN)}Qs(ib,"onAnimationEnd");Qs(ob,"onAnimationIteration");Qs(lb,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(db,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function sp(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Tw(a,t,void 0,e),e.currentTarget=null}function ub(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&n.isPropagationStopped())break e;sp(n,l,c),i=d}else for(o=0;o<a.length;o++){if(l=a[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&n.isPropagationStopped())break e;sp(n,l,c),i=d}}}if(bl)throw e=vu,bl=!1,vu=null,e}function Ce(e,t){var s=t[Iu];s===void 0&&(s=t[Iu]=new Set);var a=e+"__bubble";s.has(a)||(mb(t,e,2,!1),s.add(a))}function uc(e,t,s){var a=0;t&&(a|=4),mb(s,e,a,t)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[Ro]){e[Ro]=!0,y0.forEach(function(s){s!=="selectionchange"&&(AN.has(s)||uc(s,!1,e),uc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ro]||(t[Ro]=!0,uc("selectionchange",!1,t))}}function mb(e,t,s,a){switch(K0(t)){case 1:var n=zw;break;case 4:n=qw;break;default:n=Vm}s=n.bind(null,t,s,e),n=void 0,!yu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function mc(e,t,s,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===n||d.nodeType===8&&d.parentNode===n))return;o=o.return}for(;l!==null;){if(o=ua(l),o===null)return;if(d=o.tag,d===5||d===6){a=i=o;continue e}l=l.parentNode}}a=a.return}D0(function(){var c=i,u=Fm(s),m=[];e:{var x=cb.get(e);if(x!==void 0){var h=qm,g=e;switch(e){case"keypress":if(rl(s)===0)break e;case"keydown":case"keyup":h=nN;break;case"focusin":g="focus",h=nc;break;case"focusout":g="blur",h=nc;break;case"beforeblur":case"afterblur":h=nc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=lN;break;case ib:case ob:case lb:h=Yw;break;case db:h=cN;break;case"scroll":h=Ww;break;case"wheel":h=mN;break;case"copy":case"cut":case"paste":h=Xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Qx}var y=(t&4)!==0,v=!y&&e==="scroll",p=y?x!==null?x+"Capture":null:x;y=[];for(var b=c,j;b!==null;){j=b;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,p!==null&&(k=Mi(b,p),k!=null&&y.push(Fi(b,k,j)))),v)break;b=b.return}0<y.length&&(x=new h(x,g,null,s,u),m.push({event:x,listeners:y}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",x&&s!==gu&&(g=s.relatedTarget||s.fromElement)&&(ua(g)||g[Xr]))break e;if((h||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,h?(g=s.relatedTarget||s.toElement,h=c,g=g?ua(g):null,g!==null&&(v=Oa(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(y=Wx,k="onMouseLeave",p="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Qx,k="onPointerLeave",p="onPointerEnter",b="pointer"),v=h==null?x:Za(h),j=g==null?x:Za(g),x=new y(k,b+"leave",h,s,u),x.target=v,x.relatedTarget=j,k=null,ua(u)===c&&(y=new y(p,b+"enter",g,s,u),y.target=j,y.relatedTarget=v,k=y),v=k,h&&g)t:{for(y=h,p=g,b=0,j=y;j;j=qa(j))b++;for(j=0,k=p;k;k=qa(k))j++;for(;0<b-j;)y=qa(y),b--;for(;0<j-b;)p=qa(p),j--;for(;b--;){if(y===p||p!==null&&y===p.alternate)break t;y=qa(y),p=qa(p)}y=null}else y=null;h!==null&&ap(m,x,h,y,!1),g!==null&&v!==null&&ap(m,v,g,y,!0)}}e:{if(x=c?Za(c):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var w=yN;else if(Yx(x))if(tb)w=wN;else{w=jN;var C=vN}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(w=kN);if(w&&(w=w(e,c))){eb(m,w,s,u);break e}C&&C(e,x,c),e==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&mu(x,"number",x.value)}switch(C=c?Za(c):window,e){case"focusin":(Yx(C)||C.contentEditable==="true")&&(Ja=C,Nu=c,gi=null);break;case"focusout":gi=Nu=Ja=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,tp(m,s,u);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":tp(m,s,u)}var N;if(Hm)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ya?X0(e,s)&&(T="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(T="onCompositionStart");T&&(J0&&s.locale!=="ko"&&(Ya||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ya&&(N=Y0()):(js=u,zm="value"in js?js.value:js.textContent,Ya=!0)),C=wl(c,T),0<C.length&&(T=new Hx(T,e,null,s,u),m.push({event:T,listeners:C}),N?T.data=N:(N=Z0(s),N!==null&&(T.data=N)))),(N=xN?pN(e,s):fN(e,s))&&(c=wl(c,"onBeforeInput"),0<c.length&&(u=new Hx("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:c}),u.data=N))}ub(m,t)})}function Fi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function wl(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Mi(e,s),i!=null&&a.unshift(Fi(e,i,n)),i=Mi(e,t),i!=null&&a.push(Fi(e,i,n))),e=e.return}return a}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ap(e,t,s,a,n){for(var i=t._reactName,o=[];s!==null&&s!==a;){var l=s,d=l.alternate,c=l.stateNode;if(d!==null&&d===a)break;l.tag===5&&c!==null&&(l=c,n?(d=Mi(s,i),d!=null&&o.unshift(Fi(s,d,l))):n||(d=Mi(s,i),d!=null&&o.push(Fi(s,d,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var IN=/\r\n?/g,MN=/\u0000|\uFFFD/g;function np(e){return(typeof e=="string"?e:""+e).replace(IN,`
`).replace(MN,"")}function Do(e,t,s){if(t=np(t),np(e)!==t&&s)throw Error(q(425))}function Nl(){}var Cu=null,Tu=null;function Pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Au=typeof setTimeout=="function"?setTimeout:void 0,_N=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,EN=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(e){return ip.resolve(null).then(e).catch(RN)}:Au;function RN(e){setTimeout(function(){throw e})}function hc(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),Ri(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);Ri(t)}function Ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function op(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ln,Bi="__reactProps$"+Ln,Xr="__reactContainer$"+Ln,Iu="__reactEvents$"+Ln,DN="__reactListeners$"+Ln,LN="__reactHandles$"+Ln;function ua(e){var t=e[Tr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Xr]||s[Tr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=op(e);e!==null;){if(s=e[Tr])return s;e=op(e)}return t}e=s,s=e.parentNode}return null}function mo(e){return e=e[Tr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Za(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function hd(e){return e[Bi]||null}var Mu=[],en=-1;function Gs(e){return{current:e}}function Pe(e){0>en||(e.current=Mu[en],Mu[en]=null,en--)}function we(e,t){en++,Mu[en]=e.current,e.current=t}var Us={},yt=Gs(Us),Ot=Gs(!1),wa=Us;function kn(e,t){var s=e.type.contextTypes;if(!s)return Us;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ft(e){return e=e.childContextTypes,e!=null}function Sl(){Pe(Ot),Pe(yt)}function lp(e,t,s){if(yt.current!==Us)throw Error(q(168));we(yt,t),we(Ot,s)}function hb(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(q(108,vw(e)||"Unknown",n));return Le({},s,a)}function Cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Us,wa=yt.current,we(yt,e),we(Ot,Ot.current),!0}function dp(e,t,s){var a=e.stateNode;if(!a)throw Error(q(169));s?(e=hb(e,t,wa),a.__reactInternalMemoizedMergedChildContext=e,Pe(Ot),Pe(yt),we(yt,e)):Pe(Ot),we(Ot,s)}var Vr=null,xd=!1,xc=!1;function xb(e){Vr===null?Vr=[e]:Vr.push(e)}function ON(e){xd=!0,xb(e)}function Ks(){if(!xc&&Vr!==null){xc=!0;var e=0,t=ve;try{var s=Vr;for(ve=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Vr=null,xd=!1}catch(n){throw Vr!==null&&(Vr=Vr.slice(e+1)),B0(Bm,Ks),n}finally{ve=t,xc=!1}}return null}var tn=[],rn=0,Tl=null,Pl=0,ar=[],nr=0,Na=null,qr=1,Wr="";function aa(e,t){tn[rn++]=Pl,tn[rn++]=Tl,Tl=e,Pl=t}function pb(e,t,s){ar[nr++]=qr,ar[nr++]=Wr,ar[nr++]=Na,Na=e;var a=qr;e=Wr;var n=32-gr(a)-1;a&=~(1<<n),s+=1;var i=32-gr(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,qr=1<<32-gr(t)+n|s<<n|a,Wr=i+e}else qr=1<<i|s<<n|a,Wr=e}function Gm(e){e.return!==null&&(aa(e,1),pb(e,1,0))}function Km(e){for(;e===Tl;)Tl=tn[--rn],tn[rn]=null,Pl=tn[--rn],tn[rn]=null;for(;e===Na;)Na=ar[--nr],ar[nr]=null,Wr=ar[--nr],ar[nr]=null,qr=ar[--nr],ar[nr]=null}var zt=null,Vt=null,Ie=!1,fr=null;function fb(e,t){var s=ir(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function cp(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Vt=Ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Na!==null?{id:qr,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ir(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,zt=e,Vt=null,!0):!1;default:return!1}}function _u(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eu(e){if(Ie){var t=Vt;if(t){var s=t;if(!cp(e,t)){if(_u(e))throw Error(q(418));t=Ps(s.nextSibling);var a=zt;t&&cp(e,t)?fb(a,s):(e.flags=e.flags&-4097|2,Ie=!1,zt=e)}}else{if(_u(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ie=!1,zt=e}}}function up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function Lo(e){if(e!==zt)return!1;if(!Ie)return up(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pu(e.type,e.memoizedProps)),t&&(t=Vt)){if(_u(e))throw gb(),Error(q(418));for(;t;)fb(e,t),t=Ps(t.nextSibling)}if(up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Vt=Ps(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=zt?Ps(e.stateNode.nextSibling):null;return!0}function gb(){for(var e=Vt;e;)e=Ps(e.nextSibling)}function wn(){Vt=zt=null,Ie=!1}function Ym(e){fr===null?fr=[e]:fr.push(e)}var FN=ns.ReactCurrentBatchConfig;function Xn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(q(309));var a=s.stateNode}if(!a)throw Error(q(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!s._owner)throw Error(q(290,e))}return e}function Oo(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mp(e){var t=e._init;return t(e._payload)}function bb(e){function t(p,b){if(e){var j=p.deletions;j===null?(p.deletions=[b],p.flags|=16):j.push(b)}}function s(p,b){if(!e)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function a(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function n(p,b){return p=_s(p,b),p.index=0,p.sibling=null,p}function i(p,b,j){return p.index=j,e?(j=p.alternate,j!==null?(j=j.index,j<b?(p.flags|=2,b):j):(p.flags|=2,b)):(p.flags|=1048576,b)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,b,j,k){return b===null||b.tag!==6?(b=jc(j,p.mode,k),b.return=p,b):(b=n(b,j),b.return=p,b)}function d(p,b,j,k){var w=j.type;return w===Ka?u(p,b,j.props.children,k,j.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fs&&mp(w)===b.type)?(k=n(b,j.props),k.ref=Xn(p,b,j),k.return=p,k):(k=dl(j.type,j.key,j.props,null,p.mode,k),k.ref=Xn(p,b,j),k.return=p,k)}function c(p,b,j,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=kc(j,p.mode,k),b.return=p,b):(b=n(b,j.children||[]),b.return=p,b)}function u(p,b,j,k,w){return b===null||b.tag!==7?(b=ya(j,p.mode,k,w),b.return=p,b):(b=n(b,j),b.return=p,b)}function m(p,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jc(""+b,p.mode,j),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Co:return j=dl(b.type,b.key,b.props,null,p.mode,j),j.ref=Xn(p,null,b),j.return=p,j;case Ga:return b=kc(b,p.mode,j),b.return=p,b;case fs:var k=b._init;return m(p,k(b._payload),j)}if(li(b)||Qn(b))return b=ya(b,p.mode,j,null),b.return=p,b;Oo(p,b)}return null}function x(p,b,j,k){var w=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(p,b,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Co:return j.key===w?d(p,b,j,k):null;case Ga:return j.key===w?c(p,b,j,k):null;case fs:return w=j._init,x(p,b,w(j._payload),k)}if(li(j)||Qn(j))return w!==null?null:u(p,b,j,k,null);Oo(p,j)}return null}function h(p,b,j,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(j)||null,l(b,p,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Co:return p=p.get(k.key===null?j:k.key)||null,d(b,p,k,w);case Ga:return p=p.get(k.key===null?j:k.key)||null,c(b,p,k,w);case fs:var C=k._init;return h(p,b,j,C(k._payload),w)}if(li(k)||Qn(k))return p=p.get(j)||null,u(b,p,k,w,null);Oo(b,k)}return null}function g(p,b,j,k){for(var w=null,C=null,N=b,T=b=0,_=null;N!==null&&T<j.length;T++){N.index>T?(_=N,N=null):_=N.sibling;var P=x(p,N,j[T],k);if(P===null){N===null&&(N=_);break}e&&N&&P.alternate===null&&t(p,N),b=i(P,b,T),C===null?w=P:C.sibling=P,C=P,N=_}if(T===j.length)return s(p,N),Ie&&aa(p,T),w;if(N===null){for(;T<j.length;T++)N=m(p,j[T],k),N!==null&&(b=i(N,b,T),C===null?w=N:C.sibling=N,C=N);return Ie&&aa(p,T),w}for(N=a(p,N);T<j.length;T++)_=h(N,p,T,j[T],k),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?T:_.key),b=i(_,b,T),C===null?w=_:C.sibling=_,C=_);return e&&N.forEach(function(V){return t(p,V)}),Ie&&aa(p,T),w}function y(p,b,j,k){var w=Qn(j);if(typeof w!="function")throw Error(q(150));if(j=w.call(j),j==null)throw Error(q(151));for(var C=w=null,N=b,T=b=0,_=null,P=j.next();N!==null&&!P.done;T++,P=j.next()){N.index>T?(_=N,N=null):_=N.sibling;var V=x(p,N,P.value,k);if(V===null){N===null&&(N=_);break}e&&N&&V.alternate===null&&t(p,N),b=i(V,b,T),C===null?w=V:C.sibling=V,C=V,N=_}if(P.done)return s(p,N),Ie&&aa(p,T),w;if(N===null){for(;!P.done;T++,P=j.next())P=m(p,P.value,k),P!==null&&(b=i(P,b,T),C===null?w=P:C.sibling=P,C=P);return Ie&&aa(p,T),w}for(N=a(p,N);!P.done;T++,P=j.next())P=h(N,p,T,P.value,k),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?T:P.key),b=i(P,b,T),C===null?w=P:C.sibling=P,C=P);return e&&N.forEach(function(R){return t(p,R)}),Ie&&aa(p,T),w}function v(p,b,j,k){if(typeof j=="object"&&j!==null&&j.type===Ka&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Co:e:{for(var w=j.key,C=b;C!==null;){if(C.key===w){if(w=j.type,w===Ka){if(C.tag===7){s(p,C.sibling),b=n(C,j.props.children),b.return=p,p=b;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fs&&mp(w)===C.type){s(p,C.sibling),b=n(C,j.props),b.ref=Xn(p,C,j),b.return=p,p=b;break e}s(p,C);break}else t(p,C);C=C.sibling}j.type===Ka?(b=ya(j.props.children,p.mode,k,j.key),b.return=p,p=b):(k=dl(j.type,j.key,j.props,null,p.mode,k),k.ref=Xn(p,b,j),k.return=p,p=k)}return o(p);case Ga:e:{for(C=j.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){s(p,b.sibling),b=n(b,j.children||[]),b.return=p,p=b;break e}else{s(p,b);break}else t(p,b);b=b.sibling}b=kc(j,p.mode,k),b.return=p,p=b}return o(p);case fs:return C=j._init,v(p,b,C(j._payload),k)}if(li(j))return g(p,b,j,k);if(Qn(j))return y(p,b,j,k);Oo(p,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(s(p,b.sibling),b=n(b,j),b.return=p,p=b):(s(p,b),b=jc(j,p.mode,k),b.return=p,p=b),o(p)):s(p,b)}return v}var Nn=bb(!0),yb=bb(!1),Al=Gs(null),Il=null,sn=null,Jm=null;function Xm(){Jm=sn=Il=null}function Zm(e){var t=Al.current;Pe(Al),e._currentValue=t}function Ru(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function fn(e,t){Il=e,Jm=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rt=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if(Jm!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(Il===null)throw Error(q(308));sn=e,Il.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var ma=null;function eh(e){ma===null?ma=[e]:ma.push(e)}function vb(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,eh(t)):(s.next=n.next,n.next=s),t.interleaved=s,Zr(e,a)}function Zr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var gs=!1;function th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,xe&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Zr(e,s)}return n=a.interleaved,n===null?(t.next=t,eh(a)):(t.next=n.next,n.next=t),a.interleaved=t,Zr(e,s)}function sl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Um(e,s)}}function hp(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ml(e,t,s,a){var n=e.updateQueue;gs=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?i=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=n.baseState;o=0,u=c=d=null,l=i;do{var x=l.lane,h=l.eventTime;if((a&x)===x){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(x=t,h=s,y.tag){case 1:if(g=y.payload,typeof g=="function"){m=g.call(h,m,x);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,x=typeof g=="function"?g.call(h,m,x):g,x==null)break e;m=Le({},m,x);break e;case 2:gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[l]:x.push(l))}else h={eventTime:h,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=h,d=m):u=u.next=h,o|=x;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;x=l,l=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(u===null&&(d=m),n.baseState=d,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);Ca|=o,e.lanes=o,e.memoizedState=m}}function xp(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(q(191,n));n.call(a)}}}var ho={},Mr=Gs(ho),Ui=Gs(ho),$i=Gs(ho);function ha(e){if(e===ho)throw Error(q(174));return e}function rh(e,t){switch(we($i,t),we(Ui,e),we(Mr,ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xu(t,e)}Pe(Mr),we(Mr,t)}function Sn(){Pe(Mr),Pe(Ui),Pe($i)}function kb(e){ha($i.current);var t=ha(Mr.current),s=xu(t,e.type);t!==s&&(we(Ui,e),we(Mr,s))}function sh(e){Ui.current===e&&(Pe(Mr),Pe(Ui))}var _e=Gs(0);function _l(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pc=[];function ah(){for(var e=0;e<pc.length;e++)pc[e]._workInProgressVersionPrimary=null;pc.length=0}var al=ns.ReactCurrentDispatcher,fc=ns.ReactCurrentBatchConfig,Sa=0,De=null,Qe=null,Xe=null,El=!1,bi=!1,Vi=0,BN=0;function ct(){throw Error(q(321))}function nh(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!jr(e[s],t[s]))return!1;return!0}function ih(e,t,s,a,n,i){if(Sa=i,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=e===null||e.memoizedState===null?zN:qN,e=s(a,n),bi){i=0;do{if(bi=!1,Vi=0,25<=i)throw Error(q(301));i+=1,Xe=Qe=null,t.updateQueue=null,al.current=WN,e=s(a,n)}while(bi)}if(al.current=Rl,t=Qe!==null&&Qe.next!==null,Sa=0,Xe=Qe=De=null,El=!1,t)throw Error(q(300));return e}function oh(){var e=Vi!==0;return Vi=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?De.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function dr(){if(Qe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Xe===null?De.memoizedState:Xe.next;if(t!==null)Xe=t,Qe=e;else{if(e===null)throw Error(q(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Xe===null?De.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function zi(e,t){return typeof t=="function"?t(e):t}function gc(e){var t=dr(),s=t.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=e;var a=Qe,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,d=null,c=i;do{var u=c.lane;if((Sa&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,o=a):d=d.next=m,De.lanes|=u,Ca|=u}c=c.next}while(c!==null&&c!==i);d===null?o=a:d.next=l,jr(a,t.memoizedState)||(Rt=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=d,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,De.lanes|=i,Ca|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function bc(e){var t=dr(),s=t.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);jr(i,t.memoizedState)||(Rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function wb(){}function Nb(e,t){var s=De,a=dr(),n=t(),i=!jr(a.memoizedState,n);if(i&&(a.memoizedState=n,Rt=!0),a=a.queue,lh(Tb.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,qi(9,Cb.bind(null,s,a,n,t),void 0,null),et===null)throw Error(q(349));Sa&30||Sb(s,t,n)}return n}function Sb(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Cb(e,t,s,a){t.value=s,t.getSnapshot=a,Pb(t)&&Ab(e)}function Tb(e,t,s){return s(function(){Pb(t)&&Ab(e)})}function Pb(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!jr(e,s)}catch{return!0}}function Ab(e){var t=Zr(e,1);t!==null&&br(t,e,1,-1)}function pp(e){var t=Cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t.queue=e,e=e.dispatch=VN.bind(null,De,e),[t.memoizedState,e]}function qi(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function Ib(){return dr().memoizedState}function nl(e,t,s,a){var n=Cr();De.flags|=e,n.memoizedState=qi(1|t,s,void 0,a===void 0?null:a)}function pd(e,t,s,a){var n=dr();a=a===void 0?null:a;var i=void 0;if(Qe!==null){var o=Qe.memoizedState;if(i=o.destroy,a!==null&&nh(a,o.deps)){n.memoizedState=qi(t,s,i,a);return}}De.flags|=e,n.memoizedState=qi(1|t,s,i,a)}function fp(e,t){return nl(8390656,8,e,t)}function lh(e,t){return pd(2048,8,e,t)}function Mb(e,t){return pd(4,2,e,t)}function _b(e,t){return pd(4,4,e,t)}function Eb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rb(e,t,s){return s=s!=null?s.concat([e]):null,pd(4,4,Eb.bind(null,t,e),s)}function dh(){}function Db(e,t){var s=dr();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&nh(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Lb(e,t){var s=dr();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&nh(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Ob(e,t,s){return Sa&21?(jr(s,t)||(s=V0(),De.lanes|=s,Ca|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=s)}function UN(e,t){var s=ve;ve=s!==0&&4>s?s:4,e(!0);var a=fc.transition;fc.transition={};try{e(!1),t()}finally{ve=s,fc.transition=a}}function Fb(){return dr().memoizedState}function $N(e,t,s){var a=Ms(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Bb(e))Ub(t,s);else if(s=vb(e,t,s,a),s!==null){var n=Tt();br(s,e,a,n),$b(s,t,a)}}function VN(e,t,s){var a=Ms(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bb(e))Ub(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(n.hasEagerState=!0,n.eagerState=l,jr(l,o)){var d=t.interleaved;d===null?(n.next=n,eh(t)):(n.next=d.next,d.next=n),t.interleaved=n;return}}catch{}finally{}s=vb(e,t,n,a),s!==null&&(n=Tt(),br(s,e,a,n),$b(s,t,a))}}function Bb(e){var t=e.alternate;return e===De||t!==null&&t===De}function Ub(e,t){bi=El=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function $b(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Um(e,s)}}var Rl={readContext:lr,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},zN={readContext:lr,useCallback:function(e,t){return Cr().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:fp,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,nl(4194308,4,Eb.bind(null,t,e),s)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var s=Cr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Cr();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=$N.bind(null,De,e),[a.memoizedState,e]},useRef:function(e){var t=Cr();return e={current:e},t.memoizedState=e},useState:pp,useDebugValue:dh,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=pp(!1),t=e[0];return e=UN.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=De,n=Cr();if(Ie){if(s===void 0)throw Error(q(407));s=s()}else{if(s=t(),et===null)throw Error(q(349));Sa&30||Sb(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,fp(Tb.bind(null,a,i,e),[e]),a.flags|=2048,qi(9,Cb.bind(null,a,i,s,t),void 0,null),s},useId:function(){var e=Cr(),t=et.identifierPrefix;if(Ie){var s=Wr,a=qr;s=(a&~(1<<32-gr(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Vi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=BN++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qN={readContext:lr,useCallback:Db,useContext:lr,useEffect:lh,useImperativeHandle:Rb,useInsertionEffect:Mb,useLayoutEffect:_b,useMemo:Lb,useReducer:gc,useRef:Ib,useState:function(){return gc(zi)},useDebugValue:dh,useDeferredValue:function(e){var t=dr();return Ob(t,Qe.memoizedState,e)},useTransition:function(){var e=gc(zi)[0],t=dr().memoizedState;return[e,t]},useMutableSource:wb,useSyncExternalStore:Nb,useId:Fb,unstable_isNewReconciler:!1},WN={readContext:lr,useCallback:Db,useContext:lr,useEffect:lh,useImperativeHandle:Rb,useInsertionEffect:Mb,useLayoutEffect:_b,useMemo:Lb,useReducer:bc,useRef:Ib,useState:function(){return bc(zi)},useDebugValue:dh,useDeferredValue:function(e){var t=dr();return Qe===null?t.memoizedState=e:Ob(t,Qe.memoizedState,e)},useTransition:function(){var e=bc(zi)[0],t=dr().memoizedState;return[e,t]},useMutableSource:wb,useSyncExternalStore:Nb,useId:Fb,unstable_isNewReconciler:!1};function xr(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Du(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Le({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fd={isMounted:function(e){return(e=e._reactInternals)?Oa(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Tt(),n=Ms(e),i=Qr(a,n);i.payload=t,s!=null&&(i.callback=s),t=As(e,i,n),t!==null&&(br(t,e,n,a),sl(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Tt(),n=Ms(e),i=Qr(a,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=As(e,i,n),t!==null&&(br(t,e,n,a),sl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Tt(),a=Ms(e),n=Qr(s,a);n.tag=2,t!=null&&(n.callback=t),t=As(e,n,a),t!==null&&(br(t,e,a,s),sl(t,e,a))}};function gp(e,t,s,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Li(s,a)||!Li(n,i):!0}function Vb(e,t,s){var a=!1,n=Us,i=t.contextType;return typeof i=="object"&&i!==null?i=lr(i):(n=Ft(t)?wa:yt.current,a=t.contextTypes,i=(a=a!=null)?kn(e,n):Us),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fd,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function bp(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&fd.enqueueReplaceState(t,t.state,null)}function Lu(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},th(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=lr(i):(i=Ft(t)?wa:yt.current,n.context=kn(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Du(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&fd.enqueueReplaceState(n,n.state,null),Ml(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Cn(e,t){try{var s="",a=t;do s+=yw(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function yc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ou(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var HN=typeof WeakMap=="function"?WeakMap:Map;function zb(e,t,s){s=Qr(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Ll||(Ll=!0,Qu=a),Ou(e,t)},s}function qb(e,t,s){s=Qr(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){Ou(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Ou(e,t),typeof a!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function yp(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new HN;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=i1.bind(null,e,t,s),t.then(e,e))}function vp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jp(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Qr(-1,1),t.tag=2,As(s,t,1))),s.lanes|=1),e)}var QN=ns.ReactCurrentOwner,Rt=!1;function Nt(e,t,s,a){t.child=e===null?yb(t,null,s,a):Nn(t,e.child,s,a)}function kp(e,t,s,a,n){s=s.render;var i=t.ref;return fn(t,n),a=ih(e,t,s,a,i,n),s=oh(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,es(e,t,n)):(Ie&&s&&Gm(t),t.flags|=1,Nt(e,t,a,n),t.child)}function wp(e,t,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!gh(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Wb(e,t,i,a,n)):(e=dl(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Li,s(o,a)&&e.ref===t.ref)return es(e,t,n)}return t.flags|=1,e=_s(i,a),e.ref=t.ref,e.return=t,t.child=e}function Wb(e,t,s,a,n){if(e!==null){var i=e.memoizedProps;if(Li(i,a)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,es(e,t,n)}return Fu(e,t,s,a,n)}function Hb(e,t,s){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(nn,$t),$t|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(nn,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,we(nn,$t),$t|=a}else i!==null?(a=i.baseLanes|s,t.memoizedState=null):a=s,we(nn,$t),$t|=a;return Nt(e,t,n,s),t.child}function Qb(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Fu(e,t,s,a,n){var i=Ft(s)?wa:yt.current;return i=kn(t,i),fn(t,n),s=ih(e,t,s,a,i,n),a=oh(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,es(e,t,n)):(Ie&&a&&Gm(t),t.flags|=1,Nt(e,t,s,n),t.child)}function Np(e,t,s,a,n){if(Ft(s)){var i=!0;Cl(t)}else i=!1;if(fn(t,n),t.stateNode===null)il(e,t),Vb(t,s,a),Lu(t,s,a,n),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=s.contextType;typeof c=="object"&&c!==null?c=lr(c):(c=Ft(s)?wa:yt.current,c=kn(t,c));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||d!==c)&&bp(t,o,a,c),gs=!1;var x=t.memoizedState;o.state=x,Ml(t,a,o,n),d=t.memoizedState,l!==a||x!==d||Ot.current||gs?(typeof u=="function"&&(Du(t,s,u,a),d=t.memoizedState),(l=gs||gp(t,s,l,a,x,d,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=d),o.props=a,o.state=d,o.context=c,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,jb(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:xr(t.type,l),o.props=c,m=t.pendingProps,x=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=lr(d):(d=Ft(s)?wa:yt.current,d=kn(t,d));var h=s.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||x!==d)&&bp(t,o,a,d),gs=!1,x=t.memoizedState,o.state=x,Ml(t,a,o,n);var g=t.memoizedState;l!==m||x!==g||Ot.current||gs?(typeof h=="function"&&(Du(t,s,h,a),g=t.memoizedState),(c=gs||gp(t,s,c,a,x,g,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=d,a=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),a=!1)}return Bu(e,t,s,a,i,n)}function Bu(e,t,s,a,n,i){Qb(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&dp(t,s,!1),es(e,t,i);a=t.stateNode,QN.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Nn(t,e.child,null,i),t.child=Nn(t,null,l,i)):Nt(e,t,l,i),t.memoizedState=a.state,n&&dp(t,s,!0),t.child}function Gb(e){var t=e.stateNode;t.pendingContext?lp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lp(e,t.context,!1),rh(e,t.containerInfo)}function Sp(e,t,s,a,n){return wn(),Ym(n),t.flags|=256,Nt(e,t,s,a),t.child}var Uu={dehydrated:null,treeContext:null,retryLane:0};function $u(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kb(e,t,s){var a=t.pendingProps,n=_e.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),we(_e,n&1),e===null)return Eu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yd(o,a,0,null),e=ya(e,a,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$u(s),t.memoizedState=Uu,e):ch(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return GN(e,t,o,a,l,n,s);if(i){i=a.fallback,o=t.mode,n=e.child,l=n.sibling;var d={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=d,t.deletions=null):(a=_s(n,d),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=_s(l,i):(i=ya(i,o,s,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?$u(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Uu,a}return i=e.child,e=i.sibling,a=_s(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function ch(e,t){return t=yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fo(e,t,s,a){return a!==null&&Ym(a),Nn(t,e.child,null,s),e=ch(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GN(e,t,s,a,n,i,o){if(s)return t.flags&256?(t.flags&=-257,a=yc(Error(q(422))),Fo(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=yd({mode:"visible",children:a.children},n,0,null),i=ya(i,n,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Nn(t,e.child,null,o),t.child.memoizedState=$u(o),t.memoizedState=Uu,i);if(!(t.mode&1))return Fo(e,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(q(419)),a=yc(i,a,void 0),Fo(e,t,o,a)}if(l=(o&e.childLanes)!==0,Rt||l){if(a=et,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Zr(e,n),br(a,e,n,-1))}return fh(),a=yc(Error(q(421))),Fo(e,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=o1.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Vt=Ps(n.nextSibling),zt=t,Ie=!0,fr=null,e!==null&&(ar[nr++]=qr,ar[nr++]=Wr,ar[nr++]=Na,qr=e.id,Wr=e.overflow,Na=t),t=ch(t,a.children),t.flags|=4096,t)}function Cp(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ru(e.return,t,s)}function vc(e,t,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function Yb(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Nt(e,t,a.children,s),a=_e.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,s,t);else if(e.tag===19)Cp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(we(_e,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&_l(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),vc(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&_l(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}vc(t,!0,s,null,i);break;case"together":vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function es(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,s=_s(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=_s(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function KN(e,t,s){switch(t.tag){case 3:Gb(t),wn();break;case 5:kb(t);break;case 1:Ft(t.type)&&Cl(t);break;case 4:rh(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;we(Al,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(we(_e,_e.current&1),t.flags|=128,null):s&t.child.childLanes?Kb(e,t,s):(we(_e,_e.current&1),e=es(e,t,s),e!==null?e.sibling:null);we(_e,_e.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return Yb(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),we(_e,_e.current),a)break;return null;case 22:case 23:return t.lanes=0,Hb(e,t,s)}return es(e,t,s)}var Jb,Vu,Xb,Zb;Jb=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Vu=function(){};Xb=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,ha(Mr.current);var i=null;switch(s){case"input":n=cu(e,n),a=cu(e,a),i=[];break;case"select":n=Le({},n,{value:void 0}),a=Le({},a,{value:void 0}),i=[];break;case"textarea":n=hu(e,n),a=hu(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Nl)}pu(s,a);var o;s=null;for(c in n)if(!a.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var l=n[c];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ai.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in a){var d=a[c];if(l=n!=null?n[c]:void 0,a.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(i||(i=[]),i.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Ce("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}s&&(i=i||[]).push("style",s);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Zb=function(e,t,s,a){s!==a&&(t.flags|=4)};function Zn(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function YN(e,t,s){var a=t.pendingProps;switch(Km(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Ft(t.type)&&Sl(),ut(t),null;case 3:return a=t.stateNode,Sn(),Pe(Ot),Pe(yt),ah(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Lo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fr!==null&&(Yu(fr),fr=null))),Vu(e,t),ut(t),null;case 5:sh(t);var n=ha($i.current);if(s=t.type,e!==null&&t.stateNode!=null)Xb(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(q(166));return ut(t),null}if(e=ha(Mr.current),Lo(t)){a=t.stateNode,s=t.type;var i=t.memoizedProps;switch(a[Tr]=t,a[Bi]=i,e=(t.mode&1)!==0,s){case"dialog":Ce("cancel",a),Ce("close",a);break;case"iframe":case"object":case"embed":Ce("load",a);break;case"video":case"audio":for(n=0;n<ci.length;n++)Ce(ci[n],a);break;case"source":Ce("error",a);break;case"img":case"image":case"link":Ce("error",a),Ce("load",a);break;case"details":Ce("toggle",a);break;case"input":Dx(a,i),Ce("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",a);break;case"textarea":Ox(a,i),Ce("invalid",a)}pu(s,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&Do(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Do(a.textContent,l,e),n=["children",""+l]):Ai.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ce("scroll",a)}switch(s){case"input":To(a),Lx(a,i,!0);break;case"textarea":To(a),Fx(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Nl)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T0(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),s==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[Tr]=t,e[Bi]=a,Jb(e,t,!1,!1),t.stateNode=e;e:{switch(o=fu(s,a),s){case"dialog":Ce("cancel",e),Ce("close",e),n=a;break;case"iframe":case"object":case"embed":Ce("load",e),n=a;break;case"video":case"audio":for(n=0;n<ci.length;n++)Ce(ci[n],e);n=a;break;case"source":Ce("error",e),n=a;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),n=a;break;case"details":Ce("toggle",e),n=a;break;case"input":Dx(e,a),n=cu(e,a),Ce("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Le({},a,{value:void 0}),Ce("invalid",e);break;case"textarea":Ox(e,a),n=hu(e,a),Ce("invalid",e);break;default:n=a}pu(s,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?I0(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&P0(e,d)):i==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Ii(e,d):typeof d=="number"&&Ii(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ai.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ce("scroll",e):d!=null&&Rm(e,i,d,o))}switch(s){case"input":To(e),Lx(e,a,!1);break;case"textarea":To(e),Fx(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Bs(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?mn(e,!!a.multiple,i,!1):a.defaultValue!=null&&mn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Nl)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Zb(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(q(166));if(s=ha($i.current),ha(Mr.current),Lo(t)){if(a=t.stateNode,s=t.memoizedProps,a[Tr]=t,(i=a.nodeValue!==s)&&(e=zt,e!==null))switch(e.tag){case 3:Do(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Do(a.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Tr]=t,t.stateNode=a}return ut(t),null;case 13:if(Pe(_e),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Vt!==null&&t.mode&1&&!(t.flags&128))gb(),wn(),t.flags|=98560,i=!1;else if(i=Lo(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Tr]=t}else wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),i=!1}else fr!==null&&(Yu(fr),fr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ke===0&&(Ke=3):fh())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return Sn(),Vu(e,t),e===null&&Oi(t.stateNode.containerInfo),ut(t),null;case 10:return Zm(t.type._context),ut(t),null;case 17:return Ft(t.type)&&Sl(),ut(t),null;case 19:if(Pe(_e),i=t.memoizedState,i===null)return ut(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Zn(i,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_l(e),o!==null){for(t.flags|=128,Zn(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)i=s,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return we(_e,_e.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>Tn&&(t.flags|=128,a=!0,Zn(i,!1),t.lanes=4194304)}else{if(!a)if(e=_l(o),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Zn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return ut(t),null}else 2*Fe()-i.renderingStartTime>Tn&&s!==1073741824&&(t.flags|=128,a=!0,Zn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,s=_e.current,we(_e,a?s&1|2:s&1),t):(ut(t),null);case 22:case 23:return ph(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?$t&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function JN(e,t){switch(Km(t),t.tag){case 1:return Ft(t.type)&&Sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(),Pe(Ot),Pe(yt),ah(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sh(t),null;case 13:if(Pe(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(_e),null;case 4:return Sn(),null;case 10:return Zm(t.type._context),null;case 22:case 23:return ph(),null;case 24:return null;default:return null}}var Bo=!1,ht=!1,XN=typeof WeakSet=="function"?WeakSet:Set,K=null;function an(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Oe(e,t,a)}else s.current=null}function zu(e,t,s){try{s()}catch(a){Oe(e,t,a)}}var Tp=!1;function ZN(e,t){if(Cu=jl,e=ab(),Qm(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,d=-1,c=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||n!==0&&m.nodeType!==3||(l=o+n),m!==i||a!==0&&m.nodeType!==3||(d=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++c===n&&(l=o),x===i&&++u===a&&(d=o),(h=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=h}s=l===-1||d===-1?null:{start:l,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(Tu={focusedElem:e,selectionRange:s},jl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:xr(t.type,y),v);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){Oe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return g=Tp,Tp=!1,g}function yi(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&zu(t,s,i)}n=n.next}while(n!==a)}}function gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function qu(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function ey(e){var t=e.alternate;t!==null&&(e.alternate=null,ey(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Bi],delete t[Iu],delete t[DN],delete t[LN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ty(e){return e.tag===5||e.tag===3||e.tag===4}function Pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Nl));else if(a!==4&&(e=e.child,e!==null))for(Wu(e,t,s),e=e.sibling;e!==null;)Wu(e,t,s),e=e.sibling}function Hu(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Hu(e,t,s),e=e.sibling;e!==null;)Hu(e,t,s),e=e.sibling}var rt=null,pr=!1;function us(e,t,s){for(s=s.child;s!==null;)ry(e,t,s),s=s.sibling}function ry(e,t,s){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(dd,s)}catch{}switch(s.tag){case 5:ht||an(s,t);case 6:var a=rt,n=pr;rt=null,us(e,t,s),rt=a,pr=n,rt!==null&&(pr?(e=rt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):rt.removeChild(s.stateNode));break;case 18:rt!==null&&(pr?(e=rt,s=s.stateNode,e.nodeType===8?hc(e.parentNode,s):e.nodeType===1&&hc(e,s),Ri(e)):hc(rt,s.stateNode));break;case 4:a=rt,n=pr,rt=s.stateNode.containerInfo,pr=!0,us(e,t,s),rt=a,pr=n;break;case 0:case 11:case 14:case 15:if(!ht&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zu(s,t,o),n=n.next}while(n!==a)}us(e,t,s);break;case 1:if(!ht&&(an(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(l){Oe(s,t,l)}us(e,t,s);break;case 21:us(e,t,s);break;case 22:s.mode&1?(ht=(a=ht)||s.memoizedState!==null,us(e,t,s),ht=a):us(e,t,s);break;default:us(e,t,s)}}function Ap(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new XN),t.forEach(function(a){var n=l1.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function hr(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:rt=l.stateNode,pr=!1;break e;case 3:rt=l.stateNode.containerInfo,pr=!0;break e;case 4:rt=l.stateNode.containerInfo,pr=!0;break e}l=l.return}if(rt===null)throw Error(q(160));ry(i,o,n),rt=null,pr=!1;var d=n.alternate;d!==null&&(d.return=null),n.return=null}catch(c){Oe(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sy(t,e),t=t.sibling}function sy(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),wr(e),a&4){try{yi(3,e,e.return),gd(3,e)}catch(y){Oe(e,e.return,y)}try{yi(5,e,e.return)}catch(y){Oe(e,e.return,y)}}break;case 1:hr(t,e),wr(e),a&512&&s!==null&&an(s,s.return);break;case 5:if(hr(t,e),wr(e),a&512&&s!==null&&an(s,s.return),e.flags&32){var n=e.stateNode;try{Ii(n,"")}catch(y){Oe(e,e.return,y)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&S0(n,i),fu(l,o);var c=fu(l,i);for(o=0;o<d.length;o+=2){var u=d[o],m=d[o+1];u==="style"?I0(n,m):u==="dangerouslySetInnerHTML"?P0(n,m):u==="children"?Ii(n,m):Rm(n,u,m,c)}switch(l){case"input":uu(n,i);break;case"textarea":C0(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?mn(n,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?mn(n,!!i.multiple,i.defaultValue,!0):mn(n,!!i.multiple,i.multiple?[]:"",!1))}n[Bi]=i}catch(y){Oe(e,e.return,y)}}break;case 6:if(hr(t,e),wr(e),a&4){if(e.stateNode===null)throw Error(q(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(y){Oe(e,e.return,y)}}break;case 3:if(hr(t,e),wr(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Ri(t.containerInfo)}catch(y){Oe(e,e.return,y)}break;case 4:hr(t,e),wr(e);break;case 13:hr(t,e),wr(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(hh=Fe())),a&4&&Ap(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(ht=(c=ht)||u,hr(t,e),ht=c):hr(t,e),wr(e),a&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(K=e,u=e.child;u!==null;){for(m=K=u;K!==null;){switch(x=K,h=x.child,x.tag){case 0:case 11:case 14:case 15:yi(4,x,x.return);break;case 1:an(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){a=x,s=x.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Oe(a,s,y)}}break;case 5:an(x,x.return);break;case 22:if(x.memoizedState!==null){Mp(m);continue}}h!==null?(h.return=x,K=h):Mp(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,c?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=A0("display",o))}catch(y){Oe(e,e.return,y)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(y){Oe(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hr(t,e),wr(e),a&4&&Ap(e);break;case 21:break;default:hr(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(ty(s)){var a=s;break e}s=s.return}throw Error(q(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Ii(n,""),a.flags&=-33);var i=Pp(e);Hu(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=Pp(e);Wu(e,l,o);break;default:throw Error(q(161))}}catch(d){Oe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e1(e,t,s){K=e,ay(e)}function ay(e,t,s){for(var a=(e.mode&1)!==0;K!==null;){var n=K,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||Bo;if(!o){var l=n.alternate,d=l!==null&&l.memoizedState!==null||ht;l=Bo;var c=ht;if(Bo=o,(ht=d)&&!c)for(K=n;K!==null;)o=K,d=o.child,o.tag===22&&o.memoizedState!==null?_p(n):d!==null?(d.return=o,K=d):_p(n);for(;i!==null;)K=i,ay(i),i=i.sibling;K=n,Bo=l,ht=c}Ip(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,K=i):Ip(e)}}function Ip(e){for(;K!==null;){var t=K;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||gd(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ht)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:xr(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xp(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}xp(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Ri(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}ht||t.flags&512&&qu(t)}catch(x){Oe(t,t.return,x)}}if(t===e){K=null;break}if(s=t.sibling,s!==null){s.return=t.return,K=s;break}K=t.return}}function Mp(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var s=t.sibling;if(s!==null){s.return=t.return,K=s;break}K=t.return}}function _p(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{gd(4,t)}catch(d){Oe(t,s,d)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(d){Oe(t,n,d)}}var i=t.return;try{qu(t)}catch(d){Oe(t,i,d)}break;case 5:var o=t.return;try{qu(t)}catch(d){Oe(t,o,d)}}}catch(d){Oe(t,t.return,d)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var t1=Math.ceil,Dl=ns.ReactCurrentDispatcher,uh=ns.ReactCurrentOwner,or=ns.ReactCurrentBatchConfig,xe=0,et=null,He=null,at=0,$t=0,nn=Gs(0),Ke=0,Wi=null,Ca=0,bd=0,mh=0,vi=null,Et=null,hh=0,Tn=1/0,Ur=null,Ll=!1,Qu=null,Is=null,Uo=!1,ks=null,Ol=0,ji=0,Gu=null,ol=-1,ll=0;function Tt(){return xe&6?Fe():ol!==-1?ol:ol=Fe()}function Ms(e){return e.mode&1?xe&2&&at!==0?at&-at:FN.transition!==null?(ll===0&&(ll=V0()),ll):(e=ve,e!==0||(e=window.event,e=e===void 0?16:K0(e.type)),e):1}function br(e,t,s,a){if(50<ji)throw ji=0,Gu=null,Error(q(185));co(e,s,a),(!(xe&2)||e!==et)&&(e===et&&(!(xe&2)&&(bd|=s),Ke===4&&vs(e,at)),Bt(e,a),s===1&&xe===0&&!(t.mode&1)&&(Tn=Fe()+500,xd&&Ks()))}function Bt(e,t){var s=e.callbackNode;Fw(e,t);var a=vl(e,e===et?at:0);if(a===0)s!==null&&$x(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&$x(s),t===1)e.tag===0?ON(Ep.bind(null,e)):xb(Ep.bind(null,e)),EN(function(){!(xe&6)&&Ks()}),s=null;else{switch(z0(a)){case 1:s=Bm;break;case 4:s=U0;break;case 16:s=yl;break;case 536870912:s=$0;break;default:s=yl}s=my(s,ny.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ny(e,t){if(ol=-1,ll=0,xe&6)throw Error(q(327));var s=e.callbackNode;if(gn()&&e.callbackNode!==s)return null;var a=vl(e,e===et?at:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Fl(e,a);else{t=a;var n=xe;xe|=2;var i=oy();(et!==e||at!==t)&&(Ur=null,Tn=Fe()+500,ba(e,t));do try{a1();break}catch(l){iy(e,l)}while(!0);Xm(),Dl.current=i,xe=n,He!==null?t=0:(et=null,at=0,t=Ke)}if(t!==0){if(t===2&&(n=ju(e),n!==0&&(a=n,t=Ku(e,n))),t===1)throw s=Wi,ba(e,0),vs(e,a),Bt(e,Fe()),s;if(t===6)vs(e,a);else{if(n=e.current.alternate,!(a&30)&&!r1(n)&&(t=Fl(e,a),t===2&&(i=ju(e),i!==0&&(a=i,t=Ku(e,i))),t===1))throw s=Wi,ba(e,0),vs(e,a),Bt(e,Fe()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(q(345));case 2:na(e,Et,Ur);break;case 3:if(vs(e,a),(a&130023424)===a&&(t=hh+500-Fe(),10<t)){if(vl(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Tt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Au(na.bind(null,e,Et,Ur),t);break}na(e,Et,Ur);break;case 4:if(vs(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-gr(a);i=1<<o,o=t[o],o>n&&(n=o),a&=~i}if(a=n,a=Fe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*t1(a/1960))-a,10<a){e.timeoutHandle=Au(na.bind(null,e,Et,Ur),a);break}na(e,Et,Ur);break;case 5:na(e,Et,Ur);break;default:throw Error(q(329))}}}return Bt(e,Fe()),e.callbackNode===s?ny.bind(null,e):null}function Ku(e,t){var s=vi;return e.current.memoizedState.isDehydrated&&(ba(e,t).flags|=256),e=Fl(e,t),e!==2&&(t=Et,Et=s,t!==null&&Yu(t)),e}function Yu(e){Et===null?Et=e:Et.push.apply(Et,e)}function r1(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!jr(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vs(e,t){for(t&=~mh,t&=~bd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-gr(t),a=1<<s;e[s]=-1,t&=~a}}function Ep(e){if(xe&6)throw Error(q(327));gn();var t=vl(e,0);if(!(t&1))return Bt(e,Fe()),null;var s=Fl(e,t);if(e.tag!==0&&s===2){var a=ju(e);a!==0&&(t=a,s=Ku(e,a))}if(s===1)throw s=Wi,ba(e,0),vs(e,t),Bt(e,Fe()),s;if(s===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,na(e,Et,Ur),Bt(e,Fe()),null}function xh(e,t){var s=xe;xe|=1;try{return e(t)}finally{xe=s,xe===0&&(Tn=Fe()+500,xd&&Ks())}}function Ta(e){ks!==null&&ks.tag===0&&!(xe&6)&&gn();var t=xe;xe|=1;var s=or.transition,a=ve;try{if(or.transition=null,ve=1,e)return e()}finally{ve=a,or.transition=s,xe=t,!(xe&6)&&Ks()}}function ph(){$t=nn.current,Pe(nn)}function ba(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,_N(s)),He!==null)for(s=He.return;s!==null;){var a=s;switch(Km(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Sl();break;case 3:Sn(),Pe(Ot),Pe(yt),ah();break;case 5:sh(a);break;case 4:Sn();break;case 13:Pe(_e);break;case 19:Pe(_e);break;case 10:Zm(a.type._context);break;case 22:case 23:ph()}s=s.return}if(et=e,He=e=_s(e.current,null),at=$t=t,Ke=0,Wi=null,mh=bd=Ca=0,Et=vi=null,ma!==null){for(t=0;t<ma.length;t++)if(s=ma[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}s.pending=a}ma=null}return e}function iy(e,t){do{var s=He;try{if(Xm(),al.current=Rl,El){for(var a=De.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}El=!1}if(Sa=0,Xe=Qe=De=null,bi=!1,Vi=0,uh.current=null,s===null||s.return===null){Ke=1,Wi=t,He=null;break}e:{var i=e,o=s.return,l=s,d=t;if(t=at,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=vp(o);if(h!==null){h.flags&=-257,jp(h,o,l,i,t),h.mode&1&&yp(i,c,t),t=h,d=c;var g=t.updateQueue;if(g===null){var y=new Set;y.add(d),t.updateQueue=y}else g.add(d);break e}else{if(!(t&1)){yp(i,c,t),fh();break e}d=Error(q(426))}}else if(Ie&&l.mode&1){var v=vp(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jp(v,o,l,i,t),Ym(Cn(d,l));break e}}i=d=Cn(d,l),Ke!==4&&(Ke=2),vi===null?vi=[i]:vi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=zb(i,d,t);hp(i,p);break e;case 1:l=d;var b=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Is===null||!Is.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=qb(i,l,t);hp(i,k);break e}}i=i.return}while(i!==null)}dy(s)}catch(w){t=w,He===s&&s!==null&&(He=s=s.return);continue}break}while(!0)}function oy(){var e=Dl.current;return Dl.current=Rl,e===null?Rl:e}function fh(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),et===null||!(Ca&268435455)&&!(bd&268435455)||vs(et,at)}function Fl(e,t){var s=xe;xe|=2;var a=oy();(et!==e||at!==t)&&(Ur=null,ba(e,t));do try{s1();break}catch(n){iy(e,n)}while(!0);if(Xm(),xe=s,Dl.current=a,He!==null)throw Error(q(261));return et=null,at=0,Ke}function s1(){for(;He!==null;)ly(He)}function a1(){for(;He!==null&&!Aw();)ly(He)}function ly(e){var t=uy(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?dy(e):He=t,uh.current=null}function dy(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=JN(s,t),s!==null){s.flags&=32767,He=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,He=null;return}}else if(s=YN(s,t,$t),s!==null){He=s;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ke===0&&(Ke=5)}function na(e,t,s){var a=ve,n=or.transition;try{or.transition=null,ve=1,n1(e,t,s,a)}finally{or.transition=n,ve=a}return null}function n1(e,t,s,a){do gn();while(ks!==null);if(xe&6)throw Error(q(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(Bw(e,i),e===et&&(He=et=null,at=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Uo||(Uo=!0,my(yl,function(){return gn(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=or.transition,or.transition=null;var o=ve;ve=1;var l=xe;xe|=4,uh.current=null,ZN(e,s),sy(s,e),SN(Tu),jl=!!Cu,Tu=Cu=null,e.current=s,e1(s),Iw(),xe=l,ve=o,or.transition=i}else e.current=s;if(Uo&&(Uo=!1,ks=e,Ol=n),i=e.pendingLanes,i===0&&(Is=null),Ew(s.stateNode),Bt(e,Fe()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Ll)throw Ll=!1,e=Qu,Qu=null,e;return Ol&1&&e.tag!==0&&gn(),i=e.pendingLanes,i&1?e===Gu?ji++:(ji=0,Gu=e):ji=0,Ks(),null}function gn(){if(ks!==null){var e=z0(Ol),t=or.transition,s=ve;try{if(or.transition=null,ve=16>e?16:e,ks===null)var a=!1;else{if(e=ks,ks=null,Ol=0,xe&6)throw Error(q(331));var n=xe;for(xe|=4,K=e.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(K=c;K!==null;){var u=K;switch(u.tag){case 0:case 11:case 15:yi(8,u,i)}var m=u.child;if(m!==null)m.return=u,K=m;else for(;K!==null;){u=K;var x=u.sibling,h=u.return;if(ey(u),u===c){K=null;break}if(x!==null){x.return=h,K=x;break}K=h}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,K=p;break e}K=i.return}}var b=e.current;for(K=b;K!==null;){o=K;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,K=j;else e:for(o=b;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gd(9,l)}}catch(w){Oe(l,l.return,w)}if(l===o){K=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,K=k;break e}K=l.return}}if(xe=n,Ks(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(dd,e)}catch{}a=!0}return a}finally{ve=s,or.transition=t}}return!1}function Rp(e,t,s){t=Cn(s,t),t=zb(e,t,1),e=As(e,t,1),t=Tt(),e!==null&&(co(e,1,t),Bt(e,t))}function Oe(e,t,s){if(e.tag===3)Rp(e,e,s);else for(;t!==null;){if(t.tag===3){Rp(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Is===null||!Is.has(a))){e=Cn(s,e),e=qb(t,e,1),t=As(t,e,1),e=Tt(),t!==null&&(co(t,1,e),Bt(t,e));break}}t=t.return}}function i1(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&s,et===e&&(at&s)===s&&(Ke===4||Ke===3&&(at&130023424)===at&&500>Fe()-hh?ba(e,0):mh|=s),Bt(e,t)}function cy(e,t){t===0&&(e.mode&1?(t=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):t=1);var s=Tt();e=Zr(e,t),e!==null&&(co(e,t,s),Bt(e,s))}function o1(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),cy(e,s)}function l1(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(q(314))}a!==null&&a.delete(t),cy(e,s)}var uy;uy=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Rt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Rt=!1,KN(e,t,s);Rt=!!(e.flags&131072)}else Rt=!1,Ie&&t.flags&1048576&&pb(t,Pl,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;il(e,t),e=t.pendingProps;var n=kn(t,yt.current);fn(t,s),n=ih(null,t,a,e,n,s);var i=oh();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(a)?(i=!0,Cl(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,th(t),n.updater=fd,t.stateNode=n,n._reactInternals=t,Lu(t,a,e,s),t=Bu(null,t,a,!0,i,s)):(t.tag=0,Ie&&i&&Gm(t),Nt(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(il(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=c1(a),e=xr(a,e),n){case 0:t=Fu(null,t,a,e,s);break e;case 1:t=Np(null,t,a,e,s);break e;case 11:t=kp(null,t,a,e,s);break e;case 14:t=wp(null,t,a,xr(a.type,e),s);break e}throw Error(q(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:xr(a,n),Fu(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:xr(a,n),Np(e,t,a,n,s);case 3:e:{if(Gb(t),e===null)throw Error(q(387));a=t.pendingProps,i=t.memoizedState,n=i.element,jb(e,t),Ml(t,a,null,s);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=Cn(Error(q(423)),t),t=Sp(e,t,a,s,n);break e}else if(a!==n){n=Cn(Error(q(424)),t),t=Sp(e,t,a,s,n);break e}else for(Vt=Ps(t.stateNode.containerInfo.firstChild),zt=t,Ie=!0,fr=null,s=yb(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wn(),a===n){t=es(e,t,s);break e}Nt(e,t,a,s)}t=t.child}return t;case 5:return kb(t),e===null&&Eu(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,Pu(a,n)?o=null:i!==null&&Pu(a,i)&&(t.flags|=32),Qb(e,t),Nt(e,t,o,s),t.child;case 6:return e===null&&Eu(t),null;case 13:return Kb(e,t,s);case 4:return rh(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Nn(t,null,a,s):Nt(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:xr(a,n),kp(e,t,a,n,s);case 7:return Nt(e,t,t.pendingProps,s),t.child;case 8:return Nt(e,t,t.pendingProps.children,s),t.child;case 12:return Nt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,we(Al,a._currentValue),a._currentValue=o,i!==null)if(jr(i.value,o)){if(i.children===n.children&&!Ot.current){t=es(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===a){if(i.tag===1){d=Qr(-1,s&-s),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),Ru(i.return,s,t),l.lanes|=s;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Ru(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,fn(t,s),n=lr(n),a=a(n),t.flags|=1,Nt(e,t,a,s),t.child;case 14:return a=t.type,n=xr(a,t.pendingProps),n=xr(a.type,n),wp(e,t,a,n,s);case 15:return Wb(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:xr(a,n),il(e,t),t.tag=1,Ft(a)?(e=!0,Cl(t)):e=!1,fn(t,s),Vb(t,a,n),Lu(t,a,n,s),Bu(null,t,a,!0,e,s);case 19:return Yb(e,t,s);case 22:return Hb(e,t,s)}throw Error(q(156,t.tag))};function my(e,t){return B0(e,t)}function d1(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,s,a){return new d1(e,t,s,a)}function gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function c1(e){if(typeof e=="function")return gh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lm)return 11;if(e===Om)return 14}return 2}function _s(e,t){var s=e.alternate;return s===null?(s=ir(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function dl(e,t,s,a,n,i){var o=2;if(a=e,typeof e=="function")gh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ka:return ya(s.children,n,i,t);case Dm:o=8,n|=8;break;case iu:return e=ir(12,s,t,n|2),e.elementType=iu,e.lanes=i,e;case ou:return e=ir(13,s,t,n),e.elementType=ou,e.lanes=i,e;case lu:return e=ir(19,s,t,n),e.elementType=lu,e.lanes=i,e;case k0:return yd(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v0:o=10;break e;case j0:o=9;break e;case Lm:o=11;break e;case Om:o=14;break e;case fs:o=16,a=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=ir(o,s,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function ya(e,t,s,a){return e=ir(7,e,a,t),e.lanes=s,e}function yd(e,t,s,a){return e=ir(22,e,a,t),e.elementType=k0,e.lanes=s,e.stateNode={isHidden:!1},e}function jc(e,t,s){return e=ir(6,e,null,t),e.lanes=s,e}function kc(e,t,s){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function u1(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function bh(e,t,s,a,n,i,o,l,d){return e=new u1(e,t,s,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ir(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},th(i),e}function m1(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function hy(e){if(!e)return Us;e=e._reactInternals;e:{if(Oa(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var s=e.type;if(Ft(s))return hb(e,s,t)}return t}function xy(e,t,s,a,n,i,o,l,d){return e=bh(s,a,!0,e,n,i,o,l,d),e.context=hy(null),s=e.current,a=Tt(),n=Ms(s),i=Qr(a,n),i.callback=t??null,As(s,i,n),e.current.lanes=n,co(e,n,a),Bt(e,a),e}function vd(e,t,s,a){var n=t.current,i=Tt(),o=Ms(n);return s=hy(s),t.context===null?t.context=s:t.pendingContext=s,t=Qr(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=As(n,t,o),e!==null&&(br(e,n,o,i),sl(e,n,o)),o}function Bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function yh(e,t){Dp(e,t),(e=e.alternate)&&Dp(e,t)}function h1(){return null}var py=typeof reportError=="function"?reportError:function(e){console.error(e)};function vh(e){this._internalRoot=e}jd.prototype.render=vh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));vd(e,t,null,null)};jd.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ta(function(){vd(null,e,null,null)}),t[Xr]=null}};function jd(e){this._internalRoot=e}jd.prototype.unstable_scheduleHydration=function(e){if(e){var t=H0();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ys.length&&t!==0&&t<ys[s].priority;s++);ys.splice(s,0,e),s===0&&G0(e)}};function jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function x1(e,t,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var c=Bl(o);i.call(c)}}var o=xy(t,a,e,0,null,!1,!1,"",Lp);return e._reactRootContainer=o,e[Xr]=o.current,Oi(e.nodeType===8?e.parentNode:e),Ta(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var c=Bl(d);l.call(c)}}var d=bh(e,0,!1,null,null,!1,!1,"",Lp);return e._reactRootContainer=d,e[Xr]=d.current,Oi(e.nodeType===8?e.parentNode:e),Ta(function(){vd(t,d,s,a)}),d}function wd(e,t,s,a,n){var i=s._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var d=Bl(o);l.call(d)}}vd(t,o,e,n)}else o=x1(s,t,e,n,a);return Bl(o)}q0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=di(t.pendingLanes);s!==0&&(Um(t,s|1),Bt(t,Fe()),!(xe&6)&&(Tn=Fe()+500,Ks()))}break;case 13:Ta(function(){var a=Zr(e,1);if(a!==null){var n=Tt();br(a,e,1,n)}}),yh(e,1)}};$m=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var s=Tt();br(t,e,134217728,s)}yh(e,134217728)}};W0=function(e){if(e.tag===13){var t=Ms(e),s=Zr(e,t);if(s!==null){var a=Tt();br(s,e,t,a)}yh(e,t)}};H0=function(){return ve};Q0=function(e,t){var s=ve;try{return ve=e,t()}finally{ve=s}};bu=function(e,t,s){switch(t){case"input":if(uu(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=hd(a);if(!n)throw Error(q(90));N0(a),uu(a,n)}}}break;case"textarea":C0(e,s);break;case"select":t=s.value,t!=null&&mn(e,!!s.multiple,t,!1)}};E0=xh;R0=Ta;var p1={usingClientEntryPoint:!1,Events:[mo,Za,hd,M0,_0,xh]},ei={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f1={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=O0(e),e===null?null:e.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||h1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{dd=$o.inject(f1),Ir=$o}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p1;Yt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(t))throw Error(q(200));return m1(e,t,null,s)};Yt.createRoot=function(e,t){if(!jh(e))throw Error(q(299));var s=!1,a="",n=py;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=bh(e,1,!1,null,null,s,!1,a,n),e[Xr]=t.current,Oi(e.nodeType===8?e.parentNode:e),new vh(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=O0(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return Ta(e)};Yt.hydrate=function(e,t,s){if(!kd(t))throw Error(q(200));return wd(null,e,t,!0,s)};Yt.hydrateRoot=function(e,t,s){if(!jh(e))throw Error(q(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",o=py;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=xy(t,null,e,1,s??null,n,!1,i,o),e[Xr]=t.current,Oi(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new jd(t)};Yt.render=function(e,t,s){if(!kd(t))throw Error(q(200));return wd(null,e,t,!1,s)};Yt.unmountComponentAtNode=function(e){if(!kd(e))throw Error(q(40));return e._reactRootContainer?(Ta(function(){wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};Yt.unstable_batchedUpdates=xh;Yt.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!kd(s))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return wd(e,t,s,!1,a)};Yt.version="18.3.1-next-f1338f8080-20240426";function fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fy)}catch(e){console.error(e)}}fy(),f0.exports=Yt;var gy=f0.exports,Op=gy;au.createRoot=Op.createRoot,au.hydrateRoot=Op.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hi.apply(this,arguments)}var ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ws||(ws={}));const Fp="popstate";function g1(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:l}=a.location;return Ju("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Ul(n)}return y1(t,s,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b1(){return Math.random().toString(36).substr(2,8)}function Bp(e,t){return{usr:e.state,key:e.key,idx:t}}function Ju(e,t,s,a){return s===void 0&&(s=null),Hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?On(t):t,{state:s,key:t&&t.key||a||b1()})}function Ul(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function On(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function y1(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=ws.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(Hi({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=ws.Pop;let v=u(),p=v==null?null:v-c;c=v,d&&d({action:l,location:y.location,delta:p})}function x(v,p){l=ws.Push;let b=Ju(y.location,v,p);c=u()+1;let j=Bp(b,c),k=y.createHref(b);try{o.pushState(j,"",k)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(k)}i&&d&&d({action:l,location:y.location,delta:1})}function h(v,p){l=ws.Replace;let b=Ju(y.location,v,p);c=u();let j=Bp(b,c),k=y.createHref(b);o.replaceState(j,"",k),i&&d&&d({action:l,location:y.location,delta:0})}function g(v){let p=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof v=="string"?v:Ul(v);return b=b.replace(/ $/,"%20"),Ue(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let y={get action(){return l},get location(){return e(n,o)},listen(v){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(Fp,m),d=v,()=>{n.removeEventListener(Fp,m),d=null}},createHref(v){return t(n,v)},createURL:g,encodeLocation(v){let p=g(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:h,go(v){return o.go(v)}};return y}var Up;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Up||(Up={}));function v1(e,t,s){return s===void 0&&(s="/"),j1(e,t,s)}function j1(e,t,s,a){let n=typeof t=="string"?On(t):t,i=wh(n.pathname||"/",s);if(i==null)return null;let o=by(e);k1(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=R1(i);l=M1(o[d],c)}return l}function by(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(Ue(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let c=Es([a,d.relativePath]),u=s.concat(d);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),by(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:A1(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of yy(i.path))n(i,o,d)}),t}function yy(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=yy(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function k1(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:I1(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const w1=/^:[\w-]+$/,N1=3,S1=2,C1=1,T1=10,P1=-2,$p=e=>e==="*";function A1(e,t){let s=e.split("/"),a=s.length;return s.some($p)&&(a+=P1),t&&(a+=S1),s.filter(n=>!$p(n)).reduce((n,i)=>n+(w1.test(i)?N1:i===""?C1:T1),a)}function I1(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function M1(e,t,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],c=l===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=_1({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),x=d.route;if(!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:Es([i,m.pathname]),pathnameBase:B1(Es([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Es([i,m.pathnameBase]))}return o}function _1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=E1(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((c,u,m)=>{let{paramName:x,isOptional:h}=u;if(x==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[m];return h&&!g?c[x]=void 0:c[x]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function E1(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),kh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function R1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}const D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L1=e=>D1.test(e);function O1(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?On(e):e,i;if(s)if(L1(s))i=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),kh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?i=Vp(s.substring(1),"/"):i=Vp(s,t)}else i=t;return{pathname:i,search:U1(a),hash:$1(n)}}function Vp(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function wc(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F1(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Nh(e,t){let s=F1(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Sh(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=On(e):(n=Hi({},e),Ue(!n.pathname||!n.pathname.includes("?"),wc("?","pathname","search",n)),Ue(!n.pathname||!n.pathname.includes("#"),wc("#","pathname","hash",n)),Ue(!n.search||!n.search.includes("#"),wc("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let m=t.length-1;if(!a&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}l=m>=0?t[m]:"/"}let d=O1(n,l),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),B1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vy=["post","put","patch","delete"];new Set(vy);const z1=["get",...vy];new Set(z1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qi.apply(this,arguments)}const Ch=f.createContext(null),q1=f.createContext(null),Ys=f.createContext(null),Nd=f.createContext(null),is=f.createContext({outlet:null,matches:[],isDataRoute:!1}),jy=f.createContext(null);function W1(e,t){let{relative:s}=t===void 0?{}:t;Fn()||Ue(!1);let{basename:a,navigator:n}=f.useContext(Ys),{hash:i,pathname:o,search:l}=wy(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:Es([a,o])),n.createHref({pathname:d,search:l,hash:i})}function Fn(){return f.useContext(Nd)!=null}function jt(){return Fn()||Ue(!1),f.useContext(Nd).location}function ky(e){f.useContext(Ys).static||f.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=f.useContext(is);return e?a2():H1()}function H1(){Fn()||Ue(!1);let e=f.useContext(Ch),{basename:t,future:s,navigator:a}=f.useContext(Ys),{matches:n}=f.useContext(is),{pathname:i}=jt(),o=JSON.stringify(Nh(n,s.v7_relativeSplatPath)),l=f.useRef(!1);return ky(()=>{l.current=!0}),f.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){a.go(c);return}let m=Sh(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Es([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,o,i,e])}function Fa(){let{matches:e}=f.useContext(is),t=e[e.length-1];return t?t.params:{}}function wy(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=f.useContext(Ys),{matches:n}=f.useContext(is),{pathname:i}=jt(),o=JSON.stringify(Nh(n,a.v7_relativeSplatPath));return f.useMemo(()=>Sh(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function Q1(e,t){return G1(e,t)}function G1(e,t,s,a){Fn()||Ue(!1);let{navigator:n}=f.useContext(Ys),{matches:i}=f.useContext(is),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=jt(),u;if(t){var m;let v=typeof t=="string"?On(t):t;d==="/"||(m=v.pathname)!=null&&m.startsWith(d)||Ue(!1),u=v}else u=c;let x=u.pathname||"/",h=x;if(d!=="/"){let v=d.replace(/^\//,"").split("/");h="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=v1(e,{pathname:h}),y=Z1(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Es([d,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:Es([d,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,s,a);return t&&y?f.createElement(Nd.Provider,{value:{location:Qi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ws.Pop}},y):y}function K1(){let e=s2(),t=V1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),s?f.createElement("pre",{style:n},s):null,null)}const Y1=f.createElement(K1,null);class J1 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?f.createElement(is.Provider,{value:this.props.routeContext},f.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X1(e){let{routeContext:t,match:s,children:a}=e,n=f.useContext(Ch);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),f.createElement(is.Provider,{value:t},a)}function Z1(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:x,errors:h}=s,g=m.route.loader&&x[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||g){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,m,x)=>{let h,g=!1,y=null,v=null;s&&(h=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||Y1,d&&(c<0&&x===0?(n2("route-fallback"),g=!0,v=null):c===x&&(g=!0,v=m.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,x+1)),b=()=>{let j;return h?j=y:g?j=v:m.route.Component?j=f.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,f.createElement(X1,{match:m,routeContext:{outlet:u,matches:p,isDataRoute:s!=null},children:j})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?f.createElement(J1,{location:s.location,revalidation:s.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var Ny=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ny||{}),Sy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sy||{});function e2(e){let t=f.useContext(Ch);return t||Ue(!1),t}function t2(e){let t=f.useContext(q1);return t||Ue(!1),t}function r2(e){let t=f.useContext(is);return t||Ue(!1),t}function Cy(e){let t=r2(),s=t.matches[t.matches.length-1];return s.route.id||Ue(!1),s.route.id}function s2(){var e;let t=f.useContext(jy),s=t2(),a=Cy();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function a2(){let{router:e}=e2(Ny.UseNavigateStable),t=Cy(Sy.UseNavigateStable),s=f.useRef(!1);return ky(()=>{s.current=!0}),f.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Qi({fromRouteId:t},i)))},[e,t])}const zp={};function n2(e,t,s){zp[e]||(zp[e]=!0)}function i2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ae(e){let{to:t,replace:s,state:a,relative:n}=e;Fn()||Ue(!1);let{future:i,static:o}=f.useContext(Ys),{matches:l}=f.useContext(is),{pathname:d}=jt(),c=ue(),u=Sh(t,Nh(l,i.v7_relativeSplatPath),d,n==="path"),m=JSON.stringify(u);return f.useEffect(()=>c(JSON.parse(m),{replace:s,state:a,relative:n}),[c,m,n,s,a]),null}function Z(e){Ue(!1)}function o2(e){let{basename:t="/",children:s=null,location:a,navigationType:n=ws.Pop,navigator:i,static:o=!1,future:l}=e;Fn()&&Ue(!1);let d=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:d,navigator:i,static:o,future:Qi({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=On(a));let{pathname:u="/",search:m="",hash:x="",state:h=null,key:g="default"}=a,y=f.useMemo(()=>{let v=wh(u,d);return v==null?null:{location:{pathname:v,search:m,hash:x,state:h,key:g},navigationType:n}},[d,u,m,x,h,g,n]);return y==null?null:f.createElement(Ys.Provider,{value:c},f.createElement(Nd.Provider,{children:s,value:y}))}function Nc(e){let{children:t,location:s}=e;return Q1(Xu(t),s)}new Promise(()=>{});function Xu(e,t){t===void 0&&(t=[]);let s=[];return f.Children.forEach(e,(a,n)=>{if(!f.isValidElement(a))return;let i=[...t,n];if(a.type===f.Fragment){s.push.apply(s,Xu(a.props.children,i));return}a.type!==Z&&Ue(!1),!a.props.index||!a.props.children||Ue(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Xu(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Zu.apply(this,arguments)}function l2(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function d2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c2(e,t){return e.button===0&&(!t||t==="_self")&&!d2(e)}function em(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function u2(e,t){let s=em(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(i=>{s.append(n,i)})}),s}const m2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h2="6";try{window.__reactRouterVersion=h2}catch{}const x2="startTransition",qp=iw[x2];function p2(e){let{basename:t,children:s,future:a,window:n}=e,i=f.useRef();i.current==null&&(i.current=g1({window:n,v5Compat:!0}));let o=i.current,[l,d]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=a||{},u=f.useCallback(m=>{c&&qp?qp(()=>d(m)):d(m)},[d,c]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>i2(a),[a]),f.createElement(o2,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const f2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=f.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,x=l2(t,m2),{basename:h}=f.useContext(Ys),g,y=!1;if(typeof c=="string"&&g2.test(c)&&(g=c,f2))try{let j=new URL(window.location.href),k=c.startsWith("//")?new URL(j.protocol+c):new URL(c),w=wh(k.pathname,h);k.origin===j.origin&&w!=null?c=w+k.search+k.hash:y=!0}catch{}let v=W1(c,{relative:n}),p=b2(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:n,viewTransition:m});function b(j){a&&a(j),j.defaultPrevented||p(j)}return f.createElement("a",Zu({},x,{href:g||v,onClick:y||i?a:b,ref:s,target:d}))});var Wp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var Hp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hp||(Hp={}));function b2(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=ue(),c=jt(),u=wy(e,{relative:o});return f.useCallback(m=>{if(c2(m,s)){m.preventDefault();let x=a!==void 0?a:Ul(c)===Ul(u);d(e,{replace:x,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[c,d,u,a,n,s,e,i,o,l])}function Ty(e){let t=f.useRef(em(e)),s=f.useRef(!1),a=jt(),n=f.useMemo(()=>u2(a.search,s.current?null:t.current),[a.search]),i=ue(),o=f.useCallback((l,d)=>{const c=em(typeof l=="function"?l(n):l);s.current=!0,i("?"+c,d)},[i,n]);return[n,o]}var Pr=[],sr=[],y2=Uint8Array,Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wa=0,v2=Sc.length;Wa<v2;++Wa)Pr[Wa]=Sc[Wa],sr[Sc.charCodeAt(Wa)]=Wa;sr[45]=62;sr[95]=63;function j2(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.indexOf("=");s===-1&&(s=t);var a=s===t?0:4-s%4;return[s,a]}function k2(e,t,s){return(t+s)*3/4-s}function Gi(e){var t,s=j2(e),a=s[0],n=s[1],i=new y2(k2(e,a,n)),o=0,l=n>0?a-4:a,d;for(d=0;d<l;d+=4)t=sr[e.charCodeAt(d)]<<18|sr[e.charCodeAt(d+1)]<<12|sr[e.charCodeAt(d+2)]<<6|sr[e.charCodeAt(d+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return n===2&&(t=sr[e.charCodeAt(d)]<<2|sr[e.charCodeAt(d+1)]>>4,i[o++]=t&255),n===1&&(t=sr[e.charCodeAt(d)]<<10|sr[e.charCodeAt(d+1)]<<4|sr[e.charCodeAt(d+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function w2(e){return Pr[e>>18&63]+Pr[e>>12&63]+Pr[e>>6&63]+Pr[e&63]}function N2(e,t,s){for(var a,n=[],i=t;i<s;i+=3)a=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),n.push(w2(a));return n.join("")}function Ki(e){for(var t,s=e.length,a=s%3,n=[],i=16383,o=0,l=s-a;o<l;o+=i)n.push(N2(e,o,o+i>l?l:o+i));return a===1?(t=e[s-1],n.push(Pr[t>>2]+Pr[t<<4&63]+"==")):a===2&&(t=(e[s-2]<<8)+e[s-1],n.push(Pr[t>>10]+Pr[t>>4&63]+Pr[t<<2&63]+"=")),n.join("")}function zr(e){if(e===void 0)return{};if(!Py(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function S2(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Py(e){var n;const t=typeof e=="object",s=Object.getPrototypeOf(e),a=s===null||s===Object.prototype||((n=s==null?void 0:s.constructor)==null?void 0:n.name)==="Object";return t&&a}const Ay=!0,Pn=BigInt("-9223372036854775808"),Th=BigInt("9223372036854775807"),tm=BigInt("0"),C2=BigInt("8"),T2=BigInt("256");function Iy(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function P2(e){e<tm&&(e-=Pn+Pn);let t=e.toString(16);t.length%2===1&&(t="0"+t);const s=new Uint8Array(new ArrayBuffer(8));let a=0;for(const n of t.match(/.{2}/g).reverse())s.set([parseInt(n,16)],a++),e>>=C2;return Ki(s)}function A2(e){const t=Gi(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let s=tm,a=tm;for(const n of t)s+=BigInt(n)*T2**a,a++;return s>Th&&(s+=Pn+Pn),s}function I2(e){if(e<Pn||Th<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Ki(new Uint8Array(t))}function M2(e){const t=Gi(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const _2=DataView.prototype.setBigInt64?I2:P2,E2=DataView.prototype.getBigInt64?M2:A2,Qp=1024;function My(e){if(e.length>Qp)throw new Error(`Field name ${e} exceeds maximum field name length ${Qp}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const s=e.charCodeAt(t);if(s<32||s>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function An(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(a=>An(a));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const a=t[0][0];if(a==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Gi(e.$bytes).buffer}if(a==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return E2(e.$integer)}if(a==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const n=Gi(e.$float);if(n.byteLength!==8)throw new Error(`Received ${n.byteLength} bytes, expected 8 for $float`);const o=new DataView(n.buffer).getFloat64(0,Ay);if(!Iy(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(a==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(a==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const s={};for(const[a,n]of Object.entries(e))My(a),s[a]=An(n);return s}const Gp=16384;function ki(e){const t=JSON.stringify(e,(s,a)=>a===void 0?"undefined":typeof a=="bigint"?`${a.toString()}n`:a);if(t.length>Gp){const s="[...truncated]";let a=Gp-s.length;const n=t.codePointAt(a-1);return n!==void 0&&n>65535&&(a-=1),t.substring(0,a)+s}return t}function rm(e,t,s,a){var o;if(e===void 0){const l=s&&` (present at path ${s} in original object ${ki(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<Pn||Th<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:_2(e)}}if(typeof e=="number")if(Iy(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,Ay),{$float:Ki(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Ki(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,d)=>rm(l,t,s+`[${d}]`));if(e instanceof Set)throw new Error(Cc(s,"Set",[...e],t));if(e instanceof Map)throw new Error(Cc(s,"Map",[...e],t));if(!Py(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,d=l?`${l} `:"";throw new Error(Cc(s,d,e,t))}const n={},i=Object.entries(e);i.sort(([l,d],[c,u])=>l===c?0:l<c?-1:1);for(const[l,d]of i)d!==void 0&&(My(l),n[l]=rm(d,t,s+`.${l}`));return n}function Cc(e,t,s,a){return e?`${t}${ki(s)} is not a supported Convex type (present at path ${e} in original object ${ki(a)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ki(s)} is not a supported Convex type.`}function qt(e){return rm(e,e,"")}var R2=Object.defineProperty,D2=(e,t,s)=>t in e?R2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Tc=(e,t,s)=>D2(e,typeof t!="symbol"?t+"":t,s),Kp,Yp;const L2=Symbol.for("ConvexError");class $l extends(Yp=Error,Kp=L2,Yp){constructor(t){super(typeof t=="string"?t:ki(t)),Tc(this,"name","ConvexError"),Tc(this,"data"),Tc(this,Kp,!0),this.data=t}}const _y=()=>Array.from({length:4},()=>0);_y();_y();const Jp="1.30.0";var O2=Object.defineProperty,F2=(e,t,s)=>t in e?O2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Xp=(e,t,s)=>F2(e,typeof t!="symbol"?t+"":t,s);const B2="color:rgb(0, 145, 255)";function Ey(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class Ry{constructor(t){Xp(this,"_onLogLineFuncs"),Xp(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let s=Math.random().toString(36).substring(2,15);for(let a=0;a<10&&this._onLogLineFuncs[s]!==void 0;a++)s=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[s]=t,()=>{delete this._onLogLineFuncs[s]}}logVerbose(...t){if(this._verbose)for(const s of Object.values(this._onLogLineFuncs))s("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const s of Object.values(this._onLogLineFuncs))s("info",...t)}warn(...t){for(const s of Object.values(this._onLogLineFuncs))s("warn",...t)}error(...t){for(const s of Object.values(this._onLogLineFuncs))s("error",...t)}}function Dy(e){const t=new Ry(e);return t.addLogLineListener((s,...a)=>{switch(s){case"debug":console.debug(...a);break;case"info":console.log(...a);break;case"warn":console.warn(...a);break;case"error":console.error(...a);break;default:console.log(...a)}}),t}function Ly(e){return new Ry(e)}function Vl(e,t,s,a,n){const i=Ey(s);if(typeof n=="object"&&(n=`ConvexError ${JSON.stringify(n.errorData,null,2)}`),t==="info"){const o=n.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${i}(${a})] Could not parse console.log`);return}const l=n.slice(1,o[0].length-2),d=n.slice(o[0].length);e.log(`%c[CONVEX ${i}(${a})] [${l}]`,B2,d)}else e.error(`[CONVEX ${i}(${a})] ${n}`)}function U2(e,t){const s=`[CONVEX FATAL ERROR] ${t}`;return e.error(s),new Error(s)}function on(e,t,s){return`[CONVEX ${Ey(e)}(${t})] ${s.errorMessage}
  Called by client`}function sm(e,t){return t.data=e.errorData,t}function Pa(e){const t=e.split(":");let s,a;return t.length===1?(s=t[0],a="default"):(s=t.slice(0,t.length-1).join(":"),a=t[t.length-1]),s.endsWith(".js")&&(s=s.slice(0,-3)),`${s}:${a}`}function va(e,t){return JSON.stringify({udfPath:Pa(e),args:qt(t)})}function Zp(e,t,s){const{initialNumItems:a,id:n}=s;return JSON.stringify({type:"paginated",udfPath:Pa(e),args:qt(t),options:qt({initialNumItems:a,id:n})})}var $2=Object.defineProperty,V2=(e,t,s)=>t in e?$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Nr=(e,t,s)=>V2(e,typeof t!="symbol"?t+"":t,s);class z2{constructor(){Nr(this,"nextQueryId"),Nr(this,"querySetVersion"),Nr(this,"querySet"),Nr(this,"queryIdToToken"),Nr(this,"identityVersion"),Nr(this,"auth"),Nr(this,"outstandingQueriesOlderThanRestart"),Nr(this,"outstandingAuthOlderThanRestart"),Nr(this,"paused"),Nr(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,s,a,n){const i=Pa(t),o=va(i,s),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const d=this.nextQueryId++,c={id:d,canonicalizedUdfPath:i,args:s,numSubscribers:1,journal:a,componentPath:n};this.querySet.set(o,c),this.queryIdToToken.set(d,o);const u=this.querySetVersion,m=this.querySetVersion+1,x={type:"Add",queryId:d,udfPath:i,args:[qt(s)],journal:a,componentPath:n};return this.paused?this.pendingQuerySetModifications.set(d,x):this.querySetVersion=m,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:u,newVersion:m,modifications:[x]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const s of t.modifications)switch(s.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(s.queryId);const a=s.journal;if(a!==void 0){const n=this.queryIdToToken.get(s.queryId);n!==void 0&&(this.querySet.get(n).journal=a)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(s.queryId);break}default:throw new Error(`Invalid modification ${s.type}`)}}queryId(t,s){const a=Pa(t),n=va(a,s),i=this.querySet.get(n);return i!==void 0?i.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const s=this.identityVersion;return this.paused||(this.identityVersion=s+1),{type:"Authenticate",baseVersion:s,...this.auth}}setAdminAuth(t,s){const a={tokenType:"Admin",value:t,impersonating:s};this.auth=a;const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...a}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var s;return((s=this.auth)==null?void 0:s.value)!==t}queryPath(t){const s=this.queryIdToToken.get(t);return s?this.querySet.get(s).canonicalizedUdfPath:null}queryArgs(t){const s=this.queryIdToToken.get(t);return s?this.querySet.get(s).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var s;return(s=this.querySet.get(t))==null?void 0:s.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const s=[];for(const i of this.querySet.values()){const o={type:"Add",queryId:i.id,udfPath:i.canonicalizedUdfPath,args:[qt(i.args)],journal:i.journal,componentPath:i.componentPath};s.push(o),t.has(i.id)||this.outstandingQueriesOlderThanRestart.add(i.id)}this.querySetVersion=1;const a={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:s};if(!this.auth)return this.identityVersion=0,[a,void 0];this.outstandingAuthOlderThanRestart=!0;const n={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[a,n]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,s=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,s]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const s=this.querySet.get(t);if(s.numSubscribers>1)return s.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(s.id),this.outstandingQueriesOlderThanRestart.delete(s.id);const a=this.querySetVersion,n=this.querySetVersion+1,i={type:"Remove",queryId:s.id};return this.paused?this.pendingQuerySetModifications.has(s.id)?this.pendingQuerySetModifications.delete(s.id):this.pendingQuerySetModifications.set(s.id,i):this.querySetVersion=n,{type:"ModifyQuerySet",baseVersion:a,newVersion:n,modifications:[i]}}}}var q2=Object.defineProperty,W2=(e,t,s)=>t in e?q2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Vo=(e,t,s)=>W2(e,typeof t!="symbol"?t+"":t,s);class H2{constructor(t,s){this.logger=t,this.markConnectionStateDirty=s,Vo(this,"inflightRequests"),Vo(this,"requestsOlderThanRestart"),Vo(this,"inflightMutationsCount",0),Vo(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,s){const a=new Promise(n=>{const i=s?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:i,requestedAt:new Date,onResult:n}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),a}onResponse(t){const s=this.inflightRequests.get(t.requestId);if(s===void 0||s.status.status==="Completed")return null;const a=s.message.type==="Mutation"?"mutation":"action",n=s.message.udfPath;for(const d of t.logLines)Vl(this.logger,"info",a,n,d);const i=s.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:An(t.result)},l=()=>i.onResult(o);else{const d=t.result,{errorData:c}=t;Vl(this.logger,"error",a,n,d),o={success:!1,errorMessage:d,errorData:c!==void 0?An(c):void 0,logLines:t.logLines},l=()=>i.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),s.message.type==="Action"?this.inflightActionsCount--:s.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(s.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const s=new Map;for(const[a,n]of this.inflightRequests.entries()){const i=n.status;i.status==="Completed"&&i.ts.lessThanOrEqual(t)&&(i.onResolve(),s.set(a,i.result),n.message.type==="Mutation"?this.inflightMutationsCount--:n.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(a),this.requestsOlderThanRestart.delete(a))}return s.size>0&&this.markConnectionStateDirty(),s}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[s,a]of this.inflightRequests){if(a.status.status==="NotSent"){a.status.status="Requested",t.push(a.message);continue}if(a.message.type==="Mutation")t.push(a.message);else if(a.message.type==="Action"){if(this.inflightRequests.delete(s),this.requestsOlderThanRestart.delete(s),this.inflightActionsCount--,a.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");a.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,s]of this.inflightRequests)if(s.status.status==="NotSent"){s.status.status="Requested",t.push(s.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const s of this.inflightRequests.values())s.status.status!=="Completed"&&s.status.requestedAt.getTime()<t&&(t=s.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Yi=Symbol.for("functionName"),Oy=Symbol.for("toReferencePath");function Q2(e){return e[Oy]??null}function G2(e){return e.startsWith("function://")}function K2(e){let t;if(typeof e=="string")G2(e)?t={functionHandle:e}:t={name:e};else if(e[Yi])t={name:e[Yi]};else{const s=Q2(e);if(!s)throw new Error(`${e} is not a functionReference`);t={reference:s}}return t}function Ze(e){const t=K2(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const s=e[Yi];if(!s)throw new Error(`${e} is not a functionReference`);return s}function Ph(e){return{[Yi]:e}}function Fy(e=[]){const t={get(s,a){if(typeof a=="string"){const n=[...e,a];return Fy(n)}else if(a===Yi){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const n=e.slice(0,-1).join("/"),i=e[e.length-1];return i==="default"?n:n+":"+i}else return a===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Y2=Fy();var J2=Object.defineProperty,X2=(e,t,s)=>t in e?J2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,zl=(e,t,s)=>X2(e,typeof t!="symbol"?t+"":t,s);class Ji{constructor(t){zl(this,"queryResults"),zl(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...s){const a=zr(s[0]),n=Ze(t),i=this.queryResults.get(va(n,a));if(i!==void 0)return Ji.queryValue(i.result)}getAllQueries(t){const s=[],a=Ze(t);for(const n of this.queryResults.values())n.udfPath===Pa(a)&&s.push({args:n.args,value:Ji.queryValue(n.result)});return s}setQuery(t,s,a){const n=zr(s),i=Ze(t),o=va(i,n);let l;a===void 0?l=void 0:l={success:!0,value:a,logLines:[]};const d={udfPath:i,args:n,result:l};this.queryResults.set(o,d),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Z2{constructor(){zl(this,"queryResults"),zl(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,s){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!s.has(o.mutationId));const a=this.queryResults;this.queryResults=new Map(t);const n=new Ji(this.queryResults);for(const o of this.optimisticUpdates)o.update(n);const i=[];for(const[o,l]of this.queryResults){const d=a.get(o);(d===void 0||d.result!==l.result)&&i.push(o)}return i}applyOptimisticUpdate(t,s){this.optimisticUpdates.push({update:t,mutationId:s});const a=new Ji(this.queryResults);return t(a),a.modifiedQueries}rawQueryResult(t){const s=this.queryResults.get(t);if(s!==void 0)return s.result}queryResult(t){const s=this.queryResults.get(t);if(s===void 0)return;const a=s.result;if(a!==void 0){if(a.success)return a.value;throw a.errorData!==void 0?sm(a,new $l(on("query",s.udfPath,a))):new Error(on("query",s.udfPath,a))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var a;const s=this.queryResults.get(t);return(a=s==null?void 0:s.result)==null?void 0:a.logLines}}var e5=Object.defineProperty,t5=(e,t,s)=>t in e?e5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pc=(e,t,s)=>t5(e,typeof t!="symbol"?t+"":t,s);class _t{constructor(t,s){Pc(this,"low"),Pc(this,"high"),Pc(this,"__isUnsignedLong__"),this.low=t|0,this.high=s|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new _t(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,s=this.low;return[s&255,s>>>8&255,s>>>16&255,s>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?ef:t>=r5?s5:new _t(t%wi|0,t/wi|0)}toString(){return(BigInt(this.high)*BigInt(wi)+BigInt(this.low)).toString()}equals(t){return _t.isLong(t)||(t=_t.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return _t.isLong(t)||(t=_t.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?_t.fromNumber(t):new _t(t.low,t.high)}}const ef=new _t(0,0),tf=65536,wi=tf*tf,r5=wi*wi,s5=new _t(-1,-1);var a5=Object.defineProperty,n5=(e,t,s)=>t in e?a5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,zo=(e,t,s)=>n5(e,typeof t!="symbol"?t+"":t,s);class rf{constructor(t,s){zo(this,"version"),zo(this,"remoteQuerySet"),zo(this,"queryPath"),zo(this,"logger"),this.version={querySet:0,ts:_t.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=s}transition(t){const s=t.startVersion;if(this.version.querySet!==s.querySet||this.version.ts.notEquals(s.ts)||this.version.identity!==s.identity)throw new Error(`Invalid start version: ${s.ts.toString()}:${s.querySet}:${s.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const a of t.modifications)switch(a.type){case"QueryUpdated":{const n=this.queryPath(a.queryId);if(n)for(const o of a.logLines)Vl(this.logger,"info","query",n,o);const i=An(a.value??null);this.remoteQuerySet.set(a.queryId,{success:!0,value:i,logLines:a.logLines});break}case"QueryFailed":{const n=this.queryPath(a.queryId);if(n)for(const o of a.logLines)Vl(this.logger,"info","query",n,o);const{errorData:i}=a;this.remoteQuerySet.set(a.queryId,{success:!1,errorMessage:a.errorMessage,errorData:i!==void 0?An(i):void 0,logLines:a.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(a.queryId);break}default:throw new Error(`Invalid modification ${a.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function Ac(e){const t=Gi(e);return _t.fromBytesLE(Array.from(t))}function i5(e){const t=new Uint8Array(e.toBytesLE());return Ki(t)}function sf(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:Ac(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:Ac(e.startVersion.ts)},endVersion:{...e.endVersion,ts:Ac(e.endVersion.ts)}}}}function o5(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:i5(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var l5=Object.defineProperty,d5=(e,t,s)=>t in e?l5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,tt=(e,t,s)=>d5(e,typeof t!="symbol"?t+"":t,s);const c5=1e3,u5=1001,m5=1005,h5=4040;let cl;function ul(){return cl===void 0&&(cl=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(cl+performance.now())}function af(){return`t=${Math.round((ul()-cl)/100)/10}s`}const By={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function x5(e){if(e===void 0)return"Unknown";for(const t of Object.keys(By))if(e.startsWith(t))return t;return"Unknown"}class p5{constructor(t,s,a,n,i,o){this.markConnectionStateDirty=i,this.debug=o,tt(this,"socket"),tt(this,"connectionCount"),tt(this,"_hasEverConnected",!1),tt(this,"lastCloseReason"),tt(this,"transitionChunkBuffer",null),tt(this,"defaultInitialBackoff"),tt(this,"maxBackoff"),tt(this,"retries"),tt(this,"serverInactivityThreshold"),tt(this,"reconnectDueToServerInactivityTimeout"),tt(this,"uri"),tt(this,"onOpen"),tt(this,"onResume"),tt(this,"onMessage"),tt(this,"webSocketConstructor"),tt(this,"logger"),tt(this,"onServerDisconnectError"),this.webSocketConstructor=a,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=s.onOpen,this.onResume=s.onResume,this.onMessage=s.onMessage,this.onServerDisconnectError=s.onServerDisconnectError,this.logger=n,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const s=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${s}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const s=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const a=sf(JSON.parse(s));if(a.type!=="Transition")throw new Error(`Expected Transition, got ${a.type} after assembling chunks`);return a}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:ul()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",af(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",af())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=s=>{this.transitionChunkBuffer=null;const a=s.message;a&&this.logger.log(`WebSocket error message: ${a}`)},t.onmessage=s=>{this.resetServerInactivityTimeout();const a=s.data.length;let n=sf(JSON.parse(s.data));if(this._logVerbose(`received ws message with type ${n.type}`),n.type==="Ping")return;if(n.type==="TransitionChunk"){const o=this.assembleTransition(n);if(!o)return;n=o,this._logVerbose(`assembled full ws message of type ${n.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${n.type} while buffering TransitionChunks`)),n.type==="Transition"&&this.reportLargeTransition({messageLength:a,transition:n}),this.onMessage(n).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=s=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=s.reason||`closed with code ${s.code}`),s.code!==c5&&s.code!==u5&&s.code!==m5&&s.code!==h5){let n=`WebSocket closed with code ${s.code}`;s.reason&&(n+=`: ${s.reason}`),this.logger.log(n),this.onServerDisconnectError&&s.reason&&this.onServerDisconnectError(n)}const a=x5(s.reason);this.scheduleReconnect(a)}}socketState(){return this.socket.state}sendMessage(t){const s={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const a=o5(t),n=JSON.stringify(a);let i=!1;try{this.socket.ws.send(n),i=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${i?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(s)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(s)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const s=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(s)}ms`),setTimeout(()=>this.connect(),s)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=s=>{this._logVerbose("Ignoring message received after close")},new Promise(s=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),s()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=a=>{this._logVerbose("Ignoring message received after close")};const s=new Promise(a=>{t.onclose=()=>{a()}});return t.close(),s}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:ul()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const a=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:By[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const n=Math.min(a,this.maxBackoff),i=n*(Math.random()-.5);return n+i}reportLargeTransition({transition:t,messageLength:s}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const a=ul()-t.clientClockSkew-t.serverTs/1e6,n=`${Math.round(a)}ms`,i=`${Math.round(s/1e4)/100}MB`,o=s/(a/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${i} transition in ${n} at ${l}`),s>2e7?this.logger.log(`received query results totaling more that 20MB (${i}) which will take a long time to download on slower connections`):a>2e4&&this.logger.log(`received query results totaling ${i} which took more than 20s to arrive (${n})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:a,messageLength:s}})}}function f5(){return g5()}function g5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class ui extends Error{}ui.prototype.name="InvalidTokenError";function b5(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let a=s.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function y5(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b5(t)}catch{return atob(t)}}function Uy(e,t){if(typeof e!="string")throw new ui("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,a=e.split(".")[s];if(typeof a!="string")throw new ui(`Invalid token specified: missing part #${s+1}`);let n;try{n=y5(a)}catch(i){throw new ui(`Invalid token specified: invalid base64 for part #${s+1} (${i.message})`)}try{return JSON.parse(n)}catch(i){throw new ui(`Invalid token specified: invalid json for part #${s+1} (${i.message})`)}}var v5=Object.defineProperty,j5=(e,t,s)=>t in e?v5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,er=(e,t,s)=>j5(e,typeof t!="symbol"?t+"":t,s);const k5=20*24*60*60*1e3,nf=2;class w5{constructor(t,s,a){er(this,"authState",{state:"noAuth"}),er(this,"configVersion",0),er(this,"syncState"),er(this,"authenticate"),er(this,"stopSocket"),er(this,"tryRestartSocket"),er(this,"pauseSocket"),er(this,"resumeSocket"),er(this,"clearAuth"),er(this,"logger"),er(this,"refreshTokenLeewaySeconds"),er(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=s.authenticate,this.stopSocket=s.stopSocket,this.tryRestartSocket=s.tryRestartSocket,this.pauseSocket=s.pauseSocket,this.resumeSocket=s.resumeSocket,this.clearAuth=s.clearAuth,this.logger=a.logger,this.refreshTokenLeewaySeconds=a.refreshTokenLeewaySeconds}async setConfig(t,s){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const a=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});a.isFromOutdatedConfig||(a.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:s},hasRetried:!1}),this.authenticate(a.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:s}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:s}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(s+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=nf){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${nf-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const s=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});s.isFromOutdatedConfig||(s.value&&this.syncState.isNewAuth(s.value)?(this.authenticate(s.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:s.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const s=this.decodeToken(t);if(!s){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:a,exp:n}=s;if(!a||!n){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const i=n-a;if(i<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(k5,(i-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${i}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,s){const a=++this.configVersion;this._logVerbose(`fetching token with config version ${a}`);const n=await t(s);return this.configVersion!==a?(this._logVerbose(`stale config version, expected ${a}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:n}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const s=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(s)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return Uy(t)}catch(s){return this._logVerbose(`Error decoding token: ${s instanceof Error?s.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const N5=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function S5(e,t){const s={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:s})}function C5(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function T5(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const s of N5){const a=performance.getEntriesByName(s).filter(n=>n.entryType==="mark").filter(n=>n.detail.sessionId===e);t.push(...a)}return t.map(C5)}var P5=Object.defineProperty,A5=(e,t,s)=>t in e?P5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,qe=(e,t,s)=>A5(e,typeof t!="symbol"?t+"":t,s);class I5{constructor(t,s,a){if(qe(this,"address"),qe(this,"state"),qe(this,"requestManager"),qe(this,"webSocketManager"),qe(this,"authenticationManager"),qe(this,"remoteQuerySet"),qe(this,"optimisticQueryResults"),qe(this,"_transitionHandlerCounter",0),qe(this,"_nextRequestId"),qe(this,"_onTransitionFns",new Map),qe(this,"_sessionId"),qe(this,"firstMessageReceived",!1),qe(this,"debug"),qe(this,"logger"),qe(this,"maxObservedTimestamp"),qe(this,"connectionStateSubscribers",new Map),qe(this,"nextConnectionStateSubscriberId",0),qe(this,"_lastPublishedConnectionState"),qe(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const h=this.connectionState();if(JSON.stringify(h)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=h;for(const g of this.connectionStateSubscribers.values())g(h)}})}),qe(this,"mark",h=>{this.debug&&S5(h,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(a==null?void 0:a.skipConvexDeploymentUrlCheck)!==!0&&S2(t),a={...a};const n=a.authRefreshTokenLeewaySeconds??2;let i=a.webSocketConstructor;if(!i&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");i=i||WebSocket,this.debug=a.reportDebugInfoToConvex??!1,this.address=t,this.logger=a.logger===!1?Ly({verbose:a.verbose??!1}):a.logger!==!0&&a.logger?a.logger:Dy({verbose:a.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),d=t.substring(0,o);let c;if(d==="http")c="ws";else if(d==="https")c="wss";else throw new Error(`Unknown parent protocol ${d}`);const u=`${c}://${l}/api/${Jp}/sync`;this.state=new z2,this.remoteQuerySet=new rf(h=>this.state.queryPath(h),this.logger),this.requestManager=new H2(this.logger,this.markConnectionStateDirty);const m=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new w5(this.state,{authenticate:h=>{const g=this.state.setAuth(h);return this.webSocketManager.sendMessage(g),g.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:m,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:n}),this.optimisticQueryResults=new Z2,this.addOnTransitionHandler(h=>{s(h.queries.map(g=>g.token))}),this._nextRequestId=0,this._sessionId=f5();const{unsavedChangesWarning:x}=a;if(typeof window>"u"||typeof window.addEventListener>"u"){if(x===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else x!==!1&&window.addEventListener("beforeunload",h=>{if(this.requestManager.hasIncompleteRequests()){h.preventDefault();const g="Are you sure you want to leave? Your changes may not be saved.";return(h||window.event).returnValue=g,g}});this.webSocketManager=new p5(u,{onOpen:h=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...h,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const g=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new rf(p=>this.state.queryPath(p),this.logger);const[y,v]=this.state.restart(g);v&&this.webSocketManager.sendMessage(v),this.webSocketManager.sendMessage(y);for(const p of this.requestManager.restart())this.webSocketManager.sendMessage(p)},onResume:()=>{const[h,g]=this.state.resume();g&&this.webSocketManager.sendMessage(g),h&&this.webSocketManager.sendMessage(h);for(const y of this.requestManager.resume())this.webSocketManager.sendMessage(y)},onMessage:h=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),h.type){case"Transition":{this.observedTimestamp(h.endVersion.ts),this.authenticationManager.onTransition(h),this.remoteQuerySet.transition(h),this.state.transition(h);const g=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(g);break}case"MutationResponse":{h.success&&this.observedTimestamp(h.ts);const g=this.requestManager.onResponse(h);g!==null&&this.notifyOnQueryResultChanges(new Map([[g.requestId,g.result]]));break}case"ActionResponse":{this.requestManager.onResponse(h);break}case"AuthError":{this.authenticationManager.onAuthError(h);break}case"FatalError":{const g=U2(this.logger,h.error);throw this.webSocketManager.terminate(),g}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:a.onServerDisconnectError},i,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),a.expectAuth&&m()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const s=this.remoteQuerySet.remoteQueryResults(),a=new Map;for(const[i,o]of s){const l=this.state.queryToken(i);if(l!==null){const d={result:o,udfPath:this.state.queryPath(i),args:this.state.queryArgs(i)};a.set(l,d)}}const n=this.optimisticQueryResults.ingestQueryResultsFromServer(a,new Set(t.keys()));this.handleTransition({queries:n.map(i=>{const o=this.optimisticQueryResults.rawQueryResult(i);return{token:i,modification:{kind:"Updated",result:o}}}),reflectedMutations:Array.from(t).map(([i,o])=>({requestId:i,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const s of this._onTransitionFns.values())s(t)}addOnTransitionHandler(t){const s=this._transitionHandlerCounter++;return this._onTransitionFns.set(s,t),()=>this._onTransitionFns.delete(s)}getCurrentAuthClaims(){const t=this.state.getAuth();let s={};if(t&&t.tokenType==="User")try{s=t?Uy(t.value):{}}catch{s={}}else return;return{token:t.value,decoded:s}}setAuth(t,s){this.authenticationManager.setConfig(t,s)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,s){const a=this.state.setAdminAuth(t,s);this.webSocketManager.sendMessage(a)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,s,a){const n=zr(s),{modification:i,queryToken:o,unsubscribe:l}=this.state.subscribe(t,n,a==null?void 0:a.journal,a==null?void 0:a.componentPath);return i!==null&&this.webSocketManager.sendMessage(i),{queryToken:o,unsubscribe:()=>{const d=l();d&&this.webSocketManager.sendMessage(d)}}}localQueryResult(t,s){const a=zr(s),n=va(t,a);return this.optimisticQueryResults.queryResult(n)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,s){const a=zr(s),n=va(t,a);return this.optimisticQueryResults.queryLogs(n)}queryJournal(t,s){const a=zr(s),n=va(t,a);return this.state.queryJournal(n)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const s=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(s,t),()=>{this.connectionStateSubscribers.delete(s)}}async mutation(t,s,a){const n=await this.mutationInternal(t,s,a);if(!n.success)throw n.errorData!==void 0?sm(n,new $l(on("mutation",t,n))):new Error(on("mutation",t,n));return n.value}async mutationInternal(t,s,a,n){const{mutationPromise:i}=this.enqueueMutation(t,s,a,n);return i}enqueueMutation(t,s,a,n){const i=zr(s);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,a!==void 0){const u=a.optimisticUpdate;if(u!==void 0){const m=g=>{u(g,i)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},h=this.optimisticQueryResults.applyOptimisticUpdate(m,o).map(g=>{const y=this.localQueryResultByToken(g);return{token:g,modification:{kind:"Updated",result:y===void 0?void 0:{success:!0,value:y,logLines:[]}}}});this.handleTransition({queries:h,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:n,args:[qt(i)]},d=this.webSocketManager.sendMessage(l),c=this.requestManager.request(l,d);return{requestId:o,mutationPromise:c}}async action(t,s){const a=await this.actionInternal(t,s);if(!a.success)throw a.errorData!==void 0?sm(a,new $l(on("action",t,a))):new Error(on("action",t,a));return a.value}async actionInternal(t,s,a){const n=zr(s),i=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:i,udfPath:t,componentPath:a,args:[qt(n)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=T5(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const s=`${this.address}/api/debug_event`;fetch(s,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Jp}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(a=>{a.ok||this.logger.warn("Analytics request failed with response:",a.body)}).catch(a=>{this.logger.warn("Analytics response failed with error:",a)})}}function Ic(e){if(typeof e!="object"||e===null||!Array.isArray(e.page)||typeof e.isDone!="boolean"||typeof e.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${e==null?void 0:e.toString()}`);return e}var M5=Object.defineProperty,_5=(e,t,s)=>t in e?M5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,of=(e,t,s)=>_5(e,typeof t!="symbol"?t+"":t,s);class E5{constructor(t,s){this.client=t,this.onTransition=s,of(this,"paginatedQuerySet",new Map),of(this,"lastTransitionTs"),this.lastTransitionTs=_t.fromNumber(0),this.client.addOnTransitionHandler(a=>this.onBaseTransition(a))}subscribe(t,s,a){const n=Pa(t),i=Zp(n,s,a),o=()=>this.removePaginatedQuerySubscriber(i),l=this.paginatedQuerySet.get(i);return l?(l.numSubscribers+=1,{paginatedQueryToken:i,unsubscribe:o}):(this.paginatedQuerySet.set(i,{token:i,canonicalizedUdfPath:n,args:s,numSubscribers:1,options:{initialNumItems:a.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:a.id}),this.addPageToPaginatedQuery(i,null,a.initialNumItems),{paginatedQueryToken:i,unsubscribe:o})}localQueryResult(t,s,a){const n=Pa(t),i=Zp(n,s,a);return this.localQueryResultByToken(i)}localQueryResultByToken(t){const s=this.paginatedQuerySet.get(t);if(!s)return;const a=this.activePageQueryTokens(s);if(a.length===0)return{results:[],status:"LoadingFirstPage",loadMore:d=>this.loadMoreOfPaginatedQuery(t,d)};let n=[],i=!1,o=!1;for(const d of a){const c=this.client.localQueryResultByToken(d);if(c===void 0){i=!0,o=!1;continue}const u=Ic(c);n=n.concat(u.page),o=!!u.isDone}let l;return i?l=n.length===0?"LoadingFirstPage":"LoadingMore":o?l="Exhausted":l="CanLoadMore",{results:n,status:l,loadMore:d=>this.loadMoreOfPaginatedQuery(t,d)}}onBaseTransition(t){const s=t.queries.map(o=>o.token),a=this.queriesContainingTokens(s);let n=[];a.length>0&&(this.processPaginatedQuerySplits(a,o=>this.client.localQueryResultByToken(o)),n=a.map(o=>({token:o,modification:{kind:"Updated",result:this.localQueryResultByToken(o)}})));const i={...t,paginatedQueries:n};this.onTransition(i)}loadMoreOfPaginatedQuery(t,s){this.mustGetPaginatedQuery(t);const a=this.queryTokenForLastPageOfPaginatedQuery(t),n=this.client.localQueryResultByToken(a);if(!n)return!1;const i=Ic(n);if(i.isDone)return!1;this.addPageToPaginatedQuery(t,i.continueCursor,s);const o={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:t,modification:{kind:"Updated",result:this.localQueryResultByToken(t)}}]};return this.onTransition(o),!0}queriesContainingTokens(t){if(t.length===0)return[];const s=[],a=new Set(t);for(const[n,i]of this.paginatedQuerySet)for(const o of this.allQueryTokens(i))if(a.has(o)){s.push(n);break}return s}processPaginatedQuerySplits(t,s){for(const a of t){const n=this.mustGetPaginatedQuery(a),{ongoingSplits:i,pageKeyToQuery:o,pageKeys:l}=n;for(const[d,[c,u]]of i)s(o.get(c).queryToken)!==void 0&&s(o.get(u).queryToken)!==void 0&&this.completePaginatedQuerySplit(n,d,c,u);for(const d of l){if(i.has(d))continue;const c=o.get(d).queryToken,u=s(c);if(!u)continue;const m=Ic(u);m.splitCursor&&(m.pageStatus==="SplitRecommended"||m.pageStatus==="SplitRequired"||m.page.length>n.options.initialNumItems*2)&&this.splitPaginatedQueryPage(n,d,m.splitCursor,m.continueCursor)}}}splitPaginatedQueryPage(t,s,a,n){const i=t.nextPageKey++,o=t.nextPageKey++,l={cursor:n,numItems:t.options.initialNumItems,id:t.id},d=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:null,endCursor:a}});t.pageKeyToQuery.set(i,d);const c=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:a,endCursor:n}});t.pageKeyToQuery.set(o,c),t.ongoingSplits.set(s,[i,o])}addPageToPaginatedQuery(t,s,a){const n=this.mustGetPaginatedQuery(t),i=n.nextPageKey++,o={cursor:s,numItems:a,id:n.id},l={...n.args,paginationOpts:o},d=this.client.subscribe(n.canonicalizedUdfPath,l);return n.pageKeys.push(i),n.pageKeyToQuery.set(i,d),d}removePaginatedQuerySubscriber(t){const s=this.paginatedQuerySet.get(t);if(s&&(s.numSubscribers-=1,!(s.numSubscribers>0))){for(const a of s.pageKeyToQuery.values())a.unsubscribe();this.paginatedQuerySet.delete(t)}}completePaginatedQuerySplit(t,s,a,n){const i=t.pageKeyToQuery.get(s);t.pageKeyToQuery.delete(s);const o=t.pageKeys.indexOf(s);t.pageKeys.splice(o,1,a,n),t.ongoingSplits.delete(s),i.unsubscribe()}activePageQueryTokens(t){return t.pageKeys.map(s=>t.pageKeyToQuery.get(s).queryToken)}allQueryTokens(t){return Array.from(t.pageKeyToQuery.values()).map(s=>s.queryToken)}queryTokenForLastPageOfPaginatedQuery(t){const s=this.mustGetPaginatedQuery(t),a=s.pageKeys[s.pageKeys.length-1];if(a===void 0)throw new Error(`No pages for paginated query ${t}`);return s.pageKeyToQuery.get(a).queryToken}mustGetPaginatedQuery(t){const s=this.paginatedQuerySet.get(t);if(!s)throw new Error("paginated query no longer exists for token "+t);return s}}function R5({getCurrentValue:e,subscribe:t}){const[s,a]=f.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let n=s.value;return(s.getCurrentValue!==e||s.subscribe!==t)&&(n=e(),a({getCurrentValue:e,subscribe:t,value:n})),f.useEffect(()=>{let i=!1;const o=()=>{i||a(d=>{if(d.getCurrentValue!==e||d.subscribe!==t)return d;const c=e();return d.value===c?d:{...d,value:c}})},l=t(o);return o(),()=>{i=!0,l()}},[e,t]),n}var D5=Object.defineProperty,L5=(e,t,s)=>t in e?D5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Fr=(e,t,s)=>L5(e,typeof t!="symbol"?t+"":t,s);const O5=5e3;if(typeof Er>"u")throw new Error("Required dependency 'react' not found");function $y(e,t,s){function a(n){return V5(n),t.mutation(e,n,{optimisticUpdate:s})}return a.withOptimisticUpdate=function(i){if(s!==void 0)throw new Error(`Already specified optimistic update for mutation ${Ze(e)}`);return $y(e,t,i)},a}function F5(e,t){return function(s){return t.action(e,s)}}class B5{constructor(t,s){if(Fr(this,"address"),Fr(this,"cachedSync"),Fr(this,"cachedPaginatedQueryClient"),Fr(this,"listeners"),Fr(this,"options"),Fr(this,"closed",!1),Fr(this,"_logger"),Fr(this,"adminAuth"),Fr(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(s==null?void 0:s.logger)===!1?Ly({verbose:(s==null?void 0:s.verbose)??!1}):(s==null?void 0:s.logger)!==!0&&(s!=null&&s.logger)?s.logger:Dy({verbose:(s==null?void 0:s.verbose)??!1}),this.options={...s,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new I5(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new E5(this.cachedSync,t=>this.handleTransition(t)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(t,s){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,s??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,s){if(this.adminAuth=t,this.fakeUserIdentity=s,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,s)}watchQuery(t,...s){const[a,n]=s,i=Ze(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:d}=this.sync.subscribe(i,a,n),c=this.listeners.get(l);return c!==void 0?c.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const u=this.listeners.get(l);u.delete(o),u.size===0&&this.listeners.delete(l),d()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(i,a)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(i,a)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(i,a)}}}prewarmQuery(t){const s=t.extendSubscriptionFor??O5,n=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(n,s)}watchPaginatedQuery(t,s,a){const n=Ze(t);return{onUpdate:i=>{const{paginatedQueryToken:o,unsubscribe:l}=this.paginatedQueryClient.subscribe(n,s||{},a),d=this.listeners.get(o);return d!==void 0?d.add(i):this.listeners.set(o,new Set([i])),()=>{if(this.closed)return;const c=this.listeners.get(o);c.delete(i),c.size===0&&this.listeners.delete(o),l()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(n,s,a)}}mutation(t,...s){const[a,n]=s,i=Ze(t);return this.sync.mutation(i,a,n)}action(t,...s){const a=Ze(t);return this.sync.action(a,...s)}query(t,...s){const a=this.watchQuery(t,...s),n=a.localQueryResult();return n!==void 0?Promise.resolve(n):new Promise((i,o)=>{const l=a.onUpdate(()=>{l();try{i(a.localQueryResult())}catch(d){o(d)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}handleTransition(t){const s=t.queries.map(n=>n.token),a=t.paginatedQueries.map(n=>n.token);this.transition([...s,...a])}transition(t){for(const s of t){const a=this.listeners.get(s);if(a)for(const n of a)n()}}}const Sd=Er.createContext(void 0);function Vy(){return f.useContext(Sd)}const U5=({client:e,children:t})=>Er.createElement(Sd.Provider,{value:e},t);function B(e,...t){const s=t[0]==="skip",a=t[0]==="skip"?{}:zr(t[0]),n=typeof e=="string"?Ph(e):e,i=Ze(n),o=f.useMemo(()=>s?{}:{query:{query:n,args:a}},[JSON.stringify(qt(a)),i,s]),d=zy(o).query;if(d instanceof Error)throw d;return d}function $(e){const t=typeof e=="string"?Ph(e):e,s=f.useContext(Sd);if(s===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return f.useMemo(()=>$y(t,s),[s,Ze(t)])}function $5(e){const t=f.useContext(Sd),s=typeof e=="string"?Ph(e):e;if(t===void 0)throw new Error("Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return f.useMemo(()=>F5(s,t),[t,Ze(s)])}function V5(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var z5=Object.defineProperty,q5=(e,t,s)=>t in e?z5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Mc=(e,t,s)=>q5(e,typeof t!="symbol"?t+"":t,s);class W5{constructor(t){Mc(this,"createWatch"),Mc(this,"queries"),Mc(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const s of Object.keys(t)){const{query:a,args:n,paginationOptions:i}=t[s];if(Ze(a),this.queries[s]===void 0)this.addQuery(s,a,n,i?{paginationOptions:i}:{});else{const o=this.queries[s];(Ze(a)!==Ze(o.query)||JSON.stringify(qt(n))!==JSON.stringify(qt(o.args))||JSON.stringify(i)!==JSON.stringify(o.paginationOptions))&&(this.removeQuery(s),this.addQuery(s,a,n,i?{paginationOptions:i}:{}))}}for(const s of Object.keys(this.queries))t[s]===void 0&&this.removeQuery(s)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const s={};for(const a of Object.keys(t)){const{query:n,args:i}=t[a],o=t[a].paginationOptions;Ze(n);const l=this.createWatch(n,i,o?{paginationOptions:o}:{});let d;try{d=l.localQueryResult()}catch(c){if(c instanceof Error)d=c;else throw c}s[a]=d}return s}setCreateWatch(t){this.createWatch=t;for(const s of Object.keys(this.queries)){const{query:a,args:n,watch:i,paginationOptions:o}=this.queries[s],l="journal"in i?i.journal():void 0;this.removeQuery(s),this.addQuery(s,a,n,{...l?{journal:l}:[],...o?{paginationOptions:o}:{}})}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,s,a,{paginationOptions:n,journal:i}){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(s,a,{...i?{journal:i}:[],...n?{paginationOptions:n}:{}}),l=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:s,args:a,watch:o,unsubscribe:l,...n?{paginationOptions:n}:{}}}removeQuery(t){const s=this.queries[t];if(s===void 0)throw new Error(`No query found with identifier ${t}.`);s.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function zy(e){const t=Vy();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const s=f.useMemo(()=>(a,n,{journal:i,paginationOptions:o})=>o?t.watchPaginatedQuery(a,n,o):t.watchQuery(a,n,i?{journal:i}:{}),[t]);return H5(e,s)}function H5(e,t){const[s]=f.useState(()=>new W5(t));s.createWatch!==t&&s.setCreateWatch(t),f.useEffect(()=>()=>s.destroy(),[s]);const a=f.useMemo(()=>({getCurrentValue:()=>s.getLocalResults(e),subscribe:n=>(s.setQueries(e),s.subscribe(n))}),[s,e]);return R5(a)}const Q5=(e,t,s)=>a=>{const n={...a.queries},i=a.nextPageKey,o=a.nextPageKey+1,l=a.nextPageKey+2;n[i]={query:a.query,args:{...a.args,paginationOpts:{...a.queries[e].args.paginationOpts,endCursor:t}}},n[o]={query:a.query,args:{...a.args,paginationOpts:{...a.queries[e].args.paginationOpts,cursor:t,endCursor:s}}};const d={...a.ongoingSplits};return d[e]=[i,o],{...a,nextPageKey:l,queries:n,ongoingSplits:d}},G5=e=>t=>{const s=t.ongoingSplits[e];if(s===void 0)return t;const a={...t.queries};delete a[e];const n={...t.ongoingSplits};delete n[e];let i=t.pageKeys.slice();const o=t.pageKeys.findIndex(l=>l===e);return o>=0&&(i=[...t.pageKeys.slice(0,o),...s,...t.pageKeys.slice(o+1)]),{...t,queries:a,pageKeys:i,ongoingSplits:n}};function K5(e,t,s){const{user:a}=X5(e,t,s);return a}const Y5=Symbol("includePageKeys"),J5=Symbol("page");function X5(e,t,s){if(typeof(s==null?void 0:s.initialNumItems)!="number"||s.initialNumItems<0)throw new Error(`\`options.initialNumItems\` must be a positive number. Received \`${s==null?void 0:s.initialNumItems}\`.`);const a=t==="skip",n=a?{}:t,i=Ze(e),o=f.useMemo(()=>()=>{const p=Z5();return{query:e,args:n,id:p,nextPageKey:1,pageKeys:a?[]:[0],queries:a?{}:{0:{query:e,args:{...n,paginationOpts:{numItems:s.initialNumItems,cursor:null,id:p}}}},ongoingSplits:{},skip:a}},[JSON.stringify(qt(n)),i,s.initialNumItems,a]),[l,d]=f.useState(o);let c=l;(Ze(e)!==Ze(l.query)||JSON.stringify(qt(n))!==JSON.stringify(qt(l.args))||a!==l.skip)&&(c=o(),d(c));const m=Vy().logger,x=zy(c.queries),h=s[Y5]??!1,[g,y]=f.useMemo(()=>{var j,k;let p;const b=[];for(const w of c.pageKeys){if(p=x[w],p===void 0)break;if(p instanceof Error){if(p.message.includes("InvalidCursor")||p instanceof $l&&typeof p.data=="object"&&((j=p.data)==null?void 0:j.isConvexSystemError)===!0&&((k=p.data)==null?void 0:k.paginationError)==="InvalidCursor")return m.warn("usePaginatedQuery hit error, resetting pagination state: "+p.message),d(o),[[],void 0];throw p}const C=c.ongoingSplits[w];if(C!==void 0?x[C[0]]!==void 0&&x[C[1]]!==void 0&&d(G5(w)):p.splitCursor&&(p.pageStatus==="SplitRecommended"||p.pageStatus==="SplitRequired"||p.page.length>s.initialNumItems*2)&&d(Q5(w,p.splitCursor,p.continueCursor)),p.pageStatus==="SplitRequired")return[b,void 0];b.push(...h?p.page.map(N=>({...N,[J5]:w.toString()})):p.page)}return[b,p]},[x,c.pageKeys,c.ongoingSplits,s.initialNumItems,o,m,h]),v=f.useMemo(()=>{if(y===void 0)return c.nextPageKey===1?{status:"LoadingFirstPage",isLoading:!0,loadMore:j=>{}}:{status:"LoadingMore",isLoading:!0,loadMore:j=>{}};if(y.isDone)return{status:"Exhausted",isLoading:!1,loadMore:j=>{}};const p=y.continueCursor;let b=!1;return{status:"CanLoadMore",isLoading:!1,loadMore:j=>{b||(b=!0,d(k=>{const w=[...k.pageKeys,k.nextPageKey],C={...k.queries};return C[k.nextPageKey]={query:k.query,args:{...k.args,paginationOpts:{numItems:j,cursor:p,id:k.id}}},{...k,nextPageKey:k.nextPageKey+1,pageKeys:w,queries:C}}))}}},[y,c.nextPageKey]);return{user:{results:g,...v},internal:{state:c}}}let lf=0;function Z5(){return lf++,lf}const qy=f.createContext(void 0);function e4({children:e}){const[t,s]=f.useState(()=>{const i=localStorage.getItem("baptizo-theme");return i==="dark"||i==="light"?i:"light"});f.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("baptizo-theme",t)},[t]);const a=()=>{s(i=>i==="light"?"dark":"light")},n=i=>{s(i)};return r.jsx(qy.Provider,{value:{theme:t,toggleTheme:a,setTheme:n},children:e})}function Cd(){const e=f.useContext(qy);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Wy(e,t){const s={get(a,n){if(typeof n=="string"){const i=[...t,n];return Wy(e,i)}else if(n===Oy){if(t.length<1){const i=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${i}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},s)}const t4=()=>Wy("components",[]),S=Y2;t4();const Hy=f.createContext(void 0),qo="baptizo-auth-user";function r4({children:e}){const[t,s]=f.useState(null),[a,n]=f.useState(!0);f.useEffect(()=>{const c=localStorage.getItem(qo);if(c)try{const u=JSON.parse(c);s(u)}catch(u){console.error("Failed to parse stored user:",u),localStorage.removeItem(qo)}n(!1)},[]);const i=B(S.users.getUser,t!=null&&t._id?{userId:t._id}:"skip");f.useEffect(()=>{if(i&&t&&(i.role!==t.role||i.name!==t.name||i.avatarUrl!==t.avatarUrl||i.coverImageUrl!==t.coverImageUrl)){const c={...t,...i};console.log("Syncing fresh user data from DB:",c),s(c)}},[i,t]),f.useEffect(()=>{t?localStorage.setItem(qo,JSON.stringify(t)):localStorage.removeItem(qo)},[t]);const o=c=>{s(c)},l=()=>{s(null)},d=c=>{t&&s({...t,...c})};return r.jsx(Hy.Provider,{value:{user:t,isLoading:a,login:o,logout:l,updateUser:d},children:e})}function s4(){const e=f.useContext(Hy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const s=f.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...c},u)=>f.createElement("svg",{ref:u,...a4,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${n4(e)}`,l].join(" "),...c},[...t.map(([m,x])=>f.createElement(m,x)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=O("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=O("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=O("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=O("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=O("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=O("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=O("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=O("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=O("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=O("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=O("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=O("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=O("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=O("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=O("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=O("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=O("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=O("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=O("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=O("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=O("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=O("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=O("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=O("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=O("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=O("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=O("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=O("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=O("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=O("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=O("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=O("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=O("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=O("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=O("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=O("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=O("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=O("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=O("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=O("MessageCircleOff",[["path",{d:"M20.5 14.9A9 9 0 0 0 9.1 3.5",key:"1iebmn"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.6 5.6C3 8.3 2.2 12.5 4 16l-2 6 6-2c3.4 1.8 7.6 1.1 10.3-1.7",key:"1ov8ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=O("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=O("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=O("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=O("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=O("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=O("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=O("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=O("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=O("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=O("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=O("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=O("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=O("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=O("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=O("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=O("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=O("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=O("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=O("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=O("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=O("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=O("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=O("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=O("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=O("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=O("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=O("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=O("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=O("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=O("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),nv=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Md=f.createContext({}),_d=f.createContext(null),Ed=typeof document<"u",Dh=Ed?f.useLayoutEffect:f.useEffect,iv=f.createContext({strict:!1}),Lh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),R4="framerAppearId",ov="data-"+Lh(R4);function D4(e,t,s,a){const{visualElement:n}=f.useContext(Md),i=f.useContext(iv),o=f.useContext(_d),l=f.useContext(nv).reducedMotion,d=f.useRef();a=a||i.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:n,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=d.current;f.useInsertionEffect(()=>{c&&c.update(s,o)});const u=f.useRef(!!(s[ov]&&!window.HandoffComplete));return Dh(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),f.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function ln(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L4(e,t,s){return f.useCallback(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):ln(s)&&(s.current=a))},[t])}function eo(e){return typeof e=="string"||Array.isArray(e)}function Rd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Oh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fh=["initial",...Oh];function Dd(e){return Rd(e.animate)||Fh.some(t=>eo(e[t]))}function lv(e){return!!(Dd(e)||e.variants)}function O4(e,t){if(Dd(e)){const{initial:s,animate:a}=e;return{initial:s===!1||eo(s)?s:void 0,animate:eo(a)?a:void 0}}return e.inherit!==!1?t:{}}function F4(e){const{initial:t,animate:s}=O4(e,f.useContext(Md));return f.useMemo(()=>({initial:t,animate:s}),[mf(t),mf(s)])}function mf(e){return Array.isArray(e)?e.join(" "):e}const hf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const e in hf)to[e]={isEnabled:t=>hf[e].some(s=>!!t[s])};function B4(e){for(const t in e)to[t]={...to[t],...e[t]}}const Bh=f.createContext({}),dv=f.createContext({}),U4=Symbol.for("motionComponentSymbol");function $4({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:a,Component:n}){e&&B4(e);function i(l,d){let c;const u={...f.useContext(nv),...l,layoutId:V4(l)},{isStatic:m}=u,x=F4(l),h=a(l,m);if(!m&&Ed){x.visualElement=D4(n,h,u,t);const g=f.useContext(dv),y=f.useContext(iv).strict;x.visualElement&&(c=x.visualElement.loadFeatures(u,y,e,g))}return f.createElement(Md.Provider,{value:x},c&&x.visualElement?f.createElement(c,{visualElement:x.visualElement,...u}):null,s(n,l,L4(h,x.visualElement,d),h,m,x.visualElement))}const o=f.forwardRef(i);return o[U4]=n,o}function V4({layoutId:e}){const t=f.useContext(Bh).id;return t&&e!==void 0?t+"-"+e:e}function z4(e){function t(a,n={}){return $4(e(a,n))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(a,n)=>(s.has(n)||s.set(n,t(n)),s.get(n))})}const q4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uh(e){return typeof e!="string"||e.includes("-")?!1:!!(q4.indexOf(e)>-1||/[A-Z]/.test(e))}const Yl={};function W4(e){Object.assign(Yl,e)}const go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ua=new Set(go);function cv(e,{layout:t,layoutId:s}){return Ua.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Yl[e]||e==="opacity")}const Ut=e=>!!(e&&e.getVelocity),H4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q4=go.length;function G4(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},a,n){let i="";for(let o=0;o<Q4;o++){const l=go[o];if(e[l]!==void 0){const d=H4[l]||l;i+=`${d}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,a?"":i):s&&a&&(i="none"),i}const uv=e=>t=>typeof t=="string"&&t.startsWith(e),mv=uv("--"),om=uv("var(--"),K4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Y4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zs=(e,t,s)=>Math.min(Math.max(s,e),t),$a={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Si={...$a,transform:e=>zs(0,1,e)},Wo={...$a,default:1},Ci=e=>Math.round(e*1e5)/1e5,Ld=/(-)?([\d]*\.?[\d])+/g,hv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,J4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bo(e){return typeof e=="string"}const yo=e=>({test:t=>bo(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ps=yo("deg"),_r=yo("%"),ae=yo("px"),X4=yo("vh"),Z4=yo("vw"),xf={..._r,parse:e=>_r.parse(e)/100,transform:e=>_r.transform(e*100)},pf={...$a,transform:Math.round},xv={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:Wo,scaleX:Wo,scaleY:Wo,scaleZ:Wo,skew:ps,skewX:ps,skewY:ps,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Si,originX:xf,originY:xf,originZ:ae,zIndex:pf,fillOpacity:Si,strokeOpacity:Si,numOctaves:pf};function $h(e,t,s,a){const{style:n,vars:i,transform:o,transformOrigin:l}=e;let d=!1,c=!1,u=!0;for(const m in t){const x=t[m];if(mv(m)){i[m]=x;continue}const h=xv[m],g=Y4(x,h);if(Ua.has(m)){if(d=!0,o[m]=g,!u)continue;x!==(h.default||0)&&(u=!1)}else m.startsWith("origin")?(c=!0,l[m]=g):n[m]=g}if(t.transform||(d||a?n.transform=G4(e.transform,s,u,a):n.transform&&(n.transform="none")),c){const{originX:m="50%",originY:x="50%",originZ:h=0}=l;n.transformOrigin=`${m} ${x} ${h}`}}const Vh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pv(e,t,s){for(const a in t)!Ut(t[a])&&!cv(a,s)&&(e[a]=t[a])}function eS({transformTemplate:e},t,s){return f.useMemo(()=>{const a=Vh();return $h(a,t,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[t])}function tS(e,t,s){const a=e.style||{},n={};return pv(n,a,e),Object.assign(n,eS(e,t,s)),e.transformValues?e.transformValues(n):n}function rS(e,t,s){const a={},n=tS(e,t,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const sS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sS.has(e)}let fv=e=>!Jl(e);function aS(e){e&&(fv=t=>t.startsWith("on")?!Jl(t):e(t))}try{aS(require("@emotion/is-prop-valid").default)}catch{}function nS(e,t,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(fv(n)||s===!0&&Jl(n)||!t&&!Jl(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}function ff(e,t,s){return typeof e=="string"?e:ae.transform(t+s*e)}function iS(e,t,s){const a=ff(t,e.x,e.width),n=ff(s,e.y,e.height);return`${a} ${n}`}const oS={offset:"stroke-dashoffset",array:"stroke-dasharray"},lS={offset:"strokeDashoffset",array:"strokeDasharray"};function dS(e,t,s=1,a=0,n=!0){e.pathLength=1;const i=n?oS:lS;e[i.offset]=ae.transform(-a);const o=ae.transform(t),l=ae.transform(s);e[i.array]=`${o} ${l}`}function zh(e,{attrX:t,attrY:s,attrScale:a,originX:n,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...c},u,m,x){if($h(e,c,u,x),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g,dimensions:y}=e;h.transform&&(y&&(g.transform=h.transform),delete h.transform),y&&(n!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=iS(y,n!==void 0?n:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),a!==void 0&&(h.scale=a),o!==void 0&&dS(h,o,l,d,!1)}const gv=()=>({...Vh(),attrs:{}}),qh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cS(e,t,s,a){const n=f.useMemo(()=>{const i=gv();return zh(i,t,{enableHardwareAcceleration:!1},qh(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};pv(i,e.style,e),n.style={...i,...n.style}}return n}function uS(e=!1){return(s,a,n,{latestValues:i},o)=>{const d=(Uh(s)?cS:rS)(a,i,o,s),u={...nS(a,typeof s=="string",e),...d,ref:n},{children:m}=a,x=f.useMemo(()=>Ut(m)?m.get():m,[m]);return f.createElement(s,{...u,children:x})}}function bv(e,{style:t,vars:s},a,n){Object.assign(e.style,t,n&&n.getProjectionStyles(a));for(const i in s)e.style.setProperty(i,s[i])}const yv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vv(e,t,s,a){bv(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(yv.has(n)?n:Lh(n),t.attrs[n])}function Wh(e,t){const{style:s}=e,a={};for(const n in s)(Ut(s[n])||t.style&&Ut(t.style[n])||cv(n,e))&&(a[n]=s[n]);return a}function jv(e,t){const s=Wh(e,t);for(const a in e)if(Ut(e[a])||Ut(t[a])){const n=go.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=e[a]}return s}function Hh(e,t,s,a={},n={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,a,n)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,a,n)),t}function kv(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xl=e=>Array.isArray(e),mS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hS=e=>Xl(e)?e[e.length-1]||0:e;function hl(e){const t=Ut(e)?e.get():e;return mS(t)?t.toValue():t}function xS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},a,n,i){const o={latestValues:pS(a,n,i,e),renderState:t()};return s&&(o.mount=l=>s(a,l,o)),o}const wv=e=>(t,s)=>{const a=f.useContext(Md),n=f.useContext(_d),i=()=>xS(e,t,a,n);return s?i():kv(i)};function pS(e,t,s,a){const n={},i=a(e,{});for(const x in i)n[x]=hl(i[x]);let{initial:o,animate:l}=e;const d=Dd(e),c=lv(e);t&&c&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const m=u?l:o;return m&&typeof m!="boolean"&&!Rd(m)&&(Array.isArray(m)?m:[m]).forEach(h=>{const g=Hh(e,h);if(!g)return;const{transitionEnd:y,transition:v,...p}=g;for(const b in p){let j=p[b];if(Array.isArray(j)){const k=u?j.length-1:0;j=j[k]}j!==null&&(n[b]=j)}for(const b in y)n[b]=y[b]}),n}const Be=e=>e;class gf{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function fS(e){let t=new gf,s=new gf,a=0,n=!1,i=!1;const o=new WeakSet,l={schedule:(d,c=!1,u=!1)=>{const m=u&&n,x=m?t:s;return c&&o.add(d),x.add(d)&&m&&n&&(a=t.order.length),d},cancel:d=>{s.remove(d),o.delete(d)},process:d=>{if(n){i=!0;return}if(n=!0,[t,s]=[s,t],s.clear(),a=t.order.length,a)for(let c=0;c<a;c++){const u=t.order[c];u(d),o.has(u)&&(l.schedule(u),e())}n=!1,i&&(i=!1,l.process(d))}};return l}const Ho=["prepare","read","update","preRender","render","postRender"],gS=40;function bS(e,t){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=Ho.reduce((m,x)=>(m[x]=fS(()=>s=!0),m),{}),o=m=>i[m].process(n),l=()=>{const m=performance.now();s=!1,n.delta=a?1e3/60:Math.max(Math.min(m-n.timestamp,gS),1),n.timestamp=m,n.isProcessing=!0,Ho.forEach(o),n.isProcessing=!1,s&&t&&(a=!1,e(l))},d=()=>{s=!0,a=!0,n.isProcessing||e(l)};return{schedule:Ho.reduce((m,x)=>{const h=i[x];return m[x]=(g,y=!1,v=!1)=>(s||d(),h.schedule(g,y,v)),m},{}),cancel:m=>Ho.forEach(x=>i[x].cancel(m)),state:n,steps:i}}const{schedule:Ne,cancel:ss,state:mt,steps:_c}=bS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),yS={useVisualState:wv({scrapeMotionValuesFromProps:jv,createRenderState:gv,onMount:(e,t,{renderState:s,latestValues:a})=>{Ne.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Ne.render(()=>{zh(s,a,{enableHardwareAcceleration:!1},qh(t.tagName),e.transformTemplate),vv(t,s)})}})},vS={useVisualState:wv({scrapeMotionValuesFromProps:Wh,createRenderState:Vh})};function jS(e,{forwardMotionProps:t=!1},s,a){return{...Uh(e)?yS:vS,preloadedFeatures:s,useRender:uS(t),createVisualElement:a,Component:e}}function Hr(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}const Nv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Od(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const kS=e=>t=>Nv(t)&&e(t,Od(t));function Gr(e,t,s,a){return Hr(e,t,kS(s),a)}const wS=(e,t)=>s=>t(e(s)),Ls=(...e)=>e.reduce(wS);function Sv(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const bf=Sv("dragHorizontal"),yf=Sv("dragVertical");function Cv(e){let t=!1;if(e==="y")t=yf();else if(e==="x")t=bf();else{const s=bf(),a=yf();s&&a?t=()=>{s(),a()}:(s&&s(),a&&a())}return t}function Tv(){const e=Cv(!0);return e?(e(),!1):!0}class Xs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function vf(e,t){const s="pointer"+(t?"enter":"leave"),a="onHover"+(t?"Start":"End"),n=(i,o)=>{if(i.pointerType==="touch"||Tv())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[a]&&Ne.update(()=>l[a](i,o))};return Gr(e.current,s,n,{passive:!e.getProps()[a]})}class NS extends Xs{mount(){this.unmount=Ls(vf(this.node,!0),vf(this.node,!1))}unmount(){}}class SS extends Xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ls(Hr(this.node.current,"focus",()=>this.onFocus()),Hr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Pv=(e,t)=>t?e===t?!0:Pv(e,t.parentElement):!1;function Ec(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Od(s))}class CS extends Xs{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=Gr(window,"pointerup",(l,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:m}=this.node.getProps();Ne.update(()=>{!m&&!Pv(this.node.current,l.target)?u&&u(l,d):c&&c(l,d)})},{passive:!(a.onTap||a.onPointerUp)}),o=Gr(window,"pointercancel",(l,d)=>this.cancelPress(l,d),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Ls(i,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ec("up",(d,c)=>{const{onTap:u}=this.node.getProps();u&&Ne.update(()=>u(d,c))})};this.removeEndListeners(),this.removeEndListeners=Hr(this.node.current,"keyup",o),Ec("down",(l,d)=>{this.startPress(l,d)})},s=Hr(this.node.current,"keydown",t),a=()=>{this.isPressing&&Ec("cancel",(i,o)=>this.cancelPress(i,o))},n=Hr(this.node.current,"blur",a);this.removeAccessibleListeners=Ls(s,n)}}startPress(t,s){this.isPressing=!0;const{onTapStart:a,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&Ne.update(()=>a(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Tv()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&Ne.update(()=>a(t,s))}mount(){const t=this.node.getProps(),s=Gr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),a=Hr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ls(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lm=new WeakMap,Rc=new WeakMap,TS=e=>{const t=lm.get(e.target);t&&t(e)},PS=e=>{e.forEach(TS)};function AS({root:e,...t}){const s=e||document;Rc.has(s)||Rc.set(s,{});const a=Rc.get(s),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(PS,{root:e,...t})),a[n]}function IS(e,t,s){const a=AS(t);return lm.set(e,s),a.observe(e),()=>{lm.delete(e),a.unobserve(e)}}const MS={some:0,all:1};class _S extends Xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:MS[n]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),x=c?u:m;x&&x(d)};return IS(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(ES(t,s))&&this.startObserver()}unmount(){}}function ES({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const RS={inView:{Feature:_S},tap:{Feature:CS},focus:{Feature:SS},hover:{Feature:NS}};function Av(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}function DS(e){const t={};return e.values.forEach((s,a)=>t[a]=s.get()),t}function LS(e){const t={};return e.values.forEach((s,a)=>t[a]=s.getVelocity()),t}function Fd(e,t,s){const a=e.getProps();return Hh(a,t,s!==void 0?s:a.custom,DS(e),LS(e))}let Qh=Be;const ka=e=>e*1e3,Kr=e=>e/1e3,OS={current:!1},Iv=e=>Array.isArray(e)&&typeof e[0]=="number";function Mv(e){return!!(!e||typeof e=="string"&&_v[e]||Iv(e)||Array.isArray(e)&&e.every(Mv))}const mi=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,_v={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mi([0,.65,.55,1]),circOut:mi([.55,0,1,.45]),backIn:mi([.31,.01,.66,-.59]),backOut:mi([.33,1.53,.69,.99])};function Ev(e){if(e)return Iv(e)?mi(e):Array.isArray(e)?e.map(Ev):_v[e]}function FS(e,t,s,{delay:a=0,duration:n,repeat:i=0,repeatType:o="loop",ease:l,times:d}={}){const c={[t]:s};d&&(c.offset=d);const u=Ev(l);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function BS(e,{repeat:t,repeatType:s="loop"}){const a=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[a]}const Rv=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,US=1e-7,$S=12;function VS(e,t,s,a,n){let i,o,l=0;do o=t+(s-t)/2,i=Rv(o,a,n)-e,i>0?s=o:t=o;while(Math.abs(i)>US&&++l<$S);return o}function vo(e,t,s,a){if(e===t&&s===a)return Be;const n=i=>VS(i,0,1,e,s);return i=>i===0||i===1?i:Rv(n(i),t,a)}const zS=vo(.42,0,1,1),qS=vo(0,0,.58,1),Dv=vo(.42,0,.58,1),WS=e=>Array.isArray(e)&&typeof e[0]!="number",Lv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ov=e=>t=>1-e(1-t),Gh=e=>1-Math.sin(Math.acos(e)),Fv=Ov(Gh),HS=Lv(Gh),Bv=vo(.33,1.53,.69,.99),Kh=Ov(Bv),QS=Lv(Kh),GS=e=>(e*=2)<1?.5*Kh(e):.5*(2-Math.pow(2,-10*(e-1))),KS={linear:Be,easeIn:zS,easeInOut:Dv,easeOut:qS,circIn:Gh,circInOut:HS,circOut:Fv,backIn:Kh,backInOut:QS,backOut:Bv,anticipate:GS},jf=e=>{if(Array.isArray(e)){Qh(e.length===4);const[t,s,a,n]=e;return vo(t,s,a,n)}else if(typeof e=="string")return KS[e];return e},Yh=(e,t)=>s=>!!(bo(s)&&J4.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),Uv=(e,t,s)=>a=>{if(!bo(a))return a;const[n,i,o,l]=a.match(Ld);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},YS=e=>zs(0,255,e),Dc={...$a,transform:e=>Math.round(YS(e))},pa={test:Yh("rgb","red"),parse:Uv("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+Dc.transform(e)+", "+Dc.transform(t)+", "+Dc.transform(s)+", "+Ci(Si.transform(a))+")"};function JS(e){let t="",s="",a="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const dm={test:Yh("#"),parse:JS,transform:pa.transform},dn={test:Yh("hsl","hue"),parse:Uv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+_r.transform(Ci(t))+", "+_r.transform(Ci(s))+", "+Ci(Si.transform(a))+")"},wt={test:e=>pa.test(e)||dm.test(e)||dn.test(e),parse:e=>pa.test(e)?pa.parse(e):dn.test(e)?dn.parse(e):dm.parse(e),transform:e=>bo(e)?e:e.hasOwnProperty("red")?pa.transform(e):dn.transform(e)},Ee=(e,t,s)=>-s*e+s*t+e;function Lc(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function XS({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let n=0,i=0,o=0;if(!t)n=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;n=Lc(d,l,e+1/3),i=Lc(d,l,e),o=Lc(d,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}const Oc=(e,t,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(t*t-a)+a))},ZS=[dm,pa,dn],eC=e=>ZS.find(t=>t.test(e));function kf(e){const t=eC(e);let s=t.parse(e);return t===dn&&(s=XS(s)),s}const $v=(e,t)=>{const s=kf(e),a=kf(t),n={...s};return i=>(n.red=Oc(s.red,a.red,i),n.green=Oc(s.green,a.green,i),n.blue=Oc(s.blue,a.blue,i),n.alpha=Ee(s.alpha,a.alpha,i),pa.transform(n))};function tC(e){var t,s;return isNaN(e)&&bo(e)&&(((t=e.match(Ld))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(hv))===null||s===void 0?void 0:s.length)||0)>0}const Vv={regex:K4,countKey:"Vars",token:"${v}",parse:Be},zv={regex:hv,countKey:"Colors",token:"${c}",parse:wt.parse},qv={regex:Ld,countKey:"Numbers",token:"${n}",parse:$a.parse};function Fc(e,{regex:t,countKey:s,token:a,parse:n}){const i=e.tokenised.match(t);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(t,a),e.values.push(...i.map(n)))}function Zl(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Fc(s,Vv),Fc(s,zv),Fc(s,qv),s}function Wv(e){return Zl(e).values}function Hv(e){const{values:t,numColors:s,numVars:a,tokenised:n}=Zl(e),i=t.length;return o=>{let l=n;for(let d=0;d<i;d++)d<a?l=l.replace(Vv.token,o[d]):d<a+s?l=l.replace(zv.token,wt.transform(o[d])):l=l.replace(qv.token,Ci(o[d]));return l}}const rC=e=>typeof e=="number"?0:e;function sC(e){const t=Wv(e);return Hv(e)(t.map(rC))}const qs={test:tC,parse:Wv,createTransformer:Hv,getAnimatableNone:sC},Qv=(e,t)=>s=>`${s>0?t:e}`;function Gv(e,t){return typeof e=="number"?s=>Ee(e,t,s):wt.test(e)?$v(e,t):e.startsWith("var(")?Qv(e,t):Yv(e,t)}const Kv=(e,t)=>{const s=[...e],a=s.length,n=e.map((i,o)=>Gv(i,t[o]));return i=>{for(let o=0;o<a;o++)s[o]=n[o](i);return s}},aC=(e,t)=>{const s={...e,...t},a={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(a[n]=Gv(e[n],t[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}},Yv=(e,t)=>{const s=qs.createTransformer(t),a=Zl(e),n=Zl(t);return a.numVars===n.numVars&&a.numColors===n.numColors&&a.numNumbers>=n.numNumbers?Ls(Kv(a.values,n.values),s):Qv(e,t)},ro=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a},wf=(e,t)=>s=>Ee(e,t,s);function nC(e){return typeof e=="number"?wf:typeof e=="string"?wt.test(e)?$v:Yv:Array.isArray(e)?Kv:typeof e=="object"?aC:wf}function iC(e,t,s){const a=[],n=s||nC(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=n(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Be:t;l=Ls(d,l)}a.push(l)}return a}function Jv(e,t,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(Qh(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=iC(t,a,n),l=o.length,d=c=>{let u=0;if(l>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const m=ro(e[u],e[u+1],c);return o[u](m)};return s?c=>d(zs(e[0],e[i-1],c)):d}function oC(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const n=ro(0,t,a);e.push(Ee(s,1,n))}}function lC(e){const t=[0];return oC(t,e.length-1),t}function dC(e,t){return e.map(s=>s*t)}function cC(e,t){return e.map(()=>t||Dv).splice(0,e.length-1)}function ed({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const n=WS(a)?a.map(jf):jf(a),i={done:!1,value:t[0]},o=dC(s&&s.length===t.length?s:lC(t),e),l=Jv(o,t,{ease:Array.isArray(n)?n:cC(t,n)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}function Xv(e,t){return t?e*(1e3/t):0}const uC=5;function Zv(e,t,s){const a=Math.max(t-uC,0);return Xv(s-e(a),t-a)}const Bc=.001,mC=.01,hC=10,xC=.05,pC=1;function fC({duration:e=800,bounce:t=.25,velocity:s=0,mass:a=1}){let n,i,o=1-t;o=zs(xC,pC,o),e=zs(mC,hC,Kr(e)),o<1?(n=c=>{const u=c*o,m=u*e,x=u-s,h=cm(c,o),g=Math.exp(-m);return Bc-x/h*g},i=c=>{const m=c*o*e,x=m*s+s,h=Math.pow(o,2)*Math.pow(c,2)*e,g=Math.exp(-m),y=cm(Math.pow(c,2),o);return(-n(c)+Bc>0?-1:1)*((x-h)*g)/y}):(n=c=>{const u=Math.exp(-c*e),m=(c-s)*e+1;return-Bc+u*m},i=c=>{const u=Math.exp(-c*e),m=(s-c)*(e*e);return u*m});const l=5/e,d=bC(n,i,l);if(e=ka(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*a;return{stiffness:c,damping:o*2*Math.sqrt(a*c),duration:e}}}const gC=12;function bC(e,t,s){let a=s;for(let n=1;n<gC;n++)a=a-e(a)/t(a);return a}function cm(e,t){return e*Math.sqrt(1-t*t)}const yC=["duration","bounce"],vC=["stiffness","damping","mass"];function Nf(e,t){return t.some(s=>e[s]!==void 0)}function jC(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Nf(e,vC)&&Nf(e,yC)){const s=fC(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function ej({keyframes:e,restDelta:t,restSpeed:s,...a}){const n=e[0],i=e[e.length-1],o={done:!1,value:n},{stiffness:l,damping:d,mass:c,duration:u,velocity:m,isResolvedFromDuration:x}=jC({...a,velocity:-Kr(a.velocity||0)}),h=m||0,g=d/(2*Math.sqrt(l*c)),y=i-n,v=Kr(Math.sqrt(l/c)),p=Math.abs(y)<5;s||(s=p?.01:2),t||(t=p?.005:.5);let b;if(g<1){const j=cm(v,g);b=k=>{const w=Math.exp(-g*v*k);return i-w*((h+g*v*y)/j*Math.sin(j*k)+y*Math.cos(j*k))}}else if(g===1)b=j=>i-Math.exp(-v*j)*(y+(h+v*y)*j);else{const j=v*Math.sqrt(g*g-1);b=k=>{const w=Math.exp(-g*v*k),C=Math.min(j*k,300);return i-w*((h+g*v*y)*Math.sinh(C)+j*y*Math.cosh(C))/j}}return{calculatedDuration:x&&u||null,next:j=>{const k=b(j);if(x)o.done=j>=u;else{let w=h;j!==0&&(g<1?w=Zv(b,j,k):w=0);const C=Math.abs(w)<=s,N=Math.abs(i-k)<=t;o.done=C&&N}return o.value=o.done?i:k,o}}}function Sf({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:c=.5,restSpeed:u}){const m=e[0],x={done:!1,value:m},h=T=>l!==void 0&&T<l||d!==void 0&&T>d,g=T=>l===void 0?d:d===void 0||Math.abs(l-T)<Math.abs(d-T)?l:d;let y=s*t;const v=m+y,p=o===void 0?v:o(v);p!==v&&(y=p-m);const b=T=>-y*Math.exp(-T/a),j=T=>p+b(T),k=T=>{const _=b(T),P=j(T);x.done=Math.abs(_)<=c,x.value=x.done?p:P};let w,C;const N=T=>{h(x.value)&&(w=T,C=ej({keyframes:[x.value,g(x.value)],velocity:Zv(j,T,x.value),damping:n,stiffness:i,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:T=>{let _=!1;return!C&&w===void 0&&(_=!0,k(T),N(T)),w!==void 0&&T>w?C.next(T-w):(!_&&k(T),x)}}}const kC=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Ne.update(t,!0),stop:()=>ss(t),now:()=>mt.isProcessing?mt.timestamp:performance.now()}},Cf=2e4;function Tf(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<Cf;)t+=s,a=e.next(t);return t>=Cf?1/0:t}const wC={decay:Sf,inertia:Sf,tween:ed,keyframes:ed,spring:ej};function td({autoplay:e=!0,delay:t=0,driver:s=kC,keyframes:a,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:d,onStop:c,onComplete:u,onUpdate:m,...x}){let h=1,g=!1,y,v;const p=()=>{v=new Promise(H=>{y=H})};p();let b;const j=wC[n]||ed;let k;j!==ed&&typeof a[0]!="number"&&(k=Jv([0,100],a,{clamp:!1}),a=[0,100]);const w=j({...x,keyframes:a});let C;l==="mirror"&&(C=j({...x,keyframes:[...a].reverse(),velocity:-(x.velocity||0)}));let N="idle",T=null,_=null,P=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=Tf(w));const{calculatedDuration:V}=w;let R=1/0,G=1/0;V!==null&&(R=V+o,G=R*(i+1)-o);let ee=0;const E=H=>{if(_===null)return;h>0&&(_=Math.min(_,H)),h<0&&(_=Math.min(H-G/h,_)),T!==null?ee=T:ee=Math.round(H-_)*h;const me=ee-t*(h>=0?1:-1),ne=h>=0?me<0:me>G;ee=Math.max(me,0),N==="finished"&&T===null&&(ee=G);let Q=ee,le=w;if(i){const ea=Math.min(ee,G)/R;let os=Math.floor(ea),Xt=ea%1;!Xt&&ea>=1&&(Xt=1),Xt===1&&os--,os=Math.min(os,i+1),!!(os%2)&&(l==="reverse"?(Xt=1-Xt,o&&(Xt-=o/R)):l==="mirror"&&(le=C)),Q=zs(0,1,Xt)*R}const de=ne?{done:!1,value:a[0]}:le.next(Q);k&&(de.value=k(de.value));let{done:cr}=de;!ne&&V!==null&&(cr=h>=0?ee>=G:ee<=0);const Vn=T===null&&(N==="finished"||N==="running"&&cr);return m&&m(de.value),Vn&&z(),de},L=()=>{b&&b.stop(),b=void 0},ie=()=>{N="idle",L(),y(),p(),_=P=null},z=()=>{N="finished",u&&u(),L(),y()},U=()=>{if(g)return;b||(b=s(E));const H=b.now();d&&d(),T!==null?_=H-T:(!_||N==="finished")&&(_=H),N==="finished"&&p(),P=_,T=null,N="running",b.start()};e&&U();const J={then(H,me){return v.then(H,me)},get time(){return Kr(ee)},set time(H){H=ka(H),ee=H,T!==null||!b||h===0?T=H:_=b.now()-H/h},get duration(){const H=w.calculatedDuration===null?Tf(w):w.calculatedDuration;return Kr(H)},get speed(){return h},set speed(H){H===h||!b||(h=H,J.time=Kr(ee))},get state(){return N},play:U,pause:()=>{N="paused",T=ee},stop:()=>{g=!0,N!=="idle"&&(N="idle",c&&c(),ie())},cancel:()=>{P!==null&&E(P),ie()},complete:()=>{N="finished"},sample:H=>(_=0,E(H))};return J}function NC(e){let t;return()=>(t===void 0&&(t=e()),t)}const SC=NC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),CC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Qo=10,TC=2e4,PC=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Mv(t.ease);function AC(e,t,{onUpdate:s,onComplete:a,...n}){if(!(SC()&&CC.has(t)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let o=!1,l,d,c=!1;const u=()=>{d=new Promise(j=>{l=j})};u();let{keyframes:m,duration:x=300,ease:h,times:g}=n;if(PC(t,n)){const j=td({...n,repeat:0,delay:0});let k={done:!1,value:m[0]};const w=[];let C=0;for(;!k.done&&C<TC;)k=j.sample(C),w.push(k.value),C+=Qo;g=void 0,m=w,x=C-Qo,h="linear"}const y=FS(e.owner.current,t,m,{...n,duration:x,ease:h,times:g}),v=()=>{c=!1,y.cancel()},p=()=>{c=!0,Ne.update(v),l(),u()};return y.onfinish=()=>{c||(e.set(BS(m,n)),a&&a(),p())},{then(j,k){return d.then(j,k)},attachTimeline(j){return y.timeline=j,y.onfinish=null,Be},get time(){return Kr(y.currentTime||0)},set time(j){y.currentTime=ka(j)},get speed(){return y.playbackRate},set speed(j){y.playbackRate=j},get duration(){return Kr(x)},play:()=>{o||(y.play(),ss(v))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:j}=y;if(j){const k=td({...n,autoplay:!1});e.setWithVelocity(k.sample(j-Qo).value,k.sample(j).value,Qo)}p()},complete:()=>{c||y.finish()},cancel:p}}function IC({keyframes:e,delay:t,onUpdate:s,onComplete:a}){const n=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:i=>(i(),Promise.resolve()),cancel:Be,complete:Be});return t?td({keyframes:[0,1],duration:0,delay:t,onComplete:n}):n()}const MC={type:"spring",stiffness:500,damping:25,restSpeed:10},_C=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EC={type:"keyframes",duration:.8},RC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DC=(e,{keyframes:t})=>t.length>2?EC:Ua.has(e)?e.startsWith("scale")?_C(t[1]):MC:RC,um=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qs.test(t)||t==="0")&&!t.startsWith("url(")),LC=new Set(["brightness","contrast","saturate","opacity"]);function OC(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Ld)||[];if(!a)return e;const n=s.replace(a,"");let i=LC.has(t)?1:0;return a!==s&&(i*=100),t+"("+i+n+")"}const FC=/([a-z-]*)\(.*?\)/g,mm={...qs,getAnimatableNone:e=>{const t=e.match(FC);return t?t.map(OC).join(" "):e}},BC={...xv,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:mm,WebkitFilter:mm},Jh=e=>BC[e];function tj(e,t){let s=Jh(e);return s!==mm&&(s=qs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const rj=e=>/^0[^.\s]+$/.test(e);function UC(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||rj(e)}function $C(e,t,s,a){const n=um(t,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const o=a.from!==void 0?a.from:e.get();let l;const d=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),UC(i[c])&&d.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(l=i[c]);if(n&&d.length&&l)for(let c=0;c<d.length;c++){const u=d[c];i[u]=tj(t,l)}return i}function VC({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}function Xh(e,t){return e[t]||e.default||e}const zC={skipAnimations:!1},Zh=(e,t,s,a={})=>n=>{const i=Xh(a,e)||{},o=i.delay||a.delay||0;let{elapsed:l=0}=a;l=l-ka(o);const d=$C(t,e,s,i),c=d[0],u=d[d.length-1],m=um(e,c),x=um(e,u);let h={keyframes:d,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{n(),i.onComplete&&i.onComplete()}};if(VC(i)||(h={...h,...DC(e,h)}),h.duration&&(h.duration=ka(h.duration)),h.repeatDelay&&(h.repeatDelay=ka(h.repeatDelay)),!m||!x||OS.current||i.type===!1||zC.skipAnimations)return IC(h);if(!a.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=AC(t,e,h);if(g)return g}return td(h)};function rd(e){return!!(Ut(e)&&e.add)}const sj=e=>/^\-?\d*\.?\d+$/.test(e);function ex(e,t){e.indexOf(t)===-1&&e.push(t)}function tx(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class rx{constructor(){this.subscriptions=[]}add(t){return ex(this.subscriptions,t),()=>tx(this.subscriptions,t)}notify(t,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,a);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qC=e=>!isNaN(parseFloat(e));class WC{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,n=!0)=>{this.prev=this.current,this.current=a;const{delta:i,timestamp:o}=mt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=qC(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new rx);const a=this.events[t].add(s);return t==="change"?()=>{a(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,a){this.set(s),this.prev=t,this.timeDelta=a}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Xv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _n(e,t){return new WC(e,t)}const aj=e=>t=>t.test(e),HC={test:e=>e==="auto",parse:e=>e},nj=[$a,ae,_r,ps,Z4,X4,HC],ti=e=>nj.find(aj(e)),QC=[...nj,wt,qs],GC=e=>QC.find(aj(e));function KC(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,_n(s))}function YC(e,t){const s=Fd(e,t);let{transitionEnd:a={},transition:n={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...a};for(const o in i){const l=hS(i[o]);KC(e,o,l)}}function JC(e,t,s){var a,n;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const d=i[l],c=t[d];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(n=(a=s[d])!==null&&a!==void 0?a:e.readValue(d))!==null&&n!==void 0?n:t[d]),u!=null&&(typeof u=="string"&&(sj(u)||rj(u))?u=parseFloat(u):!GC(u)&&qs.test(c)&&(u=tj(d,c)),e.addValue(d,_n(u,{owner:e})),s[d]===void 0&&(s[d]=u),u!==null&&e.setBaseTarget(d,u))}}function XC(e,t){return t?(t[e]||t.default||t).from:void 0}function ZC(e,t,s){const a={};for(const n in e){const i=XC(n,t);if(i!==void 0)a[n]=i;else{const o=s.getValue(n);o&&(a[n]=o.get())}}return a}function e3({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function t3(e,t){const s=e.get();if(Array.isArray(t)){for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}else return s!==t}function ij(e,t,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const d=e.getValue("willChange");a&&(i=a);const c=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in l){const x=e.getValue(m),h=l[m];if(!x||h===void 0||u&&e3(u,m))continue;const g={delay:s,elapsed:0,...Xh(i||{},m)};if(window.HandoffAppearAnimations){const p=e.getProps()[ov];if(p){const b=window.HandoffAppearAnimations(p,m,x,Ne);b!==null&&(g.elapsed=b,g.isHandoff=!0)}}let y=!g.isHandoff&&!t3(x,h);if(g.type==="spring"&&(x.getVelocity()||g.velocity)&&(y=!1),x.animation&&(y=!1),y)continue;x.start(Zh(m,x,h,e.shouldReduceMotion&&Ua.has(m)?{type:!1}:g));const v=x.animation;rd(d)&&(d.add(m),v.then(()=>d.remove(m))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&YC(e,o)}),c}function hm(e,t,s={}){const a=Fd(e,t,s.custom);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(ij(e,a,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:m}=n;return r3(e,t,c+d,u,m,s)}:()=>Promise.resolve(),{when:l}=n;if(l){const[d,c]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>c())}else return Promise.all([i(),o(s.delay)])}function r3(e,t,s=0,a=0,n=1,i){const o=[],l=(e.variantChildren.size-1)*a,d=n===1?(c=0)=>c*a:(c=0)=>l-c*a;return Array.from(e.variantChildren).sort(s3).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(hm(c,t,{...i,delay:s+d(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function s3(e,t){return e.sortNodePosition(t)}function a3(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>hm(e,i,s));a=Promise.all(n)}else if(typeof t=="string")a=hm(e,t,s);else{const n=typeof t=="function"?Fd(e,t,s.custom):t;a=Promise.all(ij(e,n,s))}return a.then(()=>e.notify("AnimationComplete",t))}const n3=[...Oh].reverse(),i3=Oh.length;function o3(e){return t=>Promise.all(t.map(({animation:s,options:a})=>a3(e,s,a)))}function l3(e){let t=o3(e);const s=c3();let a=!0;const n=(d,c)=>{const u=Fd(e,c);if(u){const{transition:m,transitionEnd:x,...h}=u;d={...d,...h,...x}}return d};function i(d){t=d(e)}function o(d,c){const u=e.getProps(),m=e.getVariantContext(!0)||{},x=[],h=new Set;let g={},y=1/0;for(let p=0;p<i3;p++){const b=n3[p],j=s[b],k=u[b]!==void 0?u[b]:m[b],w=eo(k),C=b===c?j.isActive:null;C===!1&&(y=p);let N=k===m[b]&&k!==u[b]&&w;if(N&&a&&e.manuallyAnimateOnMount&&(N=!1),j.protectedKeys={...g},!j.isActive&&C===null||!k&&!j.prevProp||Rd(k)||typeof k=="boolean")continue;let _=d3(j.prevProp,k)||b===c&&j.isActive&&!N&&w||p>y&&w,P=!1;const V=Array.isArray(k)?k:[k];let R=V.reduce(n,{});C===!1&&(R={});const{prevResolvedValues:G={}}=j,ee={...G,...R},E=L=>{_=!0,h.has(L)&&(P=!0,h.delete(L)),j.needsAnimating[L]=!0};for(const L in ee){const ie=R[L],z=G[L];if(g.hasOwnProperty(L))continue;let U=!1;Xl(ie)&&Xl(z)?U=!Av(ie,z):U=ie!==z,U?ie!==void 0?E(L):h.add(L):ie!==void 0&&h.has(L)?E(L):j.protectedKeys[L]=!0}j.prevProp=k,j.prevResolvedValues=R,j.isActive&&(g={...g,...R}),a&&e.blockInitialAnimation&&(_=!1),_&&(!N||P)&&x.push(...V.map(L=>({animation:L,options:{type:b,...d}})))}if(h.size){const p={};h.forEach(b=>{const j=e.getBaseTarget(b);j!==void 0&&(p[b]=j)}),x.push({animation:p})}let v=!!x.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),a=!1,v?t(x):Promise.resolve()}function l(d,c,u){var m;if(s[d].isActive===c)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(d,c)}),s[d].isActive=c;const x=o(u,d);for(const h in s)s[h].protectedKeys={};return x}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s}}function d3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Av(t,e):!1}function sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function c3(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class u3 extends Xs{constructor(t){super(t),t.animationState||(t.animationState=l3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Rd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let m3=0;class h3 extends Xs{constructor(){super(...arguments),this.id=m3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t,{custom:a??this.node.getProps().custom});s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const x3={animation:{Feature:u3},exit:{Feature:h3}},Pf=(e,t)=>Math.abs(e-t);function p3(e,t){const s=Pf(e.x,t.x),a=Pf(e.y,t.y);return Math.sqrt(s**2+a**2)}class oj{constructor(t,s,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$c(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,h=p3(m.offset,{x:0,y:0})>=3;if(!x&&!h)return;const{point:g}=m,{timestamp:y}=mt;this.history.push({...g,timestamp:y});const{onStart:v,onMove:p}=this.handlers;x||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Uc(x,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$c(m.type==="pointercancel"?this.lastMoveEventInfo:Uc(x,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,v),g&&g(m,v)},!Nv(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.contextWindow=n||window;const o=Od(t),l=Uc(o,this.transformPagePoint),{point:d}=l,{timestamp:c}=mt;this.history=[{...d,timestamp:c}];const{onSessionStart:u}=s;u&&u(t,$c(l,this.history)),this.removeListeners=Ls(Gr(this.contextWindow,"pointermove",this.handlePointerMove),Gr(this.contextWindow,"pointerup",this.handlePointerUp),Gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function Uc(e,t){return t?{point:t(e.point)}:e}function Af(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $c({point:e},t){return{point:e,delta:Af(e,lj(t)),offset:Af(e,f3(t)),velocity:g3(t,.1)}}function f3(e){return e[0]}function lj(e){return e[e.length-1]}function g3(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=lj(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>ka(t)));)s--;if(!a)return{x:0,y:0};const i=Kr(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gt(e){return e.max-e.min}function xm(e,t=0,s=.01){return Math.abs(e-t)<=s}function If(e,t,s,a=.5){e.origin=a,e.originPoint=Ee(t.min,t.max,e.origin),e.scale=Gt(s)/Gt(t),(xm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ee(s.min,s.max,e.origin)-e.originPoint,(xm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ti(e,t,s,a){If(e.x,t.x,s.x,a?a.originX:void 0),If(e.y,t.y,s.y,a?a.originY:void 0)}function Mf(e,t,s){e.min=s.min+t.min,e.max=e.min+Gt(t)}function b3(e,t,s){Mf(e.x,t.x,s.x),Mf(e.y,t.y,s.y)}function _f(e,t,s){e.min=t.min-s.min,e.max=e.min+Gt(t)}function Pi(e,t,s){_f(e.x,t.x,s.x),_f(e.y,t.y,s.y)}function y3(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?Ee(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?Ee(s,e,a.max):Math.min(e,s)),e}function Ef(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function v3(e,{top:t,left:s,bottom:a,right:n}){return{x:Ef(e.x,s,n),y:Ef(e.y,t,a)}}function Rf(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function j3(e,t){return{x:Rf(e.x,t.x),y:Rf(e.y,t.y)}}function k3(e,t){let s=.5;const a=Gt(e),n=Gt(t);return n>a?s=ro(t.min,t.max-a,e.min):a>n&&(s=ro(e.min,e.max-n,t.min)),zs(0,1,s)}function w3(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const pm=.35;function N3(e=pm){return e===!1?e=0:e===!0&&(e=pm),{x:Df(e,"left","right"),y:Df(e,"top","bottom")}}function Df(e,t,s){return{min:Lf(e,t),max:Lf(e,s)}}function Lf(e,t){return typeof e=="number"?e:e[t]||0}const Of=()=>({translate:0,scale:1,origin:0,originPoint:0}),cn=()=>({x:Of(),y:Of()}),Ff=()=>({min:0,max:0}),We=()=>({x:Ff(),y:Ff()});function rr(e){return[e("x"),e("y")]}function dj({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function S3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function C3(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Vc(e){return e===void 0||e===1}function fm({scale:e,scaleX:t,scaleY:s}){return!Vc(e)||!Vc(t)||!Vc(s)}function ia(e){return fm(e)||cj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function cj(e){return Bf(e.x)||Bf(e.y)}function Bf(e){return e&&e!=="0%"}function sd(e,t,s){const a=e-s,n=t*a;return s+n}function Uf(e,t,s,a,n){return n!==void 0&&(e=sd(e,n,a)),sd(e,s,a)+t}function gm(e,t=0,s=1,a,n){e.min=Uf(e.min,t,s,a,n),e.max=Uf(e.max,t,s,a,n)}function uj(e,{x:t,y:s}){gm(e.x,t.translate,t.scale,t.originPoint),gm(e.y,s.translate,s.scale,s.originPoint)}function T3(e,t,s,a=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=s[l],o=i.projectionDelta;const d=i.instance;d&&d.style&&d.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&un(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,uj(e,o)),a&&ia(i.latestValues)&&un(e,i.latestValues))}t.x=$f(t.x),t.y=$f(t.y)}function $f(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function bs(e,t){e.min=e.min+t,e.max=e.max+t}function Vf(e,t,[s,a,n]){const i=t[n]!==void 0?t[n]:.5,o=Ee(e.min,e.max,i);gm(e,t[s],t[a],o,t.scale)}const P3=["x","scaleX","originX"],A3=["y","scaleY","originY"];function un(e,t){Vf(e.x,t,P3),Vf(e.y,t,A3)}function mj(e,t){return dj(C3(e.getBoundingClientRect(),t))}function I3(e,t,s){const a=mj(e,s),{scroll:n}=t;return n&&(bs(a.x,n.offset.x),bs(a.y,n.offset.y)),a}const hj=({current:e})=>e?e.ownerDocument.defaultView:null,M3=new WeakMap;class _3{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Od(u,"page").point)},i=(u,m)=>{const{drag:x,dragPropagation:h,onDragStart:g}=this.getProps();if(x&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Cv(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rr(v=>{let p=this.getAxisMotionValue(v).get()||0;if(_r.test(p)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[v];j&&(p=Gt(j)*(parseFloat(p)/100))}}this.originPoint[v]=p}),g&&Ne.update(()=>g(u,m),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:x,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:v}=m;if(h&&this.currentDirection===null){this.currentDirection=E3(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),y&&y(u,m)},l=(u,m)=>this.stop(u,m),d=()=>rr(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new oj(t,{onSessionStart:n,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:hj(this.visualElement)})}stop(t,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&Ne.update(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:n}=this.getProps();if(!a||!Go(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=y3(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&ln(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=v3(n.layoutBox,s):this.constraints=!1,this.elastic=N3(a),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&rr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=w3(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ln(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=I3(a,n.root,this.visualElement.getTransformPagePoint());let o=j3(n.layout.layoutBox,i);if(s){const l=s(S3(o));this.hasMutatedConstraints=!!l,l&&(o=dj(l))}return o}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=rr(u=>{if(!Go(u,s,this.currentDirection))return;let m=d&&d[u]||{};o&&(m={min:0,max:0});const x=n?200:1e6,h=n?40:1e7,g={type:"inertia",velocity:a?t[u]:0,bounceStiffness:x,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return a.start(Zh(t,a,0,s))}stopAnimation(){rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){rr(s=>{const{drag:a}=this.getProps();if(!Go(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];i.set(t[s]-Ee(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!ln(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};rr(o=>{const l=this.getAxisMotionValue(o);if(l){const d=l.get();n[o]=k3({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),rr(o=>{if(!Go(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:c}=this.constraints[o];l.set(Ee(d,c,n[o]))})}addListeners(){if(!this.visualElement.current)return;M3.set(this.visualElement,this);const t=this.visualElement.current,s=Gr(t,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();ln(d)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),a();const o=Hr(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(rr(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=d[u].translate,m.set(m.get()+d[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=pm,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Go(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function E3(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class R3 extends Xs{constructor(t){super(t),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new _3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const zf=e=>(t,s)=>{e&&Ne.update(()=>e(t,s))};class D3 extends Xs{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(t){this.session=new oj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:zf(t),onStart:zf(s),onMove:a,onEnd:(i,o)=>{delete this.session,n&&Ne.update(()=>n(i,o))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function L3(){const e=f.useContext(_d);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,n=f.useId();return f.useEffect(()=>a(n),[]),!t&&s?[!1,()=>s&&s(n)]:[!0]}const xl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ri={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ae.test(e))e=parseFloat(e);else return e;const s=qf(e,t.target.x),a=qf(e,t.target.y);return`${s}% ${a}%`}},O3={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,n=qs.parse(e);if(n.length>5)return a;const i=qs.createTransformer(e),o=typeof n[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;n[0+o]/=l,n[1+o]/=d;const c=Ee(l,d,.5);return typeof n[2+o]=="number"&&(n[2+o]/=c),typeof n[3+o]=="number"&&(n[3+o]/=c),i(n)}};class F3 extends Er.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;W4(B3),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,o=a.projection;return o&&(o.isPresent=i,n||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ne.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xj(e){const[t,s]=L3(),a=f.useContext(Bh);return Er.createElement(F3,{...e,layoutGroup:a,switchLayoutGroup:f.useContext(dv),isPresent:t,safeToRemove:s})}const B3={borderRadius:{...ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ri,borderTopRightRadius:ri,borderBottomLeftRadius:ri,borderBottomRightRadius:ri,boxShadow:O3},pj=["TopLeft","TopRight","BottomLeft","BottomRight"],U3=pj.length,Wf=e=>typeof e=="string"?parseFloat(e):e,Hf=e=>typeof e=="number"||ae.test(e);function $3(e,t,s,a,n,i){n?(e.opacity=Ee(0,s.opacity!==void 0?s.opacity:1,V3(a)),e.opacityExit=Ee(t.opacity!==void 0?t.opacity:1,0,z3(a))):i&&(e.opacity=Ee(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let o=0;o<U3;o++){const l=`border${pj[o]}Radius`;let d=Qf(t,l),c=Qf(s,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||Hf(d)===Hf(c)?(e[l]=Math.max(Ee(Wf(d),Wf(c),a),0),(_r.test(c)||_r.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=Ee(t.rotate||0,s.rotate||0,a))}function Qf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const V3=fj(0,.5,Fv),z3=fj(.5,.95,Be);function fj(e,t,s){return a=>a<e?0:a>t?1:s(ro(e,t,a))}function Gf(e,t){e.min=t.min,e.max=t.max}function tr(e,t){Gf(e.x,t.x),Gf(e.y,t.y)}function Kf(e,t,s,a,n){return e-=t,e=sd(e,1/s,a),n!==void 0&&(e=sd(e,1/n,a)),e}function q3(e,t=0,s=1,a=.5,n,i=e,o=e){if(_r.test(t)&&(t=parseFloat(t),t=Ee(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ee(i.min,i.max,a);e===i&&(l-=t),e.min=Kf(e.min,t,s,l,n),e.max=Kf(e.max,t,s,l,n)}function Yf(e,t,[s,a,n],i,o){q3(e,t[s],t[a],t[n],t.scale,i,o)}const W3=["x","scaleX","originX"],H3=["y","scaleY","originY"];function Jf(e,t,s,a){Yf(e.x,t,W3,s?s.x:void 0,a?a.x:void 0),Yf(e.y,t,H3,s?s.y:void 0,a?a.y:void 0)}function Xf(e){return e.translate===0&&e.scale===1}function gj(e){return Xf(e.x)&&Xf(e.y)}function Q3(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function bj(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Zf(e){return Gt(e.x)/Gt(e.y)}class G3{constructor(){this.members=[]}add(t){ex(this.members,t),t.scheduleRender()}remove(t){if(tx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eg(e,t,s){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y;if((n||i)&&(a=`translate3d(${n}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:d,rotateX:c,rotateY:u}=s;d&&(a+=`rotate(${d}deg) `),c&&(a+=`rotateX(${c}deg) `),u&&(a+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(a+=`scale(${o}, ${l})`),a||"none"}const K3=(e,t)=>e.depth-t.depth;class Y3{constructor(){this.children=[],this.isDirty=!1}add(t){ex(this.children,t),this.isDirty=!0}remove(t){tx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(K3),this.isDirty=!1,this.children.forEach(t)}}function J3(e,t){const s=performance.now(),a=({timestamp:n})=>{const i=n-s;i>=t&&(ss(a),e(i-t))};return Ne.read(a,!0),()=>ss(a)}function X3(e){window.MotionDebug&&window.MotionDebug.record(e)}function Z3(e){return e instanceof SVGElement&&e.tagName!=="svg"}function eT(e,t,s){const a=Ut(e)?e:_n(e);return a.start(Zh("",a,t,s)),a.animation}const tg=["","X","Y","Z"],tT={visibility:"hidden"},rg=1e3;let rT=0;const oa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function yj({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=rT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,oa.totalNodes=oa.resolvedTargetDeltas=oa.recalculatedProjection=0,this.nodes.forEach(nT),this.nodes.forEach(cT),this.nodes.forEach(uT),this.nodes.forEach(iT),X3(oa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y3)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Z3(o),this.instance=o;const{layoutId:d,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||d)&&(this.isLayoutDirty=!0),e){let m;const x=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=J3(x,250),xl.hasAnimatedSinceResize&&(xl.hasAnimatedSinceResize=!1,this.nodes.forEach(ag))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&u&&(d||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||fT,{onLayoutAnimationStart:v,onLayoutAnimationComplete:p}=u.getProps(),b=!this.targetLayout||!bj(this.targetLayout,g)||h,j=!x&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||x&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,j);const k={...Xh(y,"layout"),onPlay:v,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else x||ag(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sg);return}this.isUpdating||this.nodes.forEach(lT),this.isUpdating=!1,this.nodes.forEach(dT),this.nodes.forEach(sT),this.nodes.forEach(aT),this.clearAllSnapshots();const l=performance.now();mt.delta=zs(0,1e3/60,l-mt.timestamp),mt.timestamp=l,mt.isProcessing=!0,_c.update.process(mt),_c.preRender.process(mt),_c.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oT),this.sharedNodes.forEach(hT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!gj(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(l||ia(this.latestValues)||u)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),gT(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return We();const l=o.measureViewportBox(),{scroll:d}=this.root;return d&&(bs(l.x,d.offset.x),bs(l.y,d.offset.y)),l}removeElementScroll(o){const l=We();tr(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:u,options:m}=c;if(c!==this.root&&u&&m.layoutScroll){if(u.isRoot){tr(l,o);const{scroll:x}=this.root;x&&(bs(l.x,-x.offset.x),bs(l.y,-x.offset.y))}bs(l.x,u.offset.x),bs(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const d=We();tr(d,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&un(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ia(u.latestValues)&&un(d,u.latestValues)}return ia(this.latestValues)&&un(d,this.latestValues),d}removeTransform(o){const l=We();tr(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!ia(c.latestValues))continue;fm(c.latestValues)&&c.updateSnapshot();const u=We(),m=c.measurePageBox();tr(u,m),Jf(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ia(this.latestValues)&&Jf(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Pi(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),uj(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Pi(this.relativeTargetOrigin,this.target,h.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}oa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fm(this.parent.latestValues)||cj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;tr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,h=this.treeScale.y;T3(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=cn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=cn(),this.projectionDeltaWithTransform=cn());const y=this.projectionTransform;Ti(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=eg(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==x||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),oa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},m=cn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=We(),h=d?d.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,v=this.getStack(),p=!v||v.members.length<=1,b=!!(y&&!p&&this.options.crossfade===!0&&!this.path.some(pT));this.animationProgress=0;let j;this.mixTargetDelta=k=>{const w=k/1e3;ng(m.x,o.x,w),ng(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pi(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xT(this.relativeTarget,this.relativeTargetOrigin,x,w),j&&Q3(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=We()),tr(j,this.relativeTarget)),y&&(this.animationValues=u,$3(u,c,this.latestValues,w,b,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{xl.hasAnimatedSinceResize=!0,this.currentAnimation=eT(0,rg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=o;if(!(!l||!d||!c)){if(this!==o&&this.layout&&c&&vj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||We();const m=Gt(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const x=Gt(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+x}tr(l,d),un(l,u),Ti(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new G3),this.sharedNodes.get(o).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(l=!0),!l)return;const c={};for(let u=0;u<tg.length;u++){const m="rotate"+tg[u];d[m]&&(c[m]=d[m],o.setStaticValue(m,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tT;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=hl(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=hl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=eg(this.projectionDeltaWithTransform,this.treeScale,x),u&&(c.transform=u(x,c.transform));const{x:h,y:g}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,m.animationValues?c.opacity=m===this?(d=(l=x.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const y in Yl){if(x[y]===void 0)continue;const{correct:v,applyTo:p}=Yl[y],b=c.transform==="none"?x[y]:v(x[y],m);if(p){const j=p.length;for(let k=0;k<j;k++)c[p[k]]=b}else c[y]=b}return this.options.layoutId&&(c.pointerEvents=m===this?hl(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(sg),this.root.sharedNodes.clear()}}}function sT(e){e.updateLayout()}function aT(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,o=s.source!==e.layout.source;i==="size"?rr(m=>{const x=o?s.measuredBox[m]:s.layoutBox[m],h=Gt(x);x.min=a[m].min,x.max=x.min+h}):vj(i,s.layoutBox,a)&&rr(m=>{const x=o?s.measuredBox[m]:s.layoutBox[m],h=Gt(a[m]);x.max=x.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const l=cn();Ti(l,a,s.layoutBox);const d=cn();o?Ti(d,e.applyTransform(n,!0),s.measuredBox):Ti(d,a,s.layoutBox);const c=!gj(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:h}=m;if(x&&h){const g=We();Pi(g,s.layoutBox,x.layoutBox);const y=We();Pi(y,a,h.layoutBox),bj(g,y)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function nT(e){oa.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oT(e){e.clearSnapshot()}function sg(e){e.clearMeasurements()}function lT(e){e.isLayoutDirty=!1}function dT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ag(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cT(e){e.resolveTargetDelta()}function uT(e){e.calcProjection()}function mT(e){e.resetRotation()}function hT(e){e.removeLeadSnapshot()}function ng(e,t,s){e.translate=Ee(t.translate,0,s),e.scale=Ee(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function ig(e,t,s,a){e.min=Ee(t.min,s.min,a),e.max=Ee(t.max,s.max,a)}function xT(e,t,s,a){ig(e.x,t.x,s.x,a),ig(e.y,t.y,s.y,a)}function pT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const fT={duration:.45,ease:[.4,0,.1,1]},og=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),lg=og("applewebkit/")&&!og("chrome/")?Math.round:Be;function dg(e){e.min=lg(e.min),e.max=lg(e.max)}function gT(e){dg(e.x),dg(e.y)}function vj(e,t,s){return e==="position"||e==="preserve-aspect"&&!xm(Zf(t),Zf(s),.2)}const bT=yj({attachResizeListener:(e,t)=>Hr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zc={current:void 0},jj=yj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zc.current){const e=new bT({});e.mount(window),e.setOptions({layoutScroll:!0}),zc.current=e}return zc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yT={pan:{Feature:D3},drag:{Feature:R3,ProjectionNode:jj,MeasureLayout:xj}},vT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jT(e){const t=vT.exec(e);if(!t)return[,];const[,s,a]=t;return[s,a]}function bm(e,t,s=1){const[a,n]=jT(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return sj(o)?parseFloat(o):o}else return om(n)?bm(n,t,s+1):n}function kT(e,{...t},s){const a=e.current;if(!(a instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(n=>{const i=n.get();if(!om(i))return;const o=bm(i,a);o&&n.set(o)});for(const n in t){const i=t[n];if(!om(i))continue;const o=bm(i,a);o&&(t[n]=o,s||(s={}),s[n]===void 0&&(s[n]=i))}return{target:t,transitionEnd:s}}const wT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kj=e=>wT.has(e),NT=e=>Object.keys(e).some(kj),cg=e=>e===$a||e===ae,ug=(e,t)=>parseFloat(e.split(", ")[t]),mg=(e,t)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const n=a.match(/^matrix3d\((.+)\)$/);if(n)return ug(n[1],t);{const i=a.match(/^matrix\((.+)\)$/);return i?ug(i[1],e):0}},ST=new Set(["x","y","z"]),CT=go.filter(e=>!ST.has(e));function TT(e){const t=[];return CT.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const En={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mg(4,13),y:mg(5,14)};En.translateX=En.x;En.translateY=En.y;const PT=(e,t,s)=>{const a=t.measureViewportBox(),n=t.current,i=getComputedStyle(n),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(c=>{l[c]=En[c](a,i)}),t.render();const d=t.measureViewportBox();return s.forEach(c=>{const u=t.getValue(c);u&&u.jump(l[c]),e[c]=En[c](d,i)}),e},AT=(e,t,s={},a={})=>{t={...t},a={...a};const n=Object.keys(t).filter(kj);let i=[],o=!1;const l=[];if(n.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let u=s[d],m=ti(u);const x=t[d];let h;if(Xl(x)){const g=x.length,y=x[0]===null?1:0;u=x[y],m=ti(u);for(let v=y;v<g&&x[v]!==null;v++)h?Qh(ti(x[v])===h):h=ti(x[v])}else h=ti(x);if(m!==h)if(cg(m)&&cg(h)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof x=="string"?t[d]=parseFloat(x):Array.isArray(x)&&h===ae&&(t[d]=x.map(parseFloat))}else m!=null&&m.transform&&(h!=null&&h.transform)&&(u===0||x===0)?u===0?c.set(h.transform(u)):t[d]=m.transform(x):(o||(i=TT(e),o=!0),l.push(d),a[d]=a[d]!==void 0?a[d]:t[d],c.jump(x))}),l.length){const d=l.indexOf("height")>=0?window.pageYOffset:null,c=PT(t,e,l);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),Ed&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:a}}else return{target:t,transitionEnd:a}};function IT(e,t,s,a){return NT(t)?AT(e,t,s,a):{target:t,transitionEnd:a}}const MT=(e,t,s,a)=>{const n=kT(e,t,a);return t=n.target,a=n.transitionEnd,IT(e,t,s,a)},ym={current:null},wj={current:!1};function _T(){if(wj.current=!0,!!Ed)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ym.current=e.matches;e.addListener(t),t()}else ym.current=!1}function ET(e,t,s){const{willChange:a}=t;for(const n in t){const i=t[n],o=s[n];if(Ut(i))e.addValue(n,i),rd(a)&&a.add(n);else if(Ut(o))e.addValue(n,_n(i,{owner:e})),rd(a)&&a.remove(n);else if(o!==i)if(e.hasValue(n)){const l=e.getValue(n);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(n);e.addValue(n,_n(l!==void 0?l:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const hg=new WeakMap,Nj=Object.keys(to),RT=Nj.length,xg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],DT=Fh.length;class LT{constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:n,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ne.render(this.render,!1,!0);const{latestValues:l,renderState:d}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.isControllingVariants=Dd(s),this.isVariantNode=lv(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const x=u[m];l[m]!==void 0&&Ut(x)&&(x.set(l[m],!1),rd(c)&&c.add(m))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,hg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),wj.current||_T(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ym.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hg.delete(this.current),this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const a=Ua.has(t),n=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ne.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},a,n,i){let o,l;for(let d=0;d<RT;d++){const c=Nj[d],{isEnabled:u,Feature:m,ProjectionNode:x,MeasureLayout:h}=to[c];x&&(o=x),u(s)&&(!this.features[c]&&m&&(this.features[c]=new m(this)),h&&(l=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:u,dragConstraints:m,layoutScroll:x,layoutRoot:h}=s;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!u||m&&ln(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:h})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<xg.length;a++){const n=xg[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i=t["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=ET(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<DT;a++){const n=Fh[a],i=this.props[n];(eo(i)||i===!1)&&(s[n]=i)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=_n(s,{owner:this}),this.addValue(t,a)),a}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:a}=this.props,n=typeof a=="string"||typeof a=="object"?(s=Hh(this.props,a))===null||s===void 0?void 0:s[t]:void 0;if(a&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ut(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new rx),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Sj extends LT{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...a},{transformValues:n},i){let o=ZC(a,t||{},this);if(n&&(s&&(s=n(s)),a&&(a=n(a)),o&&(o=n(o))),i){JC(this,a,o);const l=MT(this,a,o,s);s=l.transitionEnd,a=l.target}return{transition:t,transitionEnd:s,...a}}}function OT(e){return window.getComputedStyle(e)}class FT extends Sj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Ua.has(s)){const a=Jh(s);return a&&a.default||0}else{const a=OT(t),n=(mv(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:s}){return mj(t,s)}build(t,s,a,n){$h(t,s,a,n.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Wh(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ut(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,a,n){bv(t,s,a,n)}}class BT extends Sj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Ua.has(s)){const a=Jh(s);return a&&a.default||0}return s=yv.has(s)?s:Lh(s),t.getAttribute(s)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(t,s){return jv(t,s)}build(t,s,a,n){zh(t,s,a,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,a,n){vv(t,s,a,n)}mount(t){this.isSVGTag=qh(t.tagName),super.mount(t)}}const UT=(e,t)=>Uh(e)?new BT(t,{enableHardwareAcceleration:!1}):new FT(t,{enableHardwareAcceleration:!0}),$T={layout:{ProjectionNode:jj,MeasureLayout:xj}},VT={...x3,...RS,...yT,...$T},A=z4((e,t)=>jS(e,t,VT,UT));function Cj(){const e=f.useRef(!1);return Dh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function zT(){const e=Cj(),[t,s]=f.useState(0),a=f.useCallback(()=>{e.current&&s(t+1)},[t]);return[f.useCallback(()=>Ne.postRender(a),[a]),t]}class qT extends f.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function WT({children:e,isPresent:t}){const s=f.useId(),a=f.useRef(null),n=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:d}=n.current;if(t||!a.current||!i||!o)return;a.current.dataset.motionPopId=s;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),f.createElement(qT,{isPresent:t,childRef:a,sizeRef:n},f.cloneElement(e,{ref:a}))}const qc=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:o})=>{const l=kv(HT),d=f.useId(),c=f.useMemo(()=>({id:d,initial:t,isPresent:s,custom:n,onExitComplete:u=>{l.set(u,!0);for(const m of l.values())if(!m)return;a&&a()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[s]);return f.useMemo(()=>{l.forEach((u,m)=>l.set(m,!1))},[s]),f.useEffect(()=>{!s&&!l.size&&a&&a()},[s]),o==="popLayout"&&(e=f.createElement(WT,{isPresent:s},e)),f.createElement(_d.Provider,{value:c},e)};function HT(){return new Map}function QT(e){return f.useEffect(()=>()=>e(),[])}const la=e=>e.key||"";function GT(e,t){e.forEach(s=>{const a=la(s);t.set(a,s)})}function KT(e){const t=[];return f.Children.forEach(e,s=>{f.isValidElement(s)&&t.push(s)}),t}const se=({children:e,custom:t,initial:s=!0,onExitComplete:a,exitBeforeEnter:n,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=f.useContext(Bh).forceRender||zT()[0],d=Cj(),c=KT(e);let u=c;const m=f.useRef(new Map).current,x=f.useRef(u),h=f.useRef(new Map).current,g=f.useRef(!0);if(Dh(()=>{g.current=!1,GT(c,h),x.current=u}),QT(()=>{g.current=!0,h.clear(),m.clear()}),g.current)return f.createElement(f.Fragment,null,u.map(b=>f.createElement(qc,{key:la(b),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:o},b)));u=[...u];const y=x.current.map(la),v=c.map(la),p=y.length;for(let b=0;b<p;b++){const j=y[b];v.indexOf(j)===-1&&!m.has(j)&&m.set(j,void 0)}return o==="wait"&&m.size&&(u=[]),m.forEach((b,j)=>{if(v.indexOf(j)!==-1)return;const k=h.get(j);if(!k)return;const w=y.indexOf(j);let C=b;if(!C){const N=()=>{m.delete(j);const T=Array.from(h.keys()).filter(_=>!v.includes(_));if(T.forEach(_=>h.delete(_)),x.current=c.filter(_=>{const P=la(_);return P===j||T.includes(P)}),!m.size){if(d.current===!1)return;l(),a&&a()}};C=f.createElement(qc,{key:la(k),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:i,mode:o},k),m.set(j,C)}u.splice(w,0,C)}),u=u.map(b=>{const j=b.key;return m.has(j)?b:f.createElement(qc,{key:la(b),isPresent:!0,presenceAffectsLayout:i,mode:o},b)}),f.createElement(f.Fragment,null,m.size?u:u.map(b=>f.cloneElement(b)))},Tj=f.createContext(void 0);function YT({children:e}){const[t,s]=f.useState([]),a=(l,d)=>{const c=Math.random().toString(36).substr(2,9);s(u=>[...u,{id:c,type:l,message:d}]),setTimeout(()=>{s(u=>u.filter(m=>m.id!==c))},4e3)},n=l=>{s(d=>d.filter(c=>c.id!==l))},i=l=>{switch(l){case"success":return r.jsx(Ht,{className:"w-5 h-5"});case"error":return r.jsx(rs,{className:"w-5 h-5"});case"warning":return r.jsx(Rr,{className:"w-5 h-5"});case"info":return r.jsx(Zy,{className:"w-5 h-5"})}},o=l=>{switch(l){case"success":return"bg-emerald-500/10 border-emerald-500/30 text-emerald-500";case"error":return"bg-rose-500/10 border-rose-500/30 text-rose-500";case"warning":return"bg-amber-500/10 border-amber-500/30 text-amber-500";case"info":return"bg-blue-500/10 border-blue-500/30 text-blue-500"}};return r.jsxs(Tj.Provider,{value:{showToast:a},children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2",children:r.jsx(se,{children:t.map(l=>r.jsxs(A.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:`flex items-center gap-3 px-4 py-3 rounded-xl border backdrop-blur-sm shadow-lg min-w-[300px] ${o(l.type)}`,children:[i(l.type),r.jsx("p",{className:"flex-1 text-sm font-medium",children:l.message}),r.jsx("button",{onClick:()=>n(l.id),className:"hover:opacity-70 transition-opacity",children:r.jsx(Me,{className:"w-4 h-4"})})]},l.id))})})]})}function Zs(){const e=f.useContext(Tj);if(!e)throw new Error("useToast must be used within ToastProvider");return e}const X=s4;function Pj(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Pj(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function JT(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Pj(e))&&(a&&(a+=" "),a+=t);return a}const sx="-",XT=e=>{const t=eP(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(sx);return l[0]===""&&l.length!==1&&l.shift(),Aj(l,t)||ZT(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},Aj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),n=a?Aj(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(sx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},pg=/^\[(.+)\]$/,ZT=e=>{if(pg.test(e)){const t=pg.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},eP=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return rP(Object.entries(e.classGroups),s).forEach(([i,o])=>{vm(o,a,i,t)}),a},vm=(e,t,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:fg(t,n);i.classGroupId=s;return}if(typeof n=="function"){if(tP(n)){vm(n(a),t,s,a);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{vm(o,fg(t,i),s,a)})})},fg=(e,t)=>{let s=e;return t.split(sx).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},tP=e=>e.isThemeGetter,rP=(e,t)=>t?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,n]}):e,sP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},Ij="!",aP=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,n=t[0],i=t.length,o=l=>{const d=[];let c=0,u=0,m;for(let v=0;v<l.length;v++){let p=l[v];if(c===0){if(p===n&&(a||l.slice(v,v+i)===t)){d.push(l.slice(u,v)),u=v+i;continue}if(p==="/"){m=v;continue}}p==="["?c++:p==="]"&&c--}const x=d.length===0?l:l.substring(u),h=x.startsWith(Ij),g=h?x.substring(1):x,y=m&&m>u?m-u:void 0;return{modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:o}):o},nP=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},iP=e=>({cache:sP(e.cacheSize),parseClassName:aP(e),...XT(e)}),oP=/\s+/,lP=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=e.trim().split(oP);let l="";for(let d=o.length-1;d>=0;d-=1){const c=o[d],{modifiers:u,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:h}=s(c);let g=!!h,y=a(g?x.substring(0,h):x);if(!y){if(!g){l=c+(l.length>0?" "+l:l);continue}if(y=a(x),!y){l=c+(l.length>0?" "+l:l);continue}g=!1}const v=nP(u).join(":"),p=m?v+Ij:v,b=p+y;if(i.includes(b))continue;i.push(b);const j=n(y,g);for(let k=0;k<j.length;++k){const w=j[k];i.push(p+w)}l=c+(l.length>0?" "+l:l)}return l};function dP(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Mj(t))&&(a&&(a+=" "),a+=s);return a}const Mj=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=Mj(e[a]))&&(s&&(s+=" "),s+=t);return s};function cP(e,...t){let s,a,n,i=o;function o(d){const c=t.reduce((u,m)=>m(u),e());return s=iP(c),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const c=a(d);if(c)return c;const u=lP(d,s);return n(d,u),u}return function(){return i(dP.apply(null,arguments))}}const Se=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},_j=/^\[(?:([a-z-]+):)?(.+)\]$/i,uP=/^\d+\/\d+$/,mP=new Set(["px","full","screen"]),hP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=e=>bn(e)||mP.has(e)||uP.test(e),ms=e=>Un(e,"length",SP),bn=e=>!!e&&!Number.isNaN(Number(e)),Wc=e=>Un(e,"number",bn),si=e=>!!e&&Number.isInteger(Number(e)),bP=e=>e.endsWith("%")&&bn(e.slice(0,-1)),oe=e=>_j.test(e),hs=e=>hP.test(e),yP=new Set(["length","size","percentage"]),vP=e=>Un(e,yP,Ej),jP=e=>Un(e,"position",Ej),kP=new Set(["image","url"]),wP=e=>Un(e,kP,TP),NP=e=>Un(e,"",CP),ai=()=>!0,Un=(e,t,s)=>{const a=_j.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},SP=e=>xP.test(e)&&!pP.test(e),Ej=()=>!1,CP=e=>fP.test(e),TP=e=>gP.test(e),PP=()=>{const e=Se("colors"),t=Se("spacing"),s=Se("blur"),a=Se("brightness"),n=Se("borderColor"),i=Se("borderRadius"),o=Se("borderSpacing"),l=Se("borderWidth"),d=Se("contrast"),c=Se("grayscale"),u=Se("hueRotate"),m=Se("invert"),x=Se("gap"),h=Se("gradientColorStops"),g=Se("gradientColorStopPositions"),y=Se("inset"),v=Se("margin"),p=Se("opacity"),b=Se("padding"),j=Se("saturate"),k=Se("scale"),w=Se("sepia"),C=Se("skew"),N=Se("space"),T=Se("translate"),_=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",oe,t],R=()=>[oe,t],G=()=>["",Br,ms],ee=()=>["auto",bn,oe],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",oe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[bn,oe];return{cacheSize:500,separator:":",theme:{colors:[ai],spacing:[Br,ms],blur:["none","",hs,oe],brightness:H(),borderColor:[e],borderRadius:["none","","full",hs,oe],borderSpacing:R(),borderWidth:G(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[bP,ms],inset:V(),margin:V(),opacity:H(),padding:R(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),oe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",si,oe]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",si,oe]}],"grid-cols":[{"grid-cols":[ai]}],"col-start-end":[{col:["auto",{span:["full",si,oe]},oe]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[ai]}],"row-start-end":[{row:["auto",{span:[si,oe]},oe]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,t]}],"min-w":[{"min-w":[oe,t,"min","max","fit"]}],"max-w":[{"max-w":[oe,t,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wc]}],"font-family":[{font:[ai]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",bn,Wc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,ms]}],"underline-offset":[{"underline-offset":["auto",Br,oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),jP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:L()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Br,oe]}],"outline-w":[{outline:[Br,ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Br,ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hs,NP]}],"shadow-color":[{shadow:[ai]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",hs,oe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[si,oe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Br,ms,Wc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AP=cP(PP);function Y(...e){return AP(JT(e))}function M({variant:e="primary",size:t="md",children:s,isLoading:a=!1,className:n,disabled:i,...o}){const l="inline-flex items-center justify-center font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2",d={primary:"bg-primary-700 hover:bg-primary-800 text-white focus:ring-primary-700",secondary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-600",ghost:"bg-transparent hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text focus:ring-primary-700",outline:"border-2 border-primary-700 text-primary-700 hover:bg-primary-50 dark:hover:bg-primary-950 focus:ring-primary-700",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",icon:"p-2"};return r.jsx(A.button,{whileHover:{scale:i||a?1:1.02},whileTap:{scale:i||a?1:.98},className:Y(l,d[e],c[t],n),disabled:i||a,...o,children:a?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):s})}function Rj(){const e=B(S.users.getTickerData),[t,s]=f.useState(0);if(f.useEffect(()=>{if(!(e!=null&&e.recentUsers)||e.recentUsers.length===0)return;const n=setInterval(()=>{s(i=>(i+2)%e.recentUsers.length)},4e3);return()=>clearInterval(n)},[e]),!e)return r.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px] animate-pulse",children:[r.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[r.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-1 rounded-full w-5 h-5"}),r.jsxs("div",{className:"flex flex-col gap-1 leading-none",children:[r.jsx("div",{className:"h-2 w-12 bg-light-bg dark:bg-dark-bg rounded"}),r.jsx("div",{className:"h-3 w-8 bg-light-bg dark:bg-dark-bg rounded"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-light-bg dark:bg-dark-bg"}),r.jsx("div",{className:"h-2 w-12 bg-light-bg dark:bg-dark-bg rounded"})]})]});const a=[e.recentUsers[t%e.recentUsers.length],e.recentUsers[(t+1)%e.recentUsers.length]].filter(Boolean);return r.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px]",children:[r.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[r.jsx("div",{className:"bg-primary-500/10 p-1 rounded-full",children:r.jsx(je,{className:"w-3 h-3 text-primary-500"})}),r.jsxs("div",{className:"flex flex-col leading-none",children:[r.jsx("span",{className:"text-[9px] uppercase font-bold text-light-muted dark:text-dark-muted",children:"Community"}),r.jsx("span",{className:"text-xs font-black text-light-text dark:text-dark-text font-display",children:e.totalCount.toLocaleString()})]})]}),r.jsx("div",{className:"flex-1 relative h-7 overflow-hidden",children:r.jsx(se,{mode:"popLayout",children:r.jsx(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 flex items-center gap-2",children:a.map(n=>r.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[90px]",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 p-[1px] flex-shrink-0",children:r.jsx("div",{className:"w-full h-full rounded-full bg-light-bg dark:bg-dark-bg overflow-hidden",children:n.avatarUrl?r.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-[8px] font-bold bg-light-muted/10",children:n.name.charAt(0)})})}),r.jsx("span",{className:"text-[10px] font-medium text-light-text dark:text-dark-text truncate",children:n.name.split(" ")[0]})]},n._id))},t)})})]})}function IP({isOpen:e,onClose:t}){const{user:s,logout:a}=X(),{theme:n,toggleTheme:i}=Cd(),o=ue(),l=B(S.stats.getBadgeCounts,s!=null&&s._id?{userId:s._id}:"skip"),d=$(S.users.updateLastViewed),c=async(m,x)=>{x&&s&&await d({userId:s._id,field:x}),t(),o(m)},u=()=>{a(),t(),o("/")};return r.jsx(se,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 md:hidden"}),r.jsx(A.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 bottom-0 left-0 w-[85%] max-w-[320px] bg-light-bg dark:bg-dark-bg z-[60] shadow-2xl overflow-hidden",children:r.jsxs("div",{className:"flex flex-col h-full p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs(re,{to:"/",onClick:t,className:"flex items-center gap-2",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-8 w-auto"}),r.jsx("span",{className:"text-xl font-bold font-display text-gradient",children:"Baptizo"})]}),r.jsx("button",{onClick:t,className:"p-2 -mr-2 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text transition-colors",children:r.jsx(Me,{className:"w-6 h-6"})})]}),s&&r.jsxs("div",{className:"mb-4 p-3 rounded-2xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-sm overflow-hidden shrink-0",children:s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full object-cover"}):s.name[0]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text truncate text-sm",children:s.name}),r.jsx("p",{className:"text-[10px] text-light-muted dark:text-dark-muted truncate",children:s.email})]})]}),r.jsx(re,{to:"/profile",onClick:t,children:r.jsx(M,{variant:"outline",size:"sm",className:"w-full rounded-lg text-[10px] h-7 font-semibold",children:"View Profile"})})]}),r.jsx("nav",{className:"space-y-2 flex-1 overflow-y-auto green-scrollbar",children:s?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>c("/feed"),className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(Xy,{className:"w-5 h-5 text-primary-500"}),"Feed"]}),r.jsxs("button",{onClick:()=>c("/chat"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xt,{className:"w-5 h-5 text-blue-500"}),"Messages"]}),((l==null?void 0:l.messages)||0)>0&&r.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full",children:l==null?void 0:l.messages})]}),r.jsxs("button",{onClick:()=>c("/banking","lastViewedBanking"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(fo,{className:"w-5 h-5 text-emerald-500"}),"Banking"]}),((l==null?void 0:l.banking)||0)>0&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]"})]}),r.jsxs("button",{onClick:()=>c("/leaderboard","lastViewedLeaderboard"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ye,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),((l==null?void 0:l.leaderboard)||0)>0&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]"})]}),r.jsxs(re,{to:"/saved-posts",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(Ah,{className:"w-5 h-5 text-purple-500"}),"Saved Posts"]}),r.jsxs(re,{to:"/diamond-challenge",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(vr,{className:"w-5 h-5 text-cyan-500"}),"Diamond Challenge"]}),(s.role==="admin"||s.role==="super_admin")&&r.jsxs(re,{to:"/admin",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-primary-500/10 text-primary-500 transition-colors font-bold mt-4",children:[r.jsx(Ds,{className:"w-5 h-5"}),"Admin Dashboard"]}),s.role==="board_member"&&r.jsxs(re,{to:"/board",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-secondary-500/10 text-secondary-500 transition-colors font-bold mt-4",children:[r.jsx(Ds,{className:"w-5 h-5"}),"Board Dashboard"]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsx(Rj,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx(re,{to:"/login",onClick:t,className:"block mb-4",children:r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(ft,{className:"w-5 h-5"}),"Login"]})}),r.jsx(re,{to:"/register",onClick:t,className:"block",children:r.jsx(M,{className:"w-full font-bold",children:"Get Started"})})]})}),r.jsxs("div",{className:"pt-6 border-t border-light-border dark:border-dark-border mt-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:"Appearance"}),r.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text",children:n==="dark"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Id,{className:"w-5 h-5 text-yellow-500"}),r.jsx("span",{className:"text-xs",children:"Dark"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Td,{className:"w-5 h-5 text-slate-700"}),r.jsx("span",{className:"text-xs",children:"Light"})]})})]}),s&&r.jsxs("button",{onClick:u,className:"w-full p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center gap-2 font-bold",children:[r.jsx(ev,{className:"w-5 h-5"}),"Logout"]})]})]})})]})})}function gg(){const{user:e}=X(),t=ue();if(!(e!=null&&e._id))return null;const s=B(S.notifications.getUnreadCount,{userId:e._id})||0;return r.jsxs(A.button,{whileTap:{scale:.9},onClick:()=>t("/notifications"),className:"p-2 md:p-3 relative text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",title:"Notifications",children:[r.jsx(Ni,{className:"w-6 h-6 md:w-6 md:h-6"}),(s??0)>0&&r.jsx("span",{className:"absolute top-0.5 right-0.5 md:top-2 md:right-2 bg-green-500 text-white text-[10px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full border-2 border-light-bg dark:border-dark-bg",children:s>9?"9+":s})]})}function MP(){const{user:e,logout:t}=X(),{theme:s,toggleTheme:a}=Cd(),n=ue(),i=jt(),[o,l]=f.useState(!1),d=B(S.stats.getBadgeCounts,e!=null&&e._id?{userId:e._id}:"skip"),c=i.pathname==="/"||i.pathname==="/feed"||i.pathname==="/login"||i.pathname==="/register",u=()=>{t(),n("/")};return r.jsxs(r.Fragment,{children:[r.jsx("header",{className:`fixed ${c?"top-2 md:top-0":"top-0"} left-0 right-0 z-40 ${c?"px-3 md:px-0":"px-0"} transition-all duration-300`,children:r.jsx("div",{className:`mx-auto ${c?"max-w-7xl md:max-w-full relative":"w-full"}`,children:r.jsx("div",{className:`${c?"glass rounded-2xl md:rounded-b-3xl md:rounded-t-none border border-light-border/50 dark:border-dark-border/50 overflow-hidden":"bg-light-bg/95 dark:bg-dark-bg/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border md:glass md:rounded-b-3xl md:border md:border-light-border/50 md:dark:border-dark-border/50"} md:overflow-hidden`,children:r.jsxs("div",{className:"px-4 md:px-12 h-14 md:h-20 flex items-center justify-between",children:[r.jsxs("div",{className:"md:hidden flex items-center justify-between w-full",children:[r.jsxs("button",{onClick:()=>l(!0),className:"p-2 -ml-2 text-light-text dark:text-dark-text hover:text-primary-500 transition-colors relative",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),d&&(d.messages>0||d.banking>0||d.leaderboard>0)&&r.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)] border border-light-bg dark:border-dark-bg"})]}),e?r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>n("/search"),className:"p-2 text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",children:r.jsx(lt,{className:"w-6 h-6"})}),r.jsx(gg,{})]}):c&&r.jsx(re,{to:"/",className:"flex items-center",children:r.jsx("span",{className:"text-xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-2 w-full",children:[r.jsx(re,{to:"/",state:{manual:!0},className:"flex items-center space-x-2 mr-auto",children:r.jsxs(A.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-8 md:h-12 w-auto"}),r.jsx("span",{className:"text-xl md:text-3xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})]})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:e?r.jsxs(r.Fragment,{children:[r.jsx(re,{to:"/feed",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Feed"}),r.jsx(re,{to:"/profile",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Profile"}),e.role==="admin"||e.role==="super_admin"?r.jsxs(re,{to:"/admin",className:"px-4 py-2 rounded-xl bg-primary-500/10 text-primary-500 hover:bg-primary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[r.jsx(Ds,{className:"w-5 h-5"}),"Admin"]}):null,e.role==="board_member"&&r.jsxs(re,{to:"/board",className:"px-4 py-2 rounded-xl bg-secondary-500/10 text-secondary-500 hover:bg-secondary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[r.jsx(Ds,{className:"w-5 h-5"}),"Board"]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(re,{to:"/login",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Login"}),r.jsx(re,{to:"/register",children:r.jsx(M,{size:"lg",className:"font-bold px-8",children:"Get Started"})})]})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-2 md:space-x-4 ml-auto",children:[e&&r.jsxs(r.Fragment,{children:[r.jsx(A.button,{whileTap:{scale:.9},onClick:()=>n("/search"),className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border",title:"Search Members",children:r.jsx(lt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-500"})}),r.jsx(gg,{})]}),r.jsx(A.button,{whileTap:{scale:.9},onClick:a,className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border",children:s==="dark"?r.jsx(Id,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-500"}):r.jsx(Td,{className:"w-5 h-5 md:w-6 md:h-6 text-slate-700"})}),e&&r.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-1.5 rounded-xl bg-light-card/30 dark:bg-dark-card/30 border border-light-border/20 dark:border-dark-border/20 shadow-inner",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold overflow-hidden",children:e.avatarUrl?r.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-full h-full object-cover"}):e.name[0]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text pr-2 leading-none",children:e.name}),(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")&&r.jsx("span",{className:"text-[9px] font-bold text-secondary-500 tracking-wide mt-0.5",children:e.role==="board_member"?"BOARD MEMBER":e.role.replace("_"," ").toUpperCase()})]})]}),r.jsx(A.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:r.jsx(ev,{className:"w-5 h-5"})})]})]})]})]})})})}),r.jsx(IP,{isOpen:o,onClose:()=>l(!1)})]})}function _P(){const e=new Date().getFullYear(),t={platform:[{label:"Feed",path:"/feed"},{label:"Ancient Culture",path:"/ancient-culture"},{label:"Wisdom of The Now",path:"/wisdom-now"},{label:"Leaderboard",path:"/leaderboard"}],community:[{label:"About Baptizo",path:"/about"},{label:"Our Mission",path:"/about"},{label:"Privacy Policy",path:"/privacy"},{label:"Terms of Service",path:"/terms"}],support:[{label:"Contact Us",path:"/contact"},{label:"FAQ",path:"/faq"},{label:"Community Guidelines",path:"/guidelines"}]},s=[{icon:I4,href:"https://x.com/innotechglobal",label:"Twitter"},{icon:p4,href:"https://www.instagram.com/photizo_foundation?utm_source=qr&igsh=ZncwOTVpcXM1d3Vv",label:"Instagram"},{icon:_4,href:"https://www.youtube.com/@innotechglobal",label:"YouTube"},{icon:x4,href:"https://www.github.com/vincobond/",label:"GitHub"}];return r.jsx("footer",{className:"relative mt-auto pt-24 pb-12 overflow-hidden bg-gray-100 dark:bg-gray-950",children:r.jsxs("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(re,{to:"/",className:"flex items-center gap-3",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-10 md:h-12 w-auto"}),r.jsx("span",{className:"text-2xl font-black text-gradient font-display",children:"Baptizo"})]}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed font-medium",children:"A professional sanctuary for digital spiritual exploration. Bridging ancient wisdom with modern consciousness."}),r.jsx("div",{className:"flex items-center gap-4",children:s.map(a=>r.jsx(A.a,{href:a.href,whileHover:{y:-4},className:"p-3 bg-white dark:bg-gray-900 border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted hover:text-primary-700 hover:border-primary-700 transition-all","aria-label":a.label,children:r.jsx(a.icon,{className:"w-5 h-5"})},a.label))})]}),Object.entries(t).map(([a,n])=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h4",{className:"text-sm font-black uppercase tracking-[0.2em] text-light-text dark:text-dark-text",children:a}),r.jsx("ul",{className:"space-y-4",children:n.map(i=>r.jsx("li",{children:r.jsxs(re,{to:i.path,className:"text-light-muted dark:text-dark-muted hover:text-primary-700 dark:hover:text-primary-400 transition-all font-medium flex items-center group",children:[i.label,r.jsx(Qy,{className:"w-4 h-4 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})},i.label))})]},a))]}),r.jsxs("div",{className:"pt-12 border-t border-light-border dark:border-dark-border flex flex-col md:flex-row items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-light-muted dark:text-dark-muted font-medium",children:[r.jsx("span",{children:"Built with"}),r.jsx(Js,{className:"w-4 h-4 text-red-500 fill-red-500"}),r.jsx("span",{children:"for the Global Community"})]}),r.jsxs("div",{className:"flex items-center gap-8 text-xs font-bold text-light-muted/60 dark:text-dark-muted/60",children:[r.jsxs("p",{children:[" ",e," Baptizo Inc. All rights reserved."]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_h,{className:"w-3 h-3"}),r.jsx("span",{children:"v2.0 Premium"})]})]})]})]})})}function EP(){const e=jt(),{user:t}=X(),s=B(S.stats.getBadgeCounts,t!=null&&t._id?{userId:t._id}:"skip"),a=n=>!!(n==="/feed"&&e.pathname==="/feed"||n!=="/feed"&&e.pathname.startsWith(n));return r.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-light-border dark:border-dark-border glass pb-safe",children:r.jsxs("div",{className:"flex items-center justify-around h-16 px-2",children:[r.jsxs(re,{to:"/feed",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/feed")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative",children:r.jsx(Xy,{className:Y("w-5 h-5 md:w-6 md:h-6",a("/feed")&&"fill-primary-500/20")})}),r.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/feed")?"opacity-100":"opacity-70"),children:"Feed"})]}),r.jsxs(re,{to:"/chat",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/chat")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsxs("div",{className:"relative",children:[r.jsx(xt,{className:Y("w-5 h-5 md:w-6 md:h-6",a("/chat")&&"fill-primary-500/20")}),((s==null?void 0:s.messages)||0)>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-[9px] font-bold h-4 min-w-[16px] px-0.5 flex items-center justify-center rounded-full border border-white dark:border-[#1A1A1A] z-10 animate-bounce",children:((s==null?void 0:s.messages)||0)>9?"9+":s==null?void 0:s.messages})]}),r.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/chat")?"opacity-100":"opacity-70"),children:"Chat"})]}),t&&r.jsxs(re,{to:"/create-post",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/create-post")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative p-1",children:r.jsx(w4,{className:Y("w-6 h-6 md:w-8 md:h-8 text-primary-500 fill-primary-500/10")})}),r.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/create-post")?"opacity-100 font-bold":"opacity-70"),children:"Post"})]}),r.jsxs(re,{to:"/banking",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/banking")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative",children:r.jsx(fo,{className:Y("w-5 h-5 md:w-6 md:h-6",a("/banking")&&"fill-primary-500/20")})}),r.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/banking")?"opacity-100":"opacity-70"),children:"Banking"})]}),r.jsxs(re,{to:"/profile",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/profile")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative",children:r.jsx(ft,{className:Y("w-5 h-5 md:w-6 md:h-6",a("/profile")&&"fill-primary-500/20")})}),r.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/profile")?"opacity-100":"opacity-70"),children:"Profile"})]})]})})}function D({children:e,className:t,glass:s=!1,hover:a=!1,onClick:n}){const i=A.div;return r.jsx(i,{onClick:n,whileHover:a?{y:-4,transition:{duration:.2}}:void 0,className:Y("p-6 transition-all duration-200",s?"glass":"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",a&&"cursor-pointer",t),children:e})}function fe({children:e,className:t}){return r.jsx("div",{className:Y("mb-4",t),children:e})}function ge({children:e,className:t}){return r.jsx("h3",{className:Y("text-xl font-semibold text-light-text dark:text-dark-text",t),children:e})}function F({children:e,className:t}){return r.jsx("div",{className:Y("text-light-text dark:text-dark-text",t),children:e})}function W({children:e,variant:t="default",className:s,animate:a=!1}){const n={default:"bg-light-border dark:bg-dark-border text-light-text dark:text-dark-text",primary:"bg-primary-100 dark:bg-primary-950 text-primary-800 dark:text-primary-300 border border-primary-200 dark:border-primary-800",secondary:"bg-secondary-100 dark:bg-secondary-950 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-800",success:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800",danger:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",outline:"bg-transparent border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted"},i=a?A.span:"span",o=a?{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}}:{};return r.jsx(i,{...o,className:Y("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n[t],s),children:e})}function RP(){const{user:e}=X(),t=ue();f.useEffect(()=>{e&&t("/feed",{replace:!0})},[e,t]);const s=[{icon:Ba,title:"Ancient Culture",subtitle:"Prophetic Wisdom",description:"Dive deep into prophetic wisdom and systems from the Old Testament. Understand the foundations of spiritual authority.",image:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/ancient-culture.png?updatedAt=1766305387425",color:"from-primary-500 to-primary-700"},{icon:Lr,title:"Wisdom of The Now",subtitle:"Modern Insights",description:"Explore spiritual identity and insights from the New Testament. Discover your place in the modern spiritual landscape.",image:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/wisdom-now.png?updatedAt=1766305387356",color:"from-secondary-500 to-secondary-700"}],a=[{icon:je,title:"Vibrant Community",description:"Connect with a global network of believers seeking deeper truth."},{icon:ye,title:"Real Impact",description:"Earn recognition and rewards for active participation and growth."},{icon:Ct,title:"Guided Path",description:"Structured learning paths designed for progressive spiritual maturity."}];return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg selection:bg-primary-700/20 relative overflow-hidden",children:[r.jsx("section",{className:"relative min-h-[90vh] flex items-center pt-24 md:pt-0",children:r.jsxs("div",{className:"w-full relative z-10",children:[r.jsxs("div",{className:"grid lg:grid-cols-2 gap-0 items-center",children:[r.jsx("div",{className:"max-w-[90rem] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(A.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},className:"text-center lg:text-left py-12",children:[r.jsx(W,{variant:"primary",className:"mb-4 px-2 py-0.5 text-[8px] md:text-[9px] uppercase tracking-wider font-medium font-display",children:"The Pinnacle of Spiritual Growth"}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black font-display leading-[1.1] md:leading-tight mb-6 text-light-text dark:text-dark-text",children:["Elevate Your ",r.jsx("br",{}),"Spirituality"]}),r.jsx("p",{className:"hidden lg:block text-xl md:text-2xl text-light-muted dark:text-dark-muted mb-10 leading-relaxed max-w-2xl",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),r.jsx("div",{className:"hidden lg:flex flex-col sm:flex-row items-center gap-6",children:e?r.jsx(re,{to:"/feed",children:r.jsxs(M,{size:"lg",className:"h-14 px-10 text-lg group",children:["Enter the Feed",r.jsx(Ct,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}):r.jsxs(r.Fragment,{children:[r.jsx(re,{to:"/register",children:r.jsx(M,{size:"lg",className:"h-14 px-10 text-lg",children:"Start Your Journey"})}),r.jsx(re,{to:"/login",children:r.jsx(M,{size:"lg",variant:"outline",className:"h-14 px-10 text-lg border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})}),r.jsx("div",{className:"relative mt-12 lg:mt-0 w-full h-full",children:r.jsx(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1.2,ease:"easeOut"},className:"w-full h-full",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(6).png",alt:"Spiritual Community",className:"w-full h-[500px] md:h-[600px] lg:h-[90vh] object-cover"})})})]}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:hidden mt-12 text-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("p",{className:"text-base sm:text-lg text-light-muted dark:text-dark-muted mb-8 leading-relaxed px-2 font-medium",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),r.jsx("div",{className:"flex flex-col gap-4 px-6 sm:px-20",children:e?r.jsx(re,{to:"/feed",children:r.jsxs(M,{size:"lg",className:"h-14 w-full text-lg",children:["Enter the Feed",r.jsx(Ct,{className:"w-5 h-5 ml-2"})]})}):r.jsxs(r.Fragment,{children:[r.jsx(re,{to:"/register",children:r.jsx(M,{size:"lg",className:"h-14 w-full text-lg",children:"Start Your Journey"})}),r.jsx(re,{to:"/login",children:r.jsx(M,{size:"lg",variant:"outline",className:"h-14 w-full text-lg border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})]})}),r.jsx("section",{className:"py-24 md:py-32 relative bg-white dark:bg-dark-bg",children:r.jsxs("div",{className:"max-w-[90rem] mx-auto px-4",children:[r.jsx("div",{className:"text-left mb-16 md:mb-24",children:r.jsxs(A.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-black font-display mb-6 tracking-tight text-left",children:"Explore Our Core Pillars"}),r.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted max-w-2xl font-medium",children:"We bridge the gap between ancient foundations and contemporary applications."})]})}),r.jsx("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12",children:s.map((n,i)=>r.jsx(A.div,{initial:{opacity:0,x:i%2===0?-40:40},whileInView:{opacity:1,x:0},transition:{delay:i*.2,duration:.8},viewport:{once:!0},className:"group relative",children:r.jsxs(D,{className:"overflow-hidden border border-light-border dark:border-dark-border h-full flex flex-col bg-light-card dark:bg-dark-card",children:[r.jsxs("div",{className:"relative h-64 md:h-80 overflow-hidden",children:[r.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-6 left-6",children:r.jsx(W,{className:"bg-white/10 backdrop-blur-xl border-white/20 text-white px-4 py-2 font-bold uppercase tracking-wider text-[10px]",children:n.subtitle})})]}),r.jsxs("div",{className:"p-8 md:p-12 flex-1 flex flex-col bg-gray-100 dark:bg-gray-900",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-700 flex items-center justify-center mb-8",children:r.jsx(n.icon,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-2xl md:text-3xl font-black font-display mb-4 tracking-tight",children:n.title}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg md:text-xl mb-10 leading-relaxed font-medium",children:n.description}),r.jsxs(re,{to:"/register",className:"mt-auto group/btn inline-flex items-center gap-3 text-primary-700 dark:text-primary-400 font-black text-lg",children:["Explore Deeply ",r.jsx(Ct,{className:"w-6 h-6 transform group-hover/btn:translate-x-2 transition-transform"})]})]})]})},n.title))})]})}),r.jsx("section",{className:"py-24 relative overflow-hidden bg-primary-950 dark:bg-black",children:r.jsx("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:r.jsx("div",{className:"grid md:grid-cols-3 gap-12 lg:gap-20",children:a.map((n,i)=>r.jsx(A.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:i*.2},viewport:{once:!0},className:"group",children:r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400 mb-8 transform group-hover:scale-110 group-hover:rotate-3 transition-all",children:r.jsx(n.icon,{className:"w-8 h-8"})}),r.jsx("h4",{className:"text-xl md:text-2xl font-black font-display mb-4 tracking-tight text-white dark:text-white",children:n.title}),r.jsx("p",{className:"text-gray-300 dark:text-gray-300 text-lg leading-relaxed font-medium",children:n.description})]})},n.title))})})}),r.jsx("section",{className:"py-24 md:py-32 relative overflow-hidden",children:r.jsx("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:r.jsxs(A.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"relative z-10 p-8 md:p-12 max-w-7xl mx-auto text-center bg-gray-100 dark:bg-gray-900 border border-light-border dark:border-dark-border",children:[r.jsx(W,{variant:"primary",className:"mb-6 px-6 py-2 text-xs md:text-sm uppercase tracking-[0.2em] font-black font-display",children:"Unleash Your Potential"}),r.jsxs("h2",{className:"text-2xl md:text-4xl font-black font-display mb-6 tracking-tight leading-[1.1]",children:["Ready for a ",r.jsx("br",{}),"Higher Experience?"]}),r.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted mb-8 max-w-2xl mx-auto leading-relaxed font-medium",children:"Join thousands of believers who have unlocked deeper spiritual dimensions through Baptizo."}),!e&&r.jsx("div",{children:r.jsx(re,{to:"/register",children:r.jsx(M,{size:"lg",className:"h-12 md:h-14 px-8 md:px-12 text-base md:text-lg font-black hover:scale-105 active:scale-95 transition-all",children:"Create Your Free Account"})})})]})})})]})}const he=f.forwardRef(({label:e,error:t,icon:s,className:a,...n},i)=>r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),r.jsxs("div",{className:"relative",children:[s&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-light-muted dark:text-dark-muted",children:s}),r.jsx("input",{ref:i,className:Y("w-full px-4 py-2.5 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg","border-light-border dark:border-dark-border","text-light-text dark:text-dark-text","placeholder:text-light-muted dark:placeholder:text-dark-muted","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-red-500 focus:ring-red-500",s&&"pl-10",a),...n})]}),t&&r.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:t})]}));he.displayName="Input";function DP(){var m;const e=ue(),t=jt(),{login:s}=X(),a=$(S.auth.loginUser),[n,i]=f.useState({email:"",password:""}),[o,l]=f.useState({}),[d,c]=f.useState(!1),u=async x=>{var h,g;x.preventDefault(),l({}),c(!0);try{const y=await a({email:n.email.toLowerCase().trim(),password:n.password});if(y!=null&&y.success&&(y!=null&&y.user)){s(y.user);const v=((g=(h=t.state)==null?void 0:h.from)==null?void 0:g.pathname)||"/feed";e(v,{replace:!0})}else l({general:"Invalid email or password"})}catch{l({general:"Login failed. Please try again."})}finally{c(!1)}};return r.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:r.jsxs(D,{glass:!0,children:[r.jsxs(fe,{className:"pt-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),r.jsx(ge,{className:"text-center text-3xl",children:"Welcome Back"}),r.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Sign in to continue to Baptizo Community"})]}),r.jsx(F,{children:r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.general&&r.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:o.general})}),r.jsx(he,{label:"Email",type:"email",value:n.email,onChange:x=>i({...n,email:x.target.value}),icon:r.jsx(ts,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),r.jsx(he,{label:"Password",type:"password",value:n.password,onChange:x=>i({...n,password:x.target.value}),icon:r.jsx(st,{className:"w-5 h-5"}),placeholder:"",required:!0}),r.jsx(M,{type:"submit",variant:"primary",className:"w-full",isLoading:d,children:"Sign In"}),r.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Don't have an account?"," ",r.jsx(re,{to:"/register",state:{from:(m=t.state)==null?void 0:m.from},className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign Up"})]})]})})]})})}function LP(){return r.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsx(DP,{})})}function Dj(e){const s=e.replace(/\D/g,"").substring(0,4),a=["0703","0706","0803","0806","0810","0813","0814","0816","0903","0906","07025","07026","0704"],n=["0705","0805","0807","0811","0815","0905"],i=["0701","0708","0802","0808","0812","0901","0902","0904","0907"],o=["0809","0817","0818","0909","0908"];return a.some(l=>s.startsWith(l))?"MTN":n.some(l=>s.startsWith(l))?"Glo":i.some(l=>s.startsWith(l))?"Airtel":o.some(l=>s.startsWith(l))?"9Mobile":"Unknown"}function OP(e){const t=e.replace(/\D/g,"");return t.length===11?`${t.substring(0,4)} ${t.substring(4,7)} ${t.substring(7)}`:e}function FP(){return"https://chat.whatsapp.com/YOUR_GROUP_CODE"}function BP(){const e=FP();window.open(e,"_blank")}function UP(){var C;const e=ue(),t=jt(),{login:s}=X(),a=$(S.auth.registerUser),[n,i]=f.useState(1),[o,l]=f.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",whatsappConfirm:!1,profession:""}),[d,c]=f.useState(""),[u,m]=f.useState({}),[x,h]=f.useState(!1),g=N=>{l({...o,phone:N});const T=Dj(N);c(T)},y=()=>{const N={};return o.name||(N.name="Full name is required"),o.email||(N.email="Email is required"),o.password||(N.password="Password is required"),o.password.length<6&&(N.password="Password must be at least 6 characters"),o.password!==o.confirmPassword&&(N.confirmPassword="Passwords do not match"),m(N),Object.keys(N).length===0},v=()=>{const N={};return o.phone||(N.phone="Phone number is required"),(d==="Unknown"||!d)&&(N.phone="Valid network (MTN, Glo, Airtel, 9Mobile) required"),o.profession||(N.profession="Profession is required"),o.whatsappConfirm||(N.whatsappConfirm="Please confirm WhatsApp availability"),m(N),Object.keys(N).length===0},p=()=>{n===1&&y()&&i(2)},b=()=>{n===2&&i(1)},j=async N=>{if(N.preventDefault(),!!v()){h(!0);try{const T=await a({email:o.email.toLowerCase().trim(),password:o.password,name:o.name.trim(),phone:o.phone.trim(),network:d,profession:o.profession.trim()});T!=null&&T.success&&(T!=null&&T.user)?(s(T.user),i(3)):m({general:(T==null?void 0:T.error)||"Registration failed"})}catch(T){const P=(T.message||T.toString()).replace("Uncaught Error: ","");m({general:P})}finally{h(!1)}}},k=()=>{BP(),setTimeout(()=>{var T,_;const N=((_=(T=t.state)==null?void 0:T.from)==null?void 0:_.pathname)||"/feed";e(N,{replace:!0})},1e3)},w={enter:N=>({x:N>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:N=>({x:N<0?50:-50,opacity:0})};return n===3?r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white/90 dark:bg-black/90 backdrop-blur-xl",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),r.jsxs(A.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",duration:.8},className:"relative w-full max-w-lg bg-white/80 dark:bg-[#151515]/80 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-2xl rounded-3xl p-8 md:p-12 text-center",children:[r.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-24 h-24 mx-auto mb-8 rounded-full bg-gradient-to-tr from-green-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/30",children:r.jsx(ot,{className:"w-12 h-12 text-white stroke-[3px]"})}),r.jsx(A.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4 tracking-tight",children:"Welcome Aboard!"}),r.jsx(A.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:"Your journey with Baptizo Community begins now. We're thrilled to have you here."}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/10 p-6 rounded-2xl border border-green-100 dark:border-green-900/30",children:[r.jsxs("h3",{className:"font-bold text-green-800 dark:text-green-400 mb-2 flex items-center justify-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-ping"}),"Final Step: Join the Community"]}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300/80",children:"Connect with other members and get real-time updates in our exclusive WhatsApp group."})]}),r.jsx(M,{onClick:k,className:"w-full h-14 text-lg font-medium bg-[#25D366] hover:bg-[#128C7E] text-white shadow-xl shadow-green-500/20 transition-transform active:scale-[0.98]",children:"Join WhatsApp Group"}),r.jsx("button",{onClick:()=>e("/feed"),className:"text-sm font-medium text-gray-400 hover:text-primary-500 transition-colors py-2",children:"Skip for now & Go to Feed"})]})]})]}):r.jsx("div",{className:"w-full max-w-md mx-auto",children:r.jsxs(D,{glass:!0,className:"overflow-hidden",children:[r.jsxs(fe,{className:"pt-8 pb-2",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl shadow-primary-500/10"})}),r.jsx(ge,{className:"text-center text-3xl font-display",children:"Join Baptizo"}),r.jsxs("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:["Step ",n," of 2: ",n===1?"Account Details":"Personal Info"]}),r.jsxs("div",{className:"flex gap-2 mt-6 justify-center",children:[r.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${n>=1?"w-16 bg-primary-500":"w-4 bg-gray-200 dark:bg-gray-700"}`}),r.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${n>=2?"w-16 bg-primary-500":"w-4 bg-gray-200 dark:bg-gray-700"}`})]})]}),r.jsxs(F,{className:"pt-6",children:[r.jsx("form",{onSubmit:j,children:r.jsxs(se,{mode:"wait",custom:n,children:[n===1&&r.jsxs(A.div,{custom:1,variants:w,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-4",children:[r.jsx(he,{label:"Full Name",value:o.name,onChange:N=>l({...o,name:N.target.value}),icon:r.jsx(ft,{className:"w-5 h-5"}),placeholder:"Enter your full name",error:u.name,required:!0,autoFocus:!0}),r.jsx(he,{label:"Email Address",type:"email",value:o.email,onChange:N=>l({...o,email:N.target.value}),icon:r.jsx(ts,{className:"w-5 h-5"}),placeholder:"your@email.com",error:u.email,required:!0}),r.jsx(he,{label:"Password",type:"password",value:o.password,onChange:N=>l({...o,password:N.target.value}),icon:r.jsx(st,{className:"w-5 h-5"}),placeholder:"Min. 6 characters",error:u.password,required:!0}),r.jsx(he,{label:"Confirm Password",type:"password",value:o.confirmPassword,onChange:N=>l({...o,confirmPassword:N.target.value}),icon:r.jsx(st,{className:"w-5 h-5"}),placeholder:"Confirm your password",error:u.confirmPassword,required:!0}),r.jsxs(M,{type:"button",onClick:p,className:"w-full mt-4",size:"lg",children:["Next Step ",r.jsx(Ct,{className:"w-4 h-4 ml-2"})]})]},"step1"),n===2&&r.jsxs(A.div,{custom:2,variants:w,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx(he,{label:"Phone Number",type:"tel",value:o.phone,onChange:N=>g(N.target.value),icon:r.jsx(Pd,{className:"w-5 h-5"}),placeholder:"080 1234 5678",error:u.phone,required:!0,autoFocus:!0}),r.jsx("div",{className:"mt-2 flex items-center justify-between",children:d&&d!=="Unknown"&&r.jsx(W,{variant:"primary",className:"animate-in fade-in zoom-in",children:d})})]}),r.jsx(he,{label:"Profession / Skill",value:o.profession,onChange:N=>l({...o,profession:N.target.value}),icon:r.jsx(Ih,{className:"w-5 h-5"}),placeholder:"e.g. Graphic Designer, Student",error:u.profession,required:!0}),r.jsx("div",{className:`p-4 rounded-xl border transition-all cursor-pointer ${o.whatsappConfirm?"bg-primary-50 dark:bg-primary-900/20 border-primary-500":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border hover:border-primary-300"}`,onClick:()=>l({...o,whatsappConfirm:!o.whatsappConfirm}),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors ${o.whatsappConfirm?"bg-primary-500 border-primary-500":"border-gray-400"}`,children:o.whatsappConfirm&&r.jsx(ot,{className:"w-3.5 h-3.5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:"WhatsApp Confirmation"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5",children:"I confirm that the phone number provided is active on WhatsApp."})]})]})}),u.whatsappConfirm&&r.jsx("p",{className:"text-xs text-red-500 font-medium px-1",children:u.whatsappConfirm}),u.general&&r.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u.general})}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx(M,{type:"button",variant:"ghost",onClick:b,className:"flex-1",children:"Back"}),r.jsx(M,{type:"submit",variant:"primary",className:"flex-[2]",isLoading:x,children:"Create Account"})]})]},"step2")]})}),r.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted mt-6 pb-2",children:["Already have an account?"," ",r.jsx(re,{to:"/login",state:{from:(C=t.state)==null?void 0:C.from},className:"text-primary-500 hover:text-primary-600 font-bold transition-colors",children:"Sign In"})]})]})]})})}function $P(){return r.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsx(UP,{})})}function yn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yn=function(t){return typeof t}:yn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(e)}function VP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zP(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qP(e,t,s){return t&&zP(e.prototype,t),e}function Lj(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bg(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fa(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?bg(Object(s),!0).forEach(function(a){Lj(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bg(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function WP(e,t){if(e){if(typeof e=="string")return yg(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yg(e,t)}}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function HP(e,t){var s;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(s=WP(e))||t){s&&(e=s);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(d){throw d},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,l;return{s:function(){s=e[Symbol.iterator]()},n:function(){var d=s.next();return i=d.done,d},e:function(d){o=!0,l=d},f:function(){try{!i&&s.return!=null&&s.return()}finally{if(o)throw l}}}}var QP="3.1.0",kt={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},PRIVATE_KEY_CLIENT_SIDE:{message:"privateKey should not be passed on the client side",help:""},MISSING_UPLOAD_DATA:{message:"Missing data for upload",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_AUTHENTICATION_ENDPOINT:{message:"Missing authentication endpoint for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},AUTH_ENDPOINT_TIMEOUT:{message:"The authenticationEndpoint you provided timed out in 60 seconds",help:""},AUTH_ENDPOINT_NETWORK_ERROR:{message:"Request to authenticationEndpoint failed due to network error",help:""},AUTH_INVALID_RESPONSE:{message:"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},INVALID_TRANSFORMATION:{message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},INVALID_PRE_TRANSFORMATION:{message:"Invalid pre transformation parameter.",help:""},INVALID_POST_TRANSFORMATION:{message:"Invalid post transformation parameter.",help:""}};function Mt(e,t,s){typeof s=="function"&&(e?s(t,null):s(null,t))}function GP(e){var t={},s=e.getAllResponseHeaders();return Object.keys(s).length&&s.trim().split(/[\r\n]+/).map(function(a){return a.split(/: /)}).forEach(function(a){t[a[0].trim()]=a[1].trim()}),t}var vg=function(t,s){var a=fa({},t),n={statusCode:s.status,headers:GP(s)};return Object.defineProperty(a,"$ResponseMetadata",{value:n,enumerable:!1,writable:!1}),a},KP=function(t,s,a){YP(t,s).then(function(n){return Mt(!1,n,a)},function(n){return Mt(!0,n,a)})},YP=function(t,s){return new Promise(function(a,n){t.open("POST","https://upload.imagekit.io/api/v1/files/upload"),t.onerror=function(i){return n(kt.UPLOAD_ENDPOINT_NETWORK_ERROR)},t.onload=function(){if(t.status===200)try{var i=JSON.parse(t.responseText),o=vg(i,t);return a(o)}catch(d){return n(d)}else try{var i=JSON.parse(t.responseText),l=vg(i,t);return n(l)}catch(d){return n(d)}},t.send(s)})},JP=function(t,s,a,n){if(!s.file){Mt(!0,kt.MISSING_UPLOAD_FILE_PARAMETER,n);return}if(!s.fileName){Mt(!0,kt.MISSING_UPLOAD_FILENAME_PARAMETER,n);return}if(!a.publicKey){Mt(!0,kt.MISSING_PUBLIC_KEY,n);return}if(!s.token){Mt(!0,kt.MISSING_TOKEN,n);return}if(!s.signature){Mt(!0,kt.MISSING_SIGNATURE,n);return}if(!s.expire){Mt(!0,kt.MISSING_EXPIRE,n);return}if(s.transformation){if(!(Object.keys(s.transformation).includes("pre")||Object.keys(s.transformation).includes("post"))){Mt(!0,kt.INVALID_TRANSFORMATION,n);return}if(Object.keys(s.transformation).includes("pre")&&!s.transformation.pre){Mt(!0,kt.INVALID_PRE_TRANSFORMATION,n);return}if(Object.keys(s.transformation).includes("post"))if(Array.isArray(s.transformation.post)){var i=HP(s.transformation.post),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;if(l.type==="abs"&&!(l.protocol||l.value)){Mt(!0,kt.INVALID_POST_TRANSFORMATION,n);return}else if(l.type==="transformation"&&!l.value){Mt(!0,kt.INVALID_POST_TRANSFORMATION,n);return}}}catch(u){i.e(u)}finally{i.f()}}else{Mt(!0,kt.INVALID_POST_TRANSFORMATION,n);return}}var d=new FormData,c;for(c in s)c&&(c==="file"&&typeof s.file!="string"?d.append("file",s.file,String(s.fileName)):c==="tags"&&Array.isArray(s.tags)?d.append("tags",s.tags.join(",")):c==="signature"?d.append("signature",s.signature):c==="expire"?d.append("expire",String(s.expire)):c==="token"?d.append("token",s.token):c==="responseFields"&&Array.isArray(s.responseFields)?d.append("responseFields",s.responseFields.join(",")):c==="extensions"&&Array.isArray(s.extensions)?d.append("extensions",JSON.stringify(s.extensions)):c==="customMetadata"&&yn(s.customMetadata)==="object"&&!Array.isArray(s.customMetadata)&&s.customMetadata!==null?d.append("customMetadata",JSON.stringify(s.customMetadata)):c==="transformation"&&yn(s.transformation)==="object"&&s.transformation!==null?d.append(c,JSON.stringify(s.transformation)):c==="checks"&&s.checks?d.append("checks",s.checks):s[c]!==void 0&&d.append(c,String(s[c])));d.append("publicKey",a.publicKey),KP(t,d,n)},jg={width:"w",height:"h",aspectRatio:"ar",background:"bg",border:"b",crop:"c",cropMode:"cm",dpr:"dpr",focus:"fo",quality:"q",x:"x",xCenter:"xc",y:"y",yCenter:"yc",format:"f",videoCodec:"vc",audioCodec:"ac",radius:"r",rotation:"rt",blur:"bl",named:"n",defaultImage:"di",flip:"fl",original:"orig",startOffset:"so",endOffset:"eo",duration:"du",streamingResolutions:"sr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",effectShadow:"e-shadow",effectGradient:"e-gradient",rotate:"rt",grayscale:"e-grayscale",aiUpscale:"e-upscale",aiRetouch:"e-retouch",aiVariation:"e-genvar",aiDropShadow:"e-dropshadow",aiChangeBackground:"e-changebg",aiRemoveBackground:"e-bgremove",aiRemoveBackgroundExternal:"e-removedotbg",contrastStretch:"e-contrast",shadow:"e-shadow",sharpen:"e-sharpen",unsharpMask:"e-usm",gradient:"e-gradient",progressive:"pr",lossless:"lo",colorProfile:"cp",metadata:"md",opacity:"o",trim:"t",zoom:"z",page:"pg",raw:"raw"},Oj="path",Fj="query",XP=[Oj,Fj],ZP=":",eA=",",tA="-",Ns={getDefault:function(){return Oj},addAsQueryParameter:function(t){return t.transformationPosition===Fj},validParameters:function(t){return typeof t.transformationPosition>"u"?!1:XP.indexOf(t.transformationPosition)!=-1},getTransformKey:function(t){return t&&(jg[t]||jg[t.toLowerCase()])||""},getChainTransformDelimiter:function(){return ZP},getTransformDelimiter:function(){return eA},getTransformKeyValueDelimiter:function(){return tA}},kg="tr";function rA(e){return typeof e=="string"&&e[e.length-1]=="/"&&(e=e.substring(0,e.length-1)),e}function sA(e){return typeof e=="string"&&e[0]=="/"&&(e=e.slice(1)),e}function Ko(e,t){var s="/",a=new RegExp(s+"{1,}","g");return e.join(s).replace(a,s)}var aA=function(t){if(!t.path&&!t.src)return"";var s,a,n;try{t.path?(n=new URL(t.urlEndpoint).pathname,s=new URL(Ko([t.urlEndpoint.replace(n,""),t.path]))):(s=new URL(t.src),a=!0)}catch(l){return console.error(l),""}for(var i in t.queryParameters)s.searchParams.append(i,String(t.queryParameters[i]));var o=nA(t.transformation);return o&&o.length&&(Ns.addAsQueryParameter(t)||a?s.searchParams.append(kg,o):s.pathname=Ko([kg+Ns.getChainTransformDelimiter()+o,s.pathname])),n?s.pathname=Ko([n,s.pathname]):s.pathname=Ko([s.pathname]),s.href};function nA(e){if(!Array.isArray(e))return"";for(var t=[],s=0,a=e.length;s<a;s++){var n=[];for(var i in e[s]){var o=e[s][i];if(o!=null){var l=Ns.getTransformKey(i);if(l||(l=i),l!=="")if(["e-grayscale","e-contrast","e-removedotbg","e-bgremove","e-upscale","e-retouch","e-genvar"].includes(l))if(o===!0||o==="-"||o==="true")n.push(l);else continue;else["e-sharpen","e-shadow","e-gradient","e-usm","e-dropshadow"].includes(l)&&(o.toString().trim()===""||o===!0||o==="true")?n.push(l):i==="raw"?n.push(e[s][i]):(l==="di"&&(o=rA(sA(o||"")),o=o.replace(/\//g,"@@")),l==="sr"&&Array.isArray(o)&&(o=o.join("_")),l==="t"&&o.toString().trim()===""&&(o="true"),n.push([l,o].join(Ns.getTransformKeyValueDelimiter())))}}n.length&&t.push(n.join(Ns.getTransformDelimiter()))}return t.join(Ns.getChainTransformDelimiter())}var iA=function(t,s){return aA(fa(fa({},s),t))};function oA(e){return e.urlEndpoint}var lA=function(t,s){return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];if(n.length===s.length&&typeof n[n.length-1]<"u"){if(typeof n[n.length-1]!="function")throw new Error("Callback must be a function.");s.call.apply(s,[t].concat(n))}else return new Promise(function(o,l){var d=function(u){if(u)return l(u);for(var m=arguments.length,x=new Array(m>1?m-1:0),h=1;h<m;h++)x[h-1]=arguments[h];o(x.length>1?x:x[0])};n.pop(),n.push(d),s.call.apply(s,[t].concat(n))})}},dA=function(){function e(t){if(VP(this,e),Lj(this,"options",{sdkVersion:"javascript-".concat(QP),publicKey:"",urlEndpoint:"",transformationPosition:Ns.getDefault()}),this.options=fa(fa({},this.options),t||{}),!oA(this.options))throw kt.MANDATORY_INITIALIZATION_MISSING;if(!Ns.validParameters(this.options))throw kt.INVALID_TRANSFORMATION_POSITION}return qP(e,[{key:"url",value:function(s){return iA(s,this.options)}},{key:"upload",value:function(s,a,n){var i;if(typeof a=="function"?i=a:n=a||{},!s||yn(s)!=="object")return Mt(!0,kt.INVALID_UPLOAD_OPTIONS,i);var o=fa(fa({},this.options),n),l=s||{},d=l.xhr;delete s.xhr;var c=d||new XMLHttpRequest;return lA(this,JP)(c,s,o,i)}}]),e}();new dA({publicKey:"public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=",urlEndpoint:"https://ik.imagekit.io/h3qzmviwv"});const Bd=async(e,t,s)=>new Promise((a,n)=>{const i=new FormData;i.append("file",e),i.append("fileName",e.name),i.append("folder",`/baptizo/${t}`),i.append("publicKey","public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=");const o=new XMLHttpRequest;o.upload.addEventListener("progress",d=>{if(d.lengthComputable&&s){const c=Math.round(d.loaded/d.total*100);s(c)}}),o.addEventListener("load",()=>{if(o.status===200)try{const d=JSON.parse(o.responseText);a(d.url)}catch{n(new Error("Failed to parse response"))}else n(new Error(`Upload failed with status ${o.status}`))}),o.addEventListener("error",()=>{n(new Error("Upload failed"))}),o.open("POST","https://upload.imagekit.io/api/v1/files/upload");const l=btoa("private_RDhLHlvGS4fKh49gv6q5Ygv2bHg=:");o.setRequestHeader("Authorization",`Basic ${l}`),o.send(i)}),ax=e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type),cA=e=>["video/mp4","video/webm","video/ogg"].includes(e.type),Bj=(e,t,s)=>{if(!e)return"";const a=[];if(a.push(`w-${t}`),a.push(`h-${s}`),a.length===0)return e;const n=`tr:${a.join(",")}`;return e.replace("/baptizo/",`/baptizo/${n}/`)};function gt({src:e,alt:t="Avatar",size:s="md",className:a}){const n={xs:"w-6 h-6 text-[10px]",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-14 h-14 text-lg",xl:"w-20 h-20 text-2xl"},i=(t||"User").split(" ").map(o=>o[0]).join("").slice(0,2).toUpperCase();return r.jsx("div",{className:Y("rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-bold flex items-center justify-center shrink-0 border border-primary-200 dark:border-primary-800",n[s],a),children:e?r.jsx("img",{src:Bj(e,200,200),alt:t,className:"w-full h-full object-cover",onError:o=>{var l;o.currentTarget.style.display="none",(l=o.currentTarget.parentElement)==null||l.classList.add("fallback-avatar")}}):r.jsx("span",{children:i})})}function ke(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ws(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Uj=6048e5,uA=864e5,Yo=43200,wg=1440;let mA={};function jo(){return mA}function so(e,t){var l,d,c,u;const s=jo(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,n=ke(e),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function ad(e){return so(e,{weekStartsOn:1})}function $j(e){const t=ke(e),s=t.getFullYear(),a=Ws(e,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const n=ad(a),i=Ws(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=ad(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function Ng(e){const t=ke(e);return t.setHours(0,0,0,0),t}function nd(e){const t=ke(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function hA(e,t){const s=Ng(e),a=Ng(t),n=+s-nd(s),i=+a-nd(a);return Math.round((n-i)/uA)}function xA(e){const t=$j(e),s=Ws(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),ad(s)}function pl(e,t){const s=ke(e),a=ke(t),n=s.getTime()-a.getTime();return n<0?-1:n>0?1:n}function pA(e){return Ws(e,Date.now())}function fA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gA(e){if(!fA(e)&&typeof e!="number")return!1;const t=ke(e);return!isNaN(Number(t))}function bA(e,t){const s=ke(e),a=ke(t),n=s.getFullYear()-a.getFullYear(),i=s.getMonth()-a.getMonth();return n*12+i}function yA(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function vA(e,t){return+ke(e)-+ke(t)}function jA(e){const t=ke(e);return t.setHours(23,59,59,999),t}function kA(e){const t=ke(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function wA(e){const t=ke(e);return+jA(t)==+kA(t)}function NA(e,t){const s=ke(e),a=ke(t),n=pl(s,a),i=Math.abs(bA(s,a));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);let l=pl(s,a)===-n;wA(ke(e))&&i===1&&pl(e,a)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function SA(e,t,s){const a=vA(e,t)/1e3;return yA(s==null?void 0:s.roundingMethod)(a)}function CA(e){const t=ke(e),s=Ws(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const TA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PA=(e,t,s)=>{let a;const n=TA[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Hc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const AA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_A={date:Hc({formats:AA,defaultWidth:"full"}),time:Hc({formats:IA,defaultWidth:"full"}),dateTime:Hc({formats:MA,defaultWidth:"full"})},EA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RA=(e,t,s,a)=>EA[e];function ni(e){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const DA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$A=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},VA={ordinalNumber:$A,era:ni({values:DA,defaultWidth:"wide"}),quarter:ni({values:LA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ni({values:OA,defaultWidth:"wide"}),day:ni({values:FA,defaultWidth:"wide"}),dayPeriod:ni({values:BA,defaultWidth:"wide",formattingValues:UA,defaultFormattingWidth:"wide"})};function ii(e){return(t,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?qA(l,m=>m.test(o)):zA(l,m=>m.test(o));let c;c=e.valueCallback?e.valueCallback(d):d,c=s.valueCallback?s.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function zA(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function qA(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function WA(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const HA=/^(\d+)(th|st|nd|rd)?/i,QA=/\d+/i,GA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KA={any:[/^b/i,/^(a|c)/i]},YA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JA={any:[/1/i,/2/i,/3/i,/4/i]},XA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a6={ordinalNumber:WA({matchPattern:HA,parsePattern:QA,valueCallback:e=>parseInt(e,10)}),era:ii({matchPatterns:GA,defaultMatchWidth:"wide",parsePatterns:KA,defaultParseWidth:"any"}),quarter:ii({matchPatterns:YA,defaultMatchWidth:"wide",parsePatterns:JA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ii({matchPatterns:XA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any"}),day:ii({matchPatterns:e6,defaultMatchWidth:"wide",parsePatterns:t6,defaultParseWidth:"any"}),dayPeriod:ii({matchPatterns:r6,defaultMatchWidth:"any",parsePatterns:s6,defaultParseWidth:"any"})},Vj={code:"en-US",formatDistance:PA,formatLong:_A,formatRelative:RA,localize:VA,match:a6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n6(e){const t=ke(e);return hA(t,CA(t))+1}function i6(e){const t=ke(e),s=+ad(t)-+xA(t);return Math.round(s/Uj)+1}function zj(e,t){var u,m,x,h;const s=ke(e),a=s.getFullYear(),n=jo(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(x=n.locale)==null?void 0:x.options)==null?void 0:h.firstWeekContainsDate)??1,o=Ws(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=so(o,t),d=Ws(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const c=so(d,t);return s.getTime()>=l.getTime()?a+1:s.getTime()>=c.getTime()?a:a-1}function o6(e,t){var l,d,c,u;const s=jo(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,n=zj(e,t),i=Ws(e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),so(i,t)}function l6(e,t){const s=ke(e),a=+so(s,t)-+o6(s,t);return Math.round(a/Uj)+1}function be(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const xs={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return be(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):be(s+1,2)},d(e,t){return be(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return be(e.getHours()%12||12,t.length)},H(e,t){return be(e.getHours(),t.length)},m(e,t){return be(e.getMinutes(),t.length)},s(e,t){return be(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return be(n,t.length)}},Ha={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sg={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return xs.y(e,t)},Y:function(e,t,s,a){const n=zj(e,a),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return be(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):be(i,t.length)},R:function(e,t){const s=$j(e);return be(s,t.length)},u:function(e,t){const s=e.getFullYear();return be(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return be(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return be(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return xs.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return be(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const n=l6(e,a);return t==="wo"?s.ordinalNumber(n,{unit:"week"}):be(n,t.length)},I:function(e,t,s){const a=i6(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):be(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):xs.d(e,t)},D:function(e,t,s){const a=n6(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):be(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return be(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return be(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return be(n,t.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let n;switch(a===12?n=Ha.noon:a===0?n=Ha.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let n;switch(a>=17?n=Ha.evening:a>=12?n=Ha.afternoon:a>=4?n=Ha.morning:n=Ha.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return xs.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):xs.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):be(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):be(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):xs.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):xs.s(e,t)},S:function(e,t){return xs.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Tg(a);case"XXXX":case"XX":return da(a);case"XXXXX":case"XXX":default:return da(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return Tg(a);case"xxxx":case"xx":return da(a);case"xxxxx":case"xxx":default:return da(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cg(a,":");case"OOOO":default:return"GMT"+da(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cg(a,":");case"zzzz":default:return"GMT"+da(a,":")}},t:function(e,t,s){const a=Math.trunc(e.getTime()/1e3);return be(a,t.length)},T:function(e,t,s){const a=e.getTime();return be(a,t.length)}};function Cg(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+t+be(i,2)}function Tg(e,t){return e%60===0?(e>0?"-":"+")+be(Math.abs(e)/60,2):da(e,t)}function da(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=be(Math.trunc(a/60),2),i=be(a%60,2);return s+n+t+i}const Pg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},d6=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return Pg(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Pg(a,t)).replace("{{time}}",qj(n,t))},c6={p:qj,P:d6},u6=/^D+$/,m6=/^Y+$/,h6=["D","DD","YY","YYYY"];function x6(e){return u6.test(e)}function p6(e){return m6.test(e)}function f6(e,t,s){const a=g6(e,t,s);if(console.warn(a),h6.includes(e))throw new RangeError(a)}function g6(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const b6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v6=/^'([^]*?)'?$/,j6=/''/g,k6=/[a-zA-Z]/;function w6(e,t,s){var u,m,x,h;const a=jo(),n=a.locale??Vj,i=a.firstWeekContainsDate??((m=(u=a.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,o=a.weekStartsOn??((h=(x=a.locale)==null?void 0:x.options)==null?void 0:h.weekStartsOn)??0,l=ke(e);if(!gA(l))throw new RangeError("Invalid time value");let d=t.match(y6).map(g=>{const y=g[0];if(y==="p"||y==="P"){const v=c6[y];return v(g,n.formatLong)}return g}).join("").match(b6).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:N6(g)};if(Sg[y])return{isToken:!0,value:g};if(y.match(k6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(g=>{if(!g.isToken)return g.value;const y=g.value;(p6(y)||x6(y))&&f6(y,t,String(e));const v=Sg[y[0]];return v(l,y,n.localize,c)}).join("")}function N6(e){const t=e.match(v6);return t?t[1].replace(j6,"'"):e}function S6(e,t,s){const a=jo(),n=(s==null?void 0:s.locale)??a.locale??Vj,i=2520,o=pl(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let d,c;o>0?(d=ke(t),c=ke(e)):(d=ke(e),c=ke(t));const u=SA(c,d),m=(nd(c)-nd(d))/1e3,x=Math.round((u-m)/60);let h;if(x<2)return s!=null&&s.includeSeconds?u<5?n.formatDistance("lessThanXSeconds",5,l):u<10?n.formatDistance("lessThanXSeconds",10,l):u<20?n.formatDistance("lessThanXSeconds",20,l):u<40?n.formatDistance("halfAMinute",0,l):u<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):x===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",x,l);if(x<45)return n.formatDistance("xMinutes",x,l);if(x<90)return n.formatDistance("aboutXHours",1,l);if(x<wg){const g=Math.round(x/60);return n.formatDistance("aboutXHours",g,l)}else{if(x<i)return n.formatDistance("xDays",1,l);if(x<Yo){const g=Math.round(x/wg);return n.formatDistance("xDays",g,l)}else if(x<Yo*2)return h=Math.round(x/Yo),n.formatDistance("aboutXMonths",h,l)}if(h=NA(c,d),h<12){const g=Math.round(x/Yo);return n.formatDistance("xMonths",g,l)}else{const g=h%12,y=Math.trunc(h/12);return g<3?n.formatDistance("aboutXYears",y,l):g<9?n.formatDistance("overXYears",y,l):n.formatDistance("almostXYears",y+1,l)}}function pt(e,t){return S6(e,pA(e),t)}function dt({isOpen:e,onClose:t,children:s,title:a,className:n,maxWidth:i="max-w-md"}){return f.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),f.useEffect(()=>{const o=l=>{l.key==="Escape"&&e&&t()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]),gy.createPortal(r.jsx(se,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:t}),r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:r.jsxs(A.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:Y("w-full max-h-[90vh] overflow-y-auto custom-scrollbar",i,"bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl","border border-light-border dark:border-dark-border",n),onClick:o=>o.stopPropagation(),children:[a&&r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-light-border dark:border-dark-border",children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:a}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:r.jsx(Me,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})})]}),r.jsxs("div",{className:a?"p-6":"p-6 relative",children:[!a&&r.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:r.jsx(Me,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),s]})]})})]})}),document.body)}function C6({isOpen:e,onClose:t,postId:s}){var v;const{user:a}=X(),[n,i]=f.useState(""),[o,l]=f.useState(null),[d,c]=f.useState(""),[u,m]=f.useState(!1),x=B(S.users.getAllUsers,a&&(a.role==="admin"||a.role==="super_admin")?{adminId:a._id}:"skip"),h=$(S.assignments.createAssignment),g=x==null?void 0:x.filter(p=>{var b,j;return((b=p.name)==null?void 0:b.toLowerCase().includes(n.toLowerCase()))||((j=p.email)==null?void 0:j.toLowerCase().includes(n.toLowerCase()))}).slice(0,5),y=async p=>{if(p.preventDefault(),!(!a||!o||!d.trim())){m(!0);try{await h({adminId:a._id,userId:o,postId:s,instructions:d.trim()}),t(),l(null),c(""),i("")}catch(b){console.error("Failed to assign task:",b),alert("Failed to assign task. Please try again.")}finally{m(!1)}}};return r.jsx(dt,{isOpen:e,onClose:t,title:"Assign Task",children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Select Member"}),r.jsxs("div",{className:"relative",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),placeholder:"Search by name or email...",className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500"})]}),n&&g&&r.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:g.map(p=>r.jsxs("div",{onClick:()=>l(p._id),className:`p-2 rounded-lg cursor-pointer flex items-center gap-2 transition-colors ${o===p._id?"bg-primary-500 text-white":"bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg text-light-text dark:text-dark-text"}`,children:[r.jsx(ft,{className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:p.name}),r.jsx("p",{className:"text-xs opacity-80",children:p.email})]}),o===p._id&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})]},p._id))}),o&&!n&&r.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-primary-100 dark:bg-primary-900 border border-primary-500 text-primary-700 dark:text-primary-300 text-sm",children:["Selected: ",(v=x==null?void 0:x.find(p=>p._id===o))==null?void 0:v.name]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Instructions"}),r.jsx("textarea",{value:d,onChange:p=>c(p.target.value),placeholder:"Describe the task for this member...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(M,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(M,{type:"submit",variant:"primary",disabled:!o||!d.trim()||u,children:u?"Assigning...":"Assign Task"})]})]})})}function T6({src:e,alt:t,onClose:s,layoutId:a}){const n=async()=>{if(navigator.share)try{await navigator.share({title:t||"Baptizo Image",text:"Check out this image",url:e})}catch(o){console.error("Error sharing:",o)}else try{await navigator.clipboard.writeText(e),alert("Image link copied to clipboard!")}catch(o){console.error("Failed to copy:",o)}},i=async()=>{try{const l=await(await fetch(e)).blob(),d=window.URL.createObjectURL(l),c=document.createElement("a");c.href=d,c.download=t||"baptizo-image.jpg",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(d)}catch(o){console.error("Failed to download:",o),window.open(e,"_blank")}};return r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm shadow-2xl overflow-hidden",onClick:s,children:[r.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[110] flex items-center justify-between p-4 bg-gradient-to-b from-black/60 to-transparent",onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white","aria-label":"Back",children:r.jsx(yr,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-white font-medium truncate max-w-[200px]",children:t||"Image"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",title:"Share image",children:r.jsx(Bn,{className:"w-5 h-5"})}),r.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",title:"Download image",children:r.jsx(xo,{className:"w-5 h-5"})}),r.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:r.jsx(Me,{className:"w-6 h-6"})})]})]}),r.jsx(A.div,{className:"relative z-[105] w-full h-full flex items-center justify-center p-4",onClick:o=>o.stopPropagation(),children:r.jsx(A.img,{layoutId:a,src:e,alt:t,className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm",draggable:!1})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent pointer-events-none",children:r.jsx("p",{className:"text-white/60 text-sm text-center max-w-2xl mx-auto",children:t})})]})}function Ma({isOpen:e,onClose:t,onConfirm:s,title:a,description:n,confirmText:i="Confirm",cancelText:o="Cancel",variant:l="primary"}){return r.jsx(dt,{isOpen:e,onClose:t,title:a,children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed",children:n}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx(M,{variant:"outline",onClick:t,className:"border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg",children:o}),r.jsx(M,{variant:l==="danger"?"danger":"primary",onClick:()=>{s(),t()},className:l==="primary"?"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/20":"",children:i})]})]})})}function nx({post:e,onCommentClick:t,hasUserLiked:s=!1}){var ta,ra,ls,ur,mr,ds,cs,zn,qn;const{user:a}=X(),n=ue(),i=$(S.posts.likePost),o=$(S.editDelete.deletePostUser),l=$(S.editDelete.editPost),d=$(S.follows.toggleFollow),c=$(S.posts.togglePostDisabled),u=B(S.settings.getCommentsEnabled),m=B(S.settings.getQuestionsOnPostsEnabled),x=B(S.posts.isPostSaved,a?{userId:a._id,postId:e._id}:"skip"),h=$(S.posts.toggleSavePost),[g,y]=f.useState(!1),[v,p]=f.useState(s),[b,j]=f.useState(e.likeCount),[k,w]=f.useState(!1),[C,N]=f.useState(!1),[T,_]=f.useState(!1),[P,V]=f.useState(e.content),[R,G]=f.useState(!1),[ee,E]=f.useState(0),L=e.content.length>250,ie=e.content.length>1200;f.useEffect(()=>{E(0)},[e._id]);const z=pe=>{if(!L){!e.imageUrl&&!e.videoUrl&&n(`/post/${e._id}`);return}pe.stopPropagation(),ie?ee===0?E(1):ee===1&&E(2):E(ee===0?2:0)},U=pe=>{pe.stopPropagation(),E(ie?ee===0?1:ee===1?2:0:ee===0?2:0)},[J,H]=f.useState(!1),me=B(S.follows.isFollowing,a&&e.author?{followerId:a._id,followingId:e.author._id}:"skip"),ne=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="super_admin",Q=((ta=e.author)==null?void 0:ta.role)==="admin"||((ra=e.author)==null?void 0:ra.role)==="super_admin",le=e.postType==="question",de=e.postType==="prayer";f.useEffect(()=>{p(s),j(e.likeCount)},[s,e.likeCount]);const cr=async()=>{if(!a||g||Q&&v)return;const pe=!v;p(pe),j(It=>pe?It+1:It-1),y(!0);try{await i({userId:a._id,postId:e._id})}catch(It){(It instanceof Error?It.message:"").includes("already liked")||(p(!pe),j(Wn=>pe?Wn-1:Wn+1)),console.error("Failed to like post:",It)}finally{y(!1)}},Vn=async()=>{if(!(!a||!e.author))try{await d({followerId:a._id,followingId:e.author._id}),w(!1)}catch(pe){console.error("Failed to toggle follow:",pe)}},ea=async()=>{if(a)try{await h({userId:a._id,postId:e._id}),w(!1)}catch(pe){console.error("Failed to toggle save:",pe)}},os=()=>{a&&(H(!0),w(!1))},Xt=async()=>{try{await o({userId:a._id,postId:e._id})}catch(pe){console.error("Failed to delete post:",pe)}},ko=async()=>{if(!ne||!a)return;const pe=prompt("Enter reason for disabling this post:","Violates community guidelines");if(pe!==null)try{await c({postId:e._id,adminId:a._id,disabled:!0,reason:pe||"Disabled by admin"}),w(!1)}catch(It){console.error("Failed to disable post:",It),alert("Failed to disable post.")}},Hd=()=>{T?wo():(_(!0),w(!1))},wo=async()=>{if(a)try{await l({userId:a._id,postId:e._id,content:P}),_(!1)}catch(pe){console.error("Failed to edit post:",pe),alert("Failed to update post.")}},Qd=()=>{if(e.imageUrl){const pe=document.createElement("a");pe.href=e.imageUrl,pe.download=`post-${e._id}.jpg`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)}else alert("Download feature coming soon!")},Gd=()=>{var pe;navigator.share?navigator.share({title:`Post by ${(pe=e.author)==null?void 0:pe.name}`,text:e.content,url:window.location.href}).catch(console.error):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},Kd=()=>le?"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/30 to-white dark:from-blue-900/20 dark:to-[#1A1A1A]":de?"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50/30 to-white dark:from-purple-900/20 dark:to-[#1A1A1A]":"bg-white dark:bg-[#1A1A1A]";return r.jsxs(r.Fragment,{children:[r.jsxs(A.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:`group relative rounded-3xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 dark:border-gray-800 overflow-hidden ${Kd()}`,children:[r.jsx("div",{className:"p-4 sm:p-5 pb-2",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(re,{to:`/profile/${(ls=e.author)==null?void 0:ls._id}`,className:"relative block",children:[r.jsx(gt,{src:(ur=e.author)==null?void 0:ur.avatarUrl,alt:((mr=e.author)==null?void 0:mr.name)||"User",className:`w-12 h-12 ring-2 transition-transform hover:scale-105 ${Q?"ring-primary-500 shadow-lg shadow-primary-500/20":le?"ring-blue-400":de?"ring-purple-400":"ring-transparent"}`}),Q&&r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary-500 text-white p-0.5 rounded-full ring-2 ring-white dark:ring-[#1A1A1A]",children:r.jsx($e,{className:"w-3 h-3"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-0.5",children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm sm:text-base leading-tight group-hover:text-primary-500 transition-colors",children:(ds=e.author)==null?void 0:ds.name}),Q?r.jsx(W,{variant:"primary",className:"bg-primary-500/10 text-primary-600 dark:text-primary-400 border-0 text-[10px] py-0 px-1.5 h-4 flex-shrink-0",children:((cs=e.author)==null?void 0:cs.role)==="admin"?"Community Admin":"Super Admin"}):r.jsx(W,{variant:"outline",className:`text-[10px] py-0 px-1.5 h-4 flex-shrink-0 ${le?"text-blue-600 border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20":de?"text-purple-600 border-purple-200 dark:border-purple-800 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 border-gray-200 dark:border-gray-700"}`,children:le?"Question":de?"Prayer":"Member"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[r.jsx("span",{className:"whitespace-nowrap",children:pt(e.createdAt,{addSuffix:!0})}),r.jsx("span",{children:""}),r.jsx("span",{className:"font-medium",children:e.category})]})]})]}),r.jsxs("div",{className:"relative z-10 flex items-start gap-2",children:[r.jsx("button",{onClick:()=>w(!k),className:"p-2 -mr-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",children:r.jsx(y4,{className:"w-5 h-5"})}),r.jsx(se,{children:k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>w(!1)}),r.jsxs(A.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-[#252525] rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 z-20 py-1 overflow-hidden",children:[a&&e.author&&a._id!==e.author._id&&r.jsx("button",{onClick:Vn,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:me?r.jsxs(r.Fragment,{children:[r.jsx(av,{className:"w-4 h-4"})," Unfollow"]}):r.jsxs(r.Fragment,{children:[r.jsx(Kl,{className:"w-4 h-4"})," Follow"]})}),a&&r.jsxs("button",{onClick:ea,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200",children:[r.jsx(Ah,{className:`w-4 h-4 ${x?"fill-current":""}`})," ",x?"Unsave Post":"Save Post"]}),ne&&r.jsx(r.Fragment,{children:!Q&&r.jsxs("button",{onClick:ko,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[r.jsx(Rr,{className:"w-4 h-4"})," Disable Post"]})}),(ne||(a==null?void 0:a._id)===((zn=e.author)==null?void 0:zn._id))&&r.jsxs(r.Fragment,{children:[(ne||(a==null?void 0:a._id)===((qn=e.author)==null?void 0:qn._id)&&Date.now()-e.createdAt<30*60*1e3)&&r.jsxs("button",{onClick:Hd,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[r.jsx(Hl,{className:"w-4 h-4"})," Edit Post"]}),r.jsxs("button",{onClick:os,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[r.jsx(Ar,{className:"w-4 h-4"})," Delete Post"]})]})]})]})})]})]})}),r.jsxs("div",{className:"px-4 sm:px-6 py-2",children:[T?r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsx("textarea",{value:P,onChange:pe=>V(pe.target.value),className:"w-full p-4 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 text-base resize-none",rows:4}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:"Cancel"}),r.jsx(M,{variant:"primary",size:"sm",onClick:wo,children:"Save"})]})]}):r.jsxs("div",{onClick:()=>!e.imageUrl&&!e.videoUrl&&n(`/post/${e._id}`),className:"cursor-pointer mb-4",children:[le&&r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-full",children:r.jsx(Wl,{className:"w-5 h-5"})}),r.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:e.questionContext==="about_someone_else"?"Question for Others":"Personal Question"})]}),r.jsx("p",{onClick:z,className:`text-xl font-medium text-gray-900 dark:text-gray-100 leading-relaxed font-display break-words cursor-pointer transition-all ${ee===0?"line-clamp-4":ee===1?"line-clamp-[20]":""}`,children:e.content}),L&&r.jsx("button",{onClick:U,className:"text-primary-500 text-base mt-1 font-sans hover:underline cursor-pointer flex items-center gap-1",children:ee===2?r.jsxs(r.Fragment,{children:["Show Less ",r.jsx(ja,{className:"w-4 h-4"})]}):ee===1?r.jsxs(r.Fragment,{children:["Read Full Message ",r.jsx(Ge,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Read more ",r.jsx(Ge,{className:"w-4 h-4"})]})})]}),de&&r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-purple-600 dark:text-purple-400",children:[r.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M19 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M24 6h-6a2 2 0 0 0-2 2v10.17a3 3 0 0 1-.5 1.7l-2 2.83"}),r.jsx("path",{d:"M13 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M7 6h6a2 2 0 0 1 2 2v10.17a3 3 0 0 0 .5 1.7l2 2.83"})]})}),r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wide",children:"Prayer Request"})]}),e.scripture&&r.jsxs("div",{className:"flex items-center gap-2 mb-3 ml-1",children:[r.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/40 p-1 rounded text-purple-600 dark:text-purple-400",children:r.jsx(Ba,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300 font-display",children:e.scripture})]}),r.jsxs("p",{onClick:z,className:`text-lg italic text-gray-800 dark:text-gray-200 leading-relaxed border-l-4 border-purple-200 dark:border-purple-800 pl-4 py-2 bg-purple-50/50 dark:bg-purple-900/10 rounded-r-lg break-words cursor-pointer transition-all ${ee===0?"line-clamp-4":ee===1?"line-clamp-[20]":""}`,children:['"',e.content,'"']}),L&&r.jsx("button",{onClick:U,className:"text-primary-500 text-base mt-1 ml-1 not-italic hover:underline flex items-center gap-1",children:ee===2?r.jsxs(r.Fragment,{children:["Show Less ",r.jsx(ja,{className:"w-4 h-4"})]}):ee===1?r.jsxs(r.Fragment,{children:["Read Full Message ",r.jsx(Ge,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Read more ",r.jsx(Ge,{className:"w-4 h-4"})]})})]}),!le&&!de&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{onClick:z,className:`whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200 text-base leading-relaxed cursor-pointer transition-all ${ee===0?"line-clamp-[6]":ee===1?"line-clamp-[20]":""}`,children:e.content}),L&&r.jsx("button",{onClick:U,className:"text-primary-500 font-medium mt-1 hover:underline flex items-center gap-1",children:ee===2?r.jsxs(r.Fragment,{children:["Show Less ",r.jsx(ja,{className:"w-4 h-4"})]}):ee===1?r.jsxs(r.Fragment,{children:["Read Full Message ",r.jsx(Ge,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Read more ",r.jsx(Ge,{className:"w-4 h-4"})]})})]})]}),(e.imageUrl||e.videoUrl)&&r.jsxs("div",{className:"relative mt-3 mb-2 rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800 cursor-pointer group/image",onClick:()=>e.imageUrl&&G(!0),children:[e.imageUrl&&r.jsx("img",{src:e.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[600px] object-cover hover:scale-[1.01] transition-transform duration-500"}),e.videoUrl&&r.jsx("video",{src:e.videoUrl,controls:!0,className:"w-full h-full object-cover"}),e.imageUrl&&r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/image:bg-black/10 transition-colors duration-300 pointer-events-none"})]})]}),r.jsx("div",{className:"px-4 sm:px-6 py-3 border-t border-gray-100 dark:border-gray-800/50 bg-gray-50/50 dark:bg-black/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[r.jsxs(M,{variant:"ghost",size:"sm",onClick:cr,disabled:Q&&(v||g),title:Q&&v?"You've already liked this post":"Like this post",className:`gap-2 hover:bg-pink-50 dark:hover:bg-pink-900/10 transition-colors ${v?`text-pink-500 ${Q?"cursor-default opacity-90":""}`:"text-gray-500 dark:text-gray-400"}`,children:[r.jsx(Js,{className:`w-5 h-5 ${v?"fill-current":""} ${g?"scale-125":""} transition-transform`}),r.jsx("span",{className:"font-medium",children:b}),r.jsx("span",{className:"sr-only sm:not-sr-only text-xs sm:text-sm",children:"Likes"})]}),u&&r.jsxs(M,{variant:"ghost",size:"sm",onClick:t,className:`gap-2 hover:bg-blue-50 dark:hover:bg-blue-900/10 ${de?"text-purple-500 hover:text-purple-600":"text-gray-500 dark:text-gray-400 hover:text-blue-500"}`,children:[de?r.jsx(Eh,{className:"w-5 h-5"}):r.jsx(xt,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:e.commentCount}),r.jsx("span",{className:"sr-only sm:not-sr-only text-xs sm:text-sm",children:de?"Prayers":"Comments"})]}),Q&&m&&r.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>n(`/post/${e._id}?tab=questions`),className:"gap-2 hover:bg-purple-50 dark:hover:bg-purple-900/10 text-gray-500 dark:text-gray-400 hover:text-purple-500",children:[r.jsx(Wl,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:e.questionCount||0}),r.jsx("span",{className:"sr-only sm:not-sr-only text-xs sm:text-sm",children:"Questions"})]})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(M,{onClick:Gd,variant:"ghost",size:"sm",className:"p-2 text-gray-500 hover:text-primary-500 dark:text-gray-400",children:r.jsx(Bn,{className:"w-5 h-5"})}),e.imageUrl&&r.jsx(M,{onClick:Qd,variant:"ghost",size:"sm",className:"p-2 text-gray-500 hover:text-primary-500 dark:text-gray-400",children:r.jsx(xo,{className:"w-5 h-5"})})]})]})})]}),r.jsx(se,{children:R&&e.imageUrl&&r.jsx(T6,{src:e.imageUrl,alt:"Post content",onClose:()=>G(!1)})}),r.jsx(se,{children:C&&r.jsx(C6,{onClose:()=>N(!1),isOpen:C,postId:e._id})}),r.jsx(Ma,{isOpen:J,onClose:()=>H(!1),onConfirm:Xt,title:"Delete Post",description:"Are you sure you want to delete this post? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})}function Re(){return r.jsxs("div",{className:"glass rounded-xl p-6 shadow-md animate-pulse",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"h-4 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-3 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-4/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[r.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"}),r.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]})]})}function P6(){return r.jsxs("div",{className:"glass rounded-xl overflow-hidden shadow-lg animate-pulse",children:[r.jsx("div",{className:"h-48 bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"h-6 w-3/4 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-3"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]})}function Lt(){return r.jsxs("div",{className:"glass rounded-xl p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"h-6 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-8 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"h-4 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"h-4 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]})}function Kt(){return r.jsxs("div",{className:"mb-8 animate-pulse",children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})}function _a({count:e=5}){return r.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,s)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-transparent animate-pulse",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-light-muted/20 dark:bg-dark-muted/20 rounded w-1/3"}),r.jsx("div",{className:"h-3 bg-light-muted/10 dark:bg-dark-muted/10 rounded w-1/2"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"h-5 w-12 bg-light-muted/20 dark:bg-dark-muted/20 rounded-full"}),r.jsx("div",{className:"h-5 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded-full"})]})]},s))})}const A6=f.forwardRef(function(t,s){return r.jsxs("div",{ref:s,className:"glass h-full rounded-3xl p-6 animate-pulse relative overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsx("div",{className:"h-6 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-full"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-6 w-3/4 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-4 bg-light-muted/10 dark:bg-dark-muted/10 rounded"}),r.jsx("div",{className:"h-4 w-1/2 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-4 bg-light-muted/10 dark:bg-dark-muted/10 rounded"}),r.jsx("div",{className:"h-4 w-1/3 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]})]}),r.jsxs("div",{className:"mt-6 flex gap-2",children:[r.jsx("div",{className:"h-10 flex-1 bg-light-muted/10 dark:bg-dark-muted/10 rounded-xl"}),r.jsx("div",{className:"h-10 w-10 bg-light-muted/10 dark:bg-dark-muted/10 rounded-xl"})]})]})});function I6(){return r.jsxs("div",{className:"glass rounded-xl overflow-hidden animate-pulse",children:[r.jsx("div",{className:"h-20 bg-light-muted/10 dark:bg-dark-muted/10"}),r.jsxs("div",{className:"px-6 pb-6 -mt-10 flex flex-col items-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl bg-light-muted/20 dark:bg-dark-muted/20 border-4 border-light-bg dark:border-dark-bg transition-all"}),r.jsx("div",{className:"h-5 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded mt-3"}),r.jsx("div",{className:"h-3 w-20 bg-light-muted/10 dark:bg-dark-muted/10 rounded mt-2"}),r.jsxs("div",{className:"mt-6 w-full grid grid-cols-2 gap-4 border-t border-light-border/30 pt-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded mx-auto"}),r.jsx("div",{className:"h-2 w-12 bg-light-muted/10 dark:bg-dark-muted/10 rounded mx-auto"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded mx-auto"}),r.jsx("div",{className:"h-2 w-12 bg-light-muted/10 dark:bg-dark-muted/10 rounded mx-auto"})]})]})]})]})}function M6(){return r.jsxs("div",{className:"glass rounded-xl p-6 border-emerald-500/10 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-4 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-light-muted/5 dark:bg-dark-muted/5 border border-light-muted/10 dark:border-dark-muted/10",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-8 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-2 w-20 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsx("div",{className:"w-10 h-10 rounded-xl bg-light-muted/20 dark:bg-dark-muted/20"})]})]})}function _6(){return r.jsxs("div",{className:"glass rounded-xl animate-pulse",children:[r.jsx("div",{className:"p-4 border-b border-light-border/30",children:r.jsx("div",{className:"h-3 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})}),r.jsx("div",{className:"divide-y divide-light-border/20",children:[1,2,3].map(e=>r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsx("div",{className:"h-32 w-full rounded-xl bg-light-muted/10 dark:bg-dark-muted/10"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 w-3/4 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-3 w-full bg-light-muted/10 dark:bg-dark-muted/10 rounded"}),r.jsx("div",{className:"h-3 w-5/6 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsxs("div",{className:"flex justify-between items-center pt-1",children:[r.jsx("div",{className:"h-2 w-20 bg-light-muted/5 dark:bg-dark-muted/5 rounded"}),r.jsx("div",{className:"h-3 w-12 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]},e))})]})}function E6(){return r.jsxs("div",{className:"max-w-5xl mx-auto animate-pulse space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-10 w-40 bg-light-muted/20 dark:bg-dark-muted/20 rounded-xl"}),r.jsx("div",{className:"h-8 w-48 bg-light-muted/10 dark:bg-dark-muted/10 rounded-lg"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl overflow-hidden border-primary-500/10",children:[r.jsx("div",{className:"h-24 bg-light-muted/5 dark:bg-dark-muted/5"}),r.jsxs("div",{className:"px-6 pb-8 -mt-12 flex flex-col items-center",children:[r.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-light-muted/20 dark:bg-dark-muted/20 border-4 border-light-bg dark:border-dark-bg shadow-2xl"}),r.jsx("div",{className:"h-8 w-48 bg-light-muted/20 dark:bg-dark-muted/20 rounded mt-4"}),r.jsx("div",{className:"h-4 w-32 bg-light-muted/10 dark:bg-dark-muted/10 rounded mt-2"}),r.jsxs("div",{className:"mt-8 w-full grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"h-16 bg-light-muted/5 dark:bg-dark-muted/5 rounded-2xl"}),r.jsx("div",{className:"h-16 bg-light-muted/5 dark:bg-dark-muted/5 rounded-2xl"})]})]})]}),r.jsx("div",{className:"glass rounded-xl p-6 h-48 bg-light-muted/5"})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsx("div",{className:"glass h-64 rounded-xl"}),r.jsx("div",{className:"glass h-64 rounded-xl"})]})]})]})}function Wj(){return r.jsxs("div",{className:"flex p-1 bg-light-bg/50 dark:bg-dark-bg/50 rounded-xl border border-light-border dark:border-dark-border mb-6 animate-pulse",children:[r.jsx("div",{className:"flex-1 h-10 bg-light-muted/10 dark:bg-dark-muted/10 rounded-lg m-1"}),r.jsx("div",{className:"flex-1 h-10 bg-light-muted/10 dark:bg-dark-muted/10 rounded-lg m-1"})]})}function Ag(){return r.jsx("div",{className:"space-y-4 p-4 animate-pulse",children:[1,2,3,4,5].map(e=>r.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`h-12 w-1/2 rounded-2xl bg-light-muted/10 dark:bg-dark-muted/10 ${e%2===0?"rounded-br-md":"rounded-bl-md"}`})},e))})}function Ig({count:e=6}){return r.jsx("div",{className:"divide-y divide-light-border/20 animate-pulse",children:[...Array(e)].map((t,s)=>r.jsxs("div",{className:"flex items-center gap-3 p-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"h-4 w-1/3 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-3 w-12 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsx("div",{className:"h-3 w-3/4 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]})]},s))})}function ix(){return r.jsxs("div",{className:"space-y-6 animate-pulse",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>r.jsxs("div",{className:"glass p-6 rounded-xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"h-5 w-5 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-8 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"h-4 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]},e))}),r.jsx("div",{className:"glass h-96 rounded-xl w-full"})]})}function R6(){return r.jsxs("div",{className:"space-y-6 animate-pulse",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"grid sm:grid-cols-3 gap-6",children:[1,2,3].map(e=>r.jsxs("div",{className:"glass p-6 rounded-xl border-l-4 border-light-muted/20",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"h-4 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-8 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"h-10 w-10 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]}),r.jsx("div",{className:"h-3 w-40 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]},e))}),r.jsx("div",{className:"h-8 w-48 bg-light-muted/20 dark:bg-dark-muted/20 rounded mt-8 mb-4"}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>r.jsxs("div",{className:"glass p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded network-icon"}),r.jsx("div",{className:"h-5 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-3 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]},e))})]})}function D6(){return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg animate-pulse",children:[r.jsx("div",{className:"gradient-primary text-white py-8 px-4 md:px-8 opacity-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"h-6 w-32 bg-white/20 rounded mb-4"}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20"}),r.jsxs("div",{children:[r.jsx("div",{className:"h-10 w-48 bg-white/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-64 bg-white/20 rounded"})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>r.jsx("div",{className:"glass p-6 rounded-2xl h-32"},e))})]})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-8",children:[r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[1,2,3,4].map(e=>r.jsx("div",{className:"glass h-64 rounded-2xl"},e))}),r.jsx("div",{className:"glass h-20 rounded-xl"})]})]})}function Ud(e){const{category:t,onCommentClick:s}=e,{user:a}=X(),[n,i]=f.useState({type:"all"}),[o,l]=f.useState(Date.now()),{results:d,status:c,loadMore:u}=K5(S.posts.getPaginatedFeed,{postType:n.type==="postType"?n.value:void 0,cutoffTime:o,userId:a==null?void 0:a._id},{initialNumItems:10}),m=B(S.posts.getNewPostCount,{postType:n.type==="postType"?n.value:void 0,cutoffTime:o})||0,x=f.useRef(null);f.useEffect(()=>{const v=new IntersectionObserver(([p])=>{p.isIntersecting&&c==="CanLoadMore"&&u(10)},{threshold:.1});return x.current&&v.observe(x.current),()=>v.disconnect()},[c,u]);const[h,g]=f.useState(!1);f.useEffect(()=>{const v=()=>{window.scrollY>2e3?g(!0):g(!1)};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[]);const y=()=>{l(Date.now()),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},150)};return c==="LoadingFirstPage"||d===void 0?r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{}),r.jsx(Re,{})]}):r.jsxs("div",{className:"space-y-6 relative min-h-[50vh]",children:[r.jsx(se,{children:m>0&&r.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex justify-center mb-4 sticky top-24 z-30 pointer-events-none",children:r.jsxs(M,{onClick:y,size:"sm",className:"pointer-events-auto rounded-full shadow-xl bg-gray-900 hover:bg-gray-800 text-white gap-1.5 sm:gap-2 px-4 py-1.5 sm:px-6 sm:py-2 text-xs sm:text-sm border border-green-500/40 backdrop-blur-md",children:[r.jsx(df,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m," New ",m===1?"Post":"Posts"]})})}),!t&&r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0 scroll-smooth",children:[r.jsx("button",{onClick:()=>i({type:"all"}),className:`whitespace-nowrap px-3 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold transition-all text-xs sm:text-sm border shadow-sm active:scale-95 ${n.type==="all"?"bg-primary-500 text-white border-primary-500 shadow-primary-500/20":"bg-white dark:bg-dark-card text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:"All Posts"}),r.jsx("button",{onClick:()=>i({type:"postType",value:"prayer"}),className:`whitespace-nowrap px-3 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold transition-all text-xs sm:text-sm border shadow-sm active:scale-95 ${n.type==="postType"&&n.value==="prayer"?"bg-purple-500 text-white border-purple-500 shadow-purple-500/20":"bg-white dark:bg-dark-card text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:"Prayers"}),r.jsx("button",{onClick:()=>i({type:"postType",value:"question"}),className:`whitespace-nowrap px-3 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold transition-all text-xs sm:text-sm border shadow-sm active:scale-95 ${n.type==="postType"&&n.value==="question"?"bg-blue-500 text-white border-blue-500 shadow-blue-500/20":"bg-white dark:bg-dark-card text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:"Questions"})]}),d.length===0?r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts found."})}):r.jsx("div",{className:"space-y-4",children:d.map(v=>r.jsx(nx,{post:v,onCommentClick:()=>s==null?void 0:s(v),hasUserLiked:v.hasLiked},v._id))}),r.jsx("div",{ref:x,className:"h-20 flex items-center justify-center py-4",children:c==="LoadingMore"&&r.jsxs("div",{className:"flex items-center gap-2 text-light-muted dark:text-dark-muted",children:[r.jsx(In,{className:"w-5 h-5 animate-spin text-primary-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Loading more..."})]})}),r.jsx(se,{children:h&&r.jsx(A.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-4 md:bottom-10 md:right-10 p-3 md:p-4 rounded-full bg-gray-900 text-white shadow-2xl z-40 hover:bg-gray-800 transition-all group border border-green-500/40",children:r.jsx(df,{className:"w-5 h-5 md:w-6 md:h-6 group-hover:-translate-y-1 transition-transform"})})})]})}function L6({id:e,title:t,description:s,imageUrl:a,creatorRole:n="admin",isActive:i,category:o}){const{user:l}=X(),d=ue(),c=$(S.announcements.updateAnnouncement),u=$(S.announcements.deleteAnnouncement),[m,x]=f.useState(!1),h=n==="super_admin",g=l&&(l.role==="admin"||l.role==="super_admin"),y=async p=>{if(p.stopPropagation(),!!g)try{await c({adminId:l._id,announcementId:e,isActive:!i})}catch(b){console.error("Failed to toggle visibility:",b)}},v=async p=>{if(p.stopPropagation(),!(!g||!window.confirm("Are you sure you want to delete this announcement?"))){x(!0);try{await u({adminId:l._id,announcementId:e})}catch(b){console.error("Failed to delete announcement:",b),x(!1)}}};return m?null:r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:i?1:.6,y:0},onClick:()=>d(`/announcement/${e}`),className:`glass rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border-2 relative group cursor-pointer ${h?"border-secondary-500/50 shadow-secondary-500/10":"border-transparent"} ${i?"":"grayscale"}`,children:[g&&r.jsxs("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:y,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 backdrop-blur-md transition-colors",title:i?"Hide from users":"Show to users",children:i?r.jsx(St,{className:"w-4 h-4"}):r.jsx(po,{className:"w-4 h-4"})}),r.jsx("button",{onClick:v,className:"p-2 rounded-full bg-red-500/80 text-white hover:bg-red-600 backdrop-blur-md transition-colors",title:"Delete Announcement",children:r.jsx(Ar,{className:"w-4 h-4"})})]}),!i&&g&&r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 bg-black/80 text-white px-4 py-2 rounded-lg font-bold backdrop-blur-md border border-white/20",children:"HIDDEN"}),r.jsxs("div",{className:"relative h-48 md:h-60 overflow-hidden",children:[r.jsx("img",{src:a,alt:t,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${h?"from-secondary-900/80":"from-black/60"} to-transparent`}),r.jsxs("div",{className:"absolute bottom-3 left-3 md:bottom-4 md:left-4 flex items-center gap-2",children:[h?r.jsxs("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-secondary-500 text-white text-[9px] md:text-[10px] font-bold flex items-center gap-1 md:gap-1.5 shadow-lg",children:[r.jsx(Gy,{className:"w-2.5 h-2.5 md:w-3 md:h-3 fill-current"}),"OFFICIAL ANNOUNCEMENT"]}):r.jsxs("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-primary-500 text-white text-[9px] md:text-[10px] font-bold flex items-center gap-1 md:gap-1.5 shadow-lg",children:[r.jsx(l4,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),"ADMIN UPDATE"]}),o&&o!=="General"&&r.jsx("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-blue-500 text-white text-[9px] md:text-[10px] font-bold shadow-lg uppercase",children:o})]})]}),r.jsxs("div",{className:`p-4 md:p-6 ${h?"bg-secondary-500/5 dark:bg-secondary-500/5":""}`,children:[r.jsx("h3",{className:`text-lg md:text-2xl font-black mb-2 md:mb-3 font-display tracking-tight group-hover:text-primary-500 transition-colors ${h?"text-secondary-600 dark:text-secondary-400":"text-light-text dark:text-dark-text"}`,children:t}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed line-clamp-2 text-xs md:text-sm",children:s}),r.jsxs("div",{className:"mt-4 md:mt-6 pt-3 md:pt-4 border-t border-light-border/20 dark:border-dark-border/20 flex items-center justify-between",children:[r.jsx("span",{className:"text-[9px] md:text-[10px] font-bold text-light-muted/60 uppercase tracking-widest italic",children:"Read More Details"}),r.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-primary-500/10 flex items-center justify-center text-primary-500 group-hover:translate-x-1 transition-transform",children:r.jsx(Ct,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})]})}function O6({announcements:e}){const[t,s]=f.useState(0);return f.useEffect(()=>{if(e.length<=1)return;const a=setInterval(()=>{s(n=>(n+1)%e.length)},5e3);return()=>clearInterval(a)},[e.length]),!e||e.length===0?null:r.jsxs("div",{className:"relative overflow-hidden w-full",children:[r.jsx("div",{className:"relative w-full",children:r.jsx(se,{mode:"wait",children:r.jsx(A.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:r.jsx(L6,{id:e[t]._id,title:e[t].title,description:e[t].description,imageUrl:e[t].imageUrl,creatorRole:e[t].creatorRole,isActive:e[t].isActive,category:e[t].category})},t)})}),e.length>1&&r.jsx("div",{className:"absolute bottom-4 right-4 flex gap-1.5 z-10",children:e.map((a,n)=>r.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${n===t?"bg-white w-4":"bg-white/50"}`},n))})]})}function Hj(){const e=jt(),t=ue(),{user:s}=X();if(!(s!=null&&s._id))return null;const a=B(S.users.getUserStats,{userId:s._id}),n=B(S.stats.getBadgeCounts,{userId:s._id}),i=$(S.users.updateLastViewed),o=async(h,g)=>{g&&s&&await i({userId:s._id,field:g}),t(h)},l=h=>n?h==="Messages"?n.messages>0?n.messages:null:h==="Banking"?n.banking>0?!0:null:h==="Leaderboard"&&n.leaderboard>0?!0:null:null;if(!s)return null;const d=[{path:"/feed",label:"Home Feed",icon:Lr,color:"text-primary-500"},{path:"/teachings",label:"All Posts",icon:Ba,color:"text-blue-500"},{path:"/chat",label:"Messages",icon:xt,color:"text-indigo-500"},{path:"/banking",label:"Banking",icon:fo,color:"text-emerald-500"},{path:"/leaderboard",label:"Leaderboard",icon:ye,color:"text-amber-500"},{path:"/diamond-challenge",label:"Diamond Challenge",icon:vr,color:"text-cyan-500"},{path:"/saved-posts",label:"Saved Posts",icon:Ah,color:"text-purple-500"}],c=[{path:"/admin",label:"Admin Hub",icon:$e,color:"text-orange-500"},{path:"/admin/roles",label:"Role Manager",icon:$e,color:"text-red-500"}],u=[{path:"/board",label:"Board Dash",icon:Ds,color:"text-amber-500"}],m=s.role==="admin"||s.role==="super_admin",x=s.role==="board_member";return r.jsxs("aside",{className:"hidden lg:block space-y-6 sticky top-24 max-h-[calc(100vh-120px)] overflow-y-auto pb-10 pr-1 transition-all custom-scrollbar-premium",children:[r.jsx("style",{children:`
                .custom-scrollbar-premium::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #ffffff;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #111827;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #374151;
                    border-radius: 10px;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #064e3b;
                }
                .custom-scrollbar-premium {
                    scrollbar-width: thin;
                    scrollbar-color: #374151 #ffffff;
                }
                .dark .custom-scrollbar-premium {
                    scrollbar-color: #064e3b #111827;
                }
            `}),a===void 0?r.jsx(I6,{}):r.jsxs(D,{glass:!0,className:"overflow-hidden border-primary-500/10 hover:border-primary-500/30 transition-all duration-300",children:[r.jsx("div",{className:"h-20 bg-gradient-to-br from-primary-500/20 via-primary-500/5 to-transparent relative",children:r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 opacity-20"})}),r.jsxs(F,{className:"px-6 pb-6 -mt-10 relative",children:[r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 p-1 shadow-xl shadow-primary-500/20 mb-3",children:r.jsx("div",{className:"w-full h-full rounded-2xl bg-white dark:bg-dark-bg overflow-hidden flex items-center justify-center font-bold text-2xl text-gradient",children:s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full object-cover"}):s.name[0]})}),r.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text truncate w-full",children:s.name}),r.jsx("p",{className:"text-[10px] font-bold text-primary-500 uppercase tracking-widest mt-1",children:s.role.replace("_"," ")})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-light-border/50 dark:border-dark-border/50 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-bold",children:(a==null?void 0:a.totalPosts)||0}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-black",children:"Posts"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-bold",children:(a==null?void 0:a.totalRewards)||0}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-black",children:"Rewards"})]})]})]})]}),r.jsx(D,{glass:!0,className:"p-2",children:r.jsxs("nav",{className:"space-y-1",children:[d.map(h=>{const g=h.icon,y=e.pathname===h.path;return r.jsxs("button",{onClick:()=>{const v=h.label==="Banking"?"lastViewedBanking":h.label==="Leaderboard"?"lastViewedLeaderboard":void 0;o(h.path,v)},className:`
                                    w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group
                                    ${y?"bg-primary-500 text-white shadow-lg shadow-primary-500/30 font-bold":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                `,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(g,{className:`w-5 h-5 ${y?"text-white":h.color} transition-transform group-hover:scale-110`}),r.jsx("span",{className:"text-sm font-medium",children:h.label})]}),l(h.label)===!0?r.jsx("div",{className:`w-2 h-2 rounded-full ${y?"bg-white":"bg-primary-500 shadow-[0_0_8px_rgba(249,115,22,0.5)]"}`}):typeof l(h.label)=="number"?r.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] font-bold ${y?"bg-white text-primary-500":"bg-primary-500 text-white"}`,children:l(h.label)}):y&&r.jsx(A.div,{layoutId:"activeFeedIndicator",className:"w-1.5 h-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})]},h.path)}),(m||x)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border/50 dark:border-dark-border/50 space-y-1",children:[r.jsx("p",{className:"px-4 mb-2 text-[10px] font-black text-light-muted dark:text-dark-muted uppercase tracking-[0.2em]",children:"Management"}),m&&c.map(h=>{const g=h.icon,y=e.pathname===h.path;return r.jsxs(re,{to:h.path,className:`
                                            flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                            ${y?"bg-primary-500 text-white shadow-lg":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                        `,children:[r.jsx(g,{className:`w-5 h-5 ${y?"text-white":h.color} transition-transform group-hover:scale-110`}),r.jsx("span",{className:"text-sm font-medium",children:h.label})]},h.path)}),(m||x)&&u.map(h=>{const g=h.icon,y=e.pathname===h.path;return r.jsxs(re,{to:h.path,className:`
                                            flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                            ${y?"bg-primary-500 text-white shadow-lg":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                        `,children:[r.jsx(g,{className:`w-5 h-5 ${y?"text-white":h.color} transition-transform group-hover:scale-110`}),r.jsx("span",{className:"text-sm font-medium",children:h.label})]},h.path)})]})]})}),r.jsxs(D,{glass:!0,className:"p-6",children:[r.jsx("h4",{className:"font-bold text-xs uppercase tracking-widest text-light-muted mb-4",children:"Quick Links"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(re,{to:"/profile",className:"px-3 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-xs font-bold hover:border-primary-500 transition-colors flex items-center justify-center",children:"My Profile"}),r.jsx(re,{to:"/notifications",className:"px-3 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-xs font-bold hover:border-primary-500 transition-colors flex items-center justify-center",children:"Notifications"})]})]})]})}function Qj(){var a;const e=ue(),t=B(S.users.getTickerData),s=B(S.announcements.getAnnouncements,{});return r.jsxs("aside",{className:"hidden xl:block space-y-6 sticky top-24 max-h-[calc(100vh-120px)] overflow-y-auto pb-10 pr-1 transition-all custom-scrollbar-premium",children:[r.jsx("style",{children:`
                .custom-scrollbar-premium::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #ffffff;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #111827;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #374151;
                    border-radius: 10px;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #064e3b;
                }
                .custom-scrollbar-premium {
                    scrollbar-width: thin;
                    scrollbar-color: #374151 #ffffff;
                }
                .dark .custom-scrollbar-premium {
                    scrollbar-color: #064e3b #111827;
                }
            `}),t===void 0?r.jsx(M6,{}):r.jsxs(D,{glass:!0,className:"overflow-hidden border-emerald-500/10 hover:border-emerald-500/30 transition-all duration-300",children:[r.jsx(fe,{className:"pb-2",children:r.jsxs(ge,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-light-muted flex items-center justify-between",children:["Realtime Stats",r.jsx(Vs,{className:"w-3.5 h-3.5 text-emerald-500"})]})}),r.jsxs(F,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-emerald-500/5 border border-emerald-500/10",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-black text-emerald-500 font-display",children:((a=t==null?void 0:t.totalCount)==null?void 0:a.toLocaleString())||"..."}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider",children:"Total Members"})]}),r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:r.jsx(je,{className:"w-5 h-5 text-emerald-500"})})]}),r.jsx("div",{className:"pt-2",children:r.jsx(Rj,{})})]})]}),s===void 0?r.jsx(_6,{}):r.jsxs(D,{glass:!0,className:"border-primary-500/10",children:[r.jsx(fe,{className:"pb-3 border-b border-light-border/30 dark:border-dark-border/30",children:r.jsxs(ge,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-light-muted flex items-center justify-between",children:["Announcements",r.jsx(Zi,{className:"w-3.5 h-3.5 text-primary-500"})]})}),r.jsx(F,{className:"p-0",children:r.jsx("div",{className:"divide-y divide-light-border/30 dark:divide-dark-border/30",children:s&&s.length>0?s.slice(0,4).map(n=>{var i;return r.jsxs("div",{onClick:()=>e(`/announcement/${n._id}`),className:"p-4 hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-colors group relative overflow-hidden cursor-pointer",children:[n.imageUrl&&r.jsx("div",{className:"h-32 w-full rounded-xl overflow-hidden mb-3 border border-light-border/20 dark:border-dark-border/20",children:r.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[r.jsx("h4",{className:"text-sm font-bold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:n.title}),r.jsx(W,{variant:"outline",className:"text-[8px] px-1.5 py-0 bg-primary-500/10 text-primary-500 border-primary-500/20",children:n.category||"New"})]}),r.jsx("p",{className:"text-xs text-light-muted line-clamp-2 leading-relaxed mb-3",children:n.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-[10px] font-bold text-light-muted/60 uppercase tracking-tighter italic",children:["By ",((i=n.creatorRole)==null?void 0:i.replace("_"," "))||"Admin"]}),r.jsxs("button",{className:"text-[10px] font-bold text-primary-500 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["Read More ",r.jsx(m4,{className:"w-2.5 h-2.5"})]})]})]},n._id)}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Zi,{className:"w-8 h-8 text-light-muted/20 mx-auto mb-2"}),r.jsx("p",{className:"text-xs text-light-muted italic",children:"No official announcements yet."})]})})})]})]})}function F6(){const e=ue(),{user:t}=X();return t?r.jsx(D,{glass:!0,className:"hidden md:block mb-6 overflow-hidden border-primary-500/10 hover:border-primary-500/20 transition-all duration-300 group",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 p-[2px] shadow-lg shadow-primary-500/20 shrink-0",children:r.jsx("div",{className:"w-full h-full rounded-2xl bg-white dark:bg-dark-bg overflow-hidden flex items-center justify-center font-bold text-xl text-gradient",children:t.avatarUrl?r.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-full h-full object-cover"}):t.name[0]})}),r.jsxs("button",{onClick:()=>e("/create-post"),className:"flex-1 h-12 px-6 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/50 dark:border-dark-border/50 text-left text-light-muted dark:text-dark-muted hover:bg-light-bg dark:hover:bg-dark-bg hover:border-primary-500/30 transition-all text-base font-medium flex items-center justify-between group/input",children:[r.jsxs("span",{children:["What's on your mind, ",t.name.split(" ")[0],"?"]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-primary-500 text-white text-[10px] font-bold uppercase tracking-wider group-hover/input:scale-105 transition-transform",children:[r.jsx(lt,{className:"w-3 h-3"})," Post"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-light-border/20 dark:border-dark-border/20",children:[r.jsxs("button",{onClick:()=>e("/create-post"),className:"flex items-center justify-center gap-2 p-3 rounded-xl hover:bg-red-500/10 transition-colors group/btn",children:[r.jsx(Rs,{className:"w-5 h-5 text-red-500 group-hover/btn:scale-110 transition-transform"}),r.jsx("span",{className:"text-sm font-bold text-light-muted dark:text-dark-muted group-hover/btn:text-red-500",children:"Media"})]}),r.jsxs("button",{onClick:()=>e("/create-post"),className:"flex items-center justify-center gap-2 p-3 rounded-xl hover:bg-emerald-500/10 transition-colors group/btn",children:[r.jsx(C4,{className:"w-5 h-5 text-emerald-500 group-hover/btn:scale-110 transition-transform"}),r.jsx("span",{className:"text-sm font-bold text-light-muted dark:text-dark-muted group-hover/btn:text-emerald-500",children:"Activity"})]})]})]})}):null}function Gj(){var y;const{user:e}=X(),t=B(S.polls.getActivePoll,e?{userId:e._id}:"skip"),s=$(S.polls.vote),[a,n]=f.useState(null),[i,o]=f.useState(!1),[l,d]=f.useState(""),[c,u]=f.useState(!1);f.useEffect(()=>{if(!t||!t.expiresAt)return;const v=()=>{const b=Date.now(),j=t.expiresAt-b;if(j<=0)d("Ended");else{const k=Math.floor(j/36e5),w=Math.floor(j%(1e3*60*60)/(1e3*60));d(`${k}h ${w}m`)}};v();const p=setInterval(v,6e4);return()=>clearInterval(p)},[t]);const[m,x]=f.useState(null),h=async()=>{if(!(!e||!t||!a)){o(!0),x(null);try{await s({pollId:t._id,userId:e._id,selectedOptionId:a}),u(!0)}catch(v){console.error(v),x(v.message||"Failed to submit vote")}finally{o(!1)}}};if(t===void 0||t===null)return null;const g=Date.now()>t.expiresAt;return r.jsxs(D,{glass:!0,className:"border-primary-500/20 overflow-hidden relative mb-6",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary-500 to-secondary-500"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-2",children:[r.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>u(!c),children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold font-display text-gradient leading-tight flex items-center gap-2",children:["Weekly Wisdom Game",c?r.jsx(ja,{className:"w-5 h-5 text-light-muted"}):r.jsx(Ge,{className:"w-5 h-5 text-light-muted"})]}),r.jsx("p",{className:"text-xs sm:text-sm text-light-muted dark:text-dark-muted mt-1",children:c?"Test your knowledge & earn Rubies":"Tap to reveal the weekly question"})]}),r.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-primary-50 dark:bg-primary-900/20 px-2.5 py-1.5 rounded-full border border-primary-100 dark:border-primary-900/50",children:[r.jsx(Je,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xs font-bold text-primary-700 dark:text-primary-300 font-mono",children:l})]}),r.jsxs(re,{to:"/leaderboard",className:"flex items-center gap-1.5 bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg px-2.5 py-1.5 rounded-full border border-light-border dark:border-dark-border transition-colors",children:[r.jsx(d4,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-light-muted dark:text-dark-muted"}),r.jsx("span",{className:"text-xs font-bold text-light-muted dark:text-dark-muted",children:"Leadersboard"})]})]})]}),r.jsx(se,{children:c&&r.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"pt-4 border-t border-light-border/50 dark:border-dark-border/50 mt-4",children:[r.jsx("h4",{className:"text-lg font-medium mb-6 leading-relaxed",children:t.question}),r.jsx("div",{className:"space-y-4",children:t.hasVoted?r.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.options.map(v=>{var w;const p=((w=t.userVote)==null?void 0:w.selectedOptionId)===v.id,b=t.correctOptionId===v.id,j=t.totalVotes>0?Math.round(v.voteCount/t.totalVotes*100):0;let k="bg-light-bg/30 dark:bg-dark-bg/30 border-light-border dark:border-dark-border";return b?k="bg-green-500/10 border-green-500/50":p&&!b&&(k="bg-red-500/10 border-red-500/50"),r.jsxs("div",{className:Y("relative p-3 rounded-xl border overflow-hidden min-h-[6rem] flex flex-col justify-center",k),children:[r.jsx(A.div,{initial:{height:0},animate:{height:`${j}%`},transition:{duration:1,ease:"easeOut",delay:.2},className:Y("absolute bottom-0 left-0 w-full opacity-10",b?"bg-green-500":p?"bg-red-500":"bg-gray-400")}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsxs("div",{className:"flex justify-center mb-1",children:[b&&r.jsx(Ht,{className:"w-5 h-5 text-green-500"}),p&&!b&&r.jsx(rs,{className:"w-5 h-5 text-red-500"})]}),r.jsx("span",{className:Y("block text-sm font-medium leading-tight mb-1",b?"text-green-600 dark:text-green-400":""),children:v.text}),r.jsxs("span",{className:"font-bold text-lg",children:[j,"%"]})]})]},v.id)})}),r.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-primary-500/20 text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-50 backdrop-blur-[1px]"}),r.jsx("div",{className:"relative z-10",children:(y=t.userVote)!=null&&y.isCorrect?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(ye,{className:"w-8 h-8 text-yellow-500 fill-yellow-500 animate-bounce"})}),r.jsx("h5",{className:"font-bold text-lg text-primary-600 dark:text-primary-400",children:"Correct! +1 Ruby"}),r.jsx("p",{className:"text-xs text-light-muted",children:"Added to Silver Pool"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(Rr,{className:"w-8 h-8 text-primary-400"})}),r.jsx("h5",{className:"font-bold text-lg text-light-text dark:text-dark-text",children:"Good Try! +0.3 Ruby"}),r.jsx("p",{className:"text-xs text-light-muted",children:"Participation Reward Added"})]})})]}),r.jsxs("div",{className:"text-center text-xs text-light-muted mt-2",children:["Total Votes: ",t.totalVotes]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-3",children:t.options.map(v=>r.jsxs("button",{onClick:()=>!g&&n(v.id),disabled:g,className:Y("w-full p-4 rounded-xl text-left transition-all duration-200 border relative overflow-hidden group outline-none focus:ring-2 focus:ring-primary-500",a===v.id?"bg-primary-500 text-white border-primary-600 shadow-lg shadow-primary-500/25":"bg-light-bg/50 dark:bg-dark-bg/50 border-light-border dark:border-dark-border hover:border-primary-300 dark:hover:border-primary-700 hover:bg-light-bg dark:hover:bg-dark-bg"),children:[r.jsx("span",{className:"relative z-10 font-medium",children:v.text}),a===v.id&&r.jsx(A.div,{layoutId:"selected-indicator",className:"absolute inset-0 bg-primary-500 z-0",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},v.id))}),m&&r.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs text-center flex items-center justify-center gap-2",children:[r.jsx(Rr,{className:"w-4 h-4"}),m]}),r.jsx(M,{onClick:h,disabled:!a||i||g,className:"w-full mt-4 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-700 hover:to-primary-600 shadow-xl shadow-primary-500/20",size:"lg",isLoading:i,children:g?"Poll Closed":"Submit Vote"})]})})]})})})]})]})}function B6({announcement:e,showGame:t}){const s=ue(),{user:a}=X(),[n,i]=f.useState(!1),[o,l]=f.useState("menu"),d=B(S.polls.getActivePoll,a?{userId:a._id}:"skip"),c=B(S.wordUnderPressure.getActivePassageStatus,a?{userId:a._id}:"skip"),u=d!=null,m=(c==null?void 0:c.hasActivePassage)===!0,x=u&&!d.hasVoted,h=m&&!c.rewardClaimed,g=(x?1:0)+(h?1:0),y=u||m;return!e&&(!t||!y)?null:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed top-20 left-4 z-40 flex flex-col gap-3 animate-in fade-in zoom-in duration-300",children:[e&&r.jsx("div",{onClick:()=>s(`/announcement/${e._id}`),className:"cursor-pointer",children:r.jsxs("div",{className:"relative group w-12 h-12",children:[r.jsx("div",{className:"absolute -inset-[3px] bg-gradient-to-tr from-yellow-500 via-orange-500 to-red-500 rounded-full opacity-90 group-hover:opacity-100 transition-opacity animate-pulse"}),r.jsx("div",{className:"absolute -inset-[1px] bg-light-bg dark:bg-dark-bg rounded-full z-0"}),r.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden z-10 border border-black/10 dark:border-white/10",children:r.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})})]})}),t&&y&&r.jsx("div",{onClick:()=>{l("menu"),i(!0)},className:"cursor-pointer",children:r.jsxs("div",{className:"relative group w-10 h-10 ml-1",children:[r.jsx("div",{className:Y("absolute -inset-[2px] rounded-full opacity-90 group-hover:opacity-100 transition-all duration-500",g>0?"bg-gradient-to-tr from-emerald-500 via-indigo-500 to-purple-500 animate-pulse":"bg-light-border dark:bg-dark-border")}),r.jsx("div",{className:"absolute -inset-[1px] bg-light-bg dark:bg-dark-bg rounded-full z-0"}),r.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden z-10 border border-black/10 dark:border-white/10 bg-white dark:bg-gray-900 flex items-center justify-center",children:r.jsx(ye,{className:Y("w-5 h-5",g>0?"text-indigo-500":"text-light-muted opacity-50")})}),g>0&&r.jsx("div",{className:"absolute -top-1 -right-1 z-20 bg-red-500 text-white text-[8px] font-bold px-1.5 py-0.5 rounded-full border-2 border-light-bg dark:border-dark-bg animate-bounce shadow-lg",children:g})]})})]}),r.jsx(se,{children:n&&r.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),r.jsxs(A.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-lg z-10 max-h-[90vh] overflow-y-auto custom-scrollbar rounded-[2.5rem]",children:[r.jsx(se,{mode:"wait",children:o==="menu"?r.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-light-card dark:bg-dark-card rounded-[2.5rem] p-8 border border-light-border dark:border-dark-border shadow-2xl space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-2xl font-display font-bold text-gradient",children:"Active Challenges"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Choose a quest to earn Rubies"})]}),r.jsxs("div",{className:"grid gap-4",children:[u&&r.jsxs("button",{onClick:()=>l("poll"),className:Y("group flex items-center gap-4 p-5 rounded-3xl border transition-all duration-300 text-left",x?"bg-primary-500/5 border-primary-500/20 hover:bg-primary-500/10 hover:border-primary-500/40":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border opacity-60"),children:[r.jsx("div",{className:Y("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",x?"bg-primary-500 text-white":"bg-light-muted/10 text-light-muted"),children:r.jsx(Yy,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:"Weekly Wisdom"}),r.jsx("p",{className:"text-xs text-light-muted",children:x?"Earn up to 1 Ruby":"Poll completed"})]}),x?r.jsx(Ct,{className:"w-5 h-5 text-primary-500 transform group-hover:translate-x-1 transition-transform"}):r.jsx(it,{className:"w-5 h-5 text-green-500"})]}),m&&r.jsxs("button",{onClick:()=>s("/diamond-challenge"),className:Y("group flex items-center gap-4 p-5 rounded-3xl border transition-all duration-300 text-left",h?"bg-emerald-500/5 border-emerald-500/20 hover:bg-emerald-500/10 hover:border-emerald-500/40":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border opacity-60"),children:[r.jsx("div",{className:Y("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",h?"bg-emerald-500 text-white":"bg-light-muted/10 text-light-muted"),children:r.jsx(vr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:"Diamond Challenge"}),r.jsx("p",{className:"text-xs text-light-muted",children:h?"Earn up to 11.5 Rubies":"Challenge participated"})]}),h?r.jsx(Ct,{className:"w-5 h-5 text-emerald-500 transform group-hover:translate-x-1 transition-transform"}):r.jsx(it,{className:"w-5 h-5 text-green-500"})]})]})]},"menu"):o==="poll"?r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[r.jsx(Gj,{}),r.jsx(M,{variant:"ghost",className:"mt-4 text-xs mx-auto block font-bold text-light-muted",onClick:()=>l("menu"),children:"Back to Menu"})]},"poll"):null}),r.jsx("button",{onClick:()=>i(!1),className:"absolute top-3 right-3 md:-top-12 md:-right-12 w-8 h-8 md:w-10 md:h-10 rounded-full bg-black/20 md:bg-white/10 hover:bg-black/30 md:hover:bg-white/20 flex items-center justify-center text-white backdrop-blur-md transition-colors border border-white/10 z-50",children:r.jsx(Me,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]})})]})}function U6(){const{user:e,isLoading:t}=X(),s=ue(),a=B(S.announcements.getAnnouncements,e?{userId:e._id}:"skip"),n=f.useRef(null),i=f.useRef(null),[o,l]=f.useState(!1),[d,c]=f.useState(!1);return f.useEffect(()=>{const u=new IntersectionObserver(m=>{m.forEach(x=>{x.target===n.current&&l(!x.isIntersecting&&x.boundingClientRect.top<0),x.target===i.current&&c(!x.isIntersecting&&x.boundingClientRect.top<0)})},{threshold:0});return n.current&&u.observe(n.current),i.current&&u.observe(i.current),()=>u.disconnect()},[a]),t?r.jsx("div",{className:"min-h-screen py-4 md:py-8 bg-light-bg dark:bg-dark-bg",children:r.jsx("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:r.jsx("div",{className:"h-96 rounded-3xl bg-light-card/50 dark:bg-dark-card/50 animate-pulse"})}),r.jsxs("div",{className:"lg:col-span-8 xl:col-span-6 space-y-8",children:[r.jsx("div",{className:"h-40 rounded-3xl bg-light-card/50 dark:bg-dark-card/50 animate-pulse"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{})]})]}),r.jsx("div",{className:"hidden xl:block xl:col-span-3",children:r.jsx("div",{className:"h-96 rounded-3xl bg-light-card/50 dark:bg-dark-card/50 animate-pulse"})})]})})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 bg-light-bg/50 dark:bg-dark-bg/50",children:r.jsx("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:r.jsx(Hj,{})}),r.jsx("div",{className:"lg:col-span-8 xl:col-span-6",children:r.jsxs("div",{className:"max-w-2xl mx-auto xl:max-w-none",children:[r.jsx(F6,{}),a&&a.length>0&&r.jsx("div",{ref:n,className:"xl:hidden mb-8",children:r.jsx(O6,{announcements:a})}),r.jsx("div",{ref:i,className:"mb-8",children:r.jsx(Gj,{})}),r.jsx(B6,{announcement:o&&a&&a.length>0?a[0]:null,showGame:d}),r.jsx(Ud,{onCommentClick:u=>s(`/post/${u._id}`)})]})}),r.jsx("div",{className:"hidden xl:block xl:col-span-3",children:r.jsx(Qj,{})})]})})}):r.jsx(Ae,{to:"/login",replace:!0})}function Ye(){const e=ue();return r.jsxs("button",{onClick:()=>e(-1),className:"flex fixed top-20 left-4 z-40 p-3 rounded-full bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md border border-light-border dark:border-dark-border shadow-xl text-light-muted dark:text-dark-muted hover:text-primary-500 dark:hover:text-primary-400 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Go Back",children:[r.jsx(yr,{className:"w-6 h-6"}),r.jsx("span",{className:"sr-only",children:"Back"})]})}function $6(){const{user:e}=X(),t=B(S.posts.getSavedPosts,e?{userId:e._id}:"skip");return e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 bg-light-bg/50 dark:bg-dark-bg/50",children:r.jsx("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:r.jsx(Hj,{})}),r.jsx("div",{className:"lg:col-span-8 xl:col-span-6",children:r.jsxs("div",{className:"max-w-2xl mx-auto xl:max-w-none",children:[r.jsx("div",{className:"lg:hidden",children:r.jsx(Ye,{})}),r.jsx("div",{className:"flex items-center gap-3 mb-6 pt-16 md:pt-0",children:r.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:"Saved Posts"})}),r.jsx("div",{className:"space-y-6",children:t===void 0?[1,2,3].map(s=>r.jsx(Re,{},s)):t.length===0?r.jsxs("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted glass rounded-2xl border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-lg font-semibold",children:"No saved posts yet"}),r.jsx("p",{className:"text-sm mt-2",children:"Posts you save will appear here for easy access."})]}):t.map(s=>r.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsx(nx,{post:s,hasUserLiked:s.hasLiked})},s._id))})]})}),r.jsx("div",{className:"hidden xl:block xl:col-span-3",children:r.jsx(Qj,{})})]})})}):null}function Kj({onUploadComplete:e,allowVideo:t=!1,currentMedia:s}){const[a,n]=f.useState(!1),[i,o]=f.useState(0),[l,d]=f.useState(s),c=f.useRef(null),u=f.useRef(null),m=async(h,g)=>{if(g==="image"&&!ax(h)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}if(g==="video"&&!cA(h)){alert("Please upload a valid video file (MP4, WebM, or OGG)");return}const y=new FileReader;y.onloadend=()=>{d({url:y.result,type:g})},y.readAsDataURL(h),n(!0),o(0);try{const p=await Bd(h,g==="image"?"posts/images":"posts/videos",o);e(p,g),d({url:p,type:g})}catch(v){console.error("Upload failed:",v),alert(`Failed to upload ${g}. Please try again.`),d(s)}finally{n(!1),o(0)}},x=()=>{d(void 0),e("","image"),c.current&&(c.current.value=""),u.current&&(u.current.value="")};return r.jsxs("div",{className:"space-y-3",children:[r.jsx(se,{children:l&&r.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative rounded-lg overflow-hidden bg-light-card dark:bg-dark-card",children:[l.type==="image"?r.jsx("img",{src:l.url,alt:"Preview",className:"w-full max-h-96 object-contain"}):r.jsx("video",{src:l.url,controls:!0,className:"w-full max-h-96 object-contain"}),a&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(In,{className:"w-8 h-8 text-white animate-spin mx-auto mb-2"}),r.jsxs("span",{className:"text-sm text-white font-medium",children:[i,"%"]})]})}),!a&&r.jsx("button",{onClick:x,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:r.jsx(Me,{className:"w-5 h-5 text-white"})})]})}),!l&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:h=>{var y;const g=(y=h.target.files)==null?void 0:y[0];g&&m(g,"image")},className:"hidden",disabled:a}),r.jsxs("button",{type:"button",onClick:()=>{var h;return(h=c.current)==null?void 0:h.click()},disabled:a,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[r.jsx(Rs,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Image"})]}),t&&r.jsxs(r.Fragment,{children:[r.jsx("input",{ref:u,type:"file",accept:"video/*",onChange:h=>{var y;const g=(y=h.target.files)==null?void 0:y[0];g&&m(g,"video")},className:"hidden",disabled:a}),r.jsxs("button",{type:"button",onClick:()=>{var h;return(h=u.current)==null?void 0:h.click()},disabled:a,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-secondary-500 dark:hover:border-secondary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-secondary-500",children:[r.jsx(M4,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Video"})]})]})]})]})}function $d({onSuccess:e,defaultCategory:t,variant:s="default",postType:a}){const{user:n}=X(),i=$(S.posts.createPost),[o,l]=f.useState(""),[d,c]=f.useState(t||"Ancient Culture"),[u,m]=f.useState("personal_experience"),[x,h]=f.useState(""),[g,y]=f.useState(""),[v,p]=f.useState(null),[b,j]=f.useState(!1),[k,w]=f.useState(""),C=(T,_)=>{y(T),p(_)},N=async T=>{if(T.preventDefault(),!n){w("You must be logged in to post");return}if(o.trim().length<10){w("Post must be at least 10 characters");return}w(""),j(!0);try{await i({authorId:n._id,content:o.trim(),category:d,imageUrl:v==="image"?g:void 0,videoUrl:v==="video"?g:void 0,postType:a||"general",questionContext:a==="question"?u:void 0,scripture:a==="prayer"?x:void 0}),l(""),y(""),p(null),e==null||e()}catch(_){w(_ instanceof Error?_.message:"Failed to create post")}finally{j(!1)}};return r.jsxs(A.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:N,className:s==="bottom-sheet"?"":"glass rounded-xl p-4 md:p-6 shadow-lg",children:[s==="default"&&r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Lr,{className:"w-5 h-5 text-primary-500"}),r.jsx("h3",{className:"text-xl font-semibold text-light-text dark:text-dark-text",children:a==="question"?"Ask a Question":a==="prayer"?"Share a Prayer Point":"Share Your Learning"})]}),k&&r.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:k})}),r.jsxs("div",{className:"space-y-4",children:[!t&&r.jsxs(r.Fragment,{children:[a==="question"&&r.jsxs("div",{className:"mb-1",children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Question Context"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${u==="personal_experience"?"bg-blue-500/10 border-blue-500/50":"bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border hover:border-blue-500/30"}`,children:[r.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${u==="personal_experience"?"border-blue-500":"border-gray-400"}`,children:u==="personal_experience"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})}),r.jsx("input",{type:"radio",name:"questionContext",value:"personal_experience",checked:u==="personal_experience",onChange:()=>m("personal_experience"),className:"hidden"}),r.jsx("span",{className:`text-sm font-medium ${u==="personal_experience"?"text-blue-600 dark:text-blue-400":"text-light-text dark:text-dark-text"}`,children:"Personal"})]}),r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${u==="about_someone_else"?"bg-purple-500/10 border-purple-500/50":"bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border hover:border-purple-500/30"}`,children:[r.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${u==="about_someone_else"?"border-purple-500":"border-gray-400"}`,children:u==="about_someone_else"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"})}),r.jsx("input",{type:"radio",name:"questionContext",value:"about_someone_else",checked:u==="about_someone_else",onChange:()=>m("about_someone_else"),className:"hidden"}),r.jsx("span",{className:`text-sm font-medium ${u==="about_someone_else"?"text-purple-600 dark:text-purple-400":"text-light-text dark:text-dark-text"}`,children:"Someone Else"})]})]})]}),a!=="question"&&a!=="prayer"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>c("Ancient Culture"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${d==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient"}),r.jsx("button",{type:"button",onClick:()=>c("Wisdom of The Now"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${d==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom"})]})]})]}),a==="prayer"&&r.jsxs("div",{className:"mb-1",children:[r.jsxs("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:["Scripture Reference ",r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted font-normal ml-1",children:"(Optional)"})]}),r.jsx("input",{type:"text",value:x,onChange:T=>h(T.target.value),placeholder:"e.g. Philippians 4:6-7",className:"w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:a==="question"?"Your Question":a==="prayer"?"Your Prayer Point":"What did you learn?"}),r.jsx("textarea",{value:o,onChange:T=>l(T.target.value),placeholder:a==="question"?"Type your question here...":a==="prayer"?"Share your prayer request...":"Share your insights, revelations, and key takeaways from today's teaching session...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0}),r.jsxs("p",{className:"mt-1 text-xs text-light-muted dark:text-dark-muted",children:[o.length," characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Add Media (Optional)"}),r.jsx(Kj,{onUploadComplete:C,allowVideo:(n==null?void 0:n.role)==="admin",currentMedia:g?{url:g,type:v}:void 0}),(n==null?void 0:n.role)==="admin"&&r.jsx("p",{className:"mt-1 text-xs text-accent-500",children:" As an admin, you can upload both images and videos"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:[" Be among the first 5 to post and earn the ",r.jsx("strong",{className:"text-primary-500",children:"SENT"})," badge!"]}),r.jsx(M,{type:"submit",variant:"primary",isLoading:b,disabled:o.trim().length<10,children:"Post"})]})]})]})}function ox({isVisible:e,onToggle:t,category:s}){return r.jsx(A.button,{onClick:t,whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e?"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg":"bg-primary-500 text-white shadow-lg shadow-primary-500/20 hover:bg-primary-600"}`,children:e?r.jsxs(r.Fragment,{children:[r.jsx(po,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm",children:["Hide ",s," Posts"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(St,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm",children:["Show ",s," Posts"]})]})})}function lx({content:e,title:t}){const[s,a]=f.useState(!1);return r.jsxs("div",{className:"relative inline-block",children:[r.jsx("button",{onClick:()=>a(!s),className:"p-1 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-all focus:outline-none","aria-label":"Information",children:r.jsx(Zy,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})}),r.jsx(se,{children:s&&r.jsxs(r.Fragment,{children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),r.jsx(A.div,{initial:{opacity:0,scale:.9,x:"-50%",y:"-40%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.9,x:"-50%",y:"-40%"},className:"fixed z-50 left-1/2 top-1/2 w-[90vw] max-w-sm",children:r.jsxs("div",{className:"glass rounded-xl p-6 shadow-2xl border border-light-border dark:border-dark-border bg-white/90 dark:bg-black/90",children:[t&&r.jsx("h4",{className:"font-bold text-lg text-primary-500 mb-2 font-display",children:t}),r.jsx("p",{className:"text-sm md:text-base text-light-text dark:text-dark-text leading-relaxed",children:e}),r.jsx("button",{onClick:()=>a(!1),className:"mt-4 w-full py-2 rounded-lg bg-primary-500/10 text-primary-500 hover:bg-primary-500/20 font-medium text-sm transition-colors",children:"Got it"})]})})]})})]})}function V6(){const{user:e,isLoading:t}=X(),s=ue(),[a,n]=f.useState(0),[i,o]=f.useState(()=>{const l=localStorage.getItem("ancientCulture_postsVisible");return l!==null?JSON.parse(l):!0});return f.useEffect(()=>{localStorage.setItem("ancientCulture_postsVisible",JSON.stringify(i))},[i]),t?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Kt,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{})]})]})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-primary-500/10 via-primary-500/5 to-primary-600/10 border border-primary-500/20",children:r.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-primary-500 flex items-center justify-center shadow-lg shadow-primary-500/30 flex-shrink-0",children:r.jsx(Ba,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 font-display",children:"Ancient Culture"}),r.jsx(lx,{title:"Ancient Culture",content:"This section features teachings based on prophetic wisdom and systems from the Old Testament. Admin-created posts appear here for community learning and discussion."})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:"Prophetic wisdom and systems from the Old Testament"})]})]}),r.jsx(A.button,{whileTap:{scale:.95},onClick:async()=>{const l=`${window.location.origin}/ancient-culture`;navigator.share?await navigator.share({title:"Ancient Culture - Baptizo",url:l}):(await navigator.clipboard.writeText(l),alert("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/20 transition-all flex-shrink-0",title:"Share this page",children:r.jsx(Bn,{className:"w-5 h-5 text-primary-500"})})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx($d,{onSuccess:()=>n(l=>l+1),defaultCategory:"Ancient Culture"}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ox,{isVisible:i,onToggle:()=>o(!i),category:"Ancient Culture"})}),i&&r.jsx(Ud,{category:"Ancient Culture",onlyOfficial:!0,onCommentClick:l=>s(`/post/${l._id}`)},a),!i&&r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Ancient Culture Posts" to view them.'})})]})]})}):r.jsx(Ae,{to:"/login",replace:!0})}function z6(){const{user:e,isLoading:t}=X(),s=ue(),[a,n]=f.useState(0),[i,o]=f.useState(()=>{const l=localStorage.getItem("wisdomNow_postsVisible");return l!==null?JSON.parse(l):!0});return f.useEffect(()=>{localStorage.setItem("wisdomNow_postsVisible",JSON.stringify(i))},[i]),t?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Kt,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{})]})]})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-secondary-500/10 via-secondary-500/5 to-secondary-600/10 border border-secondary-500/20",children:r.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-secondary-500 flex items-center justify-center shadow-lg shadow-secondary-500/30 flex-shrink-0",children:r.jsx(Lr,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-secondary-600 dark:text-secondary-400 font-display",children:"Wisdom of The Now"}),r.jsx(lx,{title:"Wisdom of The Now",content:"This section features teachings based on spiritual identity and insights from the New Testament. Engage with admin posts to deepen your understanding."})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:"Spiritual identity and insights from the New Testament"})]})]}),r.jsx(A.button,{whileTap:{scale:.95},onClick:async()=>{const l=`${window.location.origin}/wisdom-now`;navigator.share?await navigator.share({title:"Wisdom of The Now - Baptizo",url:l}):(await navigator.clipboard.writeText(l),alert("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-900/20 transition-all flex-shrink-0",title:"Share this page",children:r.jsx(Bn,{className:"w-5 h-5 text-secondary-500"})})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx($d,{onSuccess:()=>n(l=>l+1),defaultCategory:"Wisdom of The Now"}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ox,{isVisible:i,onToggle:()=>o(!i),category:"Wisdom of The Now"})}),i&&r.jsx(Ud,{category:"Wisdom of The Now",onlyOfficial:!0,onCommentClick:l=>s(`/post/${l._id}`)},a),!i&&r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Wisdom of The Now Posts" to view them.'})})]})]})}):r.jsx(Ae,{to:"/login",replace:!0})}function q6({currentAvatarUrl:e,onUploadComplete:t,size:s="lg"}){const[a,n]=f.useState(!1),[i,o]=f.useState(0),[l,d]=f.useState(e),[c,u]=f.useState(!1),m=f.useRef(null),x={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},h=async y=>{var b;const v=(b=y.target.files)==null?void 0:b[0];if(!v)return;if(!ax(v)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}const p=new FileReader;p.onloadend=()=>{d(p.result)},p.readAsDataURL(v),n(!0),o(0),u(!1);try{const j=await Bd(v,"avatars",o);t(j),d(j),u(!0),setTimeout(()=>u(!1),3e3)}catch(j){console.error("Upload failed:",j),alert("Failed to upload avatar. Please try again."),d(e)}finally{n(!1),o(0)}},g=()=>{d(void 0),t(""),m.current&&(m.current.value="")};return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${x[s]} rounded-full overflow-hidden border-4 border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card flex items-center justify-center`,children:l?r.jsx("img",{src:Bj(l,200,200),alt:"Avatar",className:"w-full h-full object-cover"}):r.jsx(im,{className:"w-8 h-8 text-light-muted dark:text-dark-muted"})}),a&&r.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(In,{className:"w-6 h-6 text-white animate-spin mx-auto mb-1"}),r.jsxs("span",{className:"text-xs text-white font-medium",children:[i,"%"]})]})}),l&&!a&&r.jsx("button",{onClick:g,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:r.jsx(Me,{className:"w-4 h-4 text-white"})})]}),r.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a}),r.jsxs(M,{onClick:()=>{var y;return(y=m.current)==null?void 0:y.click()},variant:"outline",size:"sm",disabled:a,children:[r.jsx(im,{className:"w-4 h-4 mr-2"}),l?"Change Avatar":"Upload Avatar"]}),r.jsx(se,{children:c&&r.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:[r.jsx(ot,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Avatar saved successfully!"})]})})]})}const W6=e=>{if(!e)return"";if(e.length<=4)return e;const t=e.slice(-4);return"*".repeat(e.length-4)+t},H6=e=>{const t=e.replace(/[\s-]/g,"");return/^\d{10}$/.test(t)},Q6=e=>e.trim().length>=2&&e.trim().length<=100,G6=e=>e.trim().length>=2&&e.trim().length<=100,K6=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Fidelity Bank","Union Bank","Sterling Bank","Polaris Bank","Wema Bank","Ecobank","Stanbic IBTC","Keystone Bank","FCMB","Unity Bank","Jaiz Bank","Providus Bank","Kuda Bank","OPay","PalmPay","Moniepoint","Other"];function Y6({userId:e,isAdminView:t=!1}){const{user:s}=X(),a=e||(s==null?void 0:s._id),n=B(S.bankingCredentials.getBankingCredentials,a&&(s!=null&&s._id)?{userId:a,viewerId:s._id}:"skip"),i=$(S.bankingCredentials.updateBankingCredentials),[o,l]=f.useState(!1),[d,c]=f.useState(!1),[u,m]=f.useState({bankName:"",accountNumber:"",accountName:""}),[x,h]=f.useState({}),[g,y]=f.useState(!1);f.useEffect(()=>{n&&m({bankName:n.bankName||"",accountNumber:n.accountNumber||"",accountName:n.accountName||""})},[n]);const v=async j=>{j.preventDefault();const k={};if(Q6(u.bankName)||(k.bankName="Please enter a valid bank name"),H6(u.accountNumber)||(k.accountNumber="Account number must be 10 digits"),G6(u.accountName)||(k.accountName="Please enter a valid account name"),h(k),!(Object.keys(k).length>0)&&a){y(!0);try{await i({userId:a,bankName:u.bankName.trim(),accountNumber:u.accountNumber.replace(/[\s-]/g,""),accountName:u.accountName.trim()}),l(!1),c(!1)}catch(w){console.error("Failed to update banking credentials:",w),h({submit:"Failed to save banking credentials. Please try again."})}finally{y(!1)}}},p=(n==null?void 0:n.bankName)&&(n==null?void 0:n.accountNumber)&&(n==null?void 0:n.accountName),b=!t&&(s==null?void 0:s._id)===a;return r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center gap-2",children:[r.jsx(kr,{className:"w-5 h-5 text-accent-500"}),"Banking Information"]})}),r.jsxs(F,{children:[!t&&r.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-light-bg dark:bg-dark-bg flex items-start gap-2",children:[r.jsx(st,{className:"w-4 h-4 text-light-muted dark:text-dark-muted mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Your banking information is secure and only visible to you and administrators. This is required to receive rewards for participating in teaching sessions."})]}),o?r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Bank Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:u.bankName,onChange:j=>m({...u,bankName:j.target.value}),className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select your bank"}),K6.map(j=>r.jsx("option",{value:j,children:j},j))]}),x.bankName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.bankName})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:u.accountNumber,onChange:j=>m({...u,accountNumber:j.target.value}),placeholder:"0123456789",maxLength:10,className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono"}),x.accountNumber&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.accountNumber})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:u.accountName,onChange:j=>m({...u,accountName:j.target.value}),placeholder:"John Doe",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500"}),x.accountName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.accountName})]}),x.submit&&r.jsx("p",{className:"text-red-500 text-sm",children:x.submit}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(M,{type:"submit",variant:"primary",className:"flex-1",disabled:g,children:g?"Saving...":"Save"}),r.jsx(M,{type:"button",onClick:()=>{l(!1),h({}),n&&m({bankName:n.bankName||"",accountNumber:n.accountNumber||"",accountName:n.accountName||""})},variant:"secondary",className:"flex-1",disabled:g,children:"Cancel"})]})]}):r.jsx("div",{className:"space-y-4",children:p?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Bank Name"}),r.jsx("p",{className:"text-light-text dark:text-dark-text",children:n.bankName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Number"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-light-text dark:text-dark-text font-mono",children:d?n.accountNumber:W6(n.accountNumber||"")}),r.jsx("button",{onClick:()=>c(!d),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:d?r.jsx(po,{className:"w-4 h-4"}):r.jsx(St,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Name"}),r.jsx("p",{className:"text-light-text dark:text-dark-text",children:n.accountName})]}),b&&r.jsx(M,{onClick:()=>l(!0),variant:"secondary",className:"w-full",children:"Update Banking Information"})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:t?"This user has not added banking information yet.":"Add your banking information to receive rewards."}),b&&r.jsx(M,{onClick:()=>l(!0),variant:"primary",children:"Add Banking Information"})]})})]})]})}function J6({currentCoverUrl:e,onUploadComplete:t}){const[s,a]=f.useState(!1),[n,i]=f.useState(e),o=f.useRef(null),l=async d=>{var m;const c=(m=d.target.files)==null?void 0:m[0];if(!c)return;if(!ax(c)){alert("Please upload a valid image file");return}const u=new FileReader;u.onloadend=()=>i(u.result),u.readAsDataURL(c),a(!0);try{const x=await Bd(c,"covers");t(x),i(x)}catch(x){console.error("Upload failed:",x),i(e),alert("Failed to upload cover image")}finally{a(!1)}};return r.jsxs("div",{className:"relative w-full h-full group",children:[n?r.jsx("img",{src:n,alt:"Cover",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500/20 to-secondary-500/20"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"}),s&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm z-20",children:r.jsx(In,{className:"w-8 h-8 text-white animate-spin"})}),r.jsx("button",{onClick:()=>{var d;return(d=o.current)==null?void 0:d.click()},className:"absolute bottom-4 right-4 p-2.5 rounded-full bg-black/40 hover:bg-black/60 text-white backdrop-blur-md opacity-100 md:opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110 z-20 border border-white/20",title:"Change Cover Photo",children:r.jsx(u4,{className:"w-5 h-5"})}),r.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/*",onChange:l})]})}function X6(){const{user:e,isLoading:t,updateUser:s}=X(),a=$(S.presence.updateAvatar),n=$(S.users.updateProfile),i=e?B(S.users.getUserStats,{userId:e._id}):void 0,o=async d=>{if(e)try{await a({userId:e._id,avatarUrl:d}),s({avatarUrl:d})}catch(c){console.error("Failed to update avatar:",c)}},l=async d=>{if(e)try{await n({userId:e._id,coverImageUrl:d})}catch(c){console.error("Failed to update cover image:",c)}};return t?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Kt,{}),r.jsx("div",{className:"glass rounded-xl h-64 animate-pulse mb-6"})," ",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Lt,{}),r.jsx(Lt,{}),r.jsx(Lt,{})]})]})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs("div",{className:"mb-4 md:mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Profile"}),r.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View your account details and community stats"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl overflow-hidden",children:[r.jsx("div",{className:"h-32 md:h-48 relative bg-gray-100 dark:bg-gray-800",children:r.jsx(J6,{currentCoverUrl:e.coverImageUrl,onUploadComplete:l})}),r.jsxs("div",{className:"px-4 pb-4 md:px-8 md:pb-8 relative",children:[r.jsx("div",{className:"relative -mt-10 md:-mt-16 mb-3 md:mb-4 flex flex-col items-center md:items-start whitespace-nowrap",children:r.jsx(q6,{currentAvatarUrl:e.avatarUrl,onUploadComplete:o,size:"xl"})}),r.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 text-center md:text-left",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 mb-1",children:[r.jsx("h1",{className:"text-xl md:text-3xl font-bold text-light-text dark:text-dark-text truncate",children:e.name}),r.jsx(W,{variant:e.role==="super_admin"?"secondary":e.role==="admin"?"primary":"default",className:"h-5 text-[10px]",children:e.role==="super_admin"?"Super Admin":e.role==="admin"?"Admin":"Member"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-4 text-sm text-light-muted dark:text-dark-muted mb-4",children:[r.jsx("span",{children:e.email}),r.jsx("span",{className:"hidden md:inline",children:""}),r.jsx("span",{children:OP(e.phone)})]}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-6 mb-4 md:mb-0",children:[r.jsxs(re,{to:"/profile/followers",className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:(i==null?void 0:i.followerCount)||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Followers"})]}),r.jsxs(re,{to:"/profile/following",className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:(i==null?void 0:i.followingCount)||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Following"})]})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(D,{glass:!0,className:"p-6 text-center",children:[r.jsx(Qt,{className:"w-8 h-8 mx-auto mb-2 text-primary-500"}),r.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalPosts)||0}),r.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Posts"})]}),r.jsxs(D,{glass:!0,className:"p-6 text-center",children:[r.jsx(ye,{className:"w-8 h-8 mx-auto mb-2 text-accent-500"}),r.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalRewards)||0}),r.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Awards Won"})]}),r.jsxs(D,{glass:!0,className:"p-6 text-center",children:[r.jsx("div",{className:"w-8 h-8 mx-auto mb-2 flex items-center justify-center text-xl",children:""}),r.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalEarned)||0}),r.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Rubies Earned"})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(Y6,{})})]})}):r.jsx(Ae,{to:"/login",replace:!0})}function Jo(){const{userId:e}=Fa(),{user:t}=X(),s=jt(),a=ue(),n=s.pathname.includes("following")?"following":"followers",i=e||(t==null?void 0:t._id),o=B(S.follows.getFollowList,i?{userId:i,type:n,currentUserId:t==null?void 0:t._id}:"skip"),l=$(S.follows.toggleFollow),d=async c=>{t&&await l({followerId:t._id,followingId:c})};return i?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[r.jsx(Ye,{}),r.jsx("h1",{className:"text-2xl font-bold mb-6 capitalize text-light-text dark:text-dark-text",children:n}),r.jsx("div",{className:"space-y-4",children:o===void 0?[1,2,3].map(c=>r.jsx("div",{className:"h-16 glass rounded-xl animate-pulse"},c)):o.length===0?r.jsxs("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:["No ",n," found."]}):o.map(c=>r.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-xl hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>a(`/profile/${c._id}`),children:[r.jsx(gt,{src:c.avatarUrl,alt:c.name,className:"w-10 h-10 border border-light-border dark:border-dark-border"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-light-text dark:text-dark-text",children:c.name}),r.jsxs("div",{className:"text-xs text-light-muted dark:text-dark-muted",children:["@",c.username||"user"]})]})]}),(t==null?void 0:t._id)!==c._id&&r.jsx(M,{size:"sm",variant:c.isFollowing?"outline":"primary",onClick:()=>d(c._id),className:c.isFollowing?"hover:bg-red-500 hover:text-white hover:border-red-500":"",children:c.isFollowing?"Following":"Follow"})]},c._id))})]})}):null}function Z6(){const{user:e,isLoading:t}=X(),s=B(S.stats.getDashboardStats,e?{adminId:e._id}:"skip"),a=B(S.comments.getCommentSettings,{}),n=$(S.comments.toggleComments),i=B(S.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),o=(i==null?void 0:i.length)||0,l=B(S.contacts.getContacts,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),d=(l==null?void 0:l.filter(p=>!p.read).length)||0,[c,u]=f.useState(!1);if(t)return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Kt,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx(Lt,{}),r.jsx(Lt,{}),r.jsx(Lt,{})]})]});if(!e||e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Ae,{to:"/feed",replace:!0});const m=(s==null?void 0:s.totalMembers)||0,x=(s==null?void 0:s.admins)||0,h=(s==null?void 0:s.boardMembers)||0,g=m>0?m-x-h:0,y=(s==null?void 0:s.totalComments)||0,v=(s==null?void 0:s.totalLikes)||0;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gradient font-display mb-1",children:"System Overview"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage teaching sessions and view community statistics"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"grid gap-4",children:r.jsx(D,{glass:!0,className:"bg-gradient-to-br from-primary-500/10 to-transparent border-primary-500/20 h-full",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Total Community"}),r.jsx(je,{className:"w-8 h-8 text-primary-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Members"}),r.jsx("span",{className:"font-bold",children:g})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Admins"}),r.jsx("span",{className:"font-bold",children:x})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Board"}),r.jsx("span",{className:"font-bold",children:h})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border",children:[r.jsx("h4",{className:"text-[10px] font-bold text-light-muted dark:text-dark-muted mb-2 uppercase tracking-wider",children:"Engagement"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5",title:"Total Comments",children:[r.jsx(Dt,{className:"w-3.5 h-3.5 text-blue-500"}),r.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text",children:y})]}),r.jsxs("div",{className:"flex items-center gap-1.5",title:"Total Reactions",children:[r.jsx(Js,{className:"w-3.5 h-3.5 text-red-500 fill-red-500/20"}),r.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text",children:v})]})]})]})]})})}),r.jsxs("div",{className:"grid gap-4",children:[r.jsx(re,{to:"/board",children:r.jsx(D,{glass:!0,className:"hover:shadow-lg transition-all h-full group",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg group-hover:text-primary-500 transition-colors",children:"Board Dashboard"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage Tasks & Training"})]}),r.jsx(ye,{className:"w-8 h-8 text-yellow-500 opacity-80"})]}),r.jsx("div",{className:"mt-4 flex items-center gap-2",children:r.jsxs(W,{variant:"secondary",children:[h," Active Members"]})})]})})}),r.jsx(re,{to:"/admin/contacts",children:r.jsx(D,{glass:!0,className:"hover:shadow-lg transition-all h-full group",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg group-hover:text-blue-500 transition-colors",children:"Messages"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Contact submissions"})]}),r.jsx(Dt,{className:"w-8 h-8 text-blue-500 opacity-80"})]}),d>0?r.jsxs(W,{variant:"danger",className:"mt-2 animate-pulse",children:[d," Unread"]}):r.jsx("p",{className:"text-xs text-light-muted mt-2",children:"No new messages"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-4",children:[r.jsx(D,{glass:!0,className:"cursor-pointer hover:border-primary-500 transition-colors group",onClick:()=>{const p=`${window.location.origin}/member-onboarding`;navigator.clipboard.writeText(p),u(!0)},children:r.jsxs(F,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center shrink-0 group-hover:bg-primary-500/20 transition-colors",children:r.jsx(ql,{className:"w-5 h-5 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold",children:"Onboarding Link"}),r.jsx("p",{className:"text-[10px] text-light-muted",children:"Copy to clipboard"})]})]})}),r.jsx(re,{to:"/admin/roles",children:r.jsx(D,{glass:!0,className:"hover:border-primary-500 transition-colors group h-full",children:r.jsxs(F,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center shrink-0 group-hover:bg-orange-500/20 transition-colors",children:r.jsx($e,{className:"w-5 h-5 text-orange-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-bold",children:"Role Management"}),r.jsx("p",{className:"text-[10px] text-light-muted",children:"Assign privileges"})]}),r.jsx(Ct,{className:"w-4 h-4 text-light-muted group-hover:translate-x-1 transition-transform"})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Dt,{className:"w-5 h-5 text-primary-500"}),"System Controls"]})}),r.jsx(F,{children:r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-light-text dark:text-dark-text text-sm",children:"Community Comments"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5",children:a?"Public participation is enabled":"Comments are temporarily disabled"})]}),r.jsx("button",{onClick:async()=>{if(e)try{await n({adminId:e._id,enabled:!a})}catch(p){console.error("Failed to toggle comments:",p)}},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-primary-500":"bg-gray-300 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(re,{to:"/admin/tasks",children:r.jsx(D,{glass:!0,className:"hover:shadow-lg transition-all group h-full",children:r.jsxs(F,{className:"p-6",children:[r.jsx(ql,{className:"w-8 h-8 text-purple-500 mb-4 opacity-80"}),r.jsx("h3",{className:"font-bold",children:"Task Reviews"}),r.jsx("p",{className:"text-xs text-light-muted mb-4",children:"Check student submissions"}),r.jsxs(W,{variant:"outline",className:"bg-purple-500/5 text-purple-500 border-purple-500/20",children:[o," Waiting"]})]})})}),r.jsx(re,{to:"/admin/banking",children:r.jsx(D,{glass:!0,className:"hover:shadow-lg transition-all group h-full",children:r.jsxs(F,{className:"p-6",children:[r.jsx(ye,{className:"w-8 h-8 text-emerald-500 mb-4 opacity-80"}),r.jsx("h3",{className:"font-bold",children:"Banking System"}),r.jsx("p",{className:"text-xs text-light-muted mb-4",children:"Manage wallets & rewards"}),r.jsxs("div",{className:"flex items-center text-xs font-bold text-emerald-500 gap-1 group-hover:gap-2 transition-all",children:["Enter Hub ",r.jsx(Ct,{className:"w-3 h-3"})]})]})})})]})]})]}),r.jsx(dt,{isOpen:c,onClose:()=>u(!1),title:"Link Copied!",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ot,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6",children:"Onboarding link has been copied to clipboard. Share this with new members."}),r.jsx(M,{variant:"primary",className:"w-full",onClick:()=>u(!1),children:"Close"})]})})]})}function eI(){const{user:e}=X(),t=ue(),s=B(S.notifications.getNotifications,e?{userId:e._id}:"skip"),a=$(S.notifications.markAllAsRead),n=$(S.notifications.markAsRead),i=$(S.notifications.deleteNotification),[o,l]=f.useState(null),d=async()=>{if(e)try{await a({userId:e._id})}catch(g){console.error("Failed to mark all as read:",g)}},c=async g=>{e&&(g.read||await n({notificationId:g._id,userId:e._id}),g.postId?g.type==="reward"?t(`/post/${g.postId}/responses`):t(`/post/${g.postId}`):g.type==="assignment"?t("/tasks"):g.type==="follower"?t(`/profile/${g.senderId}`):g.type==="chat"&&t("/chat"))},u=(g,y)=>{g.stopPropagation(),l(y)},m=async()=>{if(!(!o||!e))try{await i({notificationId:o,userId:e._id})}catch(g){console.error("Failed to delete notification:",g)}finally{l(null)}},x=g=>{switch(g){case"like":return r.jsx(Js,{className:"w-5 h-5 text-red-500 fill-red-500"});case"comment":return r.jsx(xt,{className:"w-5 h-5 text-blue-500 fill-blue-500"});case"reply":return r.jsx(xt,{className:"w-5 h-5 text-indigo-500 fill-indigo-500"});case"new_post":return r.jsx(Qt,{className:"w-5 h-5 text-green-500 fill-green-500"});case"reward":return r.jsx(xa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"});case"assignment":return r.jsx(ql,{className:"w-5 h-5 text-purple-500 fill-purple-500"});case"follower":return r.jsx(ft,{className:"w-5 h-5 text-pink-500 fill-pink-500"});case"system_alert":return r.jsx(Rr,{className:"w-5 h-5 text-amber-500"});case"meeting":return r.jsx(vt,{className:"w-5 h-5 text-indigo-500"});case"question":return r.jsx(xt,{className:"w-5 h-5 text-cyan-500"});case"chat":return r.jsx(xt,{className:"w-5 h-5 text-blue-500"});default:return r.jsx(Ni,{className:"w-5 h-5 text-primary-500"})}},h=g=>{var v;if(g.message)return r.jsx("span",{children:g.message});const y=((v=g.sender)==null?void 0:v.name)||"Someone";switch(g.type){case"like":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:y})," liked your post"]});case"comment":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:y})," commented on your post"]});case"new_post":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:y})," shared a new post"]});case"reply":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:y})," replied to your comment"]});case"reward":return r.jsxs("span",{children:["Congratulations! You were ",r.jsx("span",{className:"font-semibold text-yellow-500",children:"awarded"})," for your response"]});case"assignment":return r.jsxs("span",{children:["You have a new ",r.jsx("span",{className:"font-semibold text-purple-500",children:"assignment"})," from an admin"]});case"follower":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:y})," started following you"]});case"meeting":return r.jsxs("span",{children:["New update regarding a ",r.jsx("span",{className:"font-semibold text-indigo-500",children:"meeting"})]});case"question":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:y})," asked a question on your post"]});default:return r.jsxs("span",{children:["New notification from ",r.jsx("span",{className:"font-semibold text-primary-500",children:y})]})}};return e?r.jsxs("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:[r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[r.jsx(Ye,{}),r.jsxs(D,{glass:!0,className:"mt-4",children:[r.jsxs(fe,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 border-b border-light-border dark:border-dark-border py-4 px-4 sm:px-6",children:[r.jsxs(ge,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[r.jsx(Ni,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-500"}),"Center of Alerts"]}),s&&s.some(g=>!g.read)&&r.jsxs("button",{onClick:d,className:"text-xs sm:text-sm text-primary-500 hover:text-primary-600 font-bold flex items-center justify-center gap-1.5 px-4 py-2 sm:px-3 sm:py-1 rounded-full bg-primary-500/10 dark:hover:bg-primary-950/20 transition-all w-full sm:w-auto border border-primary-500/20",children:[r.jsx(ot,{className:"w-4 h-4"}),"Mark all as read"]})]}),r.jsx(F,{className:"p-0",children:s?s.length===0?r.jsxs("div",{className:"text-center py-20 text-light-muted dark:text-dark-muted",children:[r.jsx("div",{className:"w-20 h-20 bg-light-card dark:bg-dark-card rounded-full flex items-center justify-center mx-auto mb-4 border border-light-border dark:border-dark-border",children:r.jsx(Ni,{className:"w-10 h-10 opacity-20"})}),r.jsx("h3",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:"All Caught Up!"}),r.jsx("p",{className:"text-sm",children:"No new notifications at the moment."})]}):r.jsx("div",{className:"divide-y divide-light-border dark:divide-dark-border",children:s.map(g=>{var y,v;return r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>c(g),className:`
                                            flex items-start gap-4 p-4 cursor-pointer transition-all group relative
                                            ${g.read?"bg-transparent":"bg-primary-50/30 dark:bg-primary-900/5"}
                                            hover:bg-light-card dark:hover:bg-dark-card
                                        `,children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("button",{onClick:p=>{p.stopPropagation(),t(`/profile/${g.senderId}`)},children:r.jsx(gt,{src:(y=g.sender)==null?void 0:y.avatarUrl,alt:((v=g.sender)==null?void 0:v.name)||"User",size:"md",className:"ring-2 ring-transparent group-hover:ring-primary-500/20"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-dark-bg rounded-full p-1 shadow-md border border-light-border dark:border-dark-border",children:x(g.type)})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm leading-relaxed",children:h(g)}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wider",children:pt(g.createdAt,{addSuffix:!0})}),!g.read&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]})]}),r.jsx("div",{className:"flex flex-col gap-2",children:r.jsx("button",{onClick:p=>u(p,g._id),className:"p-2 text-light-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete notification",children:r.jsx(Ar,{className:"w-4 h-4"})})})]},g._id)})}):r.jsx("div",{className:"p-6",children:r.jsx(_a,{count:4})})})]})]}),r.jsx(Ma,{isOpen:!!o,onClose:()=>l(null),onConfirm:m,title:"Delete Notification",description:"Are you sure you want to delete this notification? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]}):null}function Yj(){return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsxs(A.div,{className:"w-24 h-24 mb-8 relative",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-500/20 animate-ping"}),r.jsx("div",{className:"absolute inset-2 rounded-full bg-primary-500/40 animate-pulse"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"w-16 h-16 rounded-2xl shadow-2xl z-10"})})]}),r.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col items-center gap-2",children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent",children:"Baptizo Community"}),r.jsx("div",{className:"flex gap-1",children:[0,1,2].map(e=>r.jsx(A.div,{className:"w-2 h-2 rounded-full bg-primary-500",animate:{y:[0,-6,0],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:e*.2}},e))})]})]})})}function tI(){const{user:e}=X(),[t,s]=f.useState(""),[a,n]=f.useState(null),i=B(S.assignments.getUserAssignments,e?{userId:e._id}:"skip"),o=$(S.assignments.submitAssignment);if(!e)return null;if(i===void 0)return r.jsx(Yj,{});const l=i.filter(u=>u.status==="pending"),d=i.filter(u=>u.status!=="pending"),c=async u=>{if(t.trim())try{await o({assignmentId:u,userId:e._id,content:t}),n(null),s("")}catch(m){console.error("Failed to submit:",m),alert("Failed to submit assignment")}};return r.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[r.jsx(Ye,{}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"My Tasks"}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[r.jsx(Je,{className:"w-5 h-5 text-amber-500"}),"Pending (",l.length,")"]}),l.length===0?r.jsx("p",{className:"text-light-muted dark:text-dark-muted italic",children:"No pending tasks."}):r.jsx("div",{className:"space-y-4",children:l.map(u=>{var m;return r.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-amber-500/20",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Instruction from ",u.adminName]}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(m=u.postContent)==null?void 0:m.substring(0,50),'..."']})]}),r.jsx(W,{variant:"warning",children:"Pending"})]}),r.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg mb-4 text-light-text dark:text-dark-text",children:u.instructions}),a===u._id?r.jsxs("div",{className:"space-y-3",children:[r.jsx("textarea",{value:t,onChange:x=>s(x.target.value),placeholder:"Type your response here...",className:"w-full min-h-[150px] p-4 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500"}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(M,{variant:"ghost",onClick:()=>n(null),children:"Cancel"}),r.jsx(M,{variant:"primary",onClick:()=>c(u._id),disabled:!t.trim(),children:"Submit Response"})]})]}):r.jsx(M,{variant:"primary",onClick:()=>n(u._id),children:"Start Task"})]},u._id)})})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5 text-primary-500"}),"History"]}),r.jsx("div",{className:"space-y-4",children:d.map(u=>{var m;return r.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm opacity-80 hover:opacity-100 transition-opacity",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Task from ",u.adminName]}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(m=u.postContent)==null?void 0:m.substring(0,30),'..."']})]}),r.jsx(W,{variant:u.status==="approved"?"success":u.status==="rejected"?"danger":"default",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),r.jsxs("div",{className:"mb-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Instructions:"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted bg-light-bg dark:bg-dark-bg p-2 rounded",children:u.instructions})]}),r.jsxs("div",{className:"mb-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Your Submission:"}),r.jsx("p",{className:"text-sm text-light-text dark:text-dark-text bg-light-bg dark:bg-dark-bg p-3 rounded",children:u.submissionContent})]}),(u.grade||u.feedback)&&r.jsxs("div",{className:`p-4 rounded-lg ${u.status==="approved"?"bg-green-500/10 border border-green-500/20":u.status==="rejected"?"bg-red-500/10 border border-red-500/20":"bg-primary-500/10 border border-primary-500/20"}`,children:[u.grade&&r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ht,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-bold",children:["Grade: ",u.grade]})]}),u.feedback&&r.jsxs("p",{className:"text-sm italic",children:['"',u.feedback,'"']})]})]},u._id)})})]})]})}function rI(){const{user:e}=X(),t=$(S.users.claimSuperAdmin),[s,a]=f.useState("idle"),[n,i]=f.useState(""),o=async()=>{if(e){a("loading");try{await t({userId:e._id}),a("success"),setTimeout(()=>{window.location.href="/admin"},2e3)}catch(l){a("error"),i(l.message||"Failed to claim super admin.")}}};return e?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsx(D,{className:"max-w-md w-full bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border",children:r.jsxs(F,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_zcvetszcvetszcve%20(1).png",alt:"Baptizo",className:"h-20 w-auto rounded-3xl shadow-2xl"})}),r.jsx("div",{className:"mx-auto w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:r.jsx($e,{className:"w-6 h-6 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-2",children:"Super Admin Setup"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Initialize the system by claiming the first Super Admin role. This is a one-time setup step."})]}),s==="idle"&&r.jsx(M,{variant:"primary",size:"lg",className:"w-full",onClick:o,children:"Claim Super Admin Role"}),s==="loading"&&r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}),s==="success"&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[r.jsx(Ht,{className:"w-6 h-6"}),r.jsx("p",{className:"font-medium",children:"Success! Redirecting..."})]}),s==="error"&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[r.jsx($s,{className:"w-6 h-6"}),r.jsx("p",{className:"font-medium",children:n}),r.jsx(M,{variant:"outline",size:"sm",onClick:()=>a("idle"),className:"mt-2",children:"Try Again"})]})]})})}):r.jsx("div",{className:"p-8 text-center",children:"Please login first."})}function Dr({label:e,options:t,value:s,onChange:a,placeholder:n="Select an option",className:i,error:o}){const[l,d]=f.useState(!1),c=f.useRef(null),u=t.find(x=>x.value===s);f.useEffect(()=>{function x(h){c.current&&!c.current.contains(h.target)&&d(!1)}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const m=x=>{a(x),d(!1)};return r.jsxs("div",{className:Y("w-full relative",i),ref:c,children:[e&&r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),r.jsxs("button",{type:"button",onClick:()=>d(!l),className:Y("w-full flex items-center justify-between px-4 py-3 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text",l?"border-primary-500 ring-2 ring-primary-500/20":"border-light-border dark:border-dark-border hover:border-primary-500",o&&"border-red-500"),children:[r.jsxs("span",{className:Y("flex items-center gap-2",!u&&"text-light-muted dark:text-dark-muted"),children:[u==null?void 0:u.icon,(u==null?void 0:u.label)||n]}),r.jsx(Ge,{className:Y("w-4 h-4 transition-transform",l&&"rotate-180")})]}),r.jsx(se,{children:l&&r.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-xl overflow-hidden max-h-60 overflow-y-auto thin-scrollbar",children:t.map(x=>x.disabled?r.jsx("div",{className:"px-4 py-2 text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wide pointer-events-none",children:x.label},x.value):r.jsxs("button",{onClick:()=>m(x.value),className:Y("w-full flex items-center justify-between px-4 py-3 text-sm transition-colors","hover:bg-primary-50 dark:hover:bg-primary-900/10",s===x.value?"text-primary-600 dark:text-primary-400 font-medium bg-primary-50/50 dark:bg-primary-900/5":"text-light-text dark:text-dark-text"),children:[r.jsxs("span",{className:"flex items-center gap-2",children:[x.icon,x.label]}),s===x.value&&r.jsx(ot,{className:"w-4 h-4"})]},x.value))})}),o&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:o})]})}function sI(){const{user:e}=X(),[t,s]=Ty(),a=t.get("tab")||"overview",[n,i]=f.useState(""),[o,l]=f.useState("all"),d=x=>{s({tab:x})},c=B(S.wallets.getAllWallets),u=B(S.wallets.getAllWithdrawals),m=B(S.masterPool.getMasterPool);return c===void 0||u===void 0||m===void 0?r.jsx(ix,{}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Banking System Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage user wallets, withdrawals, and reward distribution"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(je,{className:"w-5 h-5 text-primary-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(c==null?void 0:c.length)||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Active Wallets"})]})}),r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Je,{className:"w-5 h-5 text-yellow-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(u==null?void 0:u.filter(x=>x.status==="pending").length)||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending Withdrawals"})]})}),r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Vs,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(c==null?void 0:c.reduce((x,h)=>x+(h.totalRubies||0),0).toFixed(0))||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Rubies Distributed"})]})}),r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(kr,{className:"w-5 h-5 text-amber-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(c==null?void 0:c.reduce((x,h)=>x+(h.totalTalents||0),0).toFixed(2))||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Talents"})]})})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"overview",label:"Overview",icon:fo},{key:"withdrawals",label:"Withdrawals",icon:kr},{key:"wallets",label:"User Wallets",icon:je},{key:"rewards",label:"Reward Activity",icon:ye}].map(x=>{const h=x.icon,g=a===x.key;return r.jsxs("button",{onClick:()=>d(x.key),className:Y("flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all whitespace-nowrap",g?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text hover:bg-primary-500/10"),children:[r.jsx(h,{className:"w-5 h-5"}),x.label]},x.key)})}),r.jsxs("div",{children:[a==="overview"&&r.jsx(aI,{wallets:c,withdrawals:u,masterPool:m}),a==="withdrawals"&&r.jsx(nI,{withdrawals:u,statusFilter:o,setStatusFilter:l,user:e}),a==="wallets"&&r.jsx(iI,{wallets:c,searchTerm:n,setSearchTerm:i}),a==="rewards"&&r.jsx(oI,{})]})]})}function aI({wallets:e,withdrawals:t,masterPool:s}){if(!e||!t||!s)return r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"Loading..."});const a=[{name:"Diamond",icon:"",value:s.diamondDistributed,color:"text-blue-500",bg:"bg-blue-500/10"},{name:"Gold",icon:"",value:s.goldDistributed,color:"text-yellow-500",bg:"bg-yellow-500/10"},{name:"Silver",icon:"",value:s.silverDistributed,color:"text-gray-500",bg:"bg-gray-500/10"},{name:"Bronze",icon:"",value:s.bronzeDistributed,color:"text-orange-500",bg:"bg-orange-500/10"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs(D,{glass:!0,className:"lg:col-span-2",children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center gap-2",children:[r.jsx(Vs,{className:"w-5 h-5 text-primary-500"}),"Master Pool Resource Tracking"]})}),r.jsx(F,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Total Distributed (Engagement)"}),r.jsxs("span",{className:"font-bold text-light-text dark:text-dark-text",children:[s.totalDistributed.toLocaleString()," / ",s.totalInitial.toLocaleString()," Rubies"]})]}),r.jsx("div",{className:"h-4 bg-light-border dark:bg-dark-border rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary-500 transition-all duration-1000",style:{width:`${s.totalDistributed/s.totalInitial*100}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Total Withdrawn"}),r.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",(s.totalWithdrawn*200).toLocaleString()]}),r.jsxs("p",{className:"text-[10px] text-light-muted dark:text-dark-muted mt-1",children:[s.totalWithdrawn.toLocaleString()," Rubies Paid"]})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Remaining in Pool"}),r.jsx("p",{className:"text-xl font-bold text-primary-500",children:s.remaining.toLocaleString()}),r.jsx("p",{className:"text-[10px] text-light-muted dark:text-dark-muted mt-1",children:"Available for distribution"})]})]})]})})]}),r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsx(ge,{children:"Pool Engagement"})}),r.jsx(F,{className:"space-y-4",children:a.map(n=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:n.icon}),r.jsx("span",{className:"font-semibold text-light-text dark:text-dark-text",children:n.name})]}),r.jsx("span",{className:Y("font-bold",n.color),children:n.value.toFixed(1)})]},n.name))})]})]}),r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsx(ge,{children:"Recent Withdrawal Requests"})}),r.jsx(F,{children:t&&t.length>0?r.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(n=>{var i,o,l;return r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-primary-500/10 flex items-center justify-center shrink-0 border border-primary-500/20",children:(i=n.user)!=null&&i.avatarUrl?r.jsx("img",{src:n.user.avatarUrl,alt:n.user.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"font-bold text-primary-500",children:(((o=n.user)==null?void 0:o.name)||"?")[0]})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-light-text dark:text-dark-text capitalize",children:((l=n.user)==null?void 0:l.name)||"Unknown User"}),r.jsxs("p",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:[n.type.replace("_"," "),"  ",new Date(n.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"text-right flex items-center gap-3",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-light-text dark:text-dark-text",children:[n.amountRubies," Rubies"]}),r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:["",n.nairaAmount||0]})]}),r.jsx(W,{variant:n.status==="paid"?"success":n.status==="pending"?"warning":"default",children:n.status})]})]},n._id)})}):r.jsx("p",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:"No withdrawal requests yet"})})]})]})}function nI({withdrawals:e,statusFilter:t,setStatusFilter:s,user:a}){const n=$(S.wallets.approveWithdrawal),i=$(S.wallets.rejectWithdrawal),[o,l]=f.useState({isOpen:!1,type:null,withdrawalId:null,amount:0});if(!e)return r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"Loading withdrawals..."});const d=t==="all"?e:e.filter(m=>m.status===t),c=(m,x,h)=>{l({isOpen:!0,type:m,withdrawalId:x,amount:h})},u=async()=>{if(!(!o.withdrawalId||!o.type))try{o.type==="approve"&&a?await n({withdrawalId:o.withdrawalId,adminId:a._id}):await i({withdrawalId:o.withdrawalId})}catch(m){console.error("Action failed:",m)}finally{l({...o,isOpen:!1})}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(h4,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"}),r.jsx("div",{className:"w-48",children:r.jsx(Dr,{value:t,onChange:m=>s(m),options:[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"paid",label:"Paid"},{value:"rejected",label:"Rejected"}]})}),r.jsxs("span",{className:"text-sm text-light-muted dark:text-dark-muted border-l border-light-border dark:border-dark-border pl-4 ml-2",children:[d.length," request",d.length!==1?"s":""]})]})})}),r.jsx("div",{className:"space-y-3",children:d.length>0?d.map(m=>{var x,h,g,y,v;return r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-5",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-primary-500/10 flex items-center justify-center shrink-0 border-2 border-primary-500/20 shadow-sm",children:(x=m.user)!=null&&x.avatarUrl?r.jsx("img",{src:m.user.avatarUrl,alt:m.user.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-lg font-bold text-primary-500",children:(((h=m.user)==null?void 0:h.name)||"?")[0]})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-lg text-light-text dark:text-dark-text",children:((g=m.user)==null?void 0:g.name)||"Unknown User"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:m.status==="paid"?"success":m.status==="pending"?"warning":"danger",children:m.status}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted uppercase font-bold tracking-tight",children:m.type==="big_pull"?" Big Pull":" Winner"})]})]})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-y-2 gap-x-8 text-sm bg-light-bg/30 dark:bg-dark-bg/30 p-4 rounded-2xl border border-light-border dark:border-dark-border mt-3",children:[r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-bold text-[10px] uppercase text-primary-500 block mb-0.5",children:"Contact"}),r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:((y=m.user)==null?void 0:y.email)||"No Email"})]}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-bold text-[10px] uppercase text-primary-500 block mb-0.5",children:"Bank Information"}),r.jsxs("span",{className:"font-semibold text-light-text dark:text-dark-text",children:[m.bankName,"  ",m.accountNumber]})]}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-bold text-[10px] uppercase text-primary-500 block mb-0.5",children:"Asset Summary"}),r.jsxs("span",{className:"font-bold text-emerald-500",children:[m.amountRubies," Rubies"]}),r.jsx("span",{className:"mx-2 text-light-muted",children:"/"}),r.jsxs("span",{className:"font-black text-light-text dark:text-dark-text",children:["",(v=m.nairaAmount)==null?void 0:v.toLocaleString()]})]})]})]}),m.status==="pending"&&r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(M,{onClick:()=>c("approve",m._id,m.amountRubies),variant:"primary",size:"sm",className:"bg-green-500 hover:bg-green-600 border-none shadow-sm shadow-green-500/20",children:[r.jsx(Ht,{className:"w-4 h-4 mr-1.5"}),"Approve"]}),r.jsxs(M,{onClick:()=>c("reject",m._id,m.amountRubies),variant:"outline",size:"sm",className:"text-red-500 border-red-500 hover:bg-red-500/10 hover:text-red-600 hover:border-red-600",children:[r.jsx(rs,{className:"w-4 h-4 mr-1.5"}),"Reject"]})]})]})})},m._id)}):r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-12 text-center",children:[r.jsx($s,{className:"w-12 h-12 text-light-muted dark:text-dark-muted mx-auto mb-3 opacity-50"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:["No ",t!=="all"?t:""," withdrawals found"]})]})})}),r.jsx(Ma,{isOpen:o.isOpen,onClose:()=>l({...o,isOpen:!1}),onConfirm:u,title:o.type==="approve"?"Approve Withdrawal":"Reject Withdrawal",description:o.type==="approve"?`Are you sure you want to approve this withdrawal of ${o.amount} Rubies? This will mark it as paid.`:`Are you sure you want to reject this withdrawal of ${o.amount} Rubies? The amount will be refunded to the user's wallet.`,confirmText:o.type==="approve"?"Approve & Pay":"Reject & Refund",variant:o.type==="reject"?"danger":"primary"})]})}function iI({wallets:e,searchTerm:t,setSearchTerm:s}){if(!e)return r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"Loading wallets..."});const a=e.filter(n=>{var i,o;return(((i=n.user)==null?void 0:i.name)||"").toLowerCase().includes(t.toLowerCase())||(((o=n.user)==null?void 0:o.email)||"").toLowerCase().includes(t.toLowerCase())});return r.jsxs("div",{className:"space-y-4",children:[r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lt,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",placeholder:"Search by name or email...",value:t,onChange:n=>s(n.target.value),className:"flex-1 px-4 py-2 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-light-text dark:text-dark-text"})]})})}),r.jsx("div",{className:"space-y-3",children:a.length>0?a.map(n=>{var i,o,l,d;return r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-5",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-primary-500/10 flex items-center justify-center border-2 border-primary-500/20 shadow-md transform hover:scale-105 transition-transform",children:(i=n.user)!=null&&i.avatarUrl?r.jsx("img",{src:n.user.avatarUrl,alt:n.user.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xl font-bold text-primary-500",children:(((o=n.user)==null?void 0:o.name)||"?")[0]})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-black text-xl text-light-text dark:text-dark-text leading-tight",children:((l=n.user)==null?void 0:l.name)||"Unknown User"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted font-medium",children:((d=n.user)==null?void 0:d.email)||"N/A"})]}),["diamond","gold","silver","bronze"].some(c=>(n[`${c}MonthlyEarned`]??0)>=21.6)&&r.jsx(W,{className:"bg-orange-500 text-white animate-pulse border-none shadow-lg shadow-orange-500/20",children:"CAP ALERT"})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 text-sm",children:["diamond","gold","silver","bronze"].map(c=>{const u=n[`${c}MonthlyEarned`]??0;return r.jsxs("div",{className:Y("p-3 rounded-xl border transition-colors",u>=21.6?"bg-red-500/10 border-red-500/30":"bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border"),children:[r.jsxs("p",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold",children:[c," Monthly"]}),r.jsxs("p",{className:Y("text-lg font-bold",u>=21.6?"text-red-500":"text-light-text dark:text-dark-text"),children:[u.toFixed(1)," / 24"]})]},c)})})]}),r.jsxs("div",{className:"text-right p-4 rounded-2xl bg-primary-500/5 border border-primary-500/10 min-w-[150px]",children:[r.jsx("p",{className:"text-xs text-primary-500 font-bold uppercase mb-1",children:"Total Assets"}),r.jsxs("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:[n.totalTalents.toFixed(2)," ",r.jsx("span",{className:"text-sm font-normal text-light-muted",children:"Talents"})]}),r.jsxs("p",{className:"text-sm font-medium text-green-500 mt-1",children:["",(n.actualizedNairaBalance||0).toLocaleString()," Paid"]})]})]})})},n._id)}):r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-12 text-center",children:[r.jsx(lt,{className:"w-12 h-12 text-light-muted dark:text-dark-muted mx-auto mb-3"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No wallets found"})]})})})]})}function oI(){return r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsx(ge,{children:"Fractional Reward Config"})}),r.jsx(F,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-blue-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Diamond (Quiz Participation)"}),r.jsx("span",{className:"font-bold",children:"0.1 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-indigo-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Diamond (Quiz Winner Jackpot)"}),r.jsx("span",{className:"font-bold",children:"5.1 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-yellow-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Gold (Comment Interaction)"}),r.jsx("span",{className:"font-bold",children:"0.1 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-gray-400",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Silver (Game Participation)"}),r.jsx("span",{className:"font-bold",children:"0.15 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-orange-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Bronze (React/Like)"}),r.jsx("span",{className:"font-bold",children:"0.05 Rubies"})]})]})})]}),r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsx(ge,{children:"Sustainability Rules"})}),r.jsxs(F,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-primary-500/10 border border-primary-500/20",children:[r.jsx("h4",{className:"font-bold text-primary-500 mb-1",children:"Monthly Pool Caps"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Each user is limited to earning a maximum of 24 rubies per pool per month to prevent inflation. Diamond, Gold, Silver, and Bronze pools all share this rule."})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:[r.jsx("h4",{className:"font-bold text-amber-600 mb-1",children:"Conversion Logic"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["100 Rubies = 1 Talent. ",r.jsx("br",{}),"1 Ruby = 200. ",r.jsx("br",{}),"Withdrawals are paid in Naira via physical transfer bank details."]})]})]})]})]})}function lI(){const{user:e}=X(),[t,s]=f.useState("list"),[a,n]=f.useState(null),[i,o]=f.useState(!1),[l,d]=f.useState(null),c=B(S.wordUnderPressure.getAdminPassages,e?{limit:50}:"skip"),u=B(S.wordUnderPressure.getPassageAttempts,a?{passageId:a}:"skip"),m=$(S.wordUnderPressure.createPassage),x=$(S.wordUnderPressure.setPassageActive),h=$(S.wordUnderPressure.determineWinner),g=$(S.wordUnderPressure.awardWinnerManually),[y,v]=f.useState("all"),[p,b]=f.useState({isOpen:!1}),j=u==null?void 0:u.filter(E=>y==="all"?!0:y==="correct"?E.isCorrect:y==="incorrect"?!E.isCorrect:!0),[k,w]=f.useState({textLines:"",structuralQuestion:"",optionA:"",optionB:"",optionC:"",optionD:"",correctOptionId:"a",difficultyLevel:"medium",memoTime:20,recallTime:15}),[C,N]=f.useState({isOpen:!1}),T=(E,L)=>{d({type:E,message:L}),setTimeout(()=>d(null),5e3)},_=async()=>{if(!(!e||!p.attemptId||!a)){try{(await g({adminId:e._id,attemptId:p.attemptId,passageId:a})).success&&T("success",`Awarded ${p.userName} as the winner!`)}catch(E){T("error",E.message)}b({isOpen:!1})}},P=async()=>{if(e)try{const E=k.textLines.split(`
`).filter(ie=>ie.trim()!==""),L=[{id:"a",text:k.optionA},{id:"b",text:k.optionB},{id:"c",text:k.optionC},{id:"d",text:k.optionD}];await m({textLines:E,structuralQuestion:k.structuralQuestion,options:L,correctOptionId:k.correctOptionId,difficultyLevel:k.difficultyLevel,memoTime:k.memoTime,recallTime:k.recallTime,adminId:e._id}),o(!1),T("success","Challenge created successfully"),w({textLines:"",structuralQuestion:"",optionA:"",optionB:"",optionC:"",optionD:"",correctOptionId:"a",difficultyLevel:"medium",memoTime:20,recallTime:15})}catch(E){T("error",E.message)}},V=async(E,L)=>{if(e)try{await x({passageId:E,isActive:!L,adminId:e._id}),T("success",`Challenge ${L?"deactivated":"activated"}`)}catch(ie){T("error",ie.message)}},R=async(E,L)=>{N({isOpen:!0,year:E,month:L})},G=async()=>{if(!(!e||!C.year||!C.month)){try{const E=await h({year:C.year,month:C.month,adminId:e._id});E.success?T("success",`Winner: ${E.winnerName} (${E.score}ms)`):T("error",E.message||"An error occurred")}catch(E){T("error",E.message)}N({isOpen:!1})}},ee=(E,L)=>{if(!E||!L)return"Legacy Week";const ie=L.toString().substring(0,4);return`${L.toString().substring(4,6)}/${ie}`};if(t==="responses"&&a){const E=c==null?void 0:c.find(L=>L._id===a);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:()=>{s("list"),n(null)},className:"flex items-center gap-2 text-primary-500 font-bold hover:underline mb-4",children:[r.jsx(yr,{className:"w-5 h-5"}),"Back to Challenges"]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2",children:[r.jsxs("div",{className:"max-w-2xl",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"User Responses"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-1 line-clamp-2 md:line-clamp-none",children:(E==null?void 0:E.structuralQuestion)||"Challenge Details"})]}),r.jsxs("div",{className:"flex flex-col xs:flex-row items-stretch xs:items-center gap-3 text-sm",children:[r.jsx("div",{className:"flex bg-light-card dark:bg-dark-card p-1 rounded-xl border border-light-border dark:border-dark-border overflow-x-auto no-scrollbar",children:[{id:"all",label:"All"},{id:"correct",label:"Correct"},{id:"incorrect",label:"Incorrect"}].map(L=>r.jsx("button",{onClick:()=>v(L.id),className:Y("px-3 sm:px-4 py-1.5 rounded-lg font-bold transition-all whitespace-nowrap",y===L.id?"bg-primary-500 text-white shadow-lg":"text-light-muted hover:text-light-text dark:hover:text-dark-text"),children:L.label},L.id))}),r.jsxs("div",{className:"px-3 py-1.5 rounded-xl bg-primary-500/10 text-primary-500 font-bold border border-primary-500/20 text-center whitespace-nowrap",children:[(j==null?void 0:j.length)||0," Results"]})]})]}),r.jsx("div",{className:"grid gap-4",children:u?(j==null?void 0:j.length)===0?r.jsxs(D,{glass:!0,className:"p-12 text-center text-light-muted",children:[r.jsx(vr,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),"No ",y!=="all"?y:""," responses found for this challenge yet."]}):j==null?void 0:j.map(L=>{var ie;return r.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r.jsx(D,{glass:!0,className:"overflow-hidden",children:r.jsxs("div",{className:"p-4 sm:p-5",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0 rounded-xl bg-primary-500/10 flex items-center justify-center text-primary-500 font-bold border border-primary-500/20 shadow-inner text-base sm:text-lg",children:L.userName[0]}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-bold text-base sm:text-lg flex items-center gap-2 truncate",children:[r.jsx("span",{className:"truncate",children:L.userName}),L.isCorrect?r.jsx(it,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500 flex-shrink-0"}):r.jsx(rs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 flex-shrink-0"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-y-1 gap-x-3 text-[10px] sm:text-xs text-light-muted dark:text-dark-muted mt-0.5",children:[r.jsxs("span",{className:"flex items-center gap-1 font-mono",children:[r.jsx(Je,{className:"w-3 h-3"})," ",L.responseTime,"ms"]}),r.jsx("span",{className:"hidden xs:inline text-light-border/50",children:""}),r.jsxs("span",{className:"font-bold",children:["Option ",((ie=L.selectedOptionId)==null?void 0:ie.toUpperCase())||"N/A"]}),L.retryCount>0&&r.jsxs("span",{className:"text-amber-500 bg-amber-500/10 px-1.5 py-0.5 rounded text-[10px]",children:[L.retryCount," Retries"]})]})]})]}),r.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end justify-between sm:justify-start w-full sm:w-auto pt-3 sm:pt-0 border-t sm:border-t-0 border-light-border/30 dark:border-white/5",children:[r.jsx("div",{className:"text-[10px] sm:text-xs text-light-muted",children:w6(L.endTime||L.startTime,"MMM dd, HH:mm")}),r.jsx("div",{className:"sm:mt-2",children:L.explanationSubmitTime?r.jsx(W,{variant:"primary",className:"text-[9px] sm:text-[10px]",children:"Explained"}):r.jsx(W,{variant:"default",className:"text-[9px] sm:text-[10px]",children:"No Logic"})})]})]}),r.jsxs("div",{className:Y("p-4 rounded-xl border transition-colors",L.explanation?"bg-primary-500/5 border-primary-500/10":"bg-light-muted/5 border-light-muted/10 opacity-60"),children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[10px] font-bold uppercase tracking-widest text-primary-500/70",children:[r.jsx(vr,{className:"w-3 h-3"})," logic & explanation"]}),r.jsx("p",{className:Y("text-sm leading-relaxed",L.explanation?"text-light-text dark:text-dark-text":"italic text-light-muted"),children:L.explanation||"No explanation provided by user."})]}),L.isCorrect&&!(E!=null&&E.winnerId)&&r.jsx("div",{className:"mt-4 pt-4 border-t border-light-border/20 dark:border-white/5 flex justify-end",children:r.jsxs(M,{size:"sm",onClick:()=>b({isOpen:!0,attemptId:L._id,userName:L.userName}),className:"bg-emerald-500 hover:bg-emerald-600 text-white gap-2 shadow-lg shadow-emerald-500/20 w-full sm:w-auto",children:[r.jsx(ye,{className:"w-4 h-4"}),"Select as Winner"]})}),(E==null?void 0:E.winnerId)===L.userId&&r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs(W,{variant:"success",className:"gap-2 py-1.5 px-4",children:[r.jsx(ye,{className:"w-3.5 h-3.5"}),"Monthly Winner"]})})]})})},L._id)}):r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(L=>r.jsx("div",{className:"h-32 bg-light-card dark:bg-dark-card rounded-xl"},L))})})]})}return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ma,{isOpen:C.isOpen,onClose:()=>N({isOpen:!1}),onConfirm:G,title:"Select Monthly Winner",description:`Are you sure you want to select and award the winner for ${C.month}/${C.year}? This will distribute 11.5 Rubies to the best performer.`,confirmText:"Select Winner"}),r.jsx(Ma,{isOpen:p.isOpen,onClose:()=>b({isOpen:!1}),onConfirm:_,title:"Confirm Monthly Winner",description:`Are you sure you want to award ${p.userName} as the monthly winner? They will receive 11.5 Rubies and this challenge will be marked as completed.`,confirmText:"Award Rubies",variant:"primary"}),r.jsx(se,{children:l&&r.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:Y("fixed top-4 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 border backdrop-blur-md",l.type==="success"?"bg-emerald-500 text-white border-emerald-400":"bg-red-500 text-white border-red-400"),children:[l.type==="success"?r.jsx(it,{className:"w-5 h-5"}):r.jsx(rs,{className:"w-5 h-5"}),r.jsx("p",{className:"font-bold",children:l.message})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold font-display text-gradient",children:"Diamond Challenges"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Configure monthly memory challenges and pick winners."})]}),r.jsxs(M,{onClick:()=>o(!i),variant:i?"outline":"primary",className:"w-full sm:w-auto",children:[i?r.jsx(Me,{className:"mr-2 h-4 w-4"}):r.jsx(Ql,{className:"mr-2 h-4 w-4"}),i?"Cancel":"Create New Challenge"]})]}),r.jsx(se,{children:i&&r.jsx(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:r.jsx(D,{className:"border-t-4 border-t-primary-500",children:r.jsxs(F,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold",children:[r.jsx(vt,{className:"w-5 h-5 text-primary-500"}),"Challenge Configuration"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block text-light-text dark:text-dark-text",children:"Passage Text (One line per line)"}),r.jsx("textarea",{className:"w-full p-4 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none transition-all font-serif italic",rows:5,value:k.textLines,onChange:E=>w({...k,textLines:E.target.value}),placeholder:"Line 1\\nLine 2..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block text-light-text dark:text-dark-text",children:"Structural Question"}),r.jsx("input",{className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none transition-all",value:k.structuralQuestion,onChange:E=>w({...k,structuralQuestion:E.target.value}),placeholder:"What follows the first comma?"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["A","B","C","D"].map(E=>r.jsxs("div",{children:[r.jsxs("label",{className:"text-xs font-bold mb-1 block opacity-50 uppercase tracking-tighter",children:["Option ",E]}),r.jsx("input",{className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none transition-all",value:k[`option${E}`],onChange:L=>w({...k,[`option${E}`]:L.target.value}),placeholder:`Enter value for ${E}`})]},E))}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[r.jsx(Dr,{label:"Correct Answer",value:k.correctOptionId,onChange:E=>w({...k,correctOptionId:E}),options:[{value:"a",label:"Option A"},{value:"b",label:"Option B"},{value:"c",label:"Option C"},{value:"d",label:"Option D"}]}),r.jsx(Dr,{label:"Difficulty",value:k.difficultyLevel,onChange:E=>w({...k,difficultyLevel:E}),options:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block",children:"Memo Time (s)"}),r.jsx("input",{type:"number",className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",value:k.memoTime,onChange:E=>w({...k,memoTime:parseInt(E.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block",children:"Recall Time (s)"}),r.jsx("input",{type:"number",className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",value:k.recallTime,onChange:E=>w({...k,recallTime:parseInt(E.target.value)})})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(M,{onClick:P,size:"lg",className:"w-full sm:w-auto px-10",children:"Save & Activate Challenge"})})]})]})})})}),r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:c?c.length===0?r.jsx("div",{className:"col-span-full py-20 text-center text-light-muted",children:"No challenges created yet."}):c.map(E=>r.jsx(A.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r.jsx(D,{glass:!0,className:Y("h-full border-l-4 transition-all duration-300",E.isActive?"border-l-primary-500 shadow-lg shadow-primary-500/10":"border-l-light-muted/20"),children:r.jsx(F,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:Y("px-2.5 py-1 rounded-full text-[10px] font-black tracking-widest uppercase",E.isActive?"bg-primary-500 text-white":"bg-light-muted/10 text-light-muted"),children:E.isActive?"Active":"Archived"}),r.jsx("span",{className:"px-2.5 py-1 rounded-full bg-light-muted/5 text-light-muted text-[10px] font-mono",children:E.month?ee(E.year,E.month):`Week ${E.week}`}),r.jsx("span",{className:Y("px-2.5 py-1 rounded-full text-[10px] font-black uppercase",E.difficultyLevel==="hard"?"bg-red-500/10 text-red-500":E.difficultyLevel==="medium"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"),children:E.difficultyLevel})]}),E.winnerId&&r.jsx(ye,{className:"w-5 h-5 text-amber-500"})]}),r.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:E.structuralQuestion}),r.jsxs("p",{className:"text-sm text-light-muted mb-6 line-clamp-2 italic opacity-60",children:['"',E.textLines[0],'..."']}),r.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-3",children:[r.jsxs(M,{size:"sm",variant:E.isActive?"danger":"primary",onClick:()=>V(E._id,E.isActive),className:"flex-1",children:[E.isActive?r.jsx(v4,{className:"w-4 h-4 mr-2"}):r.jsx(Ql,{className:"w-4 h-4 mr-2"}),E.isActive?"Deactivate":"Activate"]}),r.jsxs(M,{size:"sm",variant:"outline",onClick:()=>{n(E._id),s("responses")},className:"flex-1",children:[r.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Responses"]}),E.month&&!E.winnerId&&r.jsxs(M,{size:"sm",variant:"outline",onClick:()=>R(E.year,E.month),className:"col-span-2 text-amber-500 border-amber-500/20 hover:bg-amber-500/10 mt-1",children:[r.jsx(ye,{className:"w-4 h-4 mr-2"}),"Select Winner"]}),E.winnerId&&r.jsx("div",{className:"col-span-2 text-center py-2 bg-amber-500/10 rounded-lg border border-amber-500/20 mt-1 text-xs font-bold text-amber-500",children:"Challenge Completed  Winner Awarded"})]})]})})})},E._id)):[1,2,3,4].map(E=>r.jsx("div",{className:"h-48 rounded-2xl bg-light-card dark:bg-dark-card animate-pulse"},E))})]})}function dI(){const{user:e}=X(),[t,s]=f.useState("pending"),a=B(S.questions.getAllQuestions,e!=null&&e._id?{adminId:e._id,status:t}:"skip"),n=$(S.questions.adminAnswerQuestion),i=$(S.questions.deleteQuestion),o=$(S.questions.makeQuestionPublic),[l,d]=f.useState(null),[c,u]=f.useState(""),[m,x]=f.useState(!1),[h,g]=f.useState(!1);if(a===void 0)return r.jsx(ix,{});const y=async b=>{if(b.preventDefault(),!(!e||!l||!c.trim())){g(!0);try{await n({adminId:e._id,questionId:l._id,answerText:c.trim(),makePublic:m}),d(null),u(""),x(!1)}catch(j){console.error("Failed to answer:",j),alert("Failed to submit answer.")}finally{g(!1)}}},v=async b=>{if(!(!e||!confirm("Are you sure you want to delete this question?")))try{await i({adminId:e._id,questionId:b})}catch{alert("Failed to delete question")}},p=async b=>{if(e)try{await o({adminId:e._id,questionId:b})}catch{alert("Failed to make public")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Questions Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Answer user questions and manage Q&A visibility"})]}),r.jsxs("div",{className:"flex gap-4 border-b border-light-border dark:border-dark-border overflow-x-auto",children:[r.jsxs("button",{onClick:()=>s("pending"),className:`pb-3 px-4 font-semibold text-sm transition-colors border-b-2 whitespace-nowrap ${t==="pending"?"border-primary-500 text-primary-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Pending (",(a==null?void 0:a.filter(b=>!b.isAnswered).length)||0,")"]}),r.jsx("button",{onClick:()=>s("answered"),className:`pb-3 px-4 font-semibold text-sm transition-colors border-b-2 whitespace-nowrap ${t==="answered"?"border-primary-500 text-primary-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Answered"})]}),r.jsxs("div",{className:"grid gap-4",children:[a==null?void 0:a.map(b=>r.jsx(D,{glass:!0,className:"border border-light-border dark:border-dark-border",children:r.jsx(F,{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx(W,{variant:"outline",className:"text-xs",children:pt(b.createdAt,{addSuffix:!0})}),r.jsxs("span",{className:"text-xs text-light-muted",children:["by ",b.userName]}),b.isPublic?r.jsx(_h,{className:"w-3 h-3 text-green-500"}):r.jsx(st,{className:"w-3 h-3 text-gray-400"})]}),r.jsx("h3",{className:"font-semibold text-base md:text-lg text-light-text dark:text-dark-text leading-snug",children:b.questionText}),r.jsxs("div",{className:"text-xs md:text-sm text-light-muted bg-gray-50 dark:bg-white/5 p-3 rounded-lg inline-block w-full",children:[r.jsx("span",{className:"font-bold block mb-1",children:"Context:"}),' "',b.postContent,'"']}),b.isAnswered&&r.jsxs("div",{className:"mt-4 p-4 bg-primary-50 dark:bg-primary-900/10 rounded-lg border border-primary-100 dark:border-primary-900/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ht,{className:"w-4 h-4 text-primary-500 shrink-0"}),r.jsxs("span",{className:"text-xs font-bold text-primary-700 dark:text-primary-400",children:["Answered by ",b.adminName||"Admin"]})]}),r.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:b.answerText})]})]}),r.jsxs("div",{className:"flex md:flex-col gap-2 w-full md:w-auto pt-2 md:pt-0 border-t md:border-t-0 border-light-border/50 dark:border-dark-border/50",children:[b.isAnswered?!b.isPublic&&r.jsx(M,{size:"sm",variant:"outline",onClick:()=>p(b._id),className:"border-green-500 text-green-600 hover:bg-green-50 flex-1 md:flex-none",children:"Make Public"}):r.jsx(M,{size:"sm",onClick:()=>{d(b),u("")},className:"bg-primary-500 hover:bg-primary-600 text-white flex-1 md:flex-none",children:"Answer"}),r.jsx(M,{size:"sm",variant:"ghost",onClick:()=>v(b._id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 flex-none",children:r.jsx(Ar,{className:"w-4 h-4"})})]})]})})},b._id)),(a==null?void 0:a.length)===0&&r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"No questions found in this category."})]}),r.jsx(se,{children:l&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1A1A1A] rounded-2xl shadow-xl max-w-lg w-full p-6 relative border border-gray-100 dark:border-gray-800",children:[r.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5",children:r.jsx(Me,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Answer Question"}),r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-white/5 rounded-xl",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Question:"}),r.jsx("p",{className:"text-lg text-gray-900 dark:text-white mt-1",children:l.questionText})]}),r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Your Answer"}),r.jsx("textarea",{value:c,onChange:b=>u(b.target.value),className:"w-full p-3 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 min-h-[150px]",placeholder:"Type your answer here...",required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"makePublic",checked:m,onChange:b=>x(b.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsx("label",{htmlFor:"makePublic",className:"text-sm text-gray-700 dark:text-gray-300",children:"Make this question and answer Public immediately"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx(M,{type:"button",variant:"ghost",onClick:()=>d(null),children:"Cancel"}),r.jsx(M,{type:"submit",disabled:h,children:h?"Submitting...":"Submit Answer"})]})]})]})})})]})}function cI(){const{user:e}=X(),[t,s]=f.useState(""),a=B(S.users.getAllUsers,e!=null&&e._id?{adminId:e._id}:"skip"),n=B(S.posts.getPosts,{category:"Ancient Culture",limit:50}),i=B(S.tags.getAllActiveTags,e!=null&&e._id?{adminId:e._id}:"skip"),o=$(S.tags.tagUserForQuestions),l=$(S.tags.tagUserForPrayer),d=$(S.tags.revokeTag),[c,u]=f.useState(null),[m,x]=f.useState("question"),[h,g]=f.useState(""),[y,v]=f.useState(!1);if(a===void 0||i===void 0)return r.jsx(ix,{});const p=a==null?void 0:a.filter(k=>k.name.toLowerCase().includes(t.toLowerCase())||k.email.toLowerCase().includes(t.toLowerCase())),b=async()=>{if(!(!e||!c)){v(!0);try{if(m==="question"){if(!h){alert("Please select a teaching post"),v(!1);return}await o({adminId:e._id,userId:c._id,postId:h})}else await l({adminId:e._id,userId:c._id});alert("Tag granted successfully!"),u(null),g("")}catch(k){alert(k.message||"Failed to grant tag")}finally{v(!1)}}},j=async k=>{if(!(!e||!confirm("Revoke this tag?")))try{await d({adminId:e._id,tagId:k})}catch{alert("Failed to revoke tag")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"User Tag Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Grant or revoke specialized posting permissions (Questions, Prayers)"})]}),r.jsx(D,{glass:!0,className:"border border-light-border dark:border-dark-border",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Active Tags (",(i==null?void 0:i.length)||0,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(i==null?void 0:i.length)===0?r.jsx("p",{className:"text-sm text-light-muted",children:"No active tags."}):i==null?void 0:i.map(k=>r.jsxs(W,{variant:"outline",className:"flex items-center gap-2 pr-1",children:[r.jsx("span",{className:k.tagType==="question"?"text-purple-500":"text-orange-500",children:k.tagType==="question"?"Question":"Prayer"}),r.jsx("span",{className:"text-light-text dark:text-dark-text border-l border-gray-200 dark:border-gray-700 pl-2",children:k.userName}),r.jsx("button",{onClick:()=>j(k._id),className:"p-1 hover:bg-red-100 rounded-full text-red-500 transition-colors ml-1",children:r.jsx(Me,{className:"w-3 h-3"})})]},k._id))})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-light-muted"}),r.jsx("input",{type:"text",value:t,onChange:k=>s(k.target.value),placeholder:"Search users to tag...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white dark:bg-[#1A1A1A] border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 focus:outline-none transition-all"})]}),r.jsx("div",{className:"grid gap-4",children:p==null?void 0:p.slice(0,10).map(k=>r.jsx(D,{glass:!0,className:"border border-light-border dark:border-dark-border",children:r.jsxs(F,{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:k.avatarUrl?r.jsx("img",{src:k.avatarUrl,alt:k.name,className:"w-full h-full object-cover"}):r.jsx(ft,{className:"w-5 h-5 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-light-text dark:text-dark-text",children:k.name}),r.jsx("p",{className:"text-xs text-light-muted",children:k.role})]})]}),r.jsxs(M,{size:"sm",onClick:()=>u(k),children:[r.jsx(Jy,{className:"w-4 h-4 mr-2"})," Grant Tag"]})]})},k._id))}),r.jsx(se,{children:c&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1A1A1A] rounded-2xl shadow-xl max-w-md w-full p-6 relative border border-gray-100 dark:border-gray-800",children:[r.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5",children:r.jsx(Me,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Grant Permission"}),r.jsxs("p",{className:"text-sm text-light-muted mb-6",children:["Allow ",r.jsx("span",{className:"font-bold text-primary-500",children:c.name})," to post special content."]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tag Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>x("question"),className:`p-3 rounded-lg border text-sm font-medium transition-all ${m==="question"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"border-gray-200 dark:border-gray-700"}`,children:"Question Tag"}),r.jsx("button",{onClick:()=>x("prayer"),className:`p-3 rounded-lg border text-sm font-medium transition-all ${m==="prayer"?"border-orange-500 bg-orange-50 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"border-gray-200 dark:border-gray-700"}`,children:"Prayer Tag"})]})]}),m==="question"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Teaching (Context)"}),r.jsxs("select",{value:h,onChange:k=>g(k.target.value),className:"w-full p-3 rounded-lg bg-gray-50 dark:bg-[#222] border border-gray-200 dark:border-gray-700 focus:border-primary-500 focus:outline-none text-sm",children:[r.jsx("option",{value:"",children:"Select a teaching..."}),n==null?void 0:n.map(k=>r.jsxs("option",{value:k._id,children:[k.content.substring(0,40),"..."]},k._id))]}),r.jsx("p",{className:"text-xs text-light-muted mt-1",children:"user can only ask questions on this specific post."})]}),r.jsx(M,{className:"w-full mt-4",onClick:b,disabled:y,children:y?"Granting...":"Grant Permission"})]})]})})})]})}function uI(){const e=B(S.masterPool.getMasterPool);if(e===void 0)return r.jsx(R6,{});const t=s=>new Intl.NumberFormat("en-US").format(s);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Master Pool Overview"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Track total reward distribution and financial health"})]}),r.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[r.jsx(D,{glass:!0,className:"border-l-4 border-l-blue-500",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-light-muted",children:"Total Distributed"}),r.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mt-1",children:t((e==null?void 0:e.totalDistributed)||0)})]}),r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg text-blue-600",children:r.jsx(Qy,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Total rubies ever earned by users"})]})}),r.jsx(D,{glass:!0,className:"border-l-4 border-l-green-500",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-light-muted",children:"Total Withdrawn"}),r.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mt-1",children:t((e==null?void 0:e.totalWithdrawn)||0)})]}),r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg text-green-600",children:r.jsx(o4,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Rubies converted to cash"})]})}),r.jsx(D,{glass:!0,className:"border-l-4 border-l-purple-500",children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-light-muted",children:"Initial Pool Size"}),r.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mt-1",children:t((e==null?void 0:e.totalInitial)||1e6)})]}),r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg text-purple-600",children:r.jsx(Ky,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Starting liquidity"})]})})]}),r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text mt-8 mb-4",children:"Distribution by Pool"}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-cyan-100 text-cyan-600 rounded-lg",children:r.jsx(xa,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Diamond"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.diamondDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Quizzes & Monthly"})]})}),r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:r.jsx(xa,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Gold"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.goldDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Top Comments"})]})}),r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 text-slate-600 rounded-lg",children:r.jsx(xa,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Silver"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.silverDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Weekly Games"})]})}),r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 text-orange-600 rounded-lg",children:r.jsx(xa,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Bronze"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.bronzeDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Reactions & Activity"})]})})]})]})}const mI=[{value:200,label:"200",description:"Default rate  1 Ruby = 200"},{value:100,label:"100",description:"1 Ruby = 100"},{value:50,label:"50",description:"1 Ruby = 50"},{value:20,label:"20",description:"1 Ruby = 20"},{value:10,label:"10",description:"1 Ruby = 10"}];function hI(){const{user:e}=X(),[t,s]=f.useState(!1),[a,n]=f.useState(!1),i=B(S.settings.getUserPostCreationEnabled),o=B(S.settings.getCommentsEnabled),l=B(S.settings.getQuestionsOnPostsEnabled),d=B(S.settings.getChatEnabled),c=B(S.settings.getActiveRubyRate),u=$(S.settings.toggleUserPostCreation),m=$(S.settings.toggleCommentsEnabled),x=$(S.settings.toggleQuestionsOnPostsEnabled),h=$(S.settings.toggleChatEnabled),g=$(S.settings.setRubyRate),y=async(p,b,j)=>{if(!(!e||b===void 0)){s(!0);try{await p({adminId:e._id,enabled:!b})}catch(k){console.error(`Failed to update ${j}:`,k),alert("Failed to update setting. Please try again.")}finally{s(!1)}}},v=async p=>{if(e){s(!0);try{await g({adminId:e._id,rate:p}),n(!0),setTimeout(()=>n(!1),2500)}catch(b){alert(b.message||"Failed to update rate.")}finally{s(!1)}}};return e?r.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl pt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10",children:r.jsx(tv,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text font-display",children:"System Settings"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage global permissions and system configurations"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-2xl p-6 shadow-lg border border-amber-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Mh,{className:"w-5 h-5 text-amber-500"}),r.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:"Ruby  Naira Exchange Rate"})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-5",children:"Set how much Naira () each Ruby is worth. This affects what users see on the Banking page in real time. Ruby balances are never changed  only the display value updates."}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-5",children:[r.jsx("span",{className:"text-xs uppercase tracking-widest font-semibold text-light-muted dark:text-dark-muted",children:"Current active rate:"}),r.jsxs("span",{className:"px-3 py-1 rounded-full bg-amber-500/15 text-amber-600 dark:text-amber-400 font-bold text-sm",children:["1 Ruby = ",c??""]}),r.jsx(se,{children:a&&r.jsxs(A.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0},className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs font-semibold",children:[r.jsx(it,{className:"w-4 h-4"})," Updated!"]},"ok")})]}),r.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3",children:mI.map(p=>{const b=c===p.value;return r.jsxs("button",{id:`rate-btn-${p.value}`,onClick:()=>v(p.value),disabled:t||b,className:`relative flex flex-col items-center justify-center aspect-square rounded-xl border-2 transition-all duration-200 min-w-0
                                            ${b?"border-amber-500 bg-amber-500/15 shadow-lg shadow-amber-500/20 scale-105":"border-light-border dark:border-dark-border hover:border-amber-400 hover:bg-amber-500/5"} disabled:cursor-not-allowed`,children:[b&&r.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center",children:r.jsx(it,{className:"w-3.5 h-3.5 text-white"})}),r.jsx("span",{className:`text-sm sm:text-base font-display font-bold leading-tight text-center ${b?"text-amber-600 dark:text-amber-400":"text-light-text dark:text-dark-text"}`,children:p.label}),r.jsx("span",{className:"text-[9px] sm:text-[10px] text-light-muted dark:text-dark-muted mt-0.5 text-center leading-tight",children:"per Ruby"})]},p.value)})}),r.jsx("div",{className:"mt-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[r.jsx("strong",{children:"Example at current rate:"})," ","24 Rubies (minimum withdrawal) = ",(24*(c??200)).toLocaleString(),"."," ","5 Rubies (winner window) = ",(5*(c??200)).toLocaleString(),"."]})})]}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"glass rounded-2xl p-6 shadow-lg space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(je,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),r.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:"Global Controls"})]}),[{label:"Allow Users to Create Posts",desc:"Enable regular users to create posts. If disabled, only admins and tagged users can post.",value:i,mutation:u,key:"postCreation",icon:null},{label:"Enable Comments Globally",desc:"Allow users to comment on posts. Turning this off hides the comment section on all posts.",value:o,mutation:m,key:"comments",icon:null},{label:'Enable "Ask Question" on Posts',desc:"Allow users to ask questions directly on teaching posts.",value:l,mutation:x,key:"questionsOnPosts",icon:null},{label:"Enable Chat System",desc:"Allow users to chat with each other and admins.",value:d,mutation:h,key:"chat",icon:r.jsx(xt,{className:"w-5 h-5 text-primary-500"})}].map(p=>r.jsx("div",{className:"border border-light-border dark:border-dark-border rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.icon,r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:p.label})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:p.desc})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("button",{id:`toggle-${p.key}`,onClick:()=>y(p.mutation,p.value,p.key),disabled:t,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${p.value?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${p.value?"translate-x-7":"translate-x-1"}`})}),r.jsx("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted",children:p.value?"ON":"OFF"})]})]})},p.key))]}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-2xl p-6 shadow-lg border-l-4 border-primary-500",children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:" How it works"}),r.jsx("ul",{className:"space-y-2 text-sm text-light-muted dark:text-dark-muted",children:[["Ruby Rate","Changing the rate only affects Naira display values. All Ruby balances and Talent conversions stay the same."],["Global ON","Every user (even new signups) can immediately create question and prayer posts."],["Global OFF","Users need to be individually tagged by you before they can create posts."],["Admins","Always have permission to create posts, regardless of settings."],["Chat System","Controls whether users can initiate chats. Admins can always chat."]].map(([p,b])=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsxs("strong",{children:[p,":"]})," ",b]})]},p))})]})]})]})}):null}const ao=Er.forwardRef(({className:e,label:t,error:s,...a},n)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium mb-1.5 text-light-text dark:text-dark-text",children:t}),r.jsx("textarea",{ref:n,className:Y("w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text outline-none transition-all duration-200","focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","resize-y min-h-[100px]",s&&"border-red-500 focus:ring-red-500",e),...a}),s&&r.jsx("p",{className:"mt-1 text-sm text-red-500 font-medium animate-in slide-in-from-top-1",children:s})]}));ao.displayName="Textarea";function xI(){const{user:e}=X(),t=B(S.announcements.getAllAnnouncements,e?{adminId:e._id}:"skip"),s=$(S.announcements.createAnnouncement),a=$(S.announcements.updateAnnouncement),n=$(S.announcements.deleteAnnouncement),[i,o]=f.useState(!1),[l,d]=f.useState(null),[c,u]=f.useState(1),[m,x]=f.useState(null),[h,g]=f.useState({isOpen:!1,id:null}),y=(R,G)=>{x({type:R,message:G}),setTimeout(()=>x(null),5e3)},[v,p]=f.useState({title:"",description:"",imageUrl:"",category:"General",isActive:!0}),b=3,j=()=>{p({title:"",description:"",imageUrl:"",category:"General",isActive:!0}),u(1)},k=()=>{d(null),j(),o(!0)},w=R=>{d(R._id);const G=["General","Ancient Culture","Wisdom of The Now","Ads","Product","Event","Update"].includes(R.category)?R.category:"General";p({title:R.title,description:R.description,imageUrl:R.imageUrl,category:G,isActive:R.isActive}),u(1),o(!0)},C=()=>u(R=>Math.min(R+1,b)),N=()=>u(R=>Math.max(R-1,1)),T=async()=>{if(e)try{l?(await a({adminId:e._id,announcementId:l,...v,category:v.category}),console.log("Announcement updated")):(await s({adminId:e._id,...v,category:v.category}),console.log("Announcement created")),o(!1),j()}catch(R){console.error(R),alert(l?"Failed to update":"Failed to create")}},_=async()=>{if(!(!h.id||!e))try{await n({adminId:e._id,announcementId:h.id}),y("success","Announcement deleted"),g({isOpen:!1,id:null})}catch{y("error","Failed to delete")}},P=async R=>{if(e)try{await a({adminId:e._id,announcementId:R._id,isActive:!R.isActive}),y("success",R.isActive?"Deactivated":"Activated")}catch{y("error","Failed to toggle status")}};if(t===void 0)return r.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[r.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2 animate-pulse"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded animate-pulse"})]})}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(R=>r.jsx(P6,{},R))})]});const V=()=>{switch(c){case 1:return r.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Title"}),r.jsx(he,{placeholder:"Enter announcement title",value:v.title,onChange:R=>p({...v,title:R.target.value}),autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Category"}),r.jsx(Dr,{value:v.category,onChange:R=>p({...v,category:R}),options:[{value:"General",label:"General"},{value:"Ancient Culture",label:"Ancient Culture"},{value:"Wisdom of The Now",label:"Wisdom of The Now"},{value:"Ads",label:"Ads"},{value:"Product",label:"Product"},{value:"Event",label:"Event"},{value:"Update",label:"Update"}]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:v.isActive,onChange:R=>p({...v,isActive:R.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("label",{htmlFor:"isActive",className:"text-sm font-medium cursor-pointer flex-1",children:["Active immediately",r.jsx("span",{className:"block text-xs text-light-muted dark:text-dark-muted font-normal",children:"If unchecked, the announcement will be hidden from users until you activate it."})]})]})]});case 2:return r.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Description"}),r.jsx(ao,{placeholder:"Enter full description...",value:v.description,onChange:R=>p({...v,description:R.target.value}),className:"min-h-[200px] text-base leading-relaxed"}),r.jsxs("p",{className:"text-xs text-right text-light-muted mt-1",children:[v.description.length," characters"]})]})});case 3:return r.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cover Image"}),r.jsx(Kj,{onUploadComplete:R=>p(G=>({...G,imageUrl:R})),currentMedia:v.imageUrl?{url:v.imageUrl,type:"image"}:void 0,allowVideo:!1})]}),v.title&&r.jsxs("div",{className:"p-4 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsx("h4",{className:"font-bold text-sm text-light-muted mb-2 uppercase tracking-wider",children:"Preview Summary"}),r.jsxs("div",{className:"flex gap-3",children:[v.imageUrl&&r.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-gray-800",children:r.jsx("img",{src:v.imageUrl,alt:"Preview",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold truncate",children:v.title}),r.jsx(W,{variant:"outline",className:"text-[10px] mt-1",children:v.category})]})]})]})]});default:return null}};return r.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[r.jsx(Ma,{isOpen:h.isOpen,onClose:()=>g({isOpen:!1,id:null}),onConfirm:_,title:"Delete Announcement",description:"Are you sure you want to delete this announcement? This action cannot be undone.",variant:"danger",confirmText:"Delete"}),r.jsx(se,{children:m&&r.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:Y("fixed top-4 right-4 z-[100] px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 border backdrop-blur-md",m.type==="success"?"bg-emerald-500 text-white border-emerald-400":"bg-red-500 text-white border-red-400"),children:[m.type==="success"?r.jsx(it,{className:"w-5 h-5"}):r.jsx(rs,{className:"w-5 h-5"}),r.jsx("p",{className:"font-bold",children:m.message})]})}),r.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold font-display text-gradient",children:"Announcements"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage community announcements and ads"})]}),r.jsxs(M,{onClick:k,className:"w-full md:w-auto",children:[r.jsx(Ad,{className:"w-4 h-4 mr-2"})," New Announcement"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.map(R=>r.jsxs(D,{glass:!0,className:"relative group overflow-hidden flex flex-col h-full",children:[r.jsxs("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 relative overflow-hidden",children:[R.imageUrl?r.jsx("img",{src:R.imageUrl,alt:R.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(Rs,{className:"w-10 h-10"})}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[r.jsx(W,{variant:R.isActive?"success":"secondary",children:R.isActive?"Active":"Hidden"}),r.jsx(W,{variant:"outline",className:"bg-black/50 backdrop-blur-sm text-white border-none",children:R.category})]})]}),r.jsxs(F,{className:"flex-1 flex flex-col p-4",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:R.title}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted line-clamp-3 mb-4 flex-1",children:R.description}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>P(R),title:R.isActive?"Hide":"Show",children:R.isActive?r.jsx(po,{className:"w-4 h-4"}):r.jsx(St,{className:"w-4 h-4"})}),r.jsx(M,{size:"sm",variant:"outline",onClick:()=>w(R),children:r.jsx(Hl,{className:"w-4 h-4"})})]}),r.jsx(M,{size:"sm",variant:"danger",onClick:()=>g({isOpen:!0,id:R._id}),children:r.jsx(Ar,{className:"w-4 h-4"})})]})]})]},R._id)),t.length===0&&r.jsxs("div",{className:"col-span-full text-center py-12 bg-light-card/30 dark:bg-dark-card/30 rounded-2xl border border-dashed border-light-border dark:border-dark-border",children:[r.jsx(Zi,{className:"w-12 h-12 text-light-muted mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-semibold text-light-muted",children:"No announcements yet"}),r.jsx(M,{variant:"outline",className:"mt-4",onClick:k,children:"Create First Announcement"})]})]}),r.jsx(dt,{isOpen:i,onClose:()=>o(!1),title:l?"Edit Announcement":"Create Announcement",className:"max-w-lg",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex items-center justify-between mb-6 px-1",children:[1,2,3].map(R=>r.jsxs("div",{className:"flex flex-col items-center gap-1 w-1/3 relative z-10",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${c>=R?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-muted"}`,children:c>R?r.jsx(ot,{className:"w-4 h-4"}):R}),r.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold mt-1 ${c>=R?"text-primary-500":"text-light-muted"}`,children:R===1?"Details":R===2?"Content":"Media"}),R!==3&&r.jsx("div",{className:`absolute top-4 left-1/2 w-full h-0.5 -z-10 ${c>R?"bg-primary-500":"bg-light-border dark:bg-dark-border"}`})]},R))}),r.jsx("div",{className:"flex-1 overflow-y-auto px-1 py-2 min-h-[300px]",children:V()}),r.jsxs("div",{className:"flex items-center justify-between pt-6 mt-2 border-t border-light-border dark:border-dark-border",children:[r.jsx(M,{variant:"outline",onClick:c===1?()=>o(!1):N,className:"w-[100px]",children:c===1?"Cancel":r.jsxs(r.Fragment,{children:[r.jsx(Aa,{className:"w-4 h-4 mr-1"})," Back"]})}),r.jsx("div",{className:"flex gap-2",children:c<b?r.jsxs(M,{onClick:C,className:"w-[100px]",children:["Next ",r.jsx(Xi,{className:"w-4 h-4 ml-1"})]}):r.jsxs(M,{onClick:T,className:"w-[120px] bg-green-500 hover:bg-green-600 border-none shadow-lg shadow-green-500/20",children:[l?"Update":"Create"," ",r.jsx(ot,{className:"w-4 h-4 ml-2"})]})})]})]})})]})}function pI(){const{user:e}=X(),t=B(S.polls.getAdminPolls,{limit:20}),s=$(S.polls.createPoll),a=$(S.polls.closePoll),[n,i]=f.useState(""),[o,l]=f.useState(["","","",""]),[d,c]=f.useState(0),[u,m]=f.useState(48),[x,h]=f.useState(!1),[g,y]=f.useState(!1),[v,p]=f.useState(null),[b,j]=f.useState(null),k=(N,T)=>{const _=[...o];_[N]=T,l(_)},w=async N=>{if(N.preventDefault(),j(null),!(!e||x)){if(!n.trim()){j("Question is required");return}if(o.some(T=>!T.trim())){j("All options are required");return}h(!0);try{await s({question:n,options:o,correctOptionIndex:d,durationHours:u,adminId:e._id}),y(!0),setTimeout(()=>y(!1),5e3),i(""),l(["","","",""]),c(0)}catch(T){console.error(T),j(T.message||"Failed to create poll")}finally{h(!1)}}},C=async()=>{if(!(!v||!e))try{await a({pollId:v,adminId:e._id}),p(null)}catch(N){j(N.message||"Failed to close poll")}};return t===void 0?r.jsx("div",{className:"p-8",children:"Loading polls..."}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Weekly Poll Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Create and manage wisdom polls for the Silver Pool game."})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsx(ge,{children:"Create New Poll"})}),r.jsx(F,{children:r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Question"}),r.jsx(he,{value:n,onChange:N=>i(N.target.value),placeholder:"Enter wisdom question...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium",children:"Options"}),o.map((N,T)=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center cursor-pointer transition-colors ${d===T?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-primary-500"}`,onClick:()=>c(T),title:"Mark as correct answer",children:d===T&&r.jsx(ot,{className:"w-4 h-4"})}),r.jsx(he,{value:N,onChange:_=>k(T,_.target.value),placeholder:`Option ${T+1}`,required:!0})]},T)),r.jsx("p",{className:"text-xs text-light-muted",children:"Click the circle to mark the correct answer."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Duration (Hours)"}),r.jsx(he,{type:"number",value:u,onChange:N=>m(Number(N.target.value)),min:1,max:168})]}),r.jsxs(se,{children:[g&&r.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-green-500/10 border border-green-500/20 rounded-2xl flex items-center gap-3 text-green-600 dark:text-green-400 mb-4",children:[r.jsx(it,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"text-sm font-medium",children:"Poll created and broadcasted successfully!"})]}),b&&r.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3 text-red-600 dark:text-red-400 mb-4",children:[r.jsx($s,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"text-sm font-medium",children:b})]})]}),r.jsx(M,{type:"submit",isLoading:x,className:"w-full h-12 rounded-2xl font-bold tracking-wide",children:"Create Poll"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Recent Polls"}),t.length===0?r.jsx("p",{className:"text-light-muted",children:"No polls found."}):t.map(N=>{var _,P;const T=N.status==="active"&&Date.now()<N.expiresAt;return r.jsx(D,{className:"border border-light-border dark:border-dark-border group overflow-hidden",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase transition-colors ${T?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-gray-500/10 text-gray-500 border border-gray-500/20"}`,children:T?"Active":"Closed"}),r.jsx("span",{className:"text-[10px] text-light-muted font-mono uppercase tracking-widest",children:new Date(N.createdAt).toLocaleDateString()})]}),r.jsx("h4",{className:"font-bold mb-2 line-clamp-2 text-sm leading-relaxed",children:N.question}),r.jsxs("div",{className:"flex justify-between items-center text-sm text-light-muted mb-2",children:[r.jsxs("span",{className:"text-xs font-medium",children:[N.totalVotes," Members Voted"]}),T&&r.jsx(M,{size:"sm",variant:"danger",className:"h-8 rounded-xl text-[10px] font-bold tracking-widest",onClick:()=>p(N._id),children:"CLOSE POLL"})]}),N.totalVotes>0&&r.jsxs("div",{className:"flex gap-4 text-[10px] pt-3 mt-1 border-t border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-600 dark:text-emerald-400 font-bold uppercase tracking-wider",children:[r.jsx(ot,{className:"w-3 h-3"}),((_=N.options.find(V=>V.id===N.correctOptionId))==null?void 0:_.voteCount)||0," Correct"]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 font-bold uppercase tracking-wider",children:[r.jsx($s,{className:"w-3 h-3"}),N.totalVotes-(((P=N.options.find(V=>V.id===N.correctOptionId))==null?void 0:P.voteCount)||0)," Incorrect"]})]})]})},N._id)})]})]}),r.jsx(Ma,{isOpen:!!v,onClose:()=>p(null),onConfirm:C,title:"Close Poll",description:"Are you sure you want to end this poll early? No more votes will be accepted.",confirmText:"Close Poll",variant:"danger"})]})}function fI({isEmbedded:e=!1}){const{user:t,isLoading:s}=X(),a=B(S.contacts.getContacts,t?{adminId:t._id}:"skip"),n=$(S.contacts.markContactAsRead),i=$(S.contacts.deleteContact),[o,l]=f.useState(null);if(s)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[r.jsx(Kt,{}),r.jsx(_a,{count:3})]})});if(!t)return r.jsx(Ae,{to:"/login",replace:!0});if(t.role!=="admin"&&t.role!=="super_admin")return r.jsx(Ae,{to:"/feed",replace:!0});const d=async u=>{try{await n({adminId:t._id,contactId:u})}catch(m){console.error("Failed to mark as read:",m)}},c=async u=>{if(confirm("Are you sure you want to delete this message?")){l(u);try{await i({adminId:t._id,contactId:u})}catch(m){console.error("Failed to delete contact:",m)}finally{l(null)}}};return r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[!e&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"Contact Messages"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[(a==null?void 0:a.length)||0," total messages"]})]}),r.jsx(ts,{className:"w-12 h-12 text-primary-500"})]}),a?r.jsxs("div",{className:"space-y-4",children:[e&&r.jsxs("p",{className:"text-light-muted dark:text-dark-muted mb-4 font-bold text-sm",children:[a.length||0," total messages"]}),a.length===0?r.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[r.jsx(ts,{className:"w-16 h-16 mx-auto mb-4 text-light-muted dark:text-dark-muted opacity-50"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg",children:"No contact messages yet"})]}):r.jsx("div",{className:"space-y-4",children:a.map(u=>r.jsxs(A.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`glass rounded-xl p-6 border ${u.read?"border-light-border dark:border-dark-border":"border-primary-500/50 bg-primary-50/30 dark:bg-primary-900/10"}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:u.subject}),!u.read&&r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary-500 text-white text-xs font-bold",children:"NEW"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-semibold",children:u.name}),r.jsx("span",{children:""}),r.jsx("a",{href:`mailto:${u.email}`,className:"hover:text-primary-500 transition-colors",children:u.email}),r.jsx("span",{children:""}),r.jsx("span",{children:pt(u.createdAt,{addSuffix:!0})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d(u._id),disabled:u.read,className:`p-2 rounded-lg transition-all ${u.read?"text-light-muted dark:text-dark-muted cursor-not-allowed":"text-primary-500 hover:bg-primary-100 dark:hover:bg-primary-900/20"}`,title:u.read?"Already read":"Mark as read",children:u.read?r.jsx(po,{className:"w-5 h-5"}):r.jsx(St,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>c(u._id),disabled:o===u._id,className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/20 transition-all disabled:opacity-50",title:"Delete message",children:r.jsx(Ar,{className:"w-5 h-5"})})]})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text whitespace-pre-wrap",children:u.message})]},u._id))})]}):r.jsx(_a,{count:3})]})}function Jj({isEmbedded:e=!1}){var Sx,Cx,Tx,Px;const{user:t}=X(),s=ue(),[a,n]=f.useState("direct"),[i,o]=f.useState(null),[l,d]=f.useState(""),[c,u]=f.useState(""),[m,x]=f.useState(""),[h,g]=f.useState(!1),[y,v]=f.useState(null),[p,b]=f.useState(null),[j,k]=f.useState(null),[w,C]=f.useState(null),[N,T]=f.useState(""),[_,P]=f.useState(null),[V,R]=f.useState(null),[G,ee]=f.useState(null),[E,L]=f.useState(null),[ie,z]=f.useState(!1),U=B(S.chat.getConversations,t?{userId:t._id}:"skip"),J=B(S.chat.getMessages,i&&t?{conversationId:i,userId:t._id}:"skip"),H=B(S.users.getChatContacts,t?{userId:t._id}:"skip"),me=B(S.settings.getGlobalChatWallpaper),ne=B(S.chat.getCommunityGroup),Q=B(S.chat.getGroupMessages,ne?{groupId:ne._id}:"skip"),le=$(S.chat.sendMessage),de=$(S.chat.markAsRead),cr=$(S.chat.editMessage),Vn=$(S.chat.deleteMessage),ea=$(S.chat.toggleReaction),os=$(S.users.updateChatWallpaper),Xt=$(S.chat.getOrCreateCommunityGroup),ko=$(S.chat.sendGroupMessage),Hd=$(S.chat.editGroupMessage),wo=$(S.chat.deleteGroupMessage),Qd=$(S.chat.toggleGroupReaction),Gd=$(S.chat.toggleGroupLock),Kd=$(S.chat.recordGroupMessageView),[ta,ra]=f.useState(null),ls=B(S.chat.getGroupMessageViews,ta?{messageId:ta}:"skip"),ur=f.useRef(null),mr=f.useRef(null),ds=f.useRef(null),cs=f.useRef(null),zn=f.useRef(null),[qn,pe]=f.useState(0);f.useEffect(()=>{const I=window.visualViewport;if(!I)return;const te=()=>{const Ve=Math.max(0,window.innerHeight-I.height-I.offsetTop);pe(Ve),Ve>0&&setTimeout(()=>{var ze,Zt;(ze=ur.current)==null||ze.scrollTo({top:ur.current.scrollHeight,behavior:"smooth"}),(Zt=mr.current)==null||Zt.scrollTo({top:mr.current.scrollHeight,behavior:"smooth"})},100)};return I.addEventListener("resize",te),I.addEventListener("scroll",te),()=>{I.removeEventListener("resize",te),I.removeEventListener("scroll",te)}},[]);const It=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin";f.useEffect(()=>{t&&ne===null&&Xt({userId:t._id}).catch(console.error)},[ne,t]),f.useEffect(()=>{ur.current&&(ur.current.scrollTop=ur.current.scrollHeight)},[J,i,y]),f.useEffect(()=>{mr.current&&(mr.current.scrollTop=mr.current.scrollHeight)},[Q,a]),f.useEffect(()=>{if(!Q||!t||a!=="group")return;const I=new IntersectionObserver(Ve=>{Ve.forEach(ze=>{if(ze.isIntersecting){const Zt=ze.target.dataset.msgid,Or=ze.target.dataset.senderid;Zt&&Or&&Or!==t._id&&Kd({messageId:Zt,userId:t._id}).catch(()=>{})}})},{threshold:.5});return document.querySelectorAll("[data-groupmsg]").forEach(Ve=>I.observe(Ve)),()=>I.disconnect()},[Q,t,a]),f.useEffect(()=>{ds.current&&(ds.current.style.height="auto",ds.current.style.height=`${Math.min(ds.current.scrollHeight,120)}px`)},[l]),f.useEffect(()=>{cs.current&&(cs.current.style.height="auto",cs.current.style.height=`${Math.min(cs.current.scrollHeight,120)}px`)},[N]),f.useEffect(()=>{i&&t&&de({conversationId:i,userId:t._id})},[i,J,t]);const vx=async I=>{var Ve;const te=(Ve=I.target.files)==null?void 0:Ve[0];if(!(!te||!t)){z(!0);try{const ze=await Bd(te,"announcements");await os({userId:t._id,wallpaperUrl:ze})}catch{alert("Failed to update wallpaper")}finally{z(!1)}}},Wn=async I=>{if(!(!l.trim()||!i||!t))try{if(p)await cr({messageId:p._id,userId:t._id,newText:l}),b(null);else{const te=U==null?void 0:U.find(ze=>ze._id===i),Ve=(te==null?void 0:te.participantOne)===t._id?te.participantTwo:te==null?void 0:te.participantOne;if(!Ve)return;await le({senderId:t._id,recipientId:Ve,text:l,replyToId:y==null?void 0:y._id}),v(null)}d("")}catch(te){console.error("Failed to send message:",te),alert(te.message||"Failed to send message")}},Lk=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),Wn())},Ok=async I=>{if(t)try{const te=await le({senderId:t._id,recipientId:I,text:"Hi!"});o(te),g(!1),x("")}catch(te){console.error("Failed to start conversation:",te),alert(te.message||"Failed to start conversation")}},jx=async I=>{if(!(!N.trim()||!ne||!t))try{V?(await Hd({messageId:V._id,userId:t._id,newText:N}),R(null)):(await ko({groupId:ne._id,senderId:t._id,text:N,replyToId:_==null?void 0:_._id}),P(null)),T("")}catch(te){console.error("Failed to send group message:",te),alert(te.message||"Failed to send group message")}},Fk=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),jx())},Bk=async()=>{!ne||!t||!It||await Gd({groupId:ne._id,adminId:t._id,locked:!ne.isLocked})},No=f.useRef(null),kx=f.useRef(!1),wx=(I,te=!1)=>{kx.current=!1,No.current=setTimeout(()=>{kx.current=!0,te?L(I):C(I)},500)},Nx=()=>{No.current&&(clearTimeout(No.current),No.current=null)},Uk=()=>{h?g(!1):i&&o(null)},Va=U==null?void 0:U.filter(I=>{var te;return(te=I.otherUser)==null?void 0:te.name.toLowerCase().includes(c.toLowerCase())}),za=H==null?void 0:H.filter(I=>I._id!==(t==null?void 0:t._id)&&I.name.toLowerCase().includes(m.toLowerCase())),Hn=U==null?void 0:U.find(I=>I._id===i);if(!t)return s("/login"),null;const $k=I=>{var Zt;const te=I.senderId===t._id;if(I.isDeleted)return r.jsx("div",{className:`flex ${te?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-xs text-gray-500 italic flex items-center gap-2",children:[r.jsx(Ar,{className:"w-3 h-3"})," This message was deleted"]})},I._id);const ze=I.senderRole==="super_admin"?"text-amber-500":I.senderRole==="admin"?"text-primary-500":"text-gray-500";return r.jsxs("div",{className:`group relative flex ${te?"justify-end":"justify-start"} mb-3`,onMouseEnter:()=>ee(I._id),onMouseLeave:()=>ee(null),"data-groupmsg":"true","data-msgid":I._id,"data-senderid":I.senderId,children:[!te&&r.jsx("div",{className:"flex-shrink-0 mr-2 mt-1",children:r.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white text-xs font-bold overflow-hidden",children:I.senderAvatar?r.jsx("img",{src:I.senderAvatar,alt:I.senderName,className:"w-full h-full object-cover"}):(Zt=I.senderName)==null?void 0:Zt[0]})}),r.jsxs(A.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(Or,Yd)=>{Yd.offset.x<-50&&P(I)},whileDrag:{scale:1.02},className:"relative max-w-[78%] md:max-w-[65%]",onTouchStart:()=>wx(I,!0),onTouchEnd:Nx,children:[G===I._id&&r.jsx("div",{className:`absolute top-0 ${te?"-left-8":"-right-8"} z-20`,children:r.jsx("button",{className:"p-1 rounded-full bg-gray-200 dark:bg-gray-700 shadow-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:Or=>{Or.stopPropagation(),L(I)},children:r.jsx(Ge,{className:"w-3 h-3 text-gray-600 dark:text-gray-300"})})}),r.jsxs("div",{className:`flex flex-col ${te?"items-end":"items-start"}`,children:[!te&&r.jsxs("span",{className:`text-[10px] font-bold mb-0.5 flex items-center gap-1 ${ze}`,children:[I.senderRole==="super_admin"&&r.jsx(Gy,{className:"w-3 h-3"}),I.senderRole==="admin"&&r.jsx($e,{className:"w-3 h-3"}),I.senderName]}),I.replyTo&&r.jsxs("div",{className:`mb-1 text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border-l-2 border-primary-500 w-full opacity-80 ${I.replyTo.isDeleted?"italic":""}`,children:[r.jsx("span",{className:"font-bold block text-primary-500",children:I.replyTo.senderName}),I.replyTo.isDeleted?"Message deleted":I.replyTo.text.length>50?I.replyTo.text.substring(0,50)+"...":I.replyTo.text]}),r.jsxs("div",{className:`px-4 py-2 rounded-2xl text-sm whitespace-pre-wrap break-words shadow-sm ${te?"bg-primary-500 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-bl-none"}`,style:{wordBreak:"break-word",overflowWrap:"break-word"},children:[I.text,r.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1.5 ${te?"text-white/70":"text-gray-400"}`,children:[I.isEdited&&r.jsx("span",{className:"opacity-70",children:"(edited)"}),r.jsx("span",{className:"opacity-70",children:pt(I.createdAt,{addSuffix:!1})}),te&&r.jsxs("button",{onClick:Or=>{Or.stopPropagation(),ra(ta===I._id?null:I._id)},className:"flex items-center gap-0.5 opacity-75 hover:opacity-100 transition-opacity ml-0.5",title:"See who viewed this",children:[r.jsx(St,{className:"w-3 h-3"}),I._viewCount!=null&&I._viewCount>0&&r.jsx("span",{className:"text-[9px] font-semibold",children:I._viewCount})]})]})]}),I.reactions&&I.reactions.length>0&&r.jsx(A.div,{initial:{scale:0},animate:{scale:1},className:`flex -mt-2 ${te?"mr-2":"ml-2"} z-10`,children:I.reactions.map((Or,Yd)=>r.jsx("span",{className:"text-xs bg-white dark:bg-gray-800 rounded-full shadow border border-gray-100 dark:border-gray-700 w-5 h-5 flex items-center justify-center",children:Or.emoji},Yd))})]})]})]},I._id)},Vk=ta?r.jsx(se,{children:r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-end sm:items-center justify-center",onClick:()=>ra(null),children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),r.jsxs(A.div,{initial:{y:60,opacity:0},animate:{y:0,opacity:1},exit:{y:60,opacity:0},transition:{type:"spring",damping:22},className:"relative z-10 w-full max-w-sm mx-4 mb-4 sm:mb-0 bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden",onClick:I=>I.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-100 dark:border-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[r.jsx(St,{className:"w-4 h-4 text-primary-500"}),r.jsx("h2",{className:"text-sm font-bold",children:"Seen by"}),ls&&r.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900/40 text-primary-600 dark:text-primary-400 rounded-full px-2 py-0.5 font-semibold",children:ls.length})]}),r.jsx("button",{onClick:()=>ra(null),className:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:r.jsx(Me,{className:"w-4 h-4 text-gray-500"})})]}),r.jsx("div",{className:"max-h-72 overflow-y-auto custom-thin-scrollbar",children:ls?ls.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-400 dark:text-gray-600",children:[r.jsx(St,{className:"w-10 h-10 mb-2 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No views yet"})]}):r.jsx("ul",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:ls.map((I,te)=>{var Ve;return r.jsxs(A.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:te*.04},className:"flex items-center gap-3 px-5 py-3",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 flex items-center justify-center text-white text-sm font-bold overflow-hidden flex-shrink-0",children:I.avatarUrl?r.jsx("img",{src:I.avatarUrl,alt:I.name,className:"w-full h-full object-cover"}):(Ve=I.name)==null?void 0:Ve[0]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100 truncate",children:I.name}),r.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500",children:["Seen ",pt(I.seenAt,{addSuffix:!0})]})]}),r.jsx(St,{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0"})]},I.userId)})}):r.jsx("div",{className:"flex items-center justify-center h-20",children:r.jsx(In,{className:"w-5 h-5 animate-spin text-primary-400"})})})]})]},"seenby-backdrop")}):null;return r.jsxs("div",{className:`${e?"relative w-full h-full":"fixed inset-0 z-[100]"} bg-light-bg dark:bg-dark-bg flex flex-col`,style:{paddingBottom:qn},children:[Vk,r.jsx("input",{type:"file",ref:zn,onChange:vx,className:"hidden",accept:"image/*"}),r.jsx("style",{children:`
                .custom-thin-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-thin-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-thin-scrollbar::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 10px; }
                .dark .custom-thin-scrollbar::-webkit-scrollbar-thumb { background: #4b5563; }
                /* Prevent body scroll bounce when mobile keyboard opens */
                body { overscroll-behavior: none; }
                /* Hide scrollbar on textareas */
                .scrollbar-none::-webkit-scrollbar { display: none; }
                .scrollbar-none { -ms-overflow-style: none; scrollbar-width: none; }
            `}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:`${i&&a==="direct"?"hidden md:flex":"flex"} md:w-[380px] flex-col border-r border-light-border dark:border-dark-border bg-white dark:bg-dark-card flex-shrink-0 w-full relative`,children:[r.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border bg-white dark:bg-dark-card flex-shrink-0",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>s("/feed"),className:"md:hidden p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 -ml-2",children:r.jsx(yr,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-xl md:text-2xl font-bold text-light-text dark:text-dark-text",children:"Messages"})]})}),r.jsxs("div",{className:"flex gap-1 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl",children:[r.jsxs("button",{onClick:()=>n("direct"),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-bold transition-all ${a==="direct"?"bg-white dark:bg-gray-700 text-primary-500 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(xt,{className:"w-4 h-4"})," Direct"]}),r.jsxs("button",{onClick:()=>{n("group"),!ne&&t&&Xt({userId:t._id})},className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-bold transition-all ${a==="group"?"bg-white dark:bg-gray-700 text-primary-500 shadow-sm":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[r.jsx(je,{className:"w-4 h-4"})," Community",(ne==null?void 0:ne.isLocked)&&r.jsx(st,{className:"w-3 h-3 text-amber-500"})]})]})]}),a==="direct"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-3 border-b border-light-border dark:border-dark-border flex-shrink-0 bg-white dark:bg-dark-card",children:r.jsxs("div",{className:"relative",children:[r.jsx(lt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search conversations...",value:c,onChange:I=>u(I.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 border-none text-sm focus:ring-2 focus:ring-primary-500"})]})}),h&&r.jsxs("div",{className:"absolute inset-x-0 top-0 bottom-[60px] z-20 bg-white dark:bg-dark-card flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex-shrink-0 bg-white dark:bg-dark-card",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("button",{onClick:()=>g(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(yr,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-lg font-bold",children:"New Message"})]}),!It&&r.jsxs("p",{className:"text-xs text-gray-500 mb-3 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-lg",children:[" You can message ",r.jsx("strong",{children:"admins"})," and ",r.jsx("strong",{children:"members you follow"}),"."]}),r.jsxs("div",{className:"relative",children:[r.jsx(lt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search contacts...",value:m,onChange:I=>x(I.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 border-none text-sm focus:ring-2 focus:ring-primary-500",autoFocus:!0})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-thin-scrollbar",children:H?(za==null?void 0:za.length)===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center text-gray-500 text-sm",children:[r.jsx(Dt,{className:"w-12 h-12 mb-3 text-gray-300"}),r.jsx("p",{children:"No contacts found."}),!It&&r.jsx("p",{className:"text-xs mt-2",children:"Follow other members to chat with them."})]}):za==null?void 0:za.map(I=>r.jsxs("div",{onClick:()=>Ok(I._id),className:"flex items-center gap-3 p-4 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors border-b border-light-border/50 dark:border-dark-border/50",children:[r.jsx(gt,{src:I.avatarUrl,alt:I.name,className:"w-12 h-12"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 truncate",children:I.name}),(I.role==="admin"||I.role==="super_admin")&&r.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-600 uppercase",children:I.role==="super_admin"?"Super Admin":"Admin"})]}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:I.email})]})]},I._id)):r.jsx("div",{className:"p-4",children:r.jsx(Ig,{count:8})})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-thin-scrollbar",children:U?(Va==null?void 0:Va.length)===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[r.jsx(Dt,{className:"w-16 h-16 text-gray-300 dark:text-gray-700 mb-4"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No conversations yet"}),r.jsx("button",{onClick:()=>g(!0),className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-xl text-sm font-semibold hover:bg-primary-600 transition-colors",children:"Start a conversation"})]}):Va==null?void 0:Va.map(I=>{var te,Ve,ze;return r.jsxs("div",{onClick:()=>o(I._id),className:`flex items-center gap-3 p-4 cursor-pointer transition-colors border-b border-light-border/50 dark:border-dark-border/50 ${i===I._id?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[r.jsx(gt,{src:(te=I.otherUser)==null?void 0:te.avatarUrl,alt:((Ve=I.otherUser)==null?void 0:Ve.name)||"User",className:"w-12 h-12"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 truncate",children:(ze=I.otherUser)==null?void 0:ze.name}),r.jsx("span",{className:"text-[10px] text-gray-500 ml-2 flex-shrink-0",children:pt(I.updatedAt,{addSuffix:!1})})]}),r.jsxs("p",{className:`text-xs truncate ${!I.isRead&&I.lastMessageSenderId!==(t==null?void 0:t._id)?"font-bold text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:[I.lastMessageSenderId===(t==null?void 0:t._id)?"You: ":"",I.lastMessageText||"Start a conversation"]})]}),!I.isRead&&I.lastMessageSenderId!==(t==null?void 0:t._id)&&r.jsx("div",{className:"w-2.5 h-2.5 bg-primary-500 rounded-full flex-shrink-0"})]},I._id)}):r.jsx("div",{className:"p-4",children:r.jsx(Ig,{count:6})})}),r.jsxs("div",{className:"flex-shrink-0 bg-white dark:bg-dark-card border-t border-light-border dark:border-dark-border py-2 px-6 flex justify-center gap-10 md:gap-16 items-center",children:[r.jsxs("button",{onClick:Uk,className:`flex flex-col items-center gap-1 ${h?"text-light-muted dark:text-dark-muted hover:text-primary-500":"text-primary-500"}`,children:[r.jsx(xt,{className:"w-6 h-6 md:w-7 md:h-7 fill-current"}),r.jsx("span",{className:"text-[10px] font-bold",children:"Chats"})]}),r.jsxs("button",{onClick:()=>g(!0),className:`flex flex-col items-center gap-1 -mt-6 ${h?"text-primary-500":"text-light-muted dark:text-dark-muted hover:text-primary-500"}`,children:[r.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white shadow-lg ${h?"bg-primary-600 ring-4 ring-primary-100":"bg-primary-500 shadow-primary-500/30"}`,children:r.jsx(Dt,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("span",{className:"text-[10px] font-bold mt-1",children:"New Chat"})]}),r.jsxs(re,{to:"/feed",className:"flex flex-col items-center gap-1 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[r.jsx(Lr,{className:"w-6 h-6 md:w-7 md:h-7"}),r.jsx("span",{className:"text-[10px] font-bold",children:"Feed"})]})]})]}),a==="group"&&r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"p-3 border-b border-light-border dark:border-dark-border bg-white dark:bg-dark-card flex items-center gap-3 flex-shrink-0",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:r.jsx(je,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:(ne==null?void 0:ne.name)||"Community"}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:(ne==null?void 0:ne.description)||"All members"})]}),It&&ne&&r.jsx("button",{onClick:Bk,className:`p-2 rounded-lg transition-all text-sm font-bold flex items-center gap-1 ${ne.isLocked?"bg-amber-100 dark:bg-amber-900/30 text-amber-600 hover:bg-amber-200":"bg-gray-100 dark:bg-gray-800 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:ne.isLocked?"Unlock group (allow all to message)":"Lock group (admins only)",children:ne.isLocked?r.jsx(st,{className:"w-4 h-4"}):r.jsx(sv,{className:"w-4 h-4"})})]}),(ne==null?void 0:ne.isLocked)&&r.jsxs("div",{className:"px-4 py-2 bg-amber-50 dark:bg-amber-900/20 border-b border-amber-200 dark:border-amber-800 flex items-center gap-2 text-xs text-amber-700 dark:text-amber-400 font-medium",children:[r.jsx(st,{className:"w-3 h-3"}),"Group is locked  only admins can send messages"]}),r.jsxs("div",{ref:mr,className:"flex-1 p-4 overflow-y-auto custom-thin-scrollbar overflow-x-hidden relative",style:{backgroundImage:me?`url(${me})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[me&&r.jsx("div",{className:"absolute inset-0 bg-white/70 dark:bg-black/60 pointer-events-none z-0"}),r.jsx("div",{className:"relative z-10 space-y-1",children:Q?Q.length===0?r.jsx("div",{className:"flex items-center justify-center h-full pt-20",children:r.jsxs("div",{className:"text-center text-gray-500 text-sm",children:[r.jsx(je,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No messages yet. Say hi to the community! "})]})}):Q.map($k):r.jsx(Ag,{})})]}),r.jsxs("div",{className:"p-3 bg-white/90 dark:bg-dark-card/90 backdrop-blur-md border-t border-light-border dark:border-dark-border flex-shrink-0",children:[r.jsx(se,{children:(_||V)&&r.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between px-3 py-2 mb-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm border-l-4 border-primary-500",children:[r.jsxs("div",{className:"flex flex-col justify-center text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-bold text-xs text-primary-500",children:V?"Editing message":`Replying to ${_.senderName}`}),r.jsx("span",{className:"text-xs truncate max-w-[200px] opacity-70",children:V?V.text:_.text})]}),r.jsx("button",{onClick:()=>{P(null),R(null),T("")},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:r.jsx(Me,{className:"w-4 h-4"})})]})}),ne!=null&&ne.isLocked&&!It?r.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 text-amber-600 dark:text-amber-400 text-sm font-medium",children:[r.jsx(st,{className:"w-4 h-4"}),"Group is locked. Only admins can send messages."]}):r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-800 rounded-2xl border-none focus-within:ring-2 focus-within:ring-primary-500 transition-all min-h-[44px]",children:r.jsx("textarea",{ref:cs,value:N,onChange:I=>T(I.target.value),onKeyDown:Fk,onFocus:()=>{setTimeout(()=>{var I;(I=mr.current)==null||I.scrollTo({top:mr.current.scrollHeight,behavior:"smooth"})},300)},placeholder:V?"Edit your message...":"Message the community...",className:"w-full px-4 py-3 bg-transparent border-none focus:ring-0 resize-none overflow-hidden text-sm text-gray-900 dark:text-gray-100 scrollbar-none",style:{minHeight:"44px"},rows:1})}),r.jsx(M,{onClick:()=>jx(),size:"icon",disabled:!N.trim(),className:"rounded-full w-12 h-12 flex-shrink-0 mb-[1px]",children:r.jsx(Mn,{className:"w-5 h-5"})})]})]}),r.jsx(se,{children:E&&r.jsxs(r.Fragment,{children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 z-[110]",onClick:()=>L(null)}),r.jsxs(A.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"absolute bottom-4 left-4 right-4 bg-white dark:bg-[#222] rounded-2xl p-2 shadow-2xl z-[120] flex flex-col gap-1",children:[r.jsx("div",{className:"flex items-center justify-around p-2 border-b border-gray-100 dark:border-gray-800 pb-2",children:["","","","","",""].map(I=>r.jsx("button",{onClick:()=>{Qd({messageId:E._id,userId:t._id,emoji:I}),L(null)},className:"text-xl hover:scale-125 transition-transform",children:I},I))}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm font-medium",onClick:()=>{P(E),L(null)},children:[r.jsx(uf,{className:"w-4 h-4"})," Reply"]}),E.senderId===t._id&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm font-medium",onClick:()=>{R(E),T(E.text),L(null)},children:[r.jsx(Hl,{className:"w-4 h-4"})," Edit"]}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-900/20 text-primary-600 dark:text-primary-400 flex items-center gap-3 text-sm font-medium",onClick:()=>{ra(E._id),L(null)},children:[r.jsx(St,{className:"w-4 h-4"})," Seen by"]}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 flex items-center gap-3 text-sm font-medium",onClick:()=>{wo({messageId:E._id,userId:t._id}),L(null)},children:[r.jsx(Ar,{className:"w-4 h-4"})," Delete"]})]})]})]})})]})]}),a==="direct"&&r.jsxs("div",{className:`${i?"flex":"hidden md:flex"} flex-1 flex-col bg-gray-50 dark:bg-gray-900 ${i?"fixed inset-0 md:relative z-[200] md:z-auto":""} relative overflow-hidden`,style:i?{bottom:qn}:void 0,children:[((t==null?void 0:t.chatWallpaperUrl)||me)&&r.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center opacity-30 dark:opacity-20 pointer-events-none",style:{backgroundImage:`url(${(t==null?void 0:t.chatWallpaperUrl)||me})`,filter:"blur(3px)"}}),i&&Hn?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 bg-white/90 dark:bg-dark-card/90 backdrop-blur-md border-b border-light-border dark:border-dark-border flex items-center gap-3 flex-shrink-0 z-10",children:[r.jsx("button",{onClick:()=>o(null),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 -ml-2",children:r.jsx(yr,{className:"w-5 h-5"})}),r.jsx(gt,{src:(Sx=Hn.otherUser)==null?void 0:Sx.avatarUrl,alt:((Cx=Hn.otherUser)==null?void 0:Cx.name)||"User",className:"w-10 h-10"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:(Tx=Hn.otherUser)==null?void 0:Tx.name}),r.jsx("p",{className:"text-xs text-gray-500",children:((Px=Hn.otherUser)==null?void 0:Px.role)||"Member"})]}),r.jsx("button",{onClick:()=>{var I;return(I=zn.current)==null?void 0:I.click()},disabled:ie,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 transition-colors",title:"Change Chat Wallpaper",children:ie?r.jsx(In,{className:"w-5 h-5 animate-spin"}):r.jsx(Rs,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-thin-scrollbar overflow-x-hidden relative z-10",ref:ur,children:J?J.length===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-center text-gray-500 text-sm",children:"No messages yet. Say hi!"})}):r.jsx("div",{className:"space-y-4 pb-2",children:J.map(I=>{const te=I.senderId===(t==null?void 0:t._id);return I.isDeleted?r.jsx("div",{className:`flex ${te?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-xs text-gray-500 italic flex items-center gap-2",children:[r.jsx(Ar,{className:"w-3 h-3"})," This message was deleted"]})},I._id):r.jsx("div",{className:`group relative flex ${te?"justify-end":"justify-start"} mb-2`,onMouseEnter:()=>k(I._id),onMouseLeave:()=>k(null),children:r.jsxs(A.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(ze,Zt)=>{Zt.offset.x<-50&&v(I)},whileDrag:{scale:1.02},className:"relative max-w-[85%] md:max-w-[70%]",onTouchStart:()=>wx(I),onTouchEnd:Nx,children:[j===I._id&&r.jsx("div",{className:`absolute top-0 ${te?"-left-8":"-right-8"} z-20 flex flex-col`,children:r.jsx("button",{className:"p-1 rounded-full bg-gray-200 dark:bg-gray-700 shadow-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:ze=>{ze.stopPropagation(),C(I)},children:r.jsx(Ge,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})}),r.jsxs("div",{className:`flex flex-col ${te?"items-end":"items-start"}`,children:[I.replyTo&&r.jsxs("div",{className:`mb-1 text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border-l-2 border-primary-500 w-full opacity-80 ${I.replyTo.isDeleted?"italic":""}`,children:[r.jsx("span",{className:"font-bold block text-primary-500",children:I.replyTo.senderName}),I.replyTo.isDeleted?"Message deleted":I.replyTo.text.length>50?I.replyTo.text.substring(0,50)+"...":I.replyTo.text]}),r.jsxs("div",{className:`px-4 py-2 rounded-2xl text-sm whitespace-pre-wrap break-words shadow-sm ${te?"bg-primary-500 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-bl-none shadow-sm"}`,style:{wordBreak:"break-word",overflowWrap:"break-word"},children:[I.text,r.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 opacity-70 ${te?"text-white/80":"text-gray-500"}`,children:[I.isEdited&&r.jsx("span",{children:"(edited)"}),pt(I.createdAt,{addSuffix:!1})]})]}),I.reactions&&I.reactions.length>0&&r.jsx(A.div,{initial:{scale:0},animate:{scale:1},className:`flex -mt-2 ${te?"mr-2":"ml-2"} z-10`,children:I.reactions.map((ze,Zt)=>r.jsx("span",{className:"text-xs bg-white dark:bg-gray-800 rounded-full shadow border border-gray-100 dark:border-gray-700 w-5 h-5 flex items-center justify-center",children:ze.emoji},Zt))})]})]})},I._id)})}):r.jsx(Ag,{})}),r.jsxs("div",{className:"p-3 md:p-4 bg-white/90 dark:bg-dark-card/90 backdrop-blur-md border-t border-light-border dark:border-dark-border flex-shrink-0 w-full z-10",children:[r.jsx(se,{children:(y||p)&&r.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between px-3 py-2 mb-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm border-l-4 border-primary-500",children:[r.jsxs("div",{className:"flex flex-col justify-center text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-bold text-xs text-primary-500",children:p?"Editing Message":`Replying to ${y.senderId===(t==null?void 0:t._id)?"yourself":"them"}`}),r.jsx("span",{className:"text-xs truncate max-w-[200px] opacity-70",children:p?p.text:y.text})]}),r.jsx("button",{onClick:()=>{v(null),b(null),d("")},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:r.jsx(Me,{className:"w-4 h-4"})})]})}),r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-800 rounded-2xl border-none focus-within:ring-2 focus-within:ring-primary-500 transition-all min-h-[44px]",children:r.jsx("textarea",{ref:ds,value:l,onChange:I=>d(I.target.value),onKeyDown:Lk,onFocus:()=>{setTimeout(()=>{var I;(I=ur.current)==null||I.scrollTo({top:ur.current.scrollHeight,behavior:"smooth"})},300)},placeholder:p?"Edit your message...":"Type a message...",className:"w-full px-4 py-3 bg-transparent border-none focus:ring-0 resize-none overflow-hidden text-sm text-gray-900 dark:text-gray-100 scrollbar-none",style:{minHeight:"44px"},rows:1})}),r.jsx(M,{onClick:()=>Wn(),size:"icon",disabled:!l.trim(),className:"rounded-full w-12 h-12 flex-shrink-0 mb-[1px]",children:r.jsx(Mn,{className:"w-5 h-5"})})]})]}),r.jsx(se,{children:w&&r.jsxs(r.Fragment,{children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 z-[110]",onClick:()=>C(null)}),r.jsxs(A.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"absolute bottom-4 left-4 right-4 md:left-auto md:right-auto md:w-[300px] md:bottom-20 bg-white dark:bg-[#222] rounded-2xl p-2 shadow-2xl z-[120] flex flex-col gap-1 md:left-1/2 md:-translate-x-1/2",children:[r.jsx("div",{className:"flex items-center justify-around p-2 border-b border-gray-100 dark:border-gray-800 pb-2",children:["","","","","",""].map(I=>r.jsx("button",{onClick:()=>{ea({messageId:w._id,userId:t._id,emoji:I}),C(null)},className:"text-xl hover:scale-125 transition-transform",children:I},I))}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm font-medium",onClick:()=>{v(w),C(null)},children:[r.jsx(uf,{className:"w-4 h-4"})," Reply"]}),w.senderId===(t==null?void 0:t._id)&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm font-medium",onClick:()=>{b(w),d(w.text),C(null)},children:[r.jsx(Hl,{className:"w-4 h-4"})," Edit"]}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 flex items-center gap-3 text-sm font-medium",onClick:()=>{Vn({messageId:w._id,userId:t._id}),C(null)},children:[r.jsx(Ar,{className:"w-4 h-4"})," Delete"]})]})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dt,{className:"w-24 h-24 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Choose from your existing conversations or start a new one"})]})})]}),a==="group"&&r.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-gray-50 dark:bg-gray-900",children:r.jsxs("div",{className:"text-center text-gray-400 dark:text-gray-600",children:[r.jsx(je,{className:"w-20 h-20 mx-auto mb-4 opacity-40"}),r.jsx("p",{className:"font-medium",children:"Join the conversation on the left"})]})})]})]})}function gI(){const[e,t]=f.useState("contacts");return r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-[calc(100vh-theme(spacing.24))] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex-shrink-0 mb-4 px-1",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400",children:"Communications"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage contact requests and live chat interactions"})]})}),r.jsxs("div",{className:"flex gap-2 p-1 bg-light-card dark:bg-dark-card rounded-xl border border-light-border dark:border-dark-border w-fit",children:[r.jsxs("button",{onClick:()=>t("contacts"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all
                            ${e==="contacts"?"bg-primary-500 text-white shadow-md":"text-light-muted dark:text-dark-muted hover:bg-gray-100 dark:hover:bg-gray-800"}
                        `,children:[r.jsx(ts,{className:"w-4 h-4"}),"Contact Requests"]}),r.jsxs("button",{onClick:()=>t("live-chat"),className:`
                             flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all
                            ${e==="live-chat"?"bg-primary-500 text-white shadow-md":"text-light-muted dark:text-dark-muted hover:bg-gray-100 dark:hover:bg-gray-800"}
                        `,children:[r.jsx(xt,{className:"w-4 h-4"}),"Live Chat"]})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden relative rounded-2xl border border-light-border dark:border-dark-border bg-white dark:bg-dark-card shadow-sm",children:r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e==="contacts"?r.jsx("div",{className:"h-full overflow-y-auto p-6 custom-thin-scrollbar",children:r.jsx(fI,{})}):r.jsx("div",{className:"h-full w-full",children:r.jsx(Jj,{isEmbedded:!0})})})})]})}function bI(){const{user:e,isLoading:t}=X(),s=B(S.responses.getMyResponses,e!=null&&e._id?{userId:e._id}:"skip");return t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs("div",{className:"mb-6 md:mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Responses"}),r.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View all your responses and grades"})]}),s&&s.length>0&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:s.length})]}),r.jsx(Dt,{className:"w-8 h-8 text-primary-500 opacity-20"})]})})}),r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),r.jsx("p",{className:"text-2xl font-bold text-green-500",children:s.filter(a=>a.grade!==void 0).length})]}),r.jsx(xa,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),r.jsx(D,{glass:!0,children:r.jsx(F,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Avg Grade"}),r.jsx("p",{className:"text-2xl font-bold text-accent-500",children:s.filter(a=>a.grade!==void 0).length>0?Math.round(s.filter(a=>a.grade!==void 0).reduce((a,n)=>a+(n.grade||0),0)/s.filter(a=>a.grade!==void 0).length):0})]}),r.jsx(ye,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})})]}),r.jsx("div",{className:"space-y-4",children:s&&s.length>0?s.map(a=>{const n=a.grade?a.grade>=80?"text-green-500":a.grade>=50?"text-yellow-500":"text-red-500":"text-light-muted dark:text-dark-muted";return r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(ge,{className:"text-lg mb-2",children:a.postTitle}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-light-muted dark:text-dark-muted",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vt,{className:"w-4 h-4"}),new Date(a.createdAt).toLocaleDateString()]}),r.jsx(W,{variant:"default",children:a.category})]})]}),a.grade!==void 0&&r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:`text-3xl font-bold ${n}`,children:a.grade}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"/ 100"})]})]})}),r.jsx(F,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2",children:"Your Response"}),r.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text",children:a.content})]}),a.feedback&&r.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[r.jsx(Qt,{className:"w-4 h-4 text-accent-500"}),"Admin Feedback"]}),r.jsxs("div",{className:"bg-accent-50 dark:bg-accent-900/20 p-3 rounded-lg text-sm text-light-text dark:text-dark-text italic border-l-4 border-accent-500",children:['"',a.feedback,'"']})]}),a.grade===void 0&&r.jsx("div",{className:"text-center p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800",children:r.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:" Waiting for admin to grade"})}),a.rewardStatus==="paid"&&r.jsxs(A.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"text-center p-4 rounded-xl bg-gradient-to-r from-green-500/10 via-green-500/20 to-green-500/10 border border-green-500/30 shadow-lg shadow-green-500/10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 font-bold uppercase tracking-tight",children:[r.jsx(ye,{className:"w-5 h-5 animate-bounce"}),r.jsx("span",{children:"Official Reward Paid!"}),r.jsx(ye,{className:"w-5 h-5 animate-bounce"})]}),r.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"Check your bank account/wallet for the transfer."})]})]})})]},a._id)}):r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-12 text-center text-light-muted",children:[r.jsx(Dt,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),r.jsx("p",{className:"mb-2",children:"You haven't submitted any responses yet"}),r.jsx("p",{className:"text-sm",children:'Look for admin posts with "Official Response" enabled and submit your answers!'})]})})})]})}):r.jsx(Ae,{to:"/login",replace:!0})}const yI=`
  .premium-scrollbar::-webkit-scrollbar {
    height: 5px;
    width: 5px;
  }
  .premium-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
  }
`,Mg=[{key:"gold",label:"Comments",icon:Dt,color:"from-yellow-500 to-amber-600"},{key:"silver",label:"Games",icon:Yy,color:"from-gray-400 to-gray-600"},{key:"diamond",label:"Challenge",icon:vr,color:"from-emerald-500 to-teal-600"}];function vI(){const[e,t]=f.useState("gold"),s=ue(),a=B(S.wallets.getLeaderboard,e!=="diamond"?{poolType:e,limit:50}:"skip"),n=B(S.wordUnderPressure.getDiamondLeaderboard,e==="diamond"?{limit:50}:"skip"),i=e==="diamond"?n:a,o=Mg.find(l=>l.key===e);return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[r.jsx("style",{children:yI}),r.jsx("div",{className:"gradient-primary text-white py-8 px-4 md:px-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("button",{onClick:()=>s("/feed"),className:"flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[r.jsx(yr,{className:"w-5 h-5"}),"Back to Feed"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center",children:r.jsx(ye,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold",children:"Leaderboard"}),r.jsx("p",{className:"text-white/80",children:"Top performers across all categories"}),e==="diamond"&&r.jsxs("button",{onClick:()=>s("/diamond-challenge"),className:"mt-4 px-6 py-2 bg-emerald-500 text-white rounded-full font-bold text-sm hover:bg-emerald-400 transition-colors shadow-lg flex items-center gap-2 border-2 border-emerald-400/50",children:[r.jsx(vr,{className:"w-4 h-4"}),"Play Challenge"]})]})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 premium-scrollbar",children:Mg.map(l=>{const d=l.icon,c=e===l.key;return r.jsxs("button",{onClick:()=>t(l.key),className:Y("flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all whitespace-nowrap",c?"bg-white text-primary-500":"bg-white/10 text-white/70 hover:bg-white/20"),children:[r.jsx(d,{className:"w-5 h-5"}),l.label]},l.key)})})]})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-8",children:i?i.length===0?r.jsx(D,{glass:!0,children:r.jsxs(F,{className:"p-8 text-center",children:[r.jsx(ye,{className:"w-16 h-16 text-primary-300 mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-light-muted dark:text-dark-muted",children:"No entries yet for this category."}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-2",children:["Be the first to earn Rubies in the ",o.label," pool!"]})]})}):r.jsx("div",{className:"space-y-4",children:i.map((l,d)=>r.jsx(jI,{entry:l,rank:l.rank,tabColor:o.color,activeTab:e},l.userId))}):r.jsx("div",{className:"text-center text-light-muted dark:text-dark-muted py-12",children:"Loading leaderboard..."})})]})}function jI({entry:e,rank:t,tabColor:s,activeTab:a}){let n=null,i="bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border";return t===1?(n=r.jsx(ye,{className:"w-7 h-7 text-yellow-500"}),i="bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-400 dark:border-yellow-600 shadow-lg shadow-yellow-500/20"):t===2?(n=r.jsx(ml,{className:"w-7 h-7 text-gray-400"}),i="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900/20 dark:to-gray-800/20 border-2 border-gray-300 dark:border-gray-600 shadow-md shadow-gray-500/10"):t===3&&(n=r.jsx(ml,{className:"w-7 h-7 text-orange-500"}),i="bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-2 border-orange-400 dark:border-orange-600 shadow-md shadow-orange-500/10"),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},className:Y("flex items-center gap-3 sm:gap-4 p-3 sm:p-5 rounded-2xl border transition-all hover:scale-[1.02]",i),children:[r.jsx("div",{className:"hidden md:flex flex-shrink-0 w-14 text-center font-bold text-2xl items-center justify-center",children:n||r.jsxs("span",{className:"text-light-muted dark:text-dark-muted",children:["#",t]})}),r.jsxs(re,{to:`/profile/${e.userId}`,className:"relative flex-shrink-0 hover:opacity-80 transition-opacity",children:[r.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600 ring-2 ring-white dark:ring-dark-border",children:e.userAvatar?r.jsx("img",{src:e.userAvatar,alt:e.userName,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-xl",children:e.userName[0]})}),r.jsx("div",{className:"absolute -top-1 -left-1 md:hidden w-6 h-6 rounded-full bg-white dark:bg-dark-card border border-light-border dark:border-dark-border flex items-center justify-center shadow-sm z-10 text-xs font-bold",children:t<=3?t===1?r.jsx(ye,{className:"w-3.5 h-3.5 text-yellow-500"}):r.jsx(ml,{className:Y("w-3.5 h-3.5",t===2?"text-gray-400":"text-orange-500")}):`#${t}`})]}),r.jsxs("div",{className:"flex-1 min-w-0 pr-1",children:[r.jsx(re,{to:`/profile/${e.userId}`,className:"font-bold text-base sm:text-xl text-light-text dark:text-dark-text truncate hover:text-primary-500 transition-colors block leading-tight",children:e.userName}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-0.5 sm:gap-4 mt-0.5 sm:mt-1 text-xs sm:text-sm text-light-muted dark:text-dark-muted",children:a==="diamond"?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"truncate font-medium text-emerald-500 dark:text-emerald-400",children:[e.totalWins," Correct"]}),r.jsxs("span",{className:"flex items-center gap-1 truncate text-light-muted dark:text-dark-muted",children:["Attempts: ",e.currentStreak]})]}):e.totalWins!==void 0?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"truncate font-medium text-blue-500 dark:text-blue-400",children:[e.totalWins," Wins"]}),r.jsxs("span",{className:"flex items-center gap-1 truncate text-light-muted dark:text-dark-muted",children:["Streak: ",e.currentStreak]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"truncate",children:[e.earnedRubies," Rubies"]}),e.badgeCount>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ye,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.badgeCount," badge",e.badgeCount!==1?"s":""]})]})})]}),r.jsxs("div",{className:"flex flex-col items-end gap-0.5 sm:gap-1 pl-1 shrink-0",children:[r.jsx("div",{className:Y("text-lg sm:text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent truncate max-w-[80px] sm:max-w-none text-right",s),children:e.currentBalance}),r.jsx("div",{className:"text-[9px] sm:text-xs text-light-muted dark:text-dark-muted uppercase tracking-wider font-medium",children:a==="diamond"?"Best Time":"Balance"}),r.jsx("button",{onClick:o=>{o.preventDefault()},className:"mt-0.5 sm:mt-1 p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 hover:text-red-500 transition-colors",children:r.jsx(Js,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})}function kI(){var i,o,l;const{postId:e}=Fa(),t=B(S.posts.getPost,{postId:e}),s=B(S.responses.getPostResponses,{postId:e});if(!t||!s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const a=s.slice(0,5),n=s.slice(5,10);return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[r.jsx(Ye,{}),r.jsxs("div",{className:"mb-8 p-6 glass rounded-2xl border border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-transparent",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(gt,{src:(i=t.author)==null?void 0:i.avatarUrl,alt:((o=t.author)==null?void 0:o.name)||"Admin",size:"sm"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-light-text dark:text-dark-text",children:(l=t.author)==null?void 0:l.name}),r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted flex items-center gap-1",children:[r.jsx(vt,{className:"w-3 h-3"}),pt(t.createdAt,{addSuffix:!0})]})]})]}),r.jsxs("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base whitespace-pre-wrap italic opacity-80",children:['"',t.content,'"']})]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[r.jsx(Dt,{className:"w-6 h-6 text-primary-500"}),"Official Responses"]}),r.jsxs(W,{variant:"primary",className:"px-3 py-1",children:[s.length," Total"]})]}),r.jsxs("div",{className:"space-y-8",children:[a.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold uppercase tracking-wider text-xs",children:[r.jsx(ye,{className:"w-4 h-4"}),"Top Tier Responders (1-5)"]}),r.jsx("div",{className:"grid gap-4",children:a.map((d,c)=>r.jsx(_g,{response:d,rank:c+1,tier:"gold"},d._id))})]}),n.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-secondary-600 dark:text-secondary-400 font-bold uppercase tracking-wider text-xs",children:[r.jsx(ml,{className:"w-4 h-4"}),"Second Tier Responders (6-10)"]}),r.jsx("div",{className:"grid gap-4",children:n.map((d,c)=>r.jsx(_g,{response:d,rank:c+6,tier:"silver"},d._id))})]}),s.length===0&&r.jsxs("div",{className:"text-center py-12 glass rounded-xl border-dashed border-2 border-light-border dark:border-dark-border",children:[r.jsx(Dt,{className:"w-12 h-12 text-light-muted mx-auto mb-4 opacity-30"}),r.jsx("p",{className:"text-light-muted",children:"No responses yet for this post."})]})]})]})})}function _g({response:e,rank:t,tier:s}){const a=s==="gold";return r.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:`flex flex-col md:flex-row gap-4 p-5 rounded-2xl border transition-all ${a?"bg-primary-500/5 border-primary-500/30":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx(gt,{src:e.userAvatar,alt:e.userName,size:"md"}),r.jsxs("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg ${a?"bg-primary-500":"bg-secondary-500"}`,children:["#",t]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text",children:e.userName}),r.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:pt(e.createdAt,{addSuffix:!0})})]}),r.jsx("p",{className:"text-sm text-light-text dark:text-dark-text leading-relaxed",children:e.content}),e.grade!==void 0&&r.jsxs("div",{className:"pt-3 flex flex-wrap gap-2 items-center",children:[r.jsxs(W,{variant:e.grade>=70?"success":"primary",className:"text-[10px] font-bold uppercase transition-all hover:scale-105",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&r.jsxs(W,{variant:"warning",className:"text-[10px] flex items-center gap-1 animate-pulse",children:[r.jsx(ye,{className:"w-3 h-3"}),"Awarded"]}),e.feedback&&r.jsxs("div",{className:"w-full mt-2 p-3 rounded-lg bg-light-bg dark:bg-dark-bg/50 border border-light-border dark:border-dark-border/50 italic text-xs text-light-muted",children:['Admin feedback: "',e.feedback,'"']})]})]})]})})}function vn(){return r.jsxs("div",{className:"flex gap-3 animate-pulse",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-light-border dark:bg-dark-border"}),r.jsxs("div",{className:"flex-1 bg-light-card dark:bg-dark-card rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-24 bg-light-border dark:bg-dark-border rounded"}),r.jsx("div",{className:"h-3 w-16 bg-light-border dark:bg-dark-border rounded"})]}),r.jsx("div",{className:"h-3 w-full bg-light-border dark:bg-dark-border rounded"}),r.jsx("div",{className:"h-3 w-3/4 bg-light-border dark:bg-dark-border rounded"})]})]})}function Eg({postId:e,isPrayer:t=!1,isAdminPost:s=!1}){const{user:a}=X(),[n,i]=f.useState(""),[o,l]=f.useState(""),[d,c]=f.useState(!1),[u,m]=f.useState(null),x=B(S.comments.getComments,{postId:e}),h=B(S.comments.getCommentSettings,{}),g=B(S.comments.hasUserCommented,a!=null&&a._id&&s?{postId:e,userId:a._id}:"skip"),y=$(S.comments.createComment),v=async w=>{if(w.preventDefault(),!(!a||!n.trim()||d)&&!(s&&g)){c(!0);try{await y({postId:e,authorId:a._id,content:n.trim()}),i("")}catch(C){console.error("Failed to create comment:",C),alert(C instanceof Error?C.message:"Failed to post comment")}finally{c(!1)}}},p=async(w,C)=>{if(w.preventDefault(),!(!a||!o.trim()||d)){c(!0);try{await y({postId:e,authorId:a._id,content:o.trim(),parentId:C}),l(""),m(null)}catch(N){console.error("Failed to post reply:",N),alert(N instanceof Error?N.message:"Failed to post reply")}finally{c(!1)}}},j=(()=>{if(!x)return[];const w=new Map;x.forEach(N=>w.set(N._id,{...N,replies:[]}));const C=[];return x.forEach(N=>{if(N.parentId){const T=w.get(N.parentId);T&&T.replies.push(w.get(N._id))}else C.push(w.get(N._id))}),C})();function k({comment:w,isReply:C=!1}){var P,V,R,G,ee,E;const N=((P=w.author)==null?void 0:P.name)||"U",T=N.charAt(0).toUpperCase(),_=(V=w.author)==null?void 0:V.avatarUrl;return r.jsxs("div",{className:`flex gap-2 md:gap-3 ${C?"ml-8 md:ml-12 mt-2":""} group`,children:[r.jsx(re,{to:`/profile/${(R=w.author)==null?void 0:R._id}`,className:"shrink-0 mt-1",children:_?r.jsx(gt,{src:_,alt:N,size:C?"xs":"sm"}):r.jsx("div",{className:`flex items-center justify-center rounded-full bg-primary-500/20 text-primary-600 dark:text-primary-400 font-bold flex-shrink-0 ${C?"w-6 h-6 text-[10px]":"w-8 h-8 text-sm"}`,children:T})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-2xl px-3 py-2 md:px-4 md:py-2.5 inline-block max-w-full shadow-sm border border-light-border/50 dark:border-dark-border/50",children:[r.jsxs(re,{to:`/profile/${(G=w.author)==null?void 0:G._id}`,className:"font-bold text-sm text-light-text dark:text-dark-text hover:underline block mb-0.5 truncate",children:[N,((ee=w.author)==null?void 0:ee.role)==="admin"&&r.jsx($e,{className:"w-3 h-3 inline-block ml-1 text-primary-500"})]}),r.jsx("p",{className:"text-sm text-light-text dark:text-dark-text break-words leading-relaxed whitespace-pre-wrap",children:w.content})]}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 ml-2",children:[r.jsx("span",{className:"text-[11px] md:text-xs text-light-muted dark:text-dark-muted font-medium",children:pt(w.createdAt,{addSuffix:!0})}),!C&&a&&r.jsx("button",{onClick:()=>{m(u===w._id?null:w._id),l("")},className:"text-[11px] md:text-xs font-bold text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:"Reply"})]})]}),r.jsx(se,{children:u===w._id&&r.jsxs(A.form,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},onSubmit:L=>p(L,w._id),className:"mt-3 flex gap-2",children:[r.jsx(gt,{src:a==null?void 0:a.avatarUrl,size:"xs",className:"hidden md:block shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),placeholder:`Reply to ${N}...`,className:"w-full pl-3 pr-10 py-2 text-sm rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0}),r.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg disabled:opacity-50",children:r.jsx(Mn,{className:"w-4 h-4"})})]})]},"reply-form")}),((E=w.replies)==null?void 0:E.length)>0&&r.jsx("div",{className:"space-y-3 mt-3 relative before:absolute before:left-[-1.5rem] before:top-2 before:bottom-4 before:w-px before:bg-light-border/50 dark:before:bg-dark-border/50 md:before:hidden",children:w.replies.map(L=>r.jsx(k,{comment:L,isReply:!0},L._id))})]})]})}return h===!1?r.jsx("div",{className:"mt-4 p-4 rounded-lg bg-light-card dark:bg-dark-card text-center",children:r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Comments are currently disabled"})}):r.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border space-y-4",children:[a&&r.jsx(se,{mode:"wait",children:g&&s?r.jsxs(A.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-3 px-4 py-3 rounded-2xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/15 flex items-center justify-center flex-shrink-0",children:r.jsx(it,{className:"w-4 h-4 text-green-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"You've already commented "}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Each user can only comment once per admin post to keep things fair. You can still reply to others below."})]}),r.jsx(b4,{className:"w-5 h-5 text-light-muted dark:text-dark-muted flex-shrink-0"})]},"locked"):r.jsxs(A.form,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onSubmit:v,className:"flex items-start gap-2 md:gap-3",children:[r.jsx("div",{className:"mt-1 flex-shrink-0",children:r.jsx(gt,{src:a.avatarUrl,alt:a.name,size:"sm"})}),r.jsxs("div",{className:"flex-1 min-w-0 relative",children:[r.jsx("textarea",{value:n,onChange:w=>i(w.target.value),placeholder:t?"Join us in praying this prayer...":s?"Write a comment... (once per post)":"Write a comment...",className:`w-full px-4 py-2.5 pr-12 rounded-2xl border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:border-transparent resize-none overflow-hidden min-h-[44px] max-h-32 text-sm md:text-base transition-all ${t?"border-purple-200 dark:border-purple-900/30 focus:ring-purple-500 placeholder:text-purple-400/70":"border-light-border dark:border-dark-border focus:ring-primary-500"}`,disabled:d,rows:1,onInput:w=>{const C=w.target;C.style.height="auto",C.style.height=`${C.scrollHeight}px`}}),r.jsx("button",{type:"submit",disabled:!n.trim()||d,className:"absolute right-1.5 bottom-1.5 p-2 rounded-xl bg-primary-500 hover:bg-primary-600 text-white transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center shadow-lg shadow-primary-500/20 active:scale-95",children:t?r.jsx(Eh,{className:"w-4 h-4 md:w-5 md:h-5"}):r.jsx(Mn,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]},"input")}),x?j.length>0?r.jsx("div",{className:"space-y-4",children:j.map(w=>r.jsx(k,{comment:w},w._id))}):r.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:r.jsx("p",{children:t?"No prayers yet. Be the first to join in prayer!":"No comments yet. Be the first to share your thoughts!"})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(vn,{}),r.jsx(vn,{}),r.jsx(vn,{})]})]})}function wI({postId:e}){const{user:t}=X(),[s,a]=f.useState(""),[n,i]=f.useState(!1),o=B(S.questions.getQuestionsByPost,{postId:e,publicOnly:!0}),l=B(S.questions.getUserQuestionsOnPost,t!=null&&t._id?{userId:t._id,postId:e}:"skip"),d=$(S.questions.submitQuestion),c=[...o||[]];l&&l.forEach(m=>{c.some(x=>x._id===m._id)||c.push({...m,userName:(t==null?void 0:t.name)||"Me",userAvatar:t==null?void 0:t.avatarUrl,adminName:void 0,adminAvatar:void 0})}),c.sort((m,x)=>x.createdAt-m.createdAt);const u=async m=>{if(m.preventDefault(),!(!t||!s.trim())){i(!0);try{await d({userId:t._id,postId:e,questionText:s.trim()}),a("")}catch(x){console.error("Failed to submit question:",x),alert("Failed to submit question. Please try again.")}finally{i(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[t&&(!l||l.length===0)&&r.jsxs("form",{onSubmit:u,className:"relative",children:[r.jsx("textarea",{value:s,onChange:m=>a(m.target.value),placeholder:"Ask a question about this teaching...",className:"w-full min-h-[100px] p-4 pr-12 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 text-sm resize-none"}),r.jsx(M,{type:"submit",disabled:!s.trim()||n,size:"sm",className:"absolute bottom-3 right-3",children:n?"Sending...":r.jsx(Mn,{className:"w-4 h-4"})})]}),t&&l&&l.length>0&&r.jsxs("div",{className:"text-center py-4 text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/10 rounded-xl border border-green-100 dark:border-green-900/30",children:[r.jsx(Ht,{className:"w-5 h-5 mx-auto mb-2"}),r.jsx("p",{className:"font-medium",children:"Question Submitted"}),r.jsx("p",{className:"text-xs opacity-80",children:"You can only ask one question per post."})]}),!t&&r.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Please log in to ask a question"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:["Questions (",c.length,")"]}),c.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No questions yet. Be the first to ask!"}):r.jsx("div",{className:"space-y-4",children:c.map(m=>r.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-[#1A1A1A] shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gt,{src:m.userAvatar,alt:m.userName||"User",size:"sm"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:m.userName}),r.jsx("p",{className:"text-[10px] text-light-muted",children:pt(m.createdAt,{addSuffix:!0})})]})]}),m.isPublic?r.jsx("div",{title:"Public",className:"text-green-500",children:r.jsx(_h,{className:"w-3.5 h-3.5"})}):r.jsx("div",{title:"Private",className:"text-gray-400",children:r.jsx(st,{className:"w-3.5 h-3.5"})})]}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3 pl-10",children:m.questionText}),m.isAnswered?r.jsxs("div",{className:"ml-10 mt-3 p-3 rounded-lg bg-primary-50 dark:bg-primary-900/10 border border-primary-100 dark:border-primary-900/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(gt,{src:m.adminAvatar,alt:m.adminName||"Admin",size:"xs",className:"w-5 h-5"}),r.jsx("span",{className:"text-xs font-bold text-primary-700 dark:text-primary-400",children:m.adminName||"Admin Response"})]}),r.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:m.answerText})]}):r.jsxs("div",{className:"ml-10 mt-2 flex items-center gap-1.5 text-xs text-orange-500 bg-orange-50 dark:bg-orange-900/10 px-2 py-1 rounded-md w-fit",children:[r.jsx(Rr,{className:"w-3 h-3"}),"Waiting for response"]})]},m._id))})]})]})}function NI(){var j,k,w,C,N,T,_,P,V;const{postId:e}=Fa(),[t,s]=Ty(),a=t.get("tab")||"comments",{user:n}=X(),i=B(S.posts.getPost,{postId:e}),o=$(S.posts.likePost),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,x]=f.useState(0),[h,g]=f.useState(0);if(f.useEffect(()=>{i&&(x(i.likeCount),g(0))},[i==null?void 0:i._id,i==null?void 0:i.likeCount]),!i)return r.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[r.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:r.jsx("div",{className:"w-24 h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})}),r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx("div",{className:"aspect-[4/5] bg-gray-200 dark:bg-gray-700 rounded-2xl animate-pulse"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Re,{}),r.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border space-y-4",children:[r.jsx(vn,{}),r.jsx(vn,{}),r.jsx(vn,{})]})]})]})})]});const y=((j=i.author)==null?void 0:j.role)==="admin"||((k=i.author)==null?void 0:k.role)==="super_admin",v=async()=>{if(!n||l||y&&c)return;const R=!c;u(R),x(G=>R?G+1:G-1),d(!0);try{await o({userId:n._id,postId:i._id})}catch(G){(G instanceof Error?G.message:"").includes("already liked")||(u(!R),x(E=>R?E-1:E+1)),console.error("Failed to like post:",G)}finally{d(!1)}},p=i.content.length>250,b=i.content.length>1200;return r.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[r.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:r.jsx(Ye,{})}),r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[r.jsxs("div",{className:"lg:sticky lg:top-24 space-y-4",children:[i.imageUrl?r.jsx(A.div,{layoutId:`post-image-${i._id}`,className:"rounded-2xl overflow-hidden glass border border-light-border dark:border-dark-border shadow-2xl",children:r.jsx("img",{src:i.imageUrl,alt:"Post",className:"w-full h-auto max-h-[70vh] object-contain bg-black/5"})}):i.videoUrl?r.jsx("div",{className:"rounded-2xl overflow-hidden bg-black shadow-2xl",children:r.jsx("video",{src:i.videoUrl,controls:!0,className:"w-full max-h-[70vh]"})}):r.jsx("div",{className:"aspect-square flex items-center justify-center glass rounded-2xl border border-dashed border-light-border dark:border-dark-border opacity-50",children:r.jsx("p",{className:"text-light-muted",children:"No visual media"})}),r.jsxs("div",{className:"hidden lg:block p-6 glass rounded-2xl border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:v,className:`flex items-center gap-2 transition-all duration-300 ${c?"text-red-500":"text-light-text dark:text-dark-text hover:text-red-500"}`,children:[r.jsx(Js,{className:`w-6 h-6 transition-all duration-300 ${c?"fill-red-500 text-red-500 scale-110":""}`}),r.jsxs("span",{className:"font-bold",children:[m," Likes"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-light-muted",children:[r.jsx(xt,{className:"w-6 h-6"}),r.jsxs("span",{className:"font-bold",children:[i.commentCount," Comments"]})]})]}),r.jsx("button",{className:"p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:r.jsx(Bn,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"h-px bg-light-border dark:bg-dark-border mb-4"}),r.jsxs("p",{className:"text-xs text-light-muted flex items-center gap-2",children:[r.jsx(vt,{className:"w-3 h-3"}),"Posted on ",new Date(i.createdAt).toLocaleDateString(void 0,{dateStyle:"long"})," at ",new Date(i.createdAt).toLocaleTimeString(void 0,{timeStyle:"short"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-2xl border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gt,{src:(w=i.author)==null?void 0:w.avatarUrl,alt:((C=i.author)==null?void 0:C.name)||"User",size:"md"}),r.jsxs("div",{children:[r.jsxs("h2",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:[(N=i.author)==null?void 0:N.name,((T=i.author)==null?void 0:T.role)==="admin"&&r.jsx($e,{className:"w-4 h-4 text-primary-500"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",className:"text-[10px]",children:i.category}),r.jsx("span",{className:"text-xs text-light-muted",children:pt(i.createdAt,{addSuffix:!0})})]})]})]}),((_=i.author)==null?void 0:_.role)==="admin"?r.jsx(W,{variant:"primary",className:"hidden sm:flex",children:"Official"}):r.jsx(W,{variant:"default",className:"hidden sm:flex",children:"Member"})]}),r.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:r.jsx(ft,{className:"w-20 h-20"})}),r.jsx(se,{initial:!1,children:r.jsx(A.p,{initial:{opacity:0},animate:{opacity:1},className:`text-light-text dark:text-dark-text leading-relaxed text-base md:text-lg break-words cursor-pointer ${h===0?"line-clamp-[6]":h===1?"line-clamp-[20]":""}`,onClick:()=>{p&&(b?h===0?g(1):h===1&&g(2):g(h===0?2:0))},children:i.content},h)}),p&&r.jsx("button",{onClick:()=>{g(b?h===0?1:h===1?2:0:h===0?2:0)},className:"mt-4 flex items-center gap-1 text-primary-500 font-bold hover:underline transition-all",children:h===2?r.jsxs(r.Fragment,{children:["Show Less ",r.jsx(ja,{className:"w-4 h-4"})]}):h===1?r.jsxs(r.Fragment,{children:["Read Full Message ",r.jsx(Ge,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Read More ",r.jsx(Ge,{className:"w-4 h-4"})]})})]})]}),r.jsx("div",{className:"p-4 md:p-6 glass rounded-2xl border border-light-border dark:border-dark-border min-h-[400px]",children:((P=i.author)==null?void 0:P.role)==="admin"||((V=i.author)==null?void 0:V.role)==="super_admin"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-6 border-b border-light-border dark:border-dark-border mb-6",children:[r.jsx("button",{onClick:()=>s({tab:"comments"}),className:`pb-3 font-semibold text-sm transition-colors border-b-2 ${a==="comments"?"border-primary-500 text-primary-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xt,{className:"w-4 h-4"}),"Comments (",i.commentCount,")"]})}),r.jsx("button",{onClick:()=>s({tab:"questions"}),className:`pb-3 font-semibold text-sm transition-colors border-b-2 ${a==="questions"?"border-purple-500 text-purple-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($e,{className:"w-4 h-4"}),"Questions (",i.questionCount||0,")"]})})]}),a==="comments"?r.jsx(Eg,{postId:i._id,isPrayer:i.postType==="prayer",isAdminPost:y}):r.jsx(wI,{postId:i._id})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-bold text-gradient mb-6 flex items-center gap-2",children:i.postType==="prayer"?r.jsxs(r.Fragment,{children:[r.jsx(Eh,{className:"w-6 h-6 text-purple-500"}),"Community Prayers"]}):r.jsxs(r.Fragment,{children:[r.jsx(xt,{className:"w-6 h-6 text-primary-500"}),"Community Discussion"]})}),r.jsx(Eg,{postId:i._id,isPrayer:i.postType==="prayer",isAdminPost:y})]})})]})})]})}function SI(){const{user:e,isLoading:t}=X(),s=ue(),[a,n]=f.useState(""),i=$(S.follows.toggleFollow),[o,l]=f.useState(null),d=B(S.users.searchMembers,a.trim().length>0?{query:a}:"skip");return t?r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Kt,{}),r.jsx(_a,{count:3})]})}):e?r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"Search Members"}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base",children:"Find and connect with community members"})]}),r.jsx("div",{className:"mb-6 md:mb-8",children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("button",{onClick:()=>s(-1),className:"mr-2 p-2 text-primary-500 md:hidden","aria-label":"Go back",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"m12 19-7-7 7-7"}),r.jsx("path",{d:"M19 12H5"})]})}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",value:a,onChange:c=>n(c.target.value),placeholder:"Search by name...",className:`
                                w-full
                                pl-10 pr-10 py-2.5
                                rounded-lg
                                border border-light-border dark:border-dark-border
                                bg-light-card dark:bg-dark-card
                                text-sm text-light-text dark:text-dark-text
                                placeholder-light-muted dark:placeholder-dark-muted
                                focus:ring-2 focus:ring-primary-500 focus:border-transparent
                                outline-none transition-all
                                `}),a&&r.jsx("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text","aria-label":"Clear search",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}),a.trim().length===0?r.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[r.jsx(ft,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Start typing to search for members"})]}):d===void 0?r.jsx(_a,{count:3}):d.length===0?r.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[r.jsx(ft,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:['No members found matching "',a,'"']})]}):r.jsx("div",{className:"space-y-3",children:d.map(c=>r.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>s(`/profile/${c._id}`),className:"glass rounded-lg p-4 hover:shadow-lg transition-all cursor-pointer group",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gt,{src:c.avatarUrl,alt:c.name,size:"md"}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:c.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(W,{variant:c.role==="admin"||c.role==="super_admin"?"primary":"default",className:"text-[10px]",children:c.role==="super_admin"?"Super Admin":c.role==="admin"?"Admin":"Member"}),r.jsxs("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:[c.followerCount||0," followers"]})]})]}),e._id!==c._id&&r.jsx("button",{onClick:u=>{u.stopPropagation(),!o&&(l(c._id),i({followerId:e._id,followingId:c._id}).finally(()=>l(null)))},className:"p-2 rounded-full hover:bg-primary-50 dark:hover:bg-primary-900/20 text-primary-500 transition-colors",children:r.jsx(ft,{className:"w-5 h-5"})}),c.latestPost&&r.jsxs("div",{className:"w-full mt-2 p-2 bg-light-card/50 dark:bg-dark-card/50 rounded-lg border border-light-border/50 dark:border-dark-border/50 text-xs text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-semibold text-primary-500",children:"Latest: "}),r.jsx("span",{className:"line-clamp-1 break-all",children:c.latestPost.content})]})]})})]})},c._id))})]})}):r.jsx(Ae,{to:"/login",replace:!0})}function CI(){const{userId:e}=Fa(),{user:t,isLoading:s}=X(),[a,n]=f.useState(""),i=B(S.users.getUserProfile,e?{userId:e}:"skip"),o=B(S.posts.getPosts,e?{authorId:e,userId:t==null?void 0:t._id}:"skip"),l=(o==null?void 0:o.filter(y=>y.content.toLowerCase().includes(a.toLowerCase())))||[],d=B(S.follows.isFollowing,t&&e?{followerId:t._id,followingId:e}:"skip"),c=$(S.follows.toggleFollow),[u,m]=f.useState(!1),x=async()=>{if(!(!t||!e||u)){m(!0);try{await c({followerId:t._id,followingId:e})}catch(y){console.error("Failed to toggle follow:",y)}finally{m(!1)}}};if(s)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsx(Kt,{}),r.jsx("div",{className:"glass rounded-xl h-64 animate-pulse mb-6"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{})]})]})});if(!t)return r.jsx(Ae,{to:"/login",replace:!0});if(i===void 0)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsx(Kt,{}),r.jsx("div",{className:"glass rounded-xl h-64 animate-pulse mb-6"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{})]})]})});if(i===null)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsx("div",{className:"text-center py-12 glass rounded-xl mt-6",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Member not found"})})]})});const h=i.role==="admin"||i.role==="super_admin",g=i.role==="super_admin";return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl overflow-hidden",children:[r.jsx("div",{className:"h-32 md:h-48 bg-gray-100 dark:bg-gray-800 relative",children:i.coverImageUrl?r.jsx("img",{src:i.coverImageUrl,className:"w-full h-full object-cover",alt:"Cover"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500/20 to-secondary-500/20"})}),r.jsxs("div",{className:"px-4 pb-4 md:px-8 md:pb-8 relative",children:[r.jsx("div",{className:"relative -mt-10 md:-mt-16 mb-3 md:mb-4 flex flex-col items-center md:items-start",children:r.jsx(gt,{src:i.avatarUrl,alt:i.name,size:"xl",className:`
                                        ring-4 ring-light-bg dark:ring-dark-bg 
                                        ${g?"ring-yellow-500":h?"ring-primary-500":""}
                                        w-20 h-20 md:w-32 md:h-32 shadow-lg
                                    `})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 text-center md:text-left",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center gap-2 mb-1",children:[r.jsx("h1",{className:"text-xl md:text-3xl font-bold text-light-text dark:text-dark-text truncate max-w-full",children:i.name}),g?r.jsxs(W,{variant:"primary",className:"bg-gradient-to-r from-yellow-500 to-amber-600 border-yellow-300 text-[10px] h-5",children:[r.jsx($e,{className:"w-3 h-3 mr-1"})," Super Admin"]}):h?r.jsxs(W,{variant:"primary",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-[10px] h-5",children:[r.jsx($e,{className:"w-3 h-3 mr-1"})," Admin"]}):null]}),r.jsx("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-light-muted dark:text-dark-muted mb-4",children:r.jsxs("span",{children:["Joined ",pt(i.createdAt,{addSuffix:!0})]})}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-6 mb-4 md:mb-0",children:[r.jsxs(re,{to:`/profile/${e}/followers`,className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:i.stats.followerCount||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Followers"})]}),r.jsxs(re,{to:`/profile/${e}/following`,className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:i.stats.followingCount||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Following"})]}),r.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:i.stats.likesReceived||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Likes"})]})]})]}),t._id!==e&&r.jsx("div",{className:"shrink-0 flex justify-center md:justify-start",children:r.jsx(M,{variant:d?"outline":"primary",onClick:x,isLoading:u,className:"min-w-[120px] rounded-lg h-9 text-sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(av,{className:"w-4 h-4 mr-2"})," Unfollow"]}):r.jsxs(r.Fragment,{children:[r.jsx(Kl,{className:"w-4 h-4 mr-2"})," Follow"]})})})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Posts"}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",placeholder:"Search posts...",value:a,onChange:y=>n(y.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-card/50 dark:bg-dark-card/50 border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none text-sm"})]})]}),o===void 0?r.jsx("div",{className:"grid gap-6",children:[1,2].map(y=>r.jsx("div",{className:"glass rounded-2xl p-6 h-40 animate-pulse"},y))}):o.length===0?r.jsx("div",{className:"text-center py-12 glass rounded-2xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts yet"})}):l.length===0?r.jsx("div",{className:"text-center py-12 glass rounded-2xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts match your search"})}):r.jsx("div",{className:"grid gap-6",children:l.map(y=>r.jsx(nx,{post:y,onCommentClick:()=>window.location.href=`/post/${y._id}`,hasUserLiked:y.hasLiked},y._id))})]})]})]})})}function TI(){return r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 md:mt-6 space-y-6 md:space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"About Baptizo"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text max-w-2xl mx-auto",children:"A community dedicated to spiritual growth through ancient wisdom and modern insights"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"glass rounded-xl p-6 border border-primary-500/20",children:[r.jsx(A4,{className:"w-12 h-12 text-primary-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Purpose"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"To create a space where believers can deepen their understanding of both Old and New Testament teachings, fostering spiritual growth and community."})]}),r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"glass rounded-xl p-6 border border-secondary-500/20",children:[r.jsx(Js,{className:"w-12 h-12 text-secondary-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Values"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Authenticity, spiritual depth, community support, and continuous learning guide everything we do."})]}),r.jsxs(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"glass rounded-xl p-6 border border-accent-500/20",children:[r.jsx(je,{className:"w-12 h-12 text-accent-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Community"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"A diverse group of believers united by a shared desire to grow in faith and understanding."})]}),r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"glass rounded-xl p-6 border border-primary-500/20",children:[r.jsx(Lr,{className:"w-12 h-12 text-primary-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Approach"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Combining ancient prophetic wisdom with contemporary spiritual insights for holistic faith development."})]})]}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-xl p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-4",children:"Our Story"}),r.jsxs("div",{className:"space-y-4 text-light-muted dark:text-dark-muted",children:[r.jsx("p",{children:"Baptizo was founded with a vision to bridge the gap between ancient biblical wisdom and modern spiritual understanding. We believe that both the teachings of the Old Testament and the revelations of the New Testament hold profound truths for today's believers."}),r.jsx("p",{children:"Through our platform, we provide curated teachings, community discussions, and opportunities for spiritual engagement. Our admin team carefully crafts content that helps members explore Ancient Culture (Old Testament wisdom) and Wisdom of The Now (New Testament insights)."}),r.jsx("p",{children:"Whether you're seeking to deepen your understanding of prophetic systems, explore spiritual identity, or connect with like-minded believers, Baptizo offers a supportive community for your journey."})]})]})]})]})})}function PI(){return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Privacy Policy"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Last updated: December 2024"})]}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx($e,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Protected Data"})]}),r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(st,{className:"w-8 h-8 text-secondary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Secure Storage"})]}),r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(St,{className:"w-8 h-8 text-accent-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Transparent Use"})]}),r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(Gl,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"User Control"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Qa,{title:"Information We Collect",content:["Account Information: Name, email address, and profile picture","Content: Posts, responses, comments, and interactions within the community","Usage Data: How you interact with our platform to improve user experience","Device Information: Browser type, IP address for security purposes"]}),r.jsx(Qa,{title:"How We Use Your Information",content:["Provide and maintain our services","Notify you about changes and updates","Allow participation in community features","Provide customer support","Monitor and analyze usage patterns","Detect and prevent fraudulent activity"]}),r.jsx(Qa,{title:"Data Sharing",content:["We do NOT sell your personal information to third parties","Your profile and public content are visible to other community members","We may share data with service providers who assist in operating our platform","We may disclose information if required by law or to protect our rights"]}),r.jsx(Qa,{title:"Your Rights",content:["Access your personal data","Correct inaccurate information","Request deletion of your account and data","Opt-out of marketing communications","Export your data"]}),r.jsx(Qa,{title:"Data Security",content:["We implement industry-standard security measures","All data is encrypted in transit and at rest","Regular security audits and updates","Access controls and authentication requirements"]}),r.jsx(Qa,{title:"Contact Us",content:["If you have questions about this Privacy Policy, please contact us through our Contact page or email us at privacy@baptizo.com"]})]})]})]})})}function Qa({title:e,content:t}){return r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-4",children:e}),r.jsx("ul",{className:"space-y-2",children:t.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsx("span",{children:s})]},a))})]})}function AI(){return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(Qt,{className:"w-16 h-16 text-primary-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Terms of Service"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Last updated: December 2024"})]}),r.jsx("div",{className:"glass rounded-xl p-6 bg-primary-50/50 dark:bg-primary-900/10 border border-primary-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx($s,{className:"w-6 h-6 text-primary-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:"Agreement to Terms"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"By accessing Baptizo, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree, please discontinue use of our platform."})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Sr,{title:"1. User Accounts",content:["You must be at least 13 years old to create an account","Provide accurate and complete information during registration","Maintain the security of your account credentials","You are responsible for all activities under your account","Notify us immediately of any unauthorized access"]}),r.jsx(Sr,{title:"2. User Conduct",content:["Be respectful and courteous to all community members","Do not post hateful, abusive, or harassing content","Do not spam or post irrelevant content","Respect intellectual property rights","Do not impersonate others or misrepresent affiliations","Follow our Community Guidelines at all times"]}),r.jsx(Sr,{title:"3. Content Ownership",content:["You retain ownership of content you post","By posting, you grant Baptizo a license to use, display, and distribute your content","Admin-created content remains property of Baptizo","You may not use our content without permission"]}),r.jsx(Sr,{title:"4. Rewards & Recognition",content:["Rewards are granted at admin discretion for quality contributions","Rewards may have specific terms and conditions","We reserve the right to modify or discontinue reward programs","Fraudulent activity may result in reward forfeiture and account termination"]}),r.jsx(Sr,{title:"5. Prohibited Activities",content:["Attempting to hack or compromise platform security","Using automated tools or bots without permission","Selling or transferring your account","Posting illegal, harmful, or inappropriate content","Violating any applicable laws or regulations"]}),r.jsx(Sr,{title:"6. Termination",content:["We may suspend or terminate accounts that violate these terms","You may delete your account at any time","Upon termination, your right to use Baptizo ceases immediately","We may retain certain data as required by law"]}),r.jsx(Sr,{title:"7. Disclaimers",content:["Baptizo is provided 'as is' without warranties of any kind","We do not guarantee uninterrupted or error-free service","Content is for informational purposes and not professional advice","We are not responsible for user-generated content"]}),r.jsx(Sr,{title:"8. Limitation of Liability",content:["Baptizo shall not be liable for indirect, incidental, or consequential damages","Our liability is limited to the amount you paid, if any","Some jurisdictions do not allow these limitations"]}),r.jsx(Sr,{title:"9. Changes to Terms",content:["We may update these terms from time to time","Continued use after changes constitutes acceptance","Material changes will be announced to users"]}),r.jsx(Sr,{title:"10. Contact Information",content:["For questions about these Terms, contact us at terms@baptizo.com or through our Contact page"]})]}),r.jsx("div",{className:"glass rounded-xl p-6 border border-secondary-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(it,{className:"w-6 h-6 text-secondary-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:"Acceptance"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"By using Baptizo, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})]})]})})]})]})})}function Sr({title:e,content:t}){return r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text mb-4",children:e}),r.jsx("ul",{className:"space-y-2",children:t.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsx("span",{children:s})]},a))})]})}function II(){const[e,t]=f.useState({name:"",email:"",subject:"",message:""}),[s,a]=f.useState(!1),[n,i]=f.useState(!1),o=$(S.contacts.submitContact),l=async d=>{d.preventDefault(),i(!0);try{await o(e),a(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>a(!1),3e3)}catch(c){console.error("Failed to submit contact:",c)}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Contact Us"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:"We'd love to hear from you"})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[r.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx(ts,{className:"w-10 h-10 text-primary-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Email"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"support@baptizo.com"})]}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx(Dt,{className:"w-10 h-10 text-secondary-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Community"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Ask in the Feed"})]}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx(Wl,{className:"w-10 h-10 text-accent-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"FAQ"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Check our FAQ page"})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6 md:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-6",children:"Send us a message"}),s?r.jsxs("div",{className:"glass rounded-lg p-6 bg-secondary-50/50 dark:bg-secondary-900/10 border border-secondary-500/20 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-secondary-600 dark:text-secondary-400 mb-2",children:"Message Sent!"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"We'll get back to you as soon as possible."})]}):r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Name"}),r.jsx("input",{type:"text",required:!0,value:e.name,onChange:d=>t({...e,name:d.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Your name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Email"}),r.jsx("input",{type:"email",required:!0,value:e.email,onChange:d=>t({...e,email:d.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"your@email.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Subject"}),r.jsx("input",{type:"text",required:!0,value:e.subject,onChange:d=>t({...e,subject:d.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"What's this about?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Message"}),r.jsx("textarea",{required:!0,value:e.message,onChange:d=>t({...e,message:d.target.value}),rows:6,className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Tell us more..."})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full md:w-auto px-8 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:n?"Sending...":"Send Message"})]})]})]})]})})}const MI=[{category:"Getting Started",questions:[{q:"What is Baptizo?",a:"Baptizo is a faith-based community platform focused on spiritual growth through Ancient Culture (Old Testament wisdom) and Wisdom of The Now (New Testament insights)."},{q:"How do I create an account?",a:"Click the 'Get Started' button on the homepage, fill in your details, and verify your email address. You'll gain immediate access to the community."},{q:"Is Baptizo free to use?",a:"Yes! Baptizo is completely free for all members. We believe spiritual growth should be accessible to everyone."}]},{category:"Using the Platform",questions:[{q:"What's the difference between Ancient Culture and Wisdom of The Now?",a:"Ancient Culture focuses on Old Testament teachings, prophetic wisdom, and ancient systems. Wisdom of The Now explores New Testament insights, spiritual identity, and contemporary applications of faith."},{q:"Who can create posts?",a:"Admin-created posts appear in Ancient Culture and Wisdom sections. All members can engage through responses, comments, and the community feed."},{q:"How do I submit a response to a post?",a:"When you see an official admin post, look for the 'Submit Official Response' button. Click it to share your thoughts and insights."}]},{category:"Rewards & Recognition",questions:[{q:"How does the reward system work?",a:"Admins review responses to official posts and assign rewards based on quality, depth, and insight. Top responses are featured and may receive recognition or benefits."},{q:"What happens after I submit a response?",a:"Your response is reviewed by admins who may grade it and provide feedback. Exceptional responses are featured and rewarded."}]},{category:"Community Guidelines",questions:[{q:"What content is allowed?",a:"We welcome respectful, faith-based discussions. Content should be relevant, thoughtful, and align with our values of spiritual growth and community support."},{q:"What should I do if I see inappropriate content?",a:"Use the report function or contact admins directly. We take community standards seriously and review all reports promptly."}]},{category:"Account & Privacy",questions:[{q:"How do I update my profile?",a:"Navigate to your Profile page and click the edit button. You can update your name, avatar, and other personal information."},{q:"Is my data safe?",a:"Yes! We use industry-standard encryption and security measures. Read our Privacy Policy for full details on how we protect your information."},{q:"Can I delete my account?",a:"Yes, you can delete your account anytime from your profile settings. Note that this action is permanent and cannot be undone."}]}];function _I(){return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:"Find answers to common questions about Baptizo"})]}),r.jsx("div",{className:"space-y-8",children:MI.map((e,t)=>r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-4",children:e.category}),r.jsx("div",{className:"space-y-3",children:e.questions.map((s,a)=>r.jsx(EI,{question:s.q,answer:s.a},a))})]},t))}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Still have questions?"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Can't find what you're looking for? Reach out to our support team."}),r.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:"Contact Support"})]})]})]})})}function EI({question:e,answer:t}){const[s,a]=f.useState(!1);return r.jsxs(A.div,{initial:!1,className:"glass rounded-lg overflow-hidden border border-light-border dark:border-dark-border",children:[r.jsxs("button",{onClick:()=>a(!s),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:[r.jsx("span",{className:"font-semibold text-light-text dark:text-dark-text pr-4",children:e}),s?r.jsx(ja,{className:"w-5 h-5 text-primary-500 flex-shrink-0"}):r.jsx(Ge,{className:"w-5 h-5 text-light-muted dark:text-dark-muted flex-shrink-0"})]}),r.jsx(A.div,{initial:!1,animate:{height:s?"auto":0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:r.jsx("div",{className:"px-6 pb-4 text-light-muted dark:text-dark-muted",children:t})})]})}function RI(){const e=[{icon:Js,title:"Be Respectful",description:"Treat all community members with kindness and respect. No harassment, hate speech, or discriminatory language.",color:"text-red-500"},{icon:xt,title:"Stay On Topic",description:"Keep discussions relevant to faith, spiritual growth, and biblical teachings. Avoid spam or irrelevant content.",color:"text-primary-500"},{icon:je,title:"Support Others",description:"Encourage fellow members in their faith journey. Offer constructive feedback and genuine support.",color:"text-secondary-500"},{icon:$e,title:"Protect Privacy",description:"Don't share personal information about yourself or others. Respect everyone's privacy and confidentiality.",color:"text-accent-500"}],t=["Engage thoughtfully with posts and responses","Cite scriptures and sources when appropriate","Ask genuine questions and seek understanding","Celebrate others' insights and growth","Report concerning content to admins","Use appropriate language and tone"],s=["Post hateful, abusive, or harassing content","Spam or post repetitive content","Share misleading or false information","Impersonate others or misrepresent yourself","Promote non-faith-related products or services","Engage in heated arguments or flame wars"];return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ye,{}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Community Guidelines"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text max-w-2xl mx-auto",children:"Our guidelines help maintain a welcoming, respectful community for spiritual growth"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map((a,n)=>{const i=a.icon;return r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"glass rounded-xl p-6 border border-light-border dark:border-dark-border hover:shadow-lg transition-shadow",children:[r.jsx(i,{className:`w-10 h-10 ${a.color} mb-4`}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:a.title}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted text-sm",children:a.description})]},n)})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ht,{className:"w-6 h-6 text-green-500"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Do"})]}),r.jsx("ul",{className:"space-y-2",children:t.map((a,n)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-green-500 mt-1 flex-shrink-0",children:""}),r.jsx("span",{children:a})]},n))})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Rr,{className:"w-6 h-6 text-red-500"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Don't"})]}),r.jsx("ul",{className:"space-y-2",children:s.map((a,n)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-red-500 mt-1 flex-shrink-0",children:""}),r.jsx("span",{children:a})]},n))})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6 bg-primary-50/50 dark:bg-primary-900/10 border border-primary-500/20",children:[r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-4",children:"Enforcement"}),r.jsxs("div",{className:"space-y-3 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("p",{children:"Violations of these guidelines may result in:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Warning from moderators"}),r.jsx("li",{children:"Temporary suspension of posting privileges"}),r.jsx("li",{children:"Permanent account termination for severe or repeated violations"})]}),r.jsx("p",{className:"mt-4",children:"We're committed to maintaining a positive community. If you see content that violates these guidelines, please report it to our admin team."})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Questions about our guidelines?"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Reach out to our team for clarification."}),r.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:"Contact Us"})]})]})]})})}function DI(){const{user:e,isLoading:t}=X(),s=ue(),a=B(S.users.getAllUsers,e?{adminId:e._id}:"skip"),n=$(S.users.updateUserRole),i=$(S.finance.assignFinancialManager),[o,l]=f.useState(""),[d,c]=f.useState(!1),[u,m]=f.useState(!1),[x,h]=f.useState(null),[g,y]=f.useState(null),[v,p]=f.useState(1),b=10;f.useEffect(()=>{p(1)},[o]);const j=(a==null?void 0:a.filter(P=>P.name.toLowerCase().includes(o.toLowerCase())||P.email.toLowerCase().includes(o.toLowerCase())))||[],k=v*b,w=k-b,C=j.slice(w,k),N=Math.ceil(j.length/b),T=(P,V,R,G,ee)=>{let E="",L="",ie=$e,z="text-primary-500";G==="admin"?R==="admin"?ee==="board_member"?(E="revert this user from Admin to Board Member",L="board_member",ie=je,z="text-blue-500"):(E="demote this user from Admin to Member",L="member",ie=je,z="text-gray-500"):(E="promote this user to Admin",L="admin",ie=S4,z="text-primary-500"):G==="board"&&(R==="board_member"?(E="remove this user from Board Members",L="member",ie=je,z="text-gray-500"):(E="add this user to Board Members",L="board_member",ie=Gl,z="text-blue-500")),y({id:P,name:V,action:E,newRole:L,icon:ie,color:z}),c(!0)},_=async()=>{if(!(!g||!e))try{await n({adminId:e._id,userId:g.id,newRole:g.newRole}),c(!1),y(null)}catch(P){console.error("Failed to update role",P)}};return t?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):!e||e.role!=="admin"&&e.role!=="super_admin"?r.jsx(Ae,{to:"/feed",replace:!0}):r.jsxs("div",{className:"space-y-8 pb-12",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gradient font-display mb-1",children:"Role Management"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Assign and manage administrative privileges for community members"})]}),r.jsx("div",{className:"w-full md:w-80",children:r.jsx(he,{placeholder:"Search by name or email...",value:o,onChange:P=>l(P.target.value),icon:r.jsx(lt,{className:"w-5 h-5 text-light-muted"}),className:"bg-white/50 dark:bg-dark-card/50 backdrop-blur-sm border-light-border dark:border-dark-border"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(D,{glass:!0,className:"border-primary-500/20",children:r.jsxs(F,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-500/10 flex items-center justify-center",children:r.jsx($e,{className:"w-6 h-6 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Admins"}),r.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.filter(P=>P.role==="admin"||P.role==="super_admin").length)||0})]})]})}),r.jsx(D,{glass:!0,className:"border-blue-500/20",children:r.jsxs(F,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center",children:r.jsx(Gl,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Board Members"}),r.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.filter(P=>P.role==="board_member").length)||0})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.jsx(se,{mode:"popLayout",children:a===void 0?Array.from({length:6}).map((P,V)=>r.jsx("div",{children:r.jsx(A6,{})},V)):C.length>0?C.map(P=>r.jsx(A.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:r.jsxs(D,{glass:!0,className:`h-full group hover:border-primary-500/30 transition-all duration-300 overflow-hidden relative ${P.role==="admin"||P.role==="super_admin"?"border-primary-500/50":P.role==="board_member"?"border-blue-500/50":""}`,children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary-500/5 to-transparent rounded-bl-full pointer-events-none"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{onClick:()=>s(`/admin/user/${P._id}`),className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-light-bg to-light-card dark:from-dark-bg dark:to-dark-card border border-light-border dark:border-dark-border flex items-center justify-center text-xl font-bold text-gradient overflow-hidden shadow-sm cursor-pointer hover:scale-105 transition-transform duration-200",children:P.avatarUrl?r.jsx("img",{src:P.avatarUrl,alt:P.name,className:"w-full h-full object-cover"}):P.name[0]}),r.jsx(W,{variant:P.role==="admin"||P.role==="super_admin"?"primary":P.role==="board_member"?"secondary":"default",className:"px-3 py-1",children:P.role.replace("_"," ")})]}),r.jsxs("div",{className:"space-y-1 mb-6",children:[r.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text truncate",children:P.name}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-light-muted dark:text-dark-muted",children:[r.jsx(ts,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:P.email})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-light-muted dark:text-dark-muted",children:[r.jsx(Pd,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:P.phone||"No phone"})]})]}),e.role==="super_admin"&&P.role!=="super_admin"&&r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-light-border/50 dark:border-dark-border/50",children:[r.jsx(M,{variant:P.role==="admin"?"outline":"primary",size:"sm",className:"w-full text-[10px] font-bold h-9",onClick:()=>T(P._id,P.name,P.role,"admin",P.previousRole),children:P.role==="admin"?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(je,{className:"w-3 h-3"}),"Demote"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($e,{className:"w-3 h-3"}),"Make Admin"]})}),r.jsx(M,{variant:P.role==="board_member"?"outline":"secondary",size:"sm",className:`w-full text-[10px] font-bold h-9 ${P.role==="board_member"?"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10":""}`,onClick:()=>T(P._id,P.name,P.role,"board"),children:P.role==="board_member"?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Kl,{className:"w-3 h-3"}),"Remove Board"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Kl,{className:"w-3 h-3"}),"Add Board"]})})]}),e.role==="super_admin"&&P.role==="board_member"&&r.jsx("div",{className:"pt-3",children:r.jsx(M,{variant:P.isFinancialManager?"primary":"outline",size:"sm",className:"w-full text-[10px] font-bold h-9",onClick:()=>{h({id:P._id,name:P.name,isCurrentlyManager:P.isFinancialManager||!1}),m(!0)},children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(kr,{className:"w-3 h-3"}),P.isFinancialManager?"Remove Finance Role":"Make Finance Manager"]})})})]})]})},P._id)):r.jsxs("div",{className:"col-span-full py-12 text-center text-light-muted",children:[r.jsx(je,{className:"w-16 h-16 mx-auto mb-4 opacity-10"}),r.jsx("p",{className:"text-lg",children:"No users found matching your search"})]})})}),N>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-12 bg-light-card/30 dark:bg-dark-card/30 p-4 rounded-3xl border border-light-border/20 dark:border-dark-border/20 max-w-fit mx-auto",children:[r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>p(P=>Math.max(1,P-1)),disabled:v===1,className:"rounded-xl h-10 w-10 p-0",children:r.jsx(Aa,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex items-center gap-1.5 px-2",children:Array.from({length:N},(P,V)=>V+1).map(P=>r.jsx("button",{onClick:()=>p(P),className:`
                                    w-10 h-10 rounded-xl text-sm font-bold transition-all
                                    ${v===P?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-muted hover:bg-light-card dark:hover:bg-dark-card hover:text-primary-500"}
                                `,children:P},P))}),r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>p(P=>Math.min(N,P+1)),disabled:v===N,className:"rounded-xl h-10 w-10 p-0",children:r.jsx(Xi,{className:"w-5 h-5"})})]}),r.jsx(dt,{isOpen:d,onClose:()=>c(!1),title:"Confirm Role Change",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:`w-20 h-20 rounded-3xl bg-gradient-to-br from-light-bg to-light-card dark:from-dark-bg dark:to-dark-card border border-light-border dark:border-dark-border flex items-center justify-center mb-4 shadow-xl ${g==null?void 0:g.color}`,children:g&&r.jsx(g.icon,{className:"w-10 h-10"})}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:"Confirm Action"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs",children:["Are you sure you want to ",g==null?void 0:g.action," ",r.jsx("strong",{children:g==null?void 0:g.name}),"?"]})]}),r.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-amber-500/5 border border-amber-500/20",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:r.jsx($s,{className:"w-6 h-6 text-amber-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-amber-700 dark:text-amber-500 mb-1",children:"Important Security Note"}),r.jsx("p",{className:"text-xs text-amber-700/70 dark:text-amber-500/70",children:"This user will gain or lose access to administrative tools and sensitive data. This action is logged."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(M,{variant:"ghost",className:"w-full rounded-2xl h-12",onClick:()=>c(!1),children:"Cancel"}),r.jsx(M,{variant:"primary",className:"w-full rounded-2xl h-12 shadow-lg shadow-primary-500/20",onClick:_,children:"Yes, Update Role"})]})]})}),r.jsx(dt,{isOpen:u,onClose:()=>m(!1),title:"Financial Manager Assignment",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 border border-emerald-500/20 flex items-center justify-center mb-4 shadow-xl",children:r.jsx(kr,{className:"w-10 h-10 text-emerald-500"})}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:"Confirm Action"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs",children:x!=null&&x.isCurrentlyManager?`Remove ${x==null?void 0:x.name} from Financial Manager role?`:`Assign ${x==null?void 0:x.name} as Financial Manager?`})]}),r.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-blue-500/5 border border-blue-500/20",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx($s,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-blue-700 dark:text-blue-500 mb-1",children:"Financial Manager Permissions"}),r.jsx("p",{className:"text-xs text-blue-700/70 dark:text-blue-500/70",children:x!=null&&x.isCurrentlyManager?"This user will lose access to add/reverse financial transactions.":"This user will be able to add and reverse financial transactions (within 24 hours) but cannot create meetings."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(M,{variant:"ghost",className:"w-full rounded-2xl h-12",onClick:()=>m(!1),children:"Cancel"}),r.jsxs(M,{variant:"primary",className:"w-full rounded-2xl h-12 shadow-lg shadow-primary-500/20",onClick:async()=>{x&&(await i({adminId:e._id,userId:x.id,assign:!x.isCurrentlyManager}),m(!1),h(null))},children:["Yes, ",x!=null&&x.isCurrentlyManager?"Remove":"Assign"]})]})]})})]})}function LI(){const{userId:e}=Fa(),t=ue(),{user:s}=X(),[a,n]=f.useState(null),i=B(S.users.getUser,{userId:e}),o=B(S.users.getUserStats,{userId:e}),l=(d,c)=>{navigator.clipboard.writeText(d),n(c),setTimeout(()=>n(null),2e3)};return i===void 0?r.jsx("div",{className:"py-8",children:r.jsx(E6,{})}):i?r.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors group",children:[r.jsx("div",{className:"p-2 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border group-hover:border-primary-500/50 transition-all",children:r.jsx(Aa,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold text-sm uppercase tracking-widest italic text-[10px]",children:"Back to Directory"})]}),r.jsxs(W,{variant:"outline",className:"px-4 py-1.5 border-primary-500/30 text-primary-500 font-bold",children:["USER_ID: ",i._id]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs(D,{glass:!0,className:"overflow-hidden border-primary-500/10",children:[r.jsx("div",{className:"h-24 bg-gradient-to-br from-primary-500/20 to-secondary-500/20 relative"}),r.jsx(F,{className:"px-6 pb-8 -mt-12 relative",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-gradient-to-br from-primary-500 to-secondary-500 p-1 shadow-2xl shadow-primary-500/20 mb-4 bg-white dark:bg-dark-card border-4 border-light-bg dark:border-dark-bg",children:r.jsx("div",{className:"w-full h-full rounded-[28px] overflow-hidden flex items-center justify-center font-black text-3xl text-gradient",children:i.avatarUrl?r.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-full h-full object-cover"}):i.name[0]})}),r.jsx("h2",{className:"text-2xl font-black text-center text-light-text dark:text-dark-text",children:i.name}),r.jsx("p",{className:"text-primary-500 font-bold uppercase tracking-widest text-[10px] mt-1",children:i.role.replace("_"," ")}),r.jsxs("div",{className:"mt-8 w-full grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-3 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30 text-center",children:[r.jsx("p",{className:"text-lg font-black",children:(o==null?void 0:o.totalPosts)||0}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-tighter italic",children:"Total Posts"})]}),r.jsxs("div",{className:"p-3 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30 text-center",children:[r.jsx("p",{className:"text-lg font-black text-emerald-500",children:(o==null?void 0:o.totalRewards)||0}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-tighter italic",children:"Rewards"})]})]})]})})]}),r.jsxs(D,{glass:!0,className:"p-6 border-emerald-500/10",children:[r.jsxs(ge,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-light-muted mb-6 flex items-center gap-2",children:[r.jsx(i4,{className:"w-3 h-3 text-emerald-500"})," Community Activity"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-light-muted",children:"Followers"}),r.jsx("span",{className:"text-sm font-bold",children:(o==null?void 0:o.followerCount)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-light-muted",children:"Following"}),r.jsx("span",{className:"text-sm font-bold",children:(o==null?void 0:o.followingCount)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-light-muted",children:"Member Since"}),r.jsxs("span",{className:"text-sm font-bold flex items-center gap-1",children:[r.jsx(Je,{className:"w-3.5 h-3.5"}),new Date(i._creationTime).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]})]})]})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(D,{glass:!0,className:"overflow-hidden border-light-border/20 dark:border-dark-border/20",children:[r.jsx(fe,{className:"bg-light-card/30 dark:bg-dark-card/30 border-b border-light-border/20 dark:border-dark-border/20",children:r.jsxs(ge,{className:"text-xs font-black uppercase tracking-widest flex items-center gap-2",children:[r.jsx(ft,{className:"w-4 h-4 text-primary-500"})," Identity Information"]})}),r.jsxs(F,{className:"p-8 grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(ts,{className:"w-3 h-3"})," Email Address"]}),r.jsx("p",{className:"font-bold text-base truncate",children:i.email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(Pd,{className:"w-3 h-3"})," Phone Number"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-bold text-base",children:i.phone||"N/A"}),i.network&&r.jsx(W,{variant:"secondary",className:"text-[9px] px-1.5 italic h-5",children:i.network})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(Ih,{className:"w-3 h-3"})," Profession / Field"]}),r.jsx("p",{className:"font-bold text-base capitalize",children:i.profession||"Community Member"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(it,{className:"w-3 h-3 text-emerald-500"})," Verification"]}),r.jsx("p",{className:"font-bold text-sm",children:i.whatsappVerified?r.jsxs("span",{className:"text-emerald-500 flex items-center gap-1.5",children:["WhatsApp Verified ",r.jsx($e,{className:"w-3 h-3"})]}):r.jsx("span",{className:"text-rose-500",children:"Unverified Account"})})]})]})]})]}),r.jsxs(D,{glass:!0,className:"overflow-hidden border-amber-500/10",children:[r.jsx(fe,{className:"bg-amber-500/5 border-b border-amber-500/10",children:r.jsxs(ge,{className:"text-xs font-black uppercase tracking-widest flex items-center gap-2",children:[r.jsx(Ia,{className:"w-4 h-4 text-amber-500"})," Payment & Bank Details"]})}),r.jsx(F,{className:"p-8",children:i.bankDetails?r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"md:col-span-2 p-5 rounded-2xl bg-amber-500/5 border border-amber-500/10 relative group",children:[r.jsx("label",{className:"text-[10px] font-black text-amber-600/60 uppercase tracking-widest mb-1 block",children:"Account Full Name"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-xl font-black text-light-text dark:text-dark-text tracking-tight uppercase",children:i.bankDetails.accountName}),r.jsx("button",{onClick:()=>l(i.bankDetails.accountName,"accName"),className:"p-2 rounded-xl bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-all",children:a==="accName"?r.jsx(ot,{className:"w-4 h-4"}):r.jsx(am,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"p-5 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30",children:[r.jsx("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1 block italic",children:"Financial Institution"}),r.jsx("p",{className:"text-lg font-bold",children:i.bankDetails.bankName})]}),r.jsxs("div",{className:"p-5 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30 relative group",children:[r.jsx("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1 block italic",children:"Account Identifier"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-lg font-mono font-black tracking-[0.2em]",children:i.bankDetails.accountNumber}),r.jsx("button",{onClick:()=>l(i.bankDetails.accountNumber,"accNum"),className:"p-2 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-all",children:a==="accNum"?r.jsx(ot,{className:"w-4 h-4 text-emerald-500"}):r.jsx(am,{className:"w-4 h-4 text-light-muted"})})]})]})]}):r.jsxs("div",{className:"text-center py-10 opacity-60",children:[r.jsx(Ia,{className:"w-12 h-12 text-light-muted mx-auto mb-4 stroke-1"}),r.jsx("p",{className:"font-bold text-light-muted",children:"No banking information provided yet."}),r.jsx("p",{className:"text-xs italic",children:"User needs to update their profile settings."})]})})]})]})]})]}):r.jsxs("div",{className:"text-center py-20",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User not found"}),r.jsx(M,{onClick:()=>t(-1),children:"Go Back"})]})}function OI(){var a;const{id:e}=Fa(),t=ue(),s=B(S.announcements.getAnnouncementById,e?{id:e}:"skip");return s===void 0?r.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[r.jsx(Kt,{}),r.jsx("div",{className:"h-64 bg-light-card dark:dark-card rounded-3xl animate-pulse mt-8"})]}):s?r.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors mb-8 group",children:[r.jsx("div",{className:"p-2 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border group-hover:border-primary-500/50",children:r.jsx(Aa,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold text-sm uppercase tracking-widest",children:"Back"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[s.imageUrl&&r.jsxs("div",{className:"w-full h-80 md:h-[400px] rounded-[40px] overflow-hidden border border-light-border/20 dark:border-dark-border/20 shadow-2xl relative",children:[r.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsxs("div",{className:"absolute bottom-8 left-8 right-8",children:[r.jsx(W,{variant:"primary",className:"mb-4",children:"Official Announcement"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white font-display leading-tight",children:s.title})]})]}),!s.imageUrl&&r.jsxs("div",{className:"mb-4",children:[r.jsx(W,{variant:"primary",className:"mb-4",children:"Official Announcement"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-light-text dark:text-dark-text font-display leading-tight",children:s.title})]}),r.jsx(D,{glass:!0,className:"border-primary-500/10",children:r.jsx(F,{className:"p-6",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center text-primary-500",children:r.jsx(ft,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider leading-none mb-1",children:"Posted By"}),r.jsx("p",{className:"font-bold text-sm capitalize",children:((a=s.creatorRole)==null?void 0:a.replace("_"," "))||"Community Admin"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center text-emerald-500",children:r.jsx(vt,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider leading-none mb-1",children:"Date Published"}),r.jsx("p",{className:"font-bold text-sm",children:new Date(s._creationTime).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:r.jsx(Zi,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider leading-none mb-1",children:"Category"}),r.jsx("p",{className:"font-bold text-sm",children:"General Update"})]})]})]})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:r.jsx("p",{className:"text-light-text dark:text-dark-text text-xl md:text-2xl leading-relaxed font-medium",children:s.description})}),r.jsx("div",{className:"pt-12 flex items-center justify-center",children:r.jsx(M,{variant:"primary",size:"lg",onClick:()=>t("/feed"),className:"px-12 rounded-2xl shadow-xl shadow-primary-500/20",children:"Return to Feed"})})]})]})]})}):r.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Announcement not found"}),r.jsx(M,{onClick:()=>t("/feed"),children:"Back to Feed"})]})}function FI(){const{user:e,isLoading:t}=X(),s=ue(),a=B(S.governance.getMeetings),n=B(S.finance.getTransactions,{limit:5}),i=B(S.finance.getMyContributions,e?{userId:e._id,year:new Date().getFullYear()}:"skip"),o=B(S.governance.getUserAttendance,e?{userId:e._id}:"skip"),l=B(S.finance.getCurrentBalance);if(t||a===void 0||n===void 0||i===void 0||o===void 0)return r.jsxs("div",{className:"space-y-8 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("div",{className:"h-4 w-48 bg-light-muted/10 animate-pulse rounded"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(h=>r.jsx(Lt,{},h))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx(Re,{}),r.jsx(Re,{}),r.jsx(Re,{})]})]});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Ae,{to:"/feed",replace:!0});const d=o!=null&&o.length?Math.round(o.filter(h=>h.status==="present"||h.status==="late"||h.status==="excused").length/o.length*100):100,c=(i==null?void 0:i.reduce((h,g)=>h+g.totalPaid,0))||0,u=i&&i.length>0?i[0]:null,m=h=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(h),x=[{label:"Attendance Rate",value:`${d}%`,icon:vt,color:"text-primary-500",bg:"bg-primary-500/10",path:"/board/attendance"},{label:"Community Balance",value:m(l||0),icon:$e,color:"text-amber-500",bg:"bg-amber-500/10",path:"/board/finance"},{label:"Yearly Contributions",value:m(c),icon:kr,color:"text-emerald-500",bg:"bg-emerald-500/10",path:"/board/contributions"},{label:"Current Status",value:u?u.status.charAt(0).toUpperCase()+u.status.slice(1):"Cleared",icon:it,color:(u==null?void 0:u.status)==="owing"?"text-rose-500":"text-emerald-500",bg:(u==null?void 0:u.status)==="owing"?"bg-rose-500/10":"bg-emerald-500/10",path:"/board/contributions"}];return r.jsxs("div",{className:"space-y-8 pb-20",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Board Hub Dashboard"})]}),r.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:["Shalom, ",e.name.split(" ")[0]]}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Centralized overview of governance, finance, and your contributions."})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((h,g)=>r.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:r.jsx(D,{className:"cursor-pointer hover:border-primary-500/30 transition-all group",onClick:()=>s(h.path),children:r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-2xl ${h.bg} ${h.color}`,children:r.jsx(h.icon,{className:"w-6 h-6"})}),r.jsx("div",{className:`text-xl font-black ${h.color}`,children:h.value})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted",children:h.label})]})})},h.label))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs(D,{className:"lg:col-span-1",children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(je,{className:"w-5 h-5 text-primary-500"}),"Meeting Records"]}),r.jsx(M,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:()=>s("/board/attendance"),children:r.jsx(Ct,{className:"w-4 h-4"})})]})}),r.jsxs(F,{className:"space-y-4",children:[a&&a.slice(0,4).map(h=>r.jsxs("div",{className:"p-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg/30 dark:bg-dark-bg/30",children:[r.jsx("p",{className:"font-bold text-sm truncate",children:h.title}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:"text-[10px] text-light-muted font-medium",children:new Date(h.date).toLocaleDateString()}),r.jsx(W,{className:`${h.status==="active"?"bg-emerald-500 animate-pulse":h.status==="ended"?"bg-light-muted/20 text-light-muted":"bg-primary-500/50"}`,children:h.status})]})]},h._id)),(!a||a.length===0)&&r.jsx("div",{className:"text-center py-6 text-xs text-light-muted italic",children:"No meeting records yet"})]})]}),r.jsxs(D,{className:"lg:col-span-1 border-emerald-500/20",children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rh,{className:"w-5 h-5 text-emerald-500"}),"Financial History"]}),r.jsx(M,{variant:"ghost",size:"sm",className:"h-8 px-2 text-emerald-500 hover:text-emerald-600",onClick:()=>s("/board/finance"),children:r.jsx(Ct,{className:"w-4 h-4"})})]})}),r.jsx(F,{className:"space-y-4",children:n&&n.map(h=>r.jsxs("div",{className:"p-3 rounded-xl border border-emerald-500/10 bg-emerald-500/5",children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("p",{className:"text-xs font-bold truncate max-w-[120px]",children:h.description}),r.jsxs("p",{className:`text-xs font-black ${h.type==="deposit"?"text-emerald-500":"text-rose-500"}`,children:[h.type==="deposit"?"+":"-",m(h.amount)]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[9px] text-light-muted",children:new Date(h.createdAt).toLocaleDateString()}),r.jsx("span",{className:"text-[9px] text-light-muted uppercase font-black",children:h.memberName||"System"})]})]},h._id))})]}),r.jsxs(D,{className:"lg:col-span-1 border-primary-500/20",children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-primary-500"}),"My Stake"]}),r.jsx(M,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:()=>s("/board/contributions"),children:r.jsx(Ct,{className:"w-4 h-4"})})]})}),r.jsxs(F,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[r.jsxs("div",{className:"p-3 rounded-xl bg-primary-500/5 text-center border border-primary-500/10",children:[r.jsx("p",{className:"text-[9px] font-black text-light-muted uppercase",children:"Paid this Year"}),r.jsx("p",{className:"text-sm font-black text-primary-500",children:m(c)})]}),r.jsxs("div",{className:"p-3 rounded-xl bg-primary-500/5 text-center border border-primary-500/10",children:[r.jsx("p",{className:"text-[9px] font-black text-light-muted uppercase",children:"Monthly Due"}),r.jsx("p",{className:"text-sm font-black text-primary-500",children:"1,000"})]})]}),r.jsx("div",{className:"space-y-2",children:i&&i.slice(0,3).map((h,g)=>r.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-light-bg/50 dark:bg-dark-bg/50 text-xs",children:[r.jsx("span",{className:"font-bold",children:new Date(2024,h.month-1).toLocaleDateString("en-US",{month:"short"})}),r.jsx("span",{className:"font-medium",children:m(h.totalPaid)}),r.jsx(W,{className:h.status==="cleared"?"bg-emerald-500":"bg-rose-500",children:h.status})]},g))})]})]})]})]})}function BI(){const{user:e,isLoading:t}=X(),[s,a]=f.useState("all"),n=B(S.boardTasks.getTasks,e&&(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")?{userId:e._id}:"skip"),i=$(S.boardTasks.updateTaskStatus);if(t)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[r.jsx(Kt,{}),r.jsx(Wj,{}),r.jsx(_a,{count:4})]})});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Ae,{to:"/feed",replace:!0});const[o,l]=f.useState("my_tasks"),d=(n==null?void 0:n.filter(u=>o==="my_tasks"&&u.assignedTo!==e._id?!1:s==="all"?!0:u.status===s))||[],c=async(u,m)=>{if(e)try{await i({userId:e._id,taskId:u,status:m})}catch(x){console.error("Failed to update task status:",x)}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Service & Operations"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Mission Control"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-start lg:items-center mb-10",children:[r.jsx("div",{className:"flex bg-light-card/50 dark:bg-dark-card/50 p-1.5 rounded-2xl border border-light-border dark:border-dark-border overflow-x-auto no-scrollbar max-w-full",children:[{key:"all",label:"All Directives",count:(n==null?void 0:n.length)||0},{key:"todo",label:"Pending",count:(n==null?void 0:n.filter(u=>u.status==="todo").length)||0},{key:"in_progress",label:"Active",count:(n==null?void 0:n.filter(u=>u.status==="in_progress").length)||0},{key:"completed",label:"Fulfilled",count:(n==null?void 0:n.filter(u=>u.status==="completed").length)||0}].map(u=>r.jsxs("button",{onClick:()=>a(u.key),className:`px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] transition-all whitespace-nowrap ${s===u.key?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:[u.label," ",r.jsx("span",{className:`ml-1 opacity-60 ${s===u.key?"text-white":""}`,children:u.count})]},u.key))}),r.jsxs("div",{className:"flex bg-light-bg dark:bg-dark-bg p-1 rounded-xl border border-light-border dark:border-dark-border self-end lg:self-auto",children:[r.jsx("button",{onClick:()=>l("my_tasks"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-tighter transition-all ${o==="my_tasks"?"bg-primary-500 text-white shadow-sm":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Personal"}),r.jsx("button",{onClick:()=>l("all_tasks"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-tighter transition-all ${o==="all_tasks"?"bg-primary-500 text-white shadow-sm":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Collective"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-20",children:r.jsx(se,{mode:"popLayout",children:d.length===0?r.jsx("div",{className:"col-span-full",children:r.jsx(D,{glass:!0,className:"border-dashed border-light-border dark:border-dark-border",children:r.jsxs(F,{className:"p-20 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-light-muted/5 dark:bg-dark-muted/5 flex items-center justify-center mx-auto mb-4 border border-light-border/20",children:r.jsx(ye,{className:"w-8 h-8 text-light-muted opacity-30"})}),r.jsx("p",{className:"text-sm font-bold text-light-muted dark:text-dark-muted tracking-widest uppercase",children:"No directivies in this sector"})]})})}):d.map(u=>{var m;return r.jsx(A.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-full",children:r.jsxs(D,{glass:!0,className:`h-full border-primary-500/10 hover:border-primary-500/40 transition-all duration-300 relative group overflow-hidden ${u.status==="completed"?"opacity-70 grayscale-[0.5]":""}`,children:[r.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-[0.03] pointer-events-none rounded-bl-full ${u.priority==="urgent"?"bg-rose-500":"bg-primary-500"}`}),r.jsxs(F,{className:"p-6 flex flex-col h-full",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2.5 rounded-xl border ${u.status==="completed"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":u.status==="in_progress"?"bg-amber-500/10 border-amber-500/20 text-amber-500":"bg-primary-500/10 border-primary-500/20 text-primary-500"}`,children:u.status==="completed"?r.jsx(it,{className:"w-5 h-5"}):u.status==="in_progress"?r.jsx(Je,{className:"w-5 h-5"}):r.jsx(ql,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs(W,{variant:"outline",className:`text-[8px] font-black uppercase h-5 mb-1 ${u.priority==="urgent"?"text-rose-500 border-rose-500":u.priority==="high"?"text-amber-500 border-amber-500":"text-primary-500 border-primary-500"}`,children:[u.priority," Priority"]}),r.jsx("h3",{className:"text-lg font-black text-light-text dark:text-dark-text leading-tight tracking-tight",children:u.title})]})]})}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-6 leading-relaxed flex-grow",children:u.description}),r.jsxs("div",{className:"space-y-4 pt-4 border-t border-light-border/30 dark:border-dark-border/30",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-light-muted/10 flex items-center justify-center border border-light-border/20",children:r.jsx(ft,{className:"w-4 h-4 text-light-muted"})}),r.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-tighter",children:[r.jsx("p",{className:"text-light-muted/60 leading-none mb-0.5",children:"Assigned To"}),r.jsx("p",{className:"text-light-text dark:text-dark-text",children:((m=u.assignee)==null?void 0:m.name)||"Unassigned"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-light-muted/10 flex items-center justify-center border border-light-border/20",children:r.jsx(vt,{className:"w-4 h-4 text-light-muted"})}),r.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-tighter",children:[r.jsx("p",{className:"text-light-muted/60 leading-none mb-0.5",children:"Deadline"}),r.jsx("p",{className:`${u.dueDate&&u.dueDate<Date.now()&&u.status!=="completed"?"text-rose-500 font-bold":"text-light-text dark:text-dark-text"}`,children:u.dueDate?new Date(u.dueDate).toLocaleDateString():"OPEN"})]})]})]}),u.assignedTo===e._id&&u.status!=="completed"&&r.jsxs("div",{className:"flex gap-2 w-full",children:[u.status==="todo"&&r.jsxs(M,{className:"flex-1 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-black text-[10px] uppercase tracking-widest h-10 shadow-lg shadow-primary-500/20",onClick:()=>c(u._id,"in_progress"),children:["Initiate Task ",r.jsx(Ct,{className:"w-4 h-4 ml-2"})]}),u.status==="in_progress"&&r.jsxs(M,{className:"flex-1 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-black text-[10px] uppercase tracking-widest h-10 shadow-lg shadow-emerald-500/20",onClick:()=>c(u._id,"completed"),children:["Verify Completion ",r.jsx(it,{className:"w-4 h-4 ml-2"})]})]})]})]})]})},u._id)})})})]})}function UI(){var y;const{user:e,isLoading:t}=X(),[s,a]=f.useState(null),[n,i]=f.useState(void 0),o=B(S.training.getModules,{category:n}),l=B(S.training.getProgress,e?{userId:e._id}:"skip"),d=B(S.training.getTrainingStats,e?{userId:e._id}:"skip"),c=$(S.training.startModule),u=$(S.training.completeModule);if(t)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[r.jsx(Kt,{}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[r.jsx(Lt,{}),r.jsx(Lt,{}),r.jsx(Lt,{}),r.jsx(Lt,{})]})]})});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Ae,{to:"/feed",replace:!0});const m=v=>l==null?void 0:l.find(p=>{var b;return((b=p.module)==null?void 0:b._id)===v}),x=async v=>{try{await c({userId:e._id,moduleId:v})}catch(p){console.error("Failed to start module:",p)}},h=async v=>{try{await u({userId:e._id,moduleId:v}),a(null)}catch(p){console.error("Failed to complete module:",p)}},g=["Leadership","Ministry Skills","Spiritual Growth","Technical Skills","Team Building"];return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-secondary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-secondary-500",children:"Wisdom Hub"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Training Center"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Elevating your capacity for leadership and service."})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[r.jsxs(D,{glass:!0,className:"relative overflow-hidden group border-emerald-500/10 hover:border-emerald-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-emerald-500/10 text-emerald-500",children:r.jsx(it,{className:"w-6 h-6"})}),r.jsx("div",{className:"text-right text-3xl font-black font-display text-emerald-500",children:(d==null?void 0:d.completed)||0})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Fulfilled"}),r.jsx("p",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-tighter",children:"Modules Mastered"})]})]}),r.jsxs(D,{glass:!0,className:"relative overflow-hidden group border-amber-500/10 hover:border-amber-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-amber-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-amber-500/10 text-amber-500",children:r.jsx(Je,{className:"w-6 h-6"})}),r.jsx("div",{className:"text-right text-3xl font-black font-display text-amber-500",children:(d==null?void 0:d.inProgress)||0})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"In Transit"}),r.jsx("p",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-tighter",children:"Currently Active"})]})]}),r.jsxs(D,{glass:!0,className:"relative overflow-hidden group border-primary-500/10 hover:border-primary-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-primary-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-500",children:r.jsx(Ba,{className:"w-6 h-6"})}),r.jsx("div",{className:"text-right text-3xl font-black font-display text-primary-500",children:(d==null?void 0:d.totalModules)||0})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Wisdom Repository"}),r.jsx("p",{className:"text-[10px] font-bold text-primary-500 uppercase tracking-tighter",children:"Total Curated content"})]})]}),r.jsxs(D,{glass:!0,className:"relative overflow-hidden group border-secondary-500/10 hover:border-secondary-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-secondary-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-secondary-500/10 text-secondary-500",children:r.jsx(xa,{className:"w-6 h-6"})}),r.jsxs("div",{className:"text-right text-3xl font-black font-display text-secondary-500",children:[(d==null?void 0:d.completionPercentage)||0,"%"]})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Proficiency"}),r.jsx("div",{className:"h-1.5 w-full bg-light-muted/10 dark:bg-dark-muted/10 rounded-full overflow-hidden mt-2",children:r.jsx("div",{className:"h-full bg-secondary-500 transition-all duration-1000",style:{width:`${(d==null?void 0:d.completionPercentage)||0}%`}})})]})]})]}),r.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:r.jsxs("div",{className:"flex bg-light-card/50 dark:bg-dark-card/50 p-1.5 rounded-2xl border border-light-border dark:border-dark-border overflow-x-auto no-scrollbar max-w-full",children:[r.jsx("button",{onClick:()=>i(void 0),className:`px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] transition-all whitespace-nowrap ${n===void 0?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"All Sectors"}),g.map(v=>r.jsx("button",{onClick:()=>i(v),className:`px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] transition-all whitespace-nowrap ${n===v?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:v},v))]})}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o==null?void 0:o.map(v=>{const p=m(v._id);return r.jsx(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{y:-8},className:"h-full",children:r.jsx(D,{glass:!0,className:`h-full border-secondary-500/10 hover:border-secondary-500/40 transition-all duration-300 relative group overflow-hidden ${(p==null?void 0:p.status)==="completed"?"opacity-80":""}`,children:r.jsxs(F,{className:"p-8 flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(W,{variant:"outline",className:"text-[8px] font-black uppercase h-5 text-secondary-500 border-secondary-500/30",children:v.category}),p&&r.jsx(W,{className:`text-[8px] font-black uppercase h-5 ${p.status==="completed"?"bg-emerald-500":"bg-primary-500"}`,children:p.status==="completed"?"Fulfilled":"In Transit"})]}),r.jsx("h3",{className:"font-black text-xl text-light-text dark:text-dark-text mb-3 leading-tight tracking-tight group-hover:text-secondary-500 transition-colors",children:v.title}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-8 line-clamp-3 leading-relaxed flex-grow",children:v.description}),r.jsxs("div",{className:"flex items-center gap-6 mb-8 text-[10px] font-black uppercase tracking-widest text-light-muted/60",children:[v.videoUrl&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(k4,{className:"w-3.5 h-3.5 text-secondary-500"}),"Video"]}),v.documentUrl&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qt,{className:"w-3.5 h-3.5 text-secondary-500"}),"Text"]}),v.duration&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Je,{className:"w-3.5 h-3.5 text-secondary-500"}),v.duration," MIN"]})]}),r.jsx(M,{variant:(p==null?void 0:p.status)==="completed"?"ghost":"secondary",className:`w-full rounded-2xl h-12 font-black text-[10px] uppercase tracking-[0.2em] transition-all duration-300 ${(p==null?void 0:p.status)==="completed"?"border-2 border-secondary-500/20 hover:bg-secondary-500 hover:text-white":"shadow-xl shadow-secondary-500/20"}`,onClick:()=>{a(v),p||x(v._id)},children:(p==null?void 0:p.status)==="completed"?"Review Directive":p?"Resume Mission":"Commence Training"})]})})},v._id)})}),s&&r.jsx(dt,{isOpen:!!s,onClose:()=>a(null),title:s.title,children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(W,{variant:"secondary",children:s.category}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:s.description}),s.videoUrl&&r.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-black",children:r.jsx("iframe",{width:"100%",height:"100%",src:s.videoUrl,title:s.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),s.content&&r.jsx("div",{className:"prose dark:prose-invert max-w-none",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:s.content}})}),s.documentUrl&&r.jsxs("a",{href:s.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary-500 hover:text-primary-600",children:[r.jsx(Qt,{className:"w-4 h-4"}),"Download Course Material"]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(M,{variant:"ghost",onClick:()=>a(null),children:"Close"}),((y=m(s._id))==null?void 0:y.status)!=="completed"&&r.jsx(M,{variant:"primary",onClick:()=>h(s._id),children:"Mark as Complete"})]})]})})]})}function $I({isOpen:e,onClose:t,userId:s}){const[a,n]=f.useState(""),[i,o]=f.useState(""),[l,d]=f.useState(""),[c,u]=f.useState("60"),[m,x]=f.useState(!1),h=$(S.governance.createMeeting),{showToast:g}=Zs(),y=async v=>{v.preventDefault(),x(!0);try{await h({adminId:s,title:a,date:new Date(i).getTime(),startTime:l,durationMinutes:parseInt(c)}),n(""),o(""),d(""),u("60"),t(),g("success",`Meeting "${a}" created successfully!`)}catch(p){console.error("Failed to create meeting:",p),g("error","Failed to create meeting. Please try again.")}finally{x(!1)}};return r.jsx(dt,{isOpen:e,onClose:t,title:"Create Board Meeting",children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(Qt,{className:"w-4 h-4"}),"Meeting Title"]}),r.jsx(he,{value:a,onChange:v=>n(v.target.value),placeholder:"e.g., Monthly Board Meeting",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(vt,{className:"w-4 h-4"}),"Date"]}),r.jsx(he,{type:"date",value:i,onChange:v=>o(v.target.value),required:!0,className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(Je,{className:"w-4 h-4"}),"Start Time"]}),r.jsx(he,{type:"time",value:l,onChange:v=>d(v.target.value),required:!0,className:"w-full"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Duration (minutes)"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[30,60,90,120].map(v=>r.jsxs("button",{type:"button",onClick:()=>u(v.toString()),className:`px-4 py-2 rounded-lg border-2 transition-all ${c===v.toString()?"border-primary-500 bg-primary-500/10 text-primary-500":"border-light-border dark:border-dark-border hover:border-primary-500/50"}`,children:[v,"m"]},v))}),r.jsx(he,{type:"number",value:c,onChange:v=>u(v.target.value),placeholder:"Custom duration",min:"15",max:"480",className:"mt-2"})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsx(M,{type:"button",variant:"ghost",onClick:t,className:"flex-1",disabled:m,children:"Cancel"}),r.jsx(M,{type:"submit",variant:"primary",className:"flex-1",disabled:m,children:m?"Creating...":"Create Meeting"})]})]})})}function VI({isOpen:e,onClose:t,userId:s}){const[a,n]=f.useState(""),[i,o]=f.useState(!1),l=$(S.governance.clockIn),{showToast:d}=Zs(),c=async u=>{u.preventDefault(),o(!0);try{await l({userId:s,code:a}),n(""),t(),d("success"," Successfully clocked in to the meeting!")}catch(m){console.error("Failed to clock in:",m),d("error",m.message||"Failed to clock in. Please check the code and try again.")}finally{o(!1)}};return r.jsx(dt,{isOpen:e,onClose:t,title:"Clock In to Meeting",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Meeting Code"}),r.jsx(he,{value:a,onChange:u=>n(u.target.value.toUpperCase()),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-2xl font-mono tracking-widest",required:!0}),r.jsx("p",{className:"text-xs text-light-muted mt-2",children:"Enter the 6-digit code provided by the admin"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(M,{type:"button",variant:"ghost",onClick:t,className:"flex-1",disabled:i,children:"Cancel"}),r.jsx(M,{type:"submit",variant:"primary",className:"flex-1",disabled:i||a.length!==6,children:i?"Clocking In...":"Clock In"})]})]})})}function zI({isOpen:e,onClose:t,userId:s}){const[a,n]=f.useState(""),[i,o]=f.useState(""),[l,d]=f.useState(""),[c,u]=f.useState(!1),m=B(S.governance.getMeetings),x=$(S.governance.submitExcuse),{showToast:h}=Zs(),g=(m==null?void 0:m.map(v=>({value:v._id,label:`${v.title} - ${new Date(v.date).toLocaleDateString()}`})))||[],y=async v=>{v.preventDefault(),u(!0);try{await x({userId:s,meetingId:a,reason:i,proofUrl:l||void 0}),n(""),o(""),d(""),t(),h("success","Excuse submitted successfully! Awaiting admin review.")}catch(p){console.error("Failed to submit excuse:",p),h("error","Failed to submit excuse. Please try again.")}finally{u(!1)}};return r.jsx(dt,{isOpen:e,onClose:t,title:"Submit Excuse",children:r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Select Meeting"}),r.jsx(Dr,{options:g,value:a,onChange:n,placeholder:"Choose a meeting..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Reason for Absence"}),r.jsx("textarea",{value:i,onChange:v=>o(v.target.value),placeholder:"Please explain why you couldn't attend...",className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg min-h-[100px]",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Proof URL (Optional)"}),r.jsx(he,{type:"url",value:l,onChange:v=>d(v.target.value),placeholder:"https://example.com/proof.jpg"}),r.jsx("p",{className:"text-xs text-light-muted mt-2",children:"Upload proof to ImageKit or another service and paste the URL here"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(M,{type:"button",variant:"ghost",onClick:t,className:"flex-1",disabled:c,children:"Cancel"}),r.jsx(M,{type:"submit",variant:"primary",className:"flex-1",disabled:c,children:c?"Submitting...":"Submit Excuse"})]})]})})}function qI({isOpen:e,onClose:t,meeting:s}){const[a,n]=f.useState(!0),i=B(S.governance.getMeetingAttendance,s?{meetingId:s._id}:"skip"),o=m=>{switch(m){case"present":return r.jsx(W,{className:"bg-emerald-500 text-white",children:"Present"});case"late":return r.jsx(W,{className:"bg-amber-500 text-white",children:"Late"});case"absent":return r.jsx(W,{className:"bg-rose-500 text-white",children:"Absent"});case"excused":return r.jsx(W,{className:"bg-blue-500 text-white",children:"Excused"});default:return r.jsx(W,{variant:"outline",children:"Unknown"})}},l=m=>{switch(m){case"present":return r.jsx(Ht,{className:"w-5 h-5 text-emerald-500"});case"late":return r.jsx(Je,{className:"w-5 h-5 text-amber-500"});case"absent":return r.jsx(rs,{className:"w-5 h-5 text-rose-500"});case"excused":return r.jsx(Ht,{className:"w-5 h-5 text-blue-500"});default:return r.jsx(rs,{className:"w-5 h-5 text-light-muted"})}},d={present:(i==null?void 0:i.filter(m=>m.status==="present").length)||0,late:(i==null?void 0:i.filter(m=>m.status==="late").length)||0,absent:(i==null?void 0:i.filter(m=>m.status==="absent").length)||0,excused:(i==null?void 0:i.filter(m=>m.status==="excused").length)||0},c=(i==null?void 0:i.length)||0,u=i===void 0;return r.jsx(dt,{isOpen:e,onClose:t,title:"Meeting Attendance",className:"max-w-2xl",children:s&&r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"p-3 md:p-4 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",children:[r.jsx("h3",{className:"font-bold text-base md:text-lg mb-2",children:s.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-light-muted",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(vt,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"text-xs md:text-sm",children:new Date(s.date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Je,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"text-xs md:text-sm",children:s.startTime})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(je,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsxs("span",{className:"text-xs md:text-sm",children:[c," Total"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between px-1",children:[r.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-light-muted",children:"Attendance Summary"}),r.jsx(M,{variant:"ghost",size:"sm",className:"h-7 text-[10px] font-bold gap-1",onClick:()=>n(!a),children:a?r.jsxs(r.Fragment,{children:[r.jsx(ja,{className:"w-3 h-3"})," Hide Stats"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ge,{className:"w-3 h-3"})," Show Stats"]})})]}),r.jsx(se,{children:a&&r.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-3",children:[r.jsx(D,{className:"border-emerald-500/20 bg-emerald-500/5",children:r.jsxs(F,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-emerald-500",children:d.present}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Present"})]})}),r.jsx(D,{className:"border-amber-500/20 bg-amber-500/5",children:r.jsxs(F,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-amber-500",children:d.late}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Late"})]})}),r.jsx(D,{className:"border-rose-500/20 bg-rose-500/5",children:r.jsxs(F,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-rose-500",children:d.absent}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Absent"})]})}),r.jsx(D,{className:"border-blue-500/20 bg-blue-500/5",children:r.jsxs(F,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-blue-500",children:d.excused}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Excused"})]})})]})})}),r.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[r.jsxs("h4",{className:"font-bold text-sm md:text-base mb-3 flex items-center gap-2",children:[r.jsx(je,{className:"w-4 h-4 text-primary-500"}),"Board Member Roster"]}),r.jsx("div",{className:"space-y-2 max-h-[40vh] md:max-h-96 overflow-y-auto pr-2 thin-scrollbar",children:u?[1,2,3,4].map(m=>r.jsx("div",{className:"h-16 w-full bg-light-muted/10 animate-pulse rounded-xl border border-light-border/50 dark:border-dark-border/50"},m)):i&&i.length>0?i.map(m=>r.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 rounded-lg border border-light-border dark:border-dark-border hover:border-primary-500/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[l(m.status),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold text-sm md:text-base truncate",children:m.userName}),m.joinTime&&r.jsxs("p",{className:"text-[10px] md:text-xs text-light-muted",children:["Clocked in at ",new Date(m.joinTime).toLocaleTimeString()]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:o(m.status)})]},m._id)):r.jsxs("div",{className:"text-center py-8 text-light-muted",children:[r.jsx(je,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"No attendance records yet"})]})})]})]})})}function WI({isOpen:e,onClose:t,meeting:s,userId:a}){const[n,i]=f.useState(!1),o=$(S.governance.endMeeting),{showToast:l}=Zs(),d=async()=>{i(!0);try{await o({adminId:a,meetingId:s._id}),t(),l("success","Meeting ended successfully! Attendance has been processed.")}catch(c){console.error("Failed to end meeting:",c),l("error",c.message||"Failed to end meeting. Please try again.")}finally{i(!1)}};return s?r.jsx(dt,{isOpen:e,onClose:t,title:"End Meeting",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-rose-500/10 to-rose-500/5 border border-rose-500/20 flex items-center justify-center mb-4 shadow-xl",children:r.jsx(rv,{className:"w-10 h-10 text-rose-500"})}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:"End This Meeting?"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs",children:['Are you sure you want to end "',s.title,'"?']})]}),r.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-amber-500/5 border border-amber-500/20",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:r.jsx($s,{className:"w-6 h-6 text-amber-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-amber-700 dark:text-amber-500 mb-1",children:"What Happens Next"}),r.jsxs("ul",{className:"text-xs text-amber-700/70 dark:text-amber-500/70 space-y-1",children:[r.jsx("li",{children:" Meeting will be marked as ended"}),r.jsx("li",{children:" Attendance will be automatically processed"}),r.jsx("li",{children:" Members who didn't clock in will be marked absent"}),r.jsx("li",{children:" Notifications will be sent to all board members"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-light-bg dark:bg-dark-bg",children:[r.jsx(je,{className:"w-4 h-4 text-light-muted"}),r.jsxs("p",{className:"text-xs text-light-muted",children:["Started: ",new Date(s.date).toLocaleDateString()," at ",s.startTime]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(M,{variant:"ghost",className:"w-full rounded-2xl h-12",onClick:t,disabled:n,children:"Cancel"}),r.jsx(M,{variant:"danger",className:"w-full rounded-2xl h-12 shadow-lg shadow-rose-500/20",onClick:d,disabled:n,children:n?"Ending...":"Yes, End Meeting"})]})]})}):null}function Xj({user:e}){const[t,s]=f.useState(!1),[a,n]=f.useState(!1),[i,o]=f.useState(!1),[l,d]=f.useState(!1),[c,u]=f.useState(!1),[m,x]=f.useState(null),h=B(S.governance.getMeetings),g=B(S.governance.getActiveMeeting),y=B(S.governance.getPendingExcuses),v=B(S.governance.getUserAttendance,e?{userId:e._id}:"skip"),p=$(S.governance.reviewExcuse);if(h===void 0||v===void 0)return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(w=>r.jsx(Lt,{},w))}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(w=>r.jsx(Re,{},w))})]});const j=(e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.role)==="admin",k=w=>{switch(w){case"present":return r.jsx(W,{className:"bg-emerald-500 text-white",children:"Present"});case"late":return r.jsx(W,{className:"bg-amber-500 text-white",children:"Late"});case"absent":return r.jsx(W,{className:"bg-rose-500 text-white",children:"Absent"});case"excused":return r.jsx(W,{className:"bg-blue-500 text-white",children:"Excused"});default:return r.jsx(W,{variant:"outline",children:"Unknown"})}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[r.jsx(D,{className:"border-primary-500/20",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-primary-500/10 text-primary-500",children:r.jsx(vt,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-primary-500",children:(h==null?void 0:h.length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Total Meetings"})]})}),r.jsx(D,{className:"border-emerald-500/20",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-emerald-500/10 text-emerald-500",children:r.jsx(Ht,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-emerald-500",children:(v==null?void 0:v.filter(w=>w.status==="present").length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Present"})]})}),r.jsx(D,{className:"border-amber-500/20",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-amber-500/10 text-amber-500",children:r.jsx(Je,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-amber-500",children:(v==null?void 0:v.filter(w=>w.status==="late").length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Late"})]})}),r.jsx(D,{className:"border-rose-500/20",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-rose-500/10 text-rose-500",children:r.jsx(rs,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-rose-500",children:(v==null?void 0:v.filter(w=>w.status==="absent").length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Absent"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g&&r.jsx(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r.jsxs(D,{className:"border-primary-500 bg-primary-500/5 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:r.jsx(Ql,{className:"w-32 h-32 text-primary-500"})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(W,{className:"bg-primary-500 text-white animate-pulse",children:"Meeting In Progress"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-primary-500",children:[r.jsx(Je,{className:"w-4 h-4"}),r.jsxs("span",{children:["Started ",pt(g.createdAt)," ago"]})]})]}),r.jsx(ge,{className:"text-2xl font-black",children:g.title})]}),r.jsxs(F,{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"p-3 md:p-4 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-[10px] md:text-xs font-bold text-light-muted uppercase tracking-wider",children:"Attendance Code"}),j&&r.jsxs(M,{variant:"ghost",size:"sm",className:"h-6 gap-1 text-[10px] px-2",onClick:()=>{navigator.clipboard.writeText(g.code)},children:[r.jsx(am,{className:"w-3 h-3"}),"Copy"]})]}),r.jsx("div",{className:"text-2xl md:text-4xl font-black tracking-[0.3em] md:tracking-[0.5em] text-center text-primary-500 font-mono",children:j?g.code:""})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3",children:[!j&&r.jsx(r.Fragment,{children:v!=null&&v.some(w=>w.meetingId===g._id)?r.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 p-2.5 md:p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 font-bold text-xs md:text-sm",children:[r.jsx(Ht,{className:"w-4 h-4 md:w-5 md:h-5"}),"You are clocked in"]}):r.jsxs(M,{className:"flex-1 bg-primary-500 hover:bg-primary-600 text-white rounded-xl h-11 md:h-12 text-sm md:text-base font-bold shadow-lg shadow-primary-500/20",onClick:()=>n(!0),children:[r.jsx(Ql,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Clock In Now"]})}),j&&r.jsxs(M,{variant:"danger",className:"flex-1 rounded-xl h-11 md:h-12 text-sm md:text-base font-bold shadow-lg shadow-rose-500/20",onClick:()=>u(!0),children:[r.jsx(rv,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"End Meeting"]}),r.jsxs(M,{variant:"outline",className:"flex-1 rounded-xl h-11 md:h-12 text-sm md:text-base font-bold border-2",onClick:()=>{x(g),d(!0)},children:[r.jsx(je,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"View Attendees"]})]})]})]})}),!g&&j&&r.jsxs(D,{className:"border-dashed border-2 flex flex-col items-center justify-center p-8 text-center bg-light-bg/30 dark:bg-dark-bg/30",children:[r.jsx("div",{className:"p-4 rounded-full bg-primary-500/10 text-primary-500 mb-4",children:r.jsx(Ad,{className:"w-10 h-10"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Active Meeting"}),r.jsx("p",{className:"text-light-muted mb-6 max-w-xs",children:"Ready to start the next session? Setup a meeting and generate an attendance code."}),r.jsx(M,{className:"bg-primary-500 hover:bg-primary-600 text-white rounded-xl h-12 px-8 font-bold shadow-lg shadow-primary-500/20",onClick:()=>s(!0),children:"Create Meeting"})]}),!g&&!j&&r.jsx(D,{className:"p-8 bg-gradient-to-br from-primary-500/5 to-transparent border-primary-500/20",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-500",children:r.jsx(vt,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:"Next Meeting"}),r.jsx("p",{className:"text-light-muted",children:"No meetings currently in progress. Stay tuned for announcements."})]})]})}),j&&y&&y.length>0&&r.jsxs(D,{className:"border-amber-500/50 bg-amber-500/5",children:[r.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsxs(ge,{className:"text-base font-bold flex items-center gap-2",children:[r.jsx(Rr,{className:"w-5 h-5 text-amber-500"}),"Pending Excuses"]}),r.jsx(W,{variant:"outline",className:"text-amber-500 border-amber-500",children:y.length})]}),r.jsx(F,{children:r.jsx("div",{className:"space-y-4",children:y.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/50 dark:bg-black/20 border border-amber-500/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm",children:w.userName}),r.jsx("p",{className:"text-xs text-light-muted",children:w.meetingTitle})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(M,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-rose-500 hover:bg-rose-500/10",onClick:()=>p({adminId:e._id,excuseId:w._id,approved:!1}),children:r.jsx(Me,{className:"w-4 h-4"})}),r.jsx(M,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-emerald-500 hover:bg-emerald-500/10",onClick:()=>p({adminId:e._id,excuseId:w._id,approved:!0}),children:r.jsx(ot,{className:"w-4 h-4"})})]})]},w._id))})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl md:text-2xl font-black flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-500"}),"Meeting History"]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:h==null?void 0:h.map(w=>{const C=v==null?void 0:v.find(N=>N.meetingId===w._id);return r.jsxs(D,{className:"hover:border-primary-500/30 transition-all group",children:[r.jsxs(fe,{className:"pb-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(W,{variant:"outline",className:"text-[10px] font-bold",children:new Date(w.date).toLocaleDateString()}),C?k(C.status):w.status==="ended"?r.jsx(W,{className:"bg-rose-500 text-white",children:"Absent"}):r.jsx(W,{variant:"secondary",children:"Scheduled"})]}),r.jsx(ge,{className:"text-lg font-bold group-hover:text-primary-500 transition-colors",children:w.title})]}),r.jsxs(F,{children:[r.jsxs("div",{className:"flex items-center gap-4 text-xs text-light-muted mb-6",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Je,{className:"w-3 h-3"}),w.startTime]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(je,{className:"w-3 h-3"}),w.durationMinutes," mins"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(M,{variant:"outline",className:"flex-1 text-[10px] h-9 rounded-lg font-bold",onClick:()=>{x(w),d(!0)},children:[r.jsx(St,{className:"w-3.5 h-3.5 mr-1.5"}),"Attendance"]}),!C&&w.status==="ended"&&r.jsx(M,{variant:"secondary",className:"flex-1 text-[10px] h-9 rounded-lg font-bold text-amber-500",onClick:()=>{x(w),o(!0)},children:"Submit Excuse"})]}),(C==null?void 0:C.joinTime)&&r.jsxs("p",{className:"text-[10px] md:text-xs text-light-muted mt-2",children:["Clocked in at ",new Date(C.joinTime).toLocaleTimeString()]})]})]},w._id)})})]}),r.jsx($I,{isOpen:t,onClose:()=>s(!1),userId:e==null?void 0:e._id}),g&&r.jsx(VI,{isOpen:a,onClose:()=>n(!1),userId:e==null?void 0:e._id}),r.jsx(WI,{isOpen:c,onClose:()=>u(!1),meeting:g,userId:e==null?void 0:e._id}),r.jsx(zI,{isOpen:i,onClose:()=>o(!1),userId:e==null?void 0:e._id}),r.jsx(qI,{isOpen:l,onClose:()=>d(!1),meeting:m})]})}function HI({isOpen:e,onClose:t,userId:s}){const[a,n]=f.useState(1),[i,o]=f.useState("deposit"),[l,d]=f.useState(""),[c,u]=f.useState(""),[m,x]=f.useState(""),[h,g]=f.useState(""),[y,v]=f.useState(null),[p,b]=f.useState(""),[j,k]=f.useState(!1),[w,C]=f.useState(!1),N=$(S.files.generateUploadUrl),T=B(S.users.getAllUsers,{adminId:s}),_=$(S.finance.addTransaction),{showToast:P}=Zs(),V=(T==null?void 0:T.filter(U=>U.role==="board_member"))||[],R=[{value:"",label:"Not linked to a member"},...V.length>0?[{value:"__board_header__",label:"--- Board Members (Monthly Dues) ---",disabled:!0},...V.map(U=>({value:U._id,label:U.name}))]:[],{value:"__other_header__",label:"--- Other Members ---",disabled:!0},{value:"__other__",label:"+ Add Other Person (Non-Board)"}],G=async U=>{var H;const J=(H=U.target.files)==null?void 0:H[0];if(J){if(!J.type.startsWith("image/")){P("error","Please upload an image file");return}if(J.size>5*1024*1024){P("error","File size must be less than 5MB");return}v(J)}},ee=async()=>{C(!0);try{let U=p;if(y){k(!0);try{const J=await N(),H=await fetch(J,{method:"POST",headers:{"Content-Type":y.type},body:y}),{storageId:me}=await H.json();U=(await fetch(`${window.location.origin}/api/storage/${me}`)).url}catch(J){console.error("Upload failed:",J),P("error","Failed to upload proof image"),k(!1),C(!1);return}finally{k(!1)}}await _({userId:s,type:i,amount:parseFloat(l),description:c,memberId:m&&m!=="__other__"?m:void 0,memberName:m==="__other__"?h:void 0,proofUrl:U||void 0}),n(1),o("deposit"),d(""),u(""),x(""),g(""),v(null),b(""),t(),P("success",`${i==="deposit"?"Deposit":"Withdrawal"} of ${parseFloat(l).toLocaleString()} added successfully!`)}catch(U){console.error("Failed to add transaction:",U),P("error","Failed to add transaction. Please try again.")}finally{C(!1)}},E=()=>{n(1),o("deposit"),d(""),u(""),x(""),b(""),t()},L=i!==null,ie=l&&parseFloat(l)>0,z=c.trim().length>0;return r.jsx(dt,{isOpen:e,onClose:E,title:"Add Financial Transaction",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2,3,4].map(U=>r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all ${U===a?"bg-primary-500 text-white scale-110":U<a?"bg-emerald-500 text-white":"bg-light-muted/20 text-light-muted"}`,children:U<a?"":U}),U<4&&r.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full transition-all ${U<a?"bg-emerald-500":"bg-light-muted/20"}`})]},U))}),a===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Select Transaction Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>o("deposit"),className:`p-6 rounded-2xl border-2 transition-all ${i==="deposit"?"border-emerald-500 bg-emerald-500/10 scale-105":"border-light-border dark:border-dark-border hover:border-emerald-500/50"}`,children:[r.jsx(Vs,{className:"w-12 h-12 mx-auto mb-3 text-emerald-500"}),r.jsx("div",{className:"font-bold text-lg",children:"Deposit"}),r.jsx("div",{className:"text-xs text-light-muted mt-1",children:"Money In"})]}),r.jsxs("button",{type:"button",onClick:()=>o("withdrawal"),className:`p-6 rounded-2xl border-2 transition-all ${i==="withdrawal"?"border-rose-500 bg-rose-500/10 scale-105":"border-light-border dark:border-dark-border hover:border-rose-500/50"}`,children:[r.jsx(nm,{className:"w-12 h-12 mx-auto mb-3 text-rose-500"}),r.jsx("div",{className:"font-bold text-lg",children:"Withdrawal"}),r.jsx("div",{className:"text-xs text-light-muted mt-1",children:"Money Out"})]})]})]}),a===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Enter Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-light-muted",children:""}),r.jsx(he,{type:"number",value:l,onChange:U=>d(U.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"text-3xl font-bold pl-12 py-6 text-center",autoFocus:!0})]}),r.jsx("p",{className:"text-sm text-light-muted text-center",children:l&&parseFloat(l)>0?r.jsx("span",{className:"font-bold text-primary-500",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(parseFloat(l))}):"Enter the transaction amount"})]}),a===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5"}),"Transaction Details"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Description"}),r.jsx("textarea",{value:c,onChange:U=>u(U.target.value),placeholder:"e.g., Monthly dues collection, Office supplies purchase...",className:"w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg min-h-[120px]",autoFocus:!0})]})]}),a===4&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Additional Information (Optional)"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(ft,{className:"w-4 h-4"}),"Link to Member"]}),r.jsx(Dr,{options:R.filter(U=>!U.disabled),value:m,onChange:x,placeholder:"Select a member..."}),r.jsx("p",{className:"text-xs text-light-muted mt-2",children:'Board members pay monthly dues. Select "Other" for non-board members.'})]}),m==="__other__"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Person's Name"}),r.jsx(he,{value:h,onChange:U=>g(U.target.value),placeholder:"Enter name of person...",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(Rs,{className:"w-4 h-4"}),"Proof/Receipt Image"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"hidden",id:"proof-upload"}),r.jsxs("label",{htmlFor:"proof-upload",className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 cursor-pointer transition-colors bg-light-bg dark:bg-dark-bg",children:[r.jsx(Rs,{className:"w-5 h-5 text-light-muted"}),r.jsx("span",{className:"text-sm font-medium",children:y?y.name:"Choose Image"})]}),y&&r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/30",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded bg-emerald-500/20 flex items-center justify-center",children:r.jsx(Rs,{className:"w-4 h-4 text-emerald-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:y.name}),r.jsxs("p",{className:"text-xs text-light-muted",children:[(y.size/1024).toFixed(1)," KB"]})]})]}),r.jsx("button",{type:"button",onClick:()=>v(null),className:"text-rose-500 hover:text-rose-600",children:r.jsx(Me,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Upload a screenshot or photo of the receipt/proof (Max 5MB)"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[a>1&&r.jsxs(M,{type:"button",variant:"ghost",onClick:()=>n(a-1),className:"flex-1",disabled:w,children:[r.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back"]}),a<4?r.jsxs(M,{type:"button",variant:"primary",onClick:()=>n(a+1),className:"flex-1",disabled:a===1&&!L||a===2&&!ie||a===3&&!z,children:["Next",r.jsx(Ct,{className:"w-4 h-4 ml-2"})]}):r.jsx(M,{type:"button",variant:"primary",onClick:ee,className:"flex-1",disabled:w||j,children:j?"Uploading...":w?"Adding...":"Complete Transaction"})]})]})})}function Zj({isOpen:e,onClose:t,imageUrl:s,title:a}){return f.useEffect(()=>{const n=i=>{i.key==="Escape"&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t]),f.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),r.jsx(se,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8",children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/90 backdrop-blur-sm"}),r.jsxs(A.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative max-w-5xl w-full max-h-full flex flex-col bg-light-bg dark:bg-dark-bg rounded-2xl md:rounded-3xl overflow-hidden shadow-2xl",onClick:n=>n.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-light-border dark:border-dark-border bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-xl bg-primary-500/10 text-primary-500",children:r.jsx(f4,{className:"w-5 h-5"})}),r.jsx("h3",{className:"font-display font-bold text-light-text dark:text-dark-text truncate max-w-[200px] md:max-w-md",children:a||"View Proof"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("a",{href:s,download:!0,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-light-muted hover:text-primary-500 transition-colors",title:"Download Image",children:r.jsx(xo,{className:"w-5 h-5"})}),r.jsx("button",{onClick:t,className:"p-2.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-light-muted hover:text-rose-500 transition-colors",children:r.jsx(Me,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"flex-1 overflow-auto p-2 md:p-4 bg-black/5 dark:bg-white/5 flex items-center justify-center min-h-[300px]",children:r.jsx("img",{src:s,alt:a||"Proof",className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg"})}),r.jsx("div",{className:"p-4 md:p-6 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md border-t border-light-border dark:border-dark-border flex justify-center",children:r.jsx(QI,{onClick:t,variant:"outline",className:"px-8 rounded-xl border-light-border dark:border-dark-border",children:"Close Preview"})})]})]})})}function QI({children:e,onClick:t,variant:s="primary",className:a=""}){const n="px-4 py-2 rounded-lg font-bold transition-all flex items-center justify-center",i={primary:"bg-primary-500 text-white hover:bg-primary-600 shadow-lg shadow-primary-500/20",outline:"border border-light-border dark:border-dark-border text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card",secondary:"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text hover:bg-light-border dark:hover:bg-dark-border"};return r.jsx("button",{onClick:t,className:`${n} ${i[s]} ${a}`,children:e})}function GI({user:e}){const[t,s]=f.useState(null),a=B(S.finance.getPendingSubmissions),n=$(S.finance.approvePaymentSubmission),i=$(S.finance.rejectPaymentSubmission),[o,l]=f.useState(null),{showToast:d}=Zs();if(a===void 0)return r.jsxs(D,{className:"animate-pulse",children:[r.jsx(fe,{children:r.jsx("div",{className:"h-6 w-48 bg-light-muted/10 rounded"})}),r.jsx(F,{children:r.jsx("div",{className:"space-y-4",children:[1,2].map(h=>r.jsx("div",{className:"h-40 bg-light-muted/10 rounded-2xl"},h))})})]});const c=h=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(h),u=h=>new Date(2024,h-1).toLocaleDateString("en-US",{month:"long"}),m=async h=>{if(confirm("Approve this payment? It will increase the total balance and update member dues.")){s(h);try{await n({adminId:e._id,submissionId:h}),d("success","Payment approved successfully!")}catch(g){console.error("Failed to approve:",g),d("error",g.message||"Failed to approve")}finally{s(null)}}},x=async h=>{const g=prompt("Please enter rejection reason:");if(g!==null){s(h);try{await i({adminId:e._id,submissionId:h,reason:g||"Information provided is incomplete/incorrect"}),d("success","Payment rejected.")}catch(y){console.error("Failed to reject:",y),d("error",y.message||"Failed to reject")}finally{s(null)}}};return r.jsxs(D,{children:[r.jsx(fe,{className:"py-4 px-4 md:px-6",children:r.jsxs(ge,{className:"flex items-center gap-2 text-lg md:text-xl",children:[r.jsx(Je,{className:"w-5 h-5 text-primary-500"}),"Pending Payment Submissions",a&&a.length>0&&r.jsx(W,{className:"ml-2 bg-primary-500 text-[10px] h-5 min-w-5 flex items-center justify-center",children:a.length})]})}),r.jsx(F,{children:r.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map(h=>r.jsxs("div",{className:"p-4 rounded-2xl border border-light-border dark:border-dark-border bg-light-bg/50 dark:bg-dark-bg/50 flex flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"flex-1 space-y-3 md:space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-full bg-primary-500/10 flex items-center justify-center flex-shrink-0",children:r.jsx(ft,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-black truncate",children:h.userName}),r.jsxs("p",{className:"text-[10px] md:text-xs text-light-muted",children:["Submitted ",new Date(h.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[r.jsxs("div",{className:"p-2 md:p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-[9px] md:text-[10px] font-bold text-light-muted uppercase mb-0.5 md:mb-1",children:"Amount"}),r.jsx("p",{className:"text-base md:text-lg font-black text-emerald-500 truncate",children:c(h.amount)})]}),r.jsxs("div",{className:"p-2 md:p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-[9px] md:text-[10px] font-bold text-light-muted uppercase mb-0.5 md:mb-1",children:"Period"}),r.jsxs("p",{className:"font-bold text-xs md:text-sm truncate",children:[u(h.month)," ",h.year]})]})]})]}),r.jsx("div",{className:"md:w-48 shrink-0",children:r.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-light-border dark:border-dark-border aspect-video md:aspect-square bg-black/5",children:[h.proofUrl?r.jsx("img",{src:h.proofUrl,alt:"Proof",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Rr,{className:"w-6 h-6 text-light-muted"})}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("button",{onClick:()=>l({url:h.proofUrl,title:`Proof - ${h.userName}`}),className:"p-2 rounded-full bg-white/20 backdrop-blur-md text-white border border-white/20 hover:scale-110 transition-transform",children:r.jsx(St,{className:"w-5 h-5"})})})]})}),r.jsxs("div",{className:"md:w-40 shrink-0 flex flex-row md:flex-col gap-2",children:[r.jsxs(M,{onClick:()=>m(h._id),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white font-bold h-11 md:h-12 text-xs md:text-sm",disabled:t!==null,children:[r.jsx(ot,{className:"w-3.5 h-3.5 md:w-4 md:h-4 mr-1 md:mr-2"}),"Approve"]}),r.jsxs(M,{onClick:()=>x(h._id),variant:"outline",className:"flex-1 border-rose-500/30 text-rose-500 hover:bg-rose-500/10 font-bold h-11 md:h-12 text-xs md:text-sm",disabled:t!==null,children:[r.jsx(Me,{className:"w-3.5 h-3.5 md:w-4 md:h-4 mr-1 md:mr-2"}),"Reject"]})]})]},h._id)):r.jsxs("div",{className:"text-center py-12 text-light-muted flex flex-col items-center gap-2",children:[r.jsx(Ht,{className:"w-8 h-8 text-emerald-500/50"}),r.jsx("p",{children:"No pending submissions to review"})]})})}),r.jsx(Zj,{isOpen:!!o,onClose:()=>l(null),imageUrl:(o==null?void 0:o.url)||"",title:o==null?void 0:o.title})]})}function KI({isOpen:e,onClose:t,report:s,isLoading:a,month:n,year:i}){const o=new Intl.DateTimeFormat("en-US",{month:"long"}).format(new Date(i,n-1));return r.jsx(dt,{isOpen:e,onClose:t,title:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-5 h-5 text-primary-500"}),r.jsx("span",{children:"AI Financial Insights"})]}),maxWidth:"3xl",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-6 rounded-3xl bg-gradient-to-br from-primary-500 to-indigo-600 text-white relative overflow-hidden shadow-xl shadow-primary-500/20",children:[r.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 pointer-events-none",children:r.jsx(cf,{size:120})}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rg,{className:"bg-white/20 hover:bg-white/30 text-white border-white/20 backdrop-blur-md",children:"Gemini 2.0 Flash"}),r.jsx(Rg,{className:"bg-emerald-500/20 text-emerald-100 border-emerald-500/20 backdrop-blur-md",children:"Financial Analysis"})]}),r.jsxs("h2",{className:"text-2xl md:text-3xl font-black mb-1",children:[o," ",i," Report"]}),r.jsx("p",{className:"text-sm text-primary-100 max-w-md font-medium",children:"Automated deep-dive into community liquidity, transaction trends, and sustainability metrics."})]})]}),r.jsx("div",{className:"relative min-h-[400px] max-h-[60vh] overflow-y-auto premium-scrollbar px-1",children:r.jsx(se,{mode:"wait",children:a?r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center p-12 text-center",children:[r.jsxs("div",{className:"relative w-20 h-20 mb-6",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-primary-500/20"}),r.jsx("div",{className:"absolute inset-0 rounded-full border-t-4 border-primary-500 animate-spin"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-primary-500",children:r.jsx(cf,{className:"w-8 h-8 animate-pulse"})})]}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Analyzing Data..."}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs mx-auto",children:"Gemini is processing your transactions and calculating growth metrics."})]},"loading"):s?r.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"prose prose-sm dark:prose-invert max-w-none ai-report-content pb-8",children:r.jsx("div",{className:"p-4 md:p-6 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",dangerouslySetInnerHTML:{__html:YI(s)}})},"content"):r.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-12 text-center",children:[r.jsx(Qt,{className:"w-12 h-12 text-light-muted mb-4 opacity-50"}),r.jsx("p",{className:"text-light-muted",children:"No report data found."})]})})}),r.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[r.jsx(M,{variant:"ghost",className:"flex-1 rounded-2xl h-12 border border-light-border dark:border-dark-border",onClick:t,children:"Close Analysis"}),!a&&s&&r.jsxs(M,{className:"flex-1 rounded-2xl h-12 bg-primary-500 hover:bg-primary-600 shadow-lg shadow-primary-500/20 gap-2",onClick:()=>window.print(),children:[r.jsx(xo,{className:"w-4 h-4"}),"Export PDF"]})]})]})})}function Rg({children:e,className:t}){return r.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-black uppercase tracking-wider border ${t}`,children:e})}function YI(e){let t=e.replace(/```html|```/g,"");return!t.includes("<strong")&&!t.includes("<span")&&(t=t.replace(/\*\*(.*?)\*\*/g,'<strong class="text-primary-600 dark:text-primary-400">$1</strong>'),t=t.replace(/^\s*\*\s+(.*)$/gm,'<li class="ml-4 mb-2">$1</li>'),t=t.replace(/^\s*#\s+(.*)$/gm,'<h3 class="text-lg font-bold mt-6 mb-3">$1</h3>'),t=t.replace(/^\s*##\s+(.*)$/gm,'<h4 class="text-base font-bold mt-4 mb-2">$1</h4>')),t}function ek({user:e}){const[t,s]=f.useState("overview"),[a,n]=f.useState(!1),[i,o]=f.useState(new Date().getMonth()+1),[l,d]=f.useState(new Date().getFullYear()),c=B(S.finance.getCurrentBalance),u=B(S.finance.getTransactions,{limit:50}),m=B(S.finance.getMonthlySummary,{month:i,year:l}),x=$(S.finance.reverseTransaction),h=$5(S.finance.generateAIReport),[g,y]=f.useState(!1),[v,p]=f.useState(null),[b,j]=f.useState(!1),{showToast:k}=Zs(),w=(e==null?void 0:e.role)==="super_admin",C=(e==null?void 0:e.isFinancialManager)===!0,N=w||C,T=P=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(P);return c===void 0||u===void 0?r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(P=>r.jsx(Lt,{},P))}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(P=>r.jsx(Re,{},P))})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[r.jsx(D,{className:"md:col-span-1 border-primary-500/20 bg-gradient-to-br from-primary-500/10 to-transparent",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-primary-500/20 text-primary-500",children:r.jsx(kr,{className:"w-6 h-6 md:w-8 md:h-8"})})}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1 md:mb-2 text-balance",children:"Current Balance"}),r.jsx("p",{className:"text-2xl md:text-4xl font-black text-primary-500 truncate",children:T(c||0)})]})}),r.jsx(D,{className:"border-emerald-500/20",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-emerald-500/10 text-emerald-500",children:r.jsx(Vs,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-xl md:text-2xl font-black text-emerald-500 truncate ml-2",children:T((m==null?void 0:m.totalDeposits)||0)})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Monthly Deposits"}),r.jsxs("p",{className:"text-[10px] text-light-muted",children:[i,"/",l]})]})}),r.jsx(D,{className:"border-rose-500/20",children:r.jsxs(F,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-rose-500/10 text-rose-500",children:r.jsx(nm,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-xl md:text-2xl font-black text-rose-500 truncate ml-2",children:T((m==null?void 0:m.totalWithdrawals)||0)})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Monthly Withdrawals"}),r.jsxs("p",{className:"text-[10px] text-light-muted",children:[i,"/",l]})]})})]}),r.jsxs("div",{className:"flex items-center gap-1 p-1 rounded-xl md:rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border w-fit max-w-full overflow-x-auto hide-scrollbar",children:[r.jsx("button",{onClick:()=>s("overview"),className:`px-4 md:px-6 py-2 md:py-2.5 rounded-lg md:rounded-xl text-xs md:text-sm font-bold transition-all whitespace-nowrap ${t==="overview"?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"text-light-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Overview"}),N&&r.jsx("button",{onClick:()=>s("pending"),className:`px-4 md:px-6 py-2 md:py-2.5 rounded-lg md:rounded-xl text-xs md:text-sm font-bold transition-all whitespace-nowrap ${t==="pending"?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"text-light-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Pending Submissions"})]}),t==="overview"&&r.jsxs(r.Fragment,{children:[N&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[r.jsxs(M,{onClick:()=>n(!0),className:"bg-primary-500 hover:bg-primary-600 w-full sm:w-auto",children:[r.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Add Transaction"]}),r.jsxs(M,{variant:"outline",className:"w-full sm:w-auto border-light-border dark:border-dark-border mb-4 sm:mb-0 hover:border-primary-500 hover:text-primary-500 transition-colors",disabled:b,onClick:async()=>{const P=m;if(P!=null&&P.aiReportText){p(P.aiReportText),y(!0);return}j(!0),y(!0),p(null);try{const V=await h({userId:e._id,month:i,year:l});V.success&&(p(V.aiReportText),k("success","Financial analysis complete!"))}catch(V){console.error("Report generation failed:",V),k("error","Failed to generate financial analysis"),y(!1)}finally{j(!1)}},children:[r.jsx(Lr,{className:`w-4 h-4 mr-2 ${b?"animate-spin":"text-primary-500"}`}),b?"Analyzing...":"Generate Report"]})]}),r.jsxs(D,{children:[r.jsx(fe,{className:"py-4 px-4 md:px-6",children:r.jsxs(ge,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5 text-primary-500"}),r.jsx("span",{className:"text-lg md:text-xl",children:"Transaction History"})]}),r.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsx("select",{value:i,onChange:P=>o(Number(P.target.value)),className:"flex-1 sm:flex-none px-2 py-1 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-xs md:text-sm outline-none focus:ring-1 focus:ring-primary-500",children:Array.from({length:12},(P,V)=>r.jsx("option",{value:V+1,children:new Date(2024,V).toLocaleDateString("en-US",{month:"short"})},V+1))}),r.jsx("select",{value:l,onChange:P=>d(Number(P.target.value)),className:"flex-1 sm:flex-none px-2 py-1 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-xs md:text-sm outline-none focus:ring-1 focus:ring-primary-500",children:Array.from({length:5},(P,V)=>r.jsx("option",{value:2024+V,children:2024+V},2024+V))})]})]})}),r.jsx(F,{children:r.jsx("div",{className:"space-y-3",children:u&&u.length>0?u.map(P=>{const V=Date.now()-P.createdAt<864e5,R=N&&V&&!P.isReversed;return r.jsx("div",{className:`p-4 rounded-lg border transition-colors ${P.isReversed?"border-light-border/50 dark:border-dark-border/50 opacity-50":"border-light-border dark:border-dark-border hover:border-primary-500/30"}`,children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start md:items-center gap-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-xl shrink-0 ${P.type==="deposit"?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:P.type==="deposit"?r.jsx(Vs,{className:"w-5 h-5 md:w-6 md:h-6"}):r.jsx(nm,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-bold text-sm md:text-base truncate",children:P.description}),P.isReversed&&r.jsx(W,{variant:"outline",className:"text-[10px] h-4",children:"Reversed"}),P.reversedFrom&&r.jsx(W,{className:"bg-amber-500 text-[10px] h-4",children:"Reversal"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-[10px] md:text-xs text-light-muted",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ft,{className:"w-3 h-3"}),P.recordedByName]}),P.memberName&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(je,{className:"w-3 h-3"}),P.memberName]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Je,{className:"w-3 h-3"}),pt(P.createdAt,{addSuffix:!0})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-4 pl-14 md:pl-0",children:[r.jsx("div",{className:"text-left md:text-right",children:r.jsxs("p",{className:`text-lg md:text-xl font-black ${P.type==="deposit"?"text-emerald-500":"text-rose-500"}`,children:[P.type==="deposit"?"+":"-",T(P.amount)]})}),r.jsxs("div",{className:"flex gap-2",children:[P.proofStorageId&&r.jsx(M,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(St,{className:"w-4 h-4"})}),R&&r.jsxs(M,{size:"sm",variant:"outline",onClick:async()=>{confirm("Are you sure you want to reverse this transaction?")&&await x({userId:e._id,transactionId:P._id})},className:"h-8 px-2 text-amber-500 border-amber-500/30 hover:bg-amber-500/10 text-xs gap-1",children:[r.jsx(N4,{className:"w-3 h-3"}),r.jsx("span",{className:"hidden sm:inline",children:"Reverse"})]})]})]})]})},P._id)}):r.jsx("div",{className:"text-center py-12 text-light-muted",children:"No transactions yet"})})})]})]}),t==="pending"&&r.jsx(GI,{user:e}),r.jsx(HI,{isOpen:a,onClose:()=>n(!1),userId:e._id}),r.jsx(KI,{isOpen:g,onClose:()=>y(!1),report:v,isLoading:b,month:i,year:l})]})}function JI(){const{user:e}=X(),[t,s]=f.useState("attendance");return!e||e.role!=="super_admin"&&e.role!=="board_member"?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs(D,{className:"p-8 text-center",children:[r.jsx($e,{className:"w-16 h-16 mx-auto mb-4 text-rose-500"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"You don't have permission to access this page."})]})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Governance System"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Board Governance"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Professional attendance tracking and financial management system"})]}),r.jsxs("div",{className:"flex gap-4 border-b border-light-border dark:border-dark-border",children:[r.jsxs("button",{onClick:()=>s("attendance"),className:`px-6 py-3 font-bold text-sm transition-all relative ${t==="attendance"?"text-primary-500":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vt,{className:"w-4 h-4"}),"Attendance"]}),t==="attendance"&&r.jsx(A.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]}),r.jsxs("button",{onClick:()=>s("finance"),className:`px-6 py-3 font-bold text-sm transition-all relative ${t==="finance"?"text-primary-500":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kr,{className:"w-4 h-4"}),"Finance"]}),t==="finance"&&r.jsx(A.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]})]}),r.jsx(se,{mode:"wait",children:r.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:t==="attendance"?r.jsx(Xj,{user:e}):r.jsx(ek,{user:e})},t)})]})}function XI(){const{user:e}=X();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Attendance System"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Meeting Attendance"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Track your meeting participation and submit excuses"})]}),r.jsx(Xj,{user:e})]})}function ZI(){const{user:e}=X();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-emerald-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-500",children:"Financial Management"})]}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Community Finance"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Overview of community funds and financial transactions"})]}),r.jsx(ek,{user:e})]})}function Dg({label:e,options:t,value:s,onChange:a}){var d;const[n,i]=f.useState(!1),o=f.useRef(null),l=((d=t.find(c=>c.value===s))==null?void 0:d.label)??"";return f.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),r.jsxs("div",{ref:o,className:"relative",children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:e}),r.jsxs("button",{type:"button",onClick:()=>i(c=>!c),className:`
                    w-full flex items-center justify-between gap-2
                    px-4 py-3 rounded-xl border text-sm font-bold
                    bg-light-bg dark:bg-dark-bg
                    text-light-text dark:text-dark-text
                    transition-all duration-200
                    ${n?"border-primary-500 ring-2 ring-primary-500/20":"border-light-border dark:border-dark-border hover:border-primary-400"}
                `,children:[r.jsx("span",{children:l}),r.jsx(Ge,{className:`w-4 h-4 text-light-muted transition-transform duration-300 ${n?"rotate-180":""}`})]}),r.jsx(se,{children:n&&r.jsx(A.div,{initial:{opacity:0,y:-6,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-6,scale:.97},transition:{duration:.15,ease:"easeOut"},className:`\r
                            absolute z-50 left-0 right-0 mt-1\r
                            bg-white dark:bg-dark-card\r
                            border border-light-border dark:border-dark-border\r
                            rounded-xl shadow-xl shadow-black/10\r
                            overflow-hidden\r
                        `,children:r.jsx("div",{className:"max-h-48 overflow-y-auto premium-scrollbar py-1",children:t.map(c=>{const u=c.value===s;return r.jsxs("button",{type:"button",onClick:()=>{a(c.value),i(!1)},className:`
                                            w-full flex items-center justify-between
                                            px-4 py-2.5 text-sm font-semibold text-left
                                            transition-colors duration-150
                                            ${u?"bg-primary-500/10 text-primary-600 dark:text-primary-400":"text-light-text dark:text-dark-text hover:bg-light-bg dark:hover:bg-dark-bg"}
                                        `,children:[c.label,u&&r.jsx(ot,{className:"w-4 h-4 shrink-0 text-primary-500"})]},c.value)})})})})]})}const eM=Array.from({length:12},(e,t)=>({value:t+1,label:new Date(2024,t).toLocaleDateString("en-US",{month:"long"})})),tM=[2024,2025,2026,2027].map(e=>({value:e,label:String(e)}));function rM({isOpen:e,onClose:t,user:s}){const[a,n]=f.useState("1000"),[i,o]=f.useState(new Date().getMonth()+1),[l,d]=f.useState(new Date().getFullYear()),[c,u]=f.useState(null),[m,x]=f.useState(!1),[h,g]=f.useState(!1),y=$(S.files.generateUploadUrl),v=$(S.finance.submitPaymentSubmission),{showToast:p}=Zs(),b=C=>{var T;const N=(T=C.target.files)==null?void 0:T[0];if(N){if(!N.type.startsWith("image/")){p("error","Please upload an image file");return}if(N.size>5*1024*1024){p("error","File size must be less than 5MB");return}u(N)}},j=async()=>{if(!c){p("error","Please upload a proof of payment");return}g(!0);try{x(!0);const C=await y(),N=await fetch(C,{method:"POST",headers:{"Content-Type":c.type},body:c}),{storageId:T}=await N.json();x(!1),await v({userId:s._id,amount:parseFloat(a),month:i,year:l,proofStorageId:T}),p("success","Payment submission sent for approval!"),k()}catch(C){console.error("Failed to submit payment:",C),p("error",C.message||"Failed to submit payment")}finally{x(!1),g(!1)}},k=()=>{n("1000"),o(new Date().getMonth()+1),d(new Date().getFullYear()),u(null),t()},w=new Date(l,i-1).toLocaleDateString("en-US",{month:"long",year:"numeric"});return r.jsx(dt,{isOpen:e,onClose:k,title:"Submit Board Due Payment",children:r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"p-4 rounded-2xl bg-primary-500/5 border border-primary-500/10 flex items-center gap-4",children:[r.jsx("div",{className:"w-11 h-11 rounded-full bg-primary-500/10 flex items-center justify-center shrink-0",children:r.jsx(vt,{className:"w-5 h-5 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-widest",children:"Paying For"}),r.jsx("p",{className:"font-bold text-light-text dark:text-dark-text",children:w})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:"Amount ()"}),r.jsx(he,{type:"number",value:a,onChange:C=>n(C.target.value),placeholder:"1000",className:"font-bold text-lg"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(Dg,{label:"Month",options:eM,value:i,onChange:o}),r.jsx(Dg,{label:"Year",options:tM,value:l,onChange:d})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:"Payment Proof (Screenshot)"}),c?r.jsxs("div",{className:"relative group rounded-2xl overflow-hidden border border-light-border dark:border-dark-border bg-black/5",children:[r.jsx("img",{src:URL.createObjectURL(c),alt:"Proof Preview",className:"w-full h-44 object-contain"}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("button",{onClick:()=>u(null),className:"p-3 rounded-full bg-rose-500 text-white shadow-lg hover:scale-110 transition-transform",children:r.jsx(Me,{className:"w-5 h-5"})})}),r.jsxs("div",{className:"p-3 bg-light-bg dark:bg-dark-bg border-t border-light-border dark:border-dark-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"w-4 h-4 text-light-muted"}),r.jsx("span",{className:"text-xs font-bold truncate max-w-[150px]",children:c.name})]}),r.jsxs("span",{className:"text-[10px] text-light-muted",children:[(c.size/1024/1024).toFixed(2)," MB"]})]})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-36 border-2 border-dashed border-light-border dark:border-dark-border rounded-2xl hover:border-primary-500 cursor-pointer bg-light-bg/30 dark:bg-dark-bg/30 transition-all group",children:[r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"p-3 rounded-full bg-primary-500/10 text-primary-500 group-hover:bg-primary-500/20 transition-colors",children:r.jsx(im,{className:"w-5 h-5"})}),r.jsx("p",{className:"text-sm font-bold text-light-text dark:text-dark-text",children:"Click to upload proof"}),r.jsx("p",{className:"text-xs text-light-muted",children:"PNG or JPG (Max 5MB)"})]}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:b})]})]}),r.jsxs("div",{className:"pt-2 flex gap-3",children:[r.jsx(M,{variant:"ghost",className:"flex-1 rounded-2xl h-12",onClick:k,disabled:h,children:"Cancel"}),r.jsx(M,{className:"flex-1 rounded-2xl h-12 bg-primary-500 hover:bg-primary-600 shadow-lg shadow-primary-500/20",onClick:j,disabled:h||m||!c,children:m?"Uploading":h?"Submitting":"Submit Payment"})]})]})})}function sM({admin:e}){const[t,s]=f.useState(null),[a,n]=f.useState(new Date().getFullYear()),[i,o]=f.useState(""),l=B(S.users.getBoardMembers),d=l==null?void 0:l.find(v=>v._id===t),c=B(S.finance.getMemberContributions,t?{adminId:e._id,targetUserId:t,year:a}:"skip"),u=l==null?void 0:l.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())),m=v=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(v),x=v=>new Date(2024,v-1).toLocaleDateString("en-US",{month:"long"});if(!t)return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-black text-gradient truncate",children:"Member Ledger"}),r.jsx("p",{className:"text-light-muted text-[10px] md:text-sm font-medium",children:"Select a member to view records."})]}),r.jsxs("div",{className:"relative w-full md:w-72",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted"}),r.jsx("input",{type:"text",placeholder:"Search board members...",value:i,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-light-bg/50 border border-light-border focus:border-primary-500/50 outline-none text-xs md:text-sm transition-all"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u==null?void 0:u.map(v=>r.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{y:-4},children:r.jsx(D,{className:"cursor-pointer hover:border-primary-500/30 transition-all border-light-border/50 bg-light-card/40",onClick:()=>s(v._id),children:r.jsxs(F,{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center text-primary-500 font-bold shrink-0",children:v.name.charAt(0)}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-bold text-sm truncate",children:v.name}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-black tracking-widest",children:v.role.replace("_"," ")})]})]}),r.jsx(Xi,{className:"w-4 h-4 text-light-muted"})]})})},v._id)),(u==null?void 0:u.length)===0&&r.jsxs("div",{className:"col-span-full py-12 text-center text-light-muted bg-light-bg/20 rounded-2xl border-2 border-dashed border-light-border",children:[r.jsx(je,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"No members found matching your search"})]})]})]});const h=(c==null?void 0:c.reduce((v,p)=>v+p.totalPaid,0))||0,g=(c==null?void 0:c.reduce((v,p)=>v+p.outstanding,0))||0,y=(c==null?void 0:c.reduce((v,p)=>v+p.surplus,0))||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0",children:[r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>s(null),className:"rounded-xl h-10 w-10 p-0 flex-shrink-0",children:r.jsx(yr,{className:"w-5 h-5"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("h2",{className:"text-lg md:text-2xl font-black text-gradient truncate",children:["Ledger: ",d==null?void 0:d.name]}),r.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:r.jsx("select",{value:a,onChange:v=>n(Number(v.target.value)),className:"bg-transparent text-[10px] md:text-xs font-black text-primary-500 border-none outline-none cursor-pointer",children:[2024,2025,2026].map(v=>r.jsxs("option",{value:v,children:[v," Fiscal Year"]},v))})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4",children:[r.jsx(D,{className:"bg-emerald-500/5 border-emerald-500/20",children:r.jsxs(F,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(kr,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-500"}),r.jsx(W,{className:"bg-emerald-500 text-[10px]",children:"Total Paid"})]}),r.jsx("p",{className:"text-xl md:text-2xl font-black text-emerald-500",children:m(h)})]})}),r.jsx(D,{className:"bg-rose-500/5 border-rose-500/20",children:r.jsxs(F,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(vt,{className:"w-4 h-4 md:w-5 md:h-5 text-rose-500"}),r.jsx(W,{className:"bg-rose-500 text-[10px]",children:"Outstanding"})]}),r.jsx("p",{className:"text-xl md:text-2xl font-black text-rose-500",children:m(g)})]})}),r.jsx(D,{className:"bg-primary-500/5 border-primary-500/20",children:r.jsxs(F,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(aM,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"}),r.jsx(W,{className:"bg-primary-500 text-[10px]",children:"Surplus"})]}),r.jsx("p",{className:"text-xl md:text-2xl font-black text-primary-500",children:m(y)})]})})]}),r.jsxs(D,{className:"border-light-border/50",children:[r.jsx(fe,{className:"pb-2",children:r.jsx(ge,{className:"text-sm font-black uppercase tracking-widest text-light-muted",children:"Monthly Breakdown"})}),r.jsx(F,{className:"px-1 md:px-6",children:r.jsx("div",{className:"overflow-x-auto hide-scrollbar",children:r.jsxs("table",{className:"w-full text-left min-w-[600px] md:min-w-0",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-light-border text-[9px] md:text-[10px] font-black uppercase tracking-wider text-light-muted",children:[r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Month"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Required"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Paid"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Surplus"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Outstanding"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-light-border/50",children:c==null?void 0:c.map(v=>r.jsxs("tr",{className:"text-[10px] md:text-xs hover:bg-light-bg/30 transition-colors",children:[r.jsx("td",{className:"py-3 px-3 md:px-4 font-bold",children:x(v.month)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-medium",children:m(v.requiredAmount)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-black text-emerald-500",children:m(v.totalPaid)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-black text-primary-500",children:m(v.surplus)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-black text-rose-500",children:m(v.outstanding)}),r.jsx("td",{className:"py-3 px-3 md:px-4 text-[9px] md:text-[10px] font-black uppercase italic text-light-muted",children:r.jsx(W,{className:`text-[9px] h-5 min-w-[50px] flex items-center justify-center ${v.status==="cleared"?"bg-emerald-500/20 text-emerald-500 hover:bg-emerald-500/30":v.status==="partial"?"bg-amber-500/20 text-amber-500 hover:bg-amber-500/30":"bg-rose-500/20 text-rose-500 hover:bg-rose-500/30"}`,children:v.status})})]},v.month))})]})})})]})]})}function aM(e){return r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),r.jsx("polyline",{points:"17 6 23 6 23 12"})]})}function nM({user:e}){const[t,s]=f.useState("personal"),[a,n]=f.useState(!1),[i,o]=f.useState(null),[l]=f.useState(new Date().getFullYear()),d=(e==null?void 0:e.role)==="super_admin",c=B(S.finance.getMyContributions,{userId:e._id,year:l}),u=B(S.finance.getMyPaymentSubmissions,{userId:e._id}),m=p=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(p),x=p=>{switch(p){case"cleared":return r.jsx(W,{className:"bg-emerald-500",children:"Cleared"});case"partial":return r.jsx(W,{className:"bg-amber-500",children:"Partial"});case"owing":return r.jsx(W,{className:"bg-rose-500",children:"Owing"});default:return r.jsx(W,{variant:"outline",children:p})}},h=p=>new Date(2024,p-1).toLocaleDateString("en-US",{month:"long"});if(c===void 0||u===void 0)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(p=>r.jsx(Lt,{},p))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(Re,{})}),r.jsx("div",{className:"lg:col-span-1 border rounded-xl p-4 space-y-4",children:[1,2,3].map(p=>r.jsx("div",{className:"h-20 bg-light-muted/10 animate-pulse rounded-xl"},p))})]})]});if(t==="ledger"&&d)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs("div",{className:"flex bg-light-bg/50 dark:bg-dark-bg/50 p-1 rounded-xl border border-light-border dark:border-dark-border",children:[r.jsx("button",{onClick:()=>s("personal"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-all text-light-muted hover:text-light-text",children:"Personal"}),r.jsx("button",{onClick:()=>s("ledger"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-all bg-white dark:bg-dark-card shadow-sm text-primary-500",children:"Member Ledger"})]})}),e&&r.jsx(sM,{admin:e})]});const y=(c==null?void 0:c.reduce((p,b)=>p+b.totalPaid,0))||0,v=(c==null?void 0:c.reduce((p,b)=>p+b.surplus,0))||0;return r.jsxs("div",{className:"space-y-6",children:[d&&r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-primary-500/5 p-3 md:p-4 rounded-2xl border border-primary-500/10 gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xs md:text-sm font-black text-primary-500 uppercase tracking-wider truncate",children:"Contribution Management"}),r.jsx("p",{className:"text-[9px] md:text-[10px] text-light-muted font-bold leading-tight",children:"Switch between personal and board records."})]}),r.jsxs("div",{className:"grid grid-cols-2 bg-light-bg/50 dark:bg-dark-bg/50 p-1 rounded-xl border border-light-border dark:border-dark-border w-full sm:w-auto sm:flex shrink-0",children:[r.jsx("button",{onClick:()=>s("personal"),className:`px-2 md:px-4 py-2 sm:py-1.5 rounded-lg text-[10px] md:text-xs font-bold transition-all whitespace-nowrap ${t==="personal"?"bg-white dark:bg-dark-card shadow-sm text-primary-500":"text-light-muted hover:text-light-text"}`,children:"Personal"}),r.jsx("button",{onClick:()=>s("ledger"),className:`px-2 md:px-4 py-2 sm:py-1.5 rounded-lg text-[10px] md:text-xs font-bold transition-all whitespace-nowrap ${t==="ledger"?"bg-white dark:bg-dark-card shadow-sm text-primary-500":"text-light-muted hover:text-light-text"}`,children:"Member Ledger"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 md:gap-4",children:[r.jsx(D,{className:"bg-gradient-to-br from-primary-500/5 to-transparent border-primary-500/10",children:r.jsxs(F,{className:"p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2",children:[r.jsx("div",{className:"p-1.5 rounded-lg bg-primary-500/10 text-primary-500 shrink-0",children:r.jsx(Vs,{className:"w-4 h-4 md:w-5 h-5"})}),r.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-light-muted uppercase whitespace-nowrap",children:["Total Paid ",l]})]}),r.jsx("p",{className:"text-lg md:text-2xl font-black text-primary-500",children:m(y)})]})}),r.jsx(D,{className:"bg-gradient-to-br from-emerald-500/5 to-transparent border-emerald-500/10",children:r.jsxs(F,{className:"p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2",children:[r.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/10 text-emerald-500 shrink-0",children:r.jsx(Ad,{className:"w-4 h-4 md:w-5 h-5"})}),r.jsx("span",{className:"text-[10px] md:text-xs font-bold text-light-muted uppercase whitespace-nowrap",children:"Total Surplus"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-black text-emerald-500",children:m(v)})]})}),r.jsx(D,{className:"sm:col-span-2 md:col-span-1",children:r.jsx(F,{className:"p-3 md:p-4 flex flex-col justify-center",children:r.jsxs(M,{onClick:()=>n(!0),className:"w-full bg-primary-500 hover:bg-primary-600 h-11 md:h-full py-2 text-sm font-bold shadow-lg shadow-primary-500/10",children:[r.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Pay Monthly Due"]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(D,{className:"lg:col-span-2",children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center gap-2",children:[r.jsx(vt,{className:"w-5 h-5"}),"Monthly Contribution Ledger (",l,")"]})}),r.jsx(F,{className:"px-1 md:px-6",children:r.jsx("div",{className:"overflow-x-auto hide-scrollbar",children:r.jsxs("table",{className:"w-full text-left min-w-[500px] md:min-w-0",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Month"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Required"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Paid"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Status"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted text-right",children:"Surplus"})]})}),r.jsx("tbody",{children:c==null?void 0:c.map((p,b)=>r.jsxs("tr",{className:"border-b border-light-border/50 dark:border-dark-border/50 last:border-0 hover:bg-light-bg/30 dark:hover:bg-dark-bg/30 transition-colors",children:[r.jsx("td",{className:"py-4 px-3",children:r.jsx("span",{className:"font-bold text-sm md:text-base",children:h(p.month)})}),r.jsxs("td",{className:"py-4 px-3 text-xs md:text-sm font-medium",children:["",p.requiredAmount]}),r.jsxs("td",{className:"py-4 px-3",children:[r.jsx("div",{className:"text-xs md:text-sm font-bold",children:m(p.totalPaid)}),p.outstanding>0&&r.jsxs("div",{className:"text-[9px] md:text-[10px] text-rose-500 font-bold",children:["Outstanding: ",m(p.outstanding)]})]}),r.jsx("td",{className:"py-4 px-3",children:x(p.status)}),r.jsx("td",{className:"py-4 px-3 text-right",children:p.surplus>0?r.jsxs("div",{className:"text-xs md:text-sm font-bold text-emerald-500",children:["+",m(p.surplus)]}):r.jsx("span",{className:"text-light-muted",children:"--"})})]},b))})]})})})]}),r.jsxs(D,{className:"lg:col-span-1",children:[r.jsx(fe,{children:r.jsxs(ge,{className:"flex items-center gap-2",children:[r.jsx(Rh,{className:"w-5 h-5"}),"Recent Submissions"]})}),r.jsx(F,{className:"p-3 md:p-6",children:r.jsx("div",{className:"space-y-4",children:u&&u.length>0?u.map(p=>r.jsxs("div",{className:"p-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg/50 dark:bg-dark-bg/50",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-sm",children:[h(p.month)," ",p.year]}),r.jsx("p",{className:"text-lg font-black text-primary-500",children:m(p.amount)})]}),r.jsx(W,{className:p.status==="approved"?"bg-emerald-500":p.status==="rejected"?"bg-rose-500":"bg-amber-500",children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]}),r.jsxs("div",{className:"flex items-center justify-between text-[10px] text-light-muted",children:[r.jsx("span",{children:new Date(p.createdAt).toLocaleDateString()}),p.proofUrl&&r.jsxs("button",{onClick:()=>o({url:p.proofUrl,title:`Proof - ${h(p.month)} ${p.year}`}),className:"flex items-center gap-1 text-primary-500 hover:text-primary-600 font-bold",children:[r.jsx(St,{className:"w-3 h-3"})," View Proof"]})]}),p.rejectionReason&&r.jsxs("div",{className:"mt-2 p-2 rounded bg-rose-500/10 text-rose-500 text-[10px]",children:[r.jsx("strong",{children:"Reason:"})," ",p.rejectionReason]})]},p._id)):r.jsx("div",{className:"text-center py-8 text-light-muted text-sm",children:"No payment submissions yet"})})})]})]}),r.jsx(rM,{isOpen:a,onClose:()=>n(!1),user:e}),r.jsx(Zj,{isOpen:!!i,onClose:()=>o(null),imageUrl:(i==null?void 0:i.url)||"",title:i==null?void 0:i.title})]})}function iM(){const{user:e}=X();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Personal Contributions"})]}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"My Contributions"}),r.jsx("p",{className:"text-xs md:text-base text-light-muted dark:text-dark-muted font-medium max-w-xl",children:"Manage your monthly dues and track surplus payments"})]}),r.jsx(nM,{user:e})]})}const Lg=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Kuda Bank","Opay","PalmPay","Moniepoint","Stanbic IBTC","Fidelity Bank","Union Bank","FCMB","Sterling Bank","Wema Bank","Other"];function oM(){const{user:e,isLoading:t}=X(),s=$(S.users.updateProfile),a=jt();if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return r.jsx(Ae,{to:"/login",state:{from:a},replace:!0});const[n,i]=f.useState(!1),[o,l]=f.useState({phone:"",network:"",whatsappVerified:!1,profession:"",bankName:"",accountNumber:"",accountName:"",customBankName:"",sameAsPhone:!1});f.useEffect(()=>{e&&l(h=>{var g,y,v,p,b;return{...h,phone:e.phone||"",network:e.network||"",whatsappVerified:e.whatsappVerified||!1,profession:e.profession||"",bankName:((g=e.bankDetails)==null?void 0:g.bankName)||"",accountNumber:((y=e.bankDetails)==null?void 0:y.accountNumber)||"",accountName:((v=e.bankDetails)==null?void 0:v.accountName)||e.name||"",customBankName:Lg.includes(((p=e.bankDetails)==null?void 0:p.bankName)||"")?"":((b=e.bankDetails)==null?void 0:b.bankName)||""}})},[e]);const d=h=>{const g=Dj(h);l(y=>({...y,phone:h,network:g,accountNumber:y.sameAsPhone?h:y.accountNumber}))},c=h=>{l(g=>({...g,sameAsPhone:h,accountNumber:h?g.phone:g.accountNumber}))},[u,m]=f.useState(!1),x=async h=>{h.preventDefault(),i(!0);try{const g=o.bankName==="Other"?o.customBankName:o.bankName;await s({userId:e._id,phone:o.phone,network:o.network,whatsappVerified:o.whatsappVerified,profession:o.profession,bankDetails:{bankName:g,accountNumber:o.accountNumber,accountName:o.accountName}}),m(!0)}catch(g){console.error("Failed to update profile",g)}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen py-8 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx(Ye,{}),r.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"Member Details"})]}),r.jsxs(D,{glass:!0,children:[r.jsxs(fe,{children:[r.jsx(ge,{children:"Update Your Information"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Help us keep our community records up to date."})]}),r.jsx(F,{children:r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Pd,{className:"w-5 h-5 text-primary-500"}),"Contact Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(he,{label:"Phone Number",value:o.phone,onChange:h=>d(h.target.value),placeholder:"08012345678",required:!0}),o.network&&o.network!=="Unknown"&&r.jsx("div",{className:"mt-1",children:r.jsx(W,{variant:"primary",children:o.network})})]}),r.jsx("div",{className:"flex items-end pb-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.whatsappVerified,onChange:h=>l({...o,whatsappVerified:h.target.checked}),className:"w-4 h-4 rounded border-primary-500 text-primary-500 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm",children:"Is this your WhatsApp number?"})]})})]})]}),r.jsx("hr",{className:"border-light-border/20 dark:border-dark-border/20"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Ih,{className:"w-5 h-5 text-secondary-500"}),"Professional Info"]}),r.jsx(he,{label:"Profession / Occupation",value:o.profession,onChange:h=>l({...o,profession:h.target.value}),placeholder:"e.g. Software Engineer, Student, Business Owner"})]}),r.jsx("hr",{className:"border-light-border/20 dark:border-dark-border/20"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-accent-500"}),"Bank Details"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Dr,{label:"Bank Name",value:o.bankName,onChange:h=>l({...o,bankName:h}),options:Lg.map(h=>({value:h,label:h}))}),o.bankName==="Other"&&r.jsx(he,{label:"Enter Bank Name",value:o.customBankName,onChange:h=>l({...o,customBankName:h.target.value}),placeholder:"Bank Name",required:!0}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(he,{label:"Account Number",value:o.accountNumber,onChange:h=>l({...o,accountNumber:h.target.value}),placeholder:"0123456789",required:!0}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-light-muted dark:text-dark-muted",children:[r.jsx("input",{type:"checkbox",checked:o.sameAsPhone,onChange:h=>c(h.target.checked),className:"w-4 h-4 rounded border-primary-500"}),"Use my phone number as account number"]})]}),r.jsx(he,{label:"Account Name",value:o.accountName,onChange:h=>l({...o,accountName:h.target.value}),placeholder:"Account Holder Name",required:!0})]})]}),r.jsx(M,{type:"submit",variant:"primary",className:"w-full",isLoading:n,children:"Save Details"})]})})]}),r.jsx(dt,{isOpen:u,onClose:()=>m(!1),title:"Profile Updated!",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ot,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6",children:"Thank you for updating your member details."}),r.jsx(M,{variant:"primary",className:"w-full",onClick:()=>{m(!1)},children:"Close"})]})})]})})}function lM(){var b,j,k;const{postId:e}=Fa(),t=ue(),{user:s}=X(),a=B(S.posts.getPost,e?{postId:e}:"skip"),n=$(S.responses.submitResponse),[i,o]=f.useState(""),[l,d]=f.useState(!1),[c,u]=f.useState(""),[m,x]=f.useState(0);f.useEffect(()=>{const w=i.trim().split(/\s+/).filter(C=>C.length>0);x(w.length)},[i]);const h=async w=>{if(w.preventDefault(),!(!s||!i.trim()||!e)){d(!0),u("");try{await n({userId:s._id,postId:e,content:i.trim()}),t(-1)}catch(C){console.error("Failed to submit response:",C),C.message.includes("Vacancy Filled")?u("Sorry, the response slots for this post are full."):C.message.includes("already responded")?u("You have already responded to this post."):u("Failed to submit response. Please try again.")}finally{d(!1)}}},[g,y]=f.useState(!1),v=()=>{i.trim()?y(!0):t(-1)},p=()=>{y(!1),t(-1)};return a?r.jsxs("div",{className:"min-h-screen bg-[#f8f9fa] dark:bg-[#0a0a0a] pb-20",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800",children:r.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/10 text-gray-500 hover:text-red-500 transition-colors",title:"Cancel & Exit",children:r.jsx(Me,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 hidden sm:block",children:"Official Response"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-800 rounded-full text-xs font-medium text-gray-500",children:[m," words"]}),r.jsxs(M,{variant:"primary",size:"sm",disabled:!i.trim()||l,onClick:h,className:"flex items-center gap-2",children:[r.jsx(Mn,{className:"w-4 h-4"}),l?"Submitting...":"Submit"]})]})]})}),r.jsx("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:r.jsxs("div",{className:"grid gap-8 md:grid-cols-[1fr,1.5fr]",children:[r.jsx(A.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-4",children:r.jsxs("div",{className:"bg-white dark:bg-[#151515] p-6 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-sm sticky top-24",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[r.jsx(Qt,{className:"w-4 h-4"}),"Responding To"]}),r.jsx("div",{className:"prose dark:prose-invert max-w-none",children:r.jsxs("p",{className:"text-lg font-medium leading-relaxed text-gray-800 dark:text-gray-200",children:['"',a.content,'"']})}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold text-xs",children:(j=(b=a.author)==null?void 0:b.name)==null?void 0:j.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(k=a.author)==null?void 0:k.name}),r.jsx("p",{className:"text-xs text-gray-500",children:"Admin Post"})]})]})]})}),r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"relative",children:[c&&r.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-xl flex items-center gap-2 text-sm border border-red-100 dark:border-red-900/30",children:[r.jsx(Rr,{className:"w-4 h-4 flex-shrink-0"}),c]}),r.jsxs("div",{className:"bg-[#fff9e6] dark:bg-[#1a1a1a] min-h-[60vh] rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",style:{backgroundImage:"linear-gradient(#e5e7eb 1px, transparent 1px)",backgroundSize:"100% 2rem",backgroundPosition:"0 1.5rem"},children:[r.jsx("div",{className:"absolute left-12 top-0 bottom-0 w-px bg-red-300/50 dark:bg-red-500/20 h-full pointer-events-none"}),r.jsx("div",{className:"p-0",children:r.jsx("textarea",{className:"w-full h-[60vh] bg-transparent border-0 focus:ring-0 resize-none p-6 pl-16 text-lg leading-[2rem] text-gray-800 dark:text-gray-200 placeholder:text-gray-400/50 dark:placeholder:text-gray-600",placeholder:"Start writing your thoughts here...",value:i,onChange:w=>o(w.target.value),autoFocus:!0,style:{lineHeight:"2rem"}})})]}),r.jsx("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(j4,{className:"w-3 h-3"}),"Express yourself freely"]})})]})]})}),r.jsx(dt,{isOpen:g,onClose:()=>y(!1),title:"Discard Changes?",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"You have unsaved text. Are you sure you want to discard your response?"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(M,{variant:"ghost",onClick:()=>y(!1),children:"Keep Editing"}),r.jsx(M,{variant:"danger",onClick:p,children:"Discard & Leave"})]})]})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})}const Og=`
  .premium-scrollbar::-webkit-scrollbar {
    width: 4px;
  }
  .premium-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }
  .dark .premium-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.05);
  }
  .dark .premium-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.1);
  }
`;function dM({isOpen:e,onClose:t}){const s=jt(),a=ue(),{user:n}=X(),{theme:i,toggleTheme:o}=Cd(),[l,d]=f.useState(["Board Hub"]),c=f.useRef({}),u=f.useRef(null);f.useEffect(()=>{s.pathname.startsWith("/board")&&d(b=>b.includes("Board Hub")?b:[...b,"Board Hub"])},[s.pathname]);const m=p=>{const b=!l.includes(p);d(j=>j.includes(p)?j.filter(k=>k!==p):[...j,p]),setTimeout(b?()=>{const j=c.current[p],k=u.current;if(j&&k){const C=j.offsetTop+j.offsetHeight,T=k.scrollTop+k.clientHeight;C>T-16&&k.scrollTo({top:C-k.clientHeight+24,behavior:"smooth"})}}:()=>{const j=c.current[p],k=u.current;if(j&&k){const w=j.offsetTop;k.scrollTop>w-8&&k.scrollTo({top:Math.max(0,w-8),behavior:"smooth"})}},50)},x=B(S.stats.getAdminBadgeCounts,{adminId:n==null?void 0:n._id}),h=p=>{if(!x)return 0;const b=(n==null?void 0:n.role)==="super_admin"||(n==null?void 0:n.role)==="admin",j=(n==null?void 0:n.isFinancialManager)===!0;return p==="Questions"?b?x.questions:0:p==="Messages"?b?x.contacts:0:p==="Banking System"?b?x.withdrawals:0:p==="Finance Hub"&&(b||j)?x.pendingPaymentSubmissions:0},y=[{path:"/admin",label:"Dashboard",icon:Ds,roles:["admin","super_admin"]},{path:"/admin/master-pool",label:"Master Pool",icon:Ky,roles:["admin","super_admin"]},{path:"/admin/announcements",label:"Announcements",icon:Zi,roles:["admin","super_admin"]},{label:"Banking System",icon:Ia,roles:["admin","super_admin"],children:[{path:"/admin/banking?tab=overview",label:"Overview",icon:Ds},{path:"/admin/banking?tab=withdrawals",label:"Withdrawals",icon:kr},{path:"/admin/banking?tab=wallets",label:"User Wallets",icon:je},{path:"/admin/banking?tab=rewards",label:"Reward Activity",icon:ye}]},{path:"/admin/polls",label:"Weekly Polls",icon:Jy,roles:["admin","super_admin"]},{path:"/admin/diamond-challenge",label:"Challenge Manager",icon:vr,roles:["admin","super_admin"]},{path:"/admin/questions",label:"Questions",icon:Wl,roles:["admin","super_admin"]},{path:"/admin/user-tags",label:"User Tags",icon:P4,roles:["admin","super_admin"]},{path:"/admin/contacts",label:"Messages",icon:ts,roles:["admin","super_admin"]},{path:"/admin/roles",label:"User Roles",icon:$e,roles:["admin","super_admin"]},{path:"/admin/settings",label:"Settings",icon:tv,roles:["admin","super_admin"]},{label:"Board Hub",icon:$e,roles:["board_member","admin","super_admin"],children:[{path:"/board",label:"Dashboard",icon:Ds},{path:"/board/attendance",label:"Attendance",icon:Gl},{path:"/board/finance",label:"Finance Hub",icon:kr},{path:"/board/contributions",label:"My Contributions",icon:Ia}]}].filter(p=>p.roles?p.roles.includes(n==null?void 0:n.role):!0),v=r.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-[#0d0d0f] border-r border-light-border dark:border-dark-border py-6 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2 flex-shrink-0",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Logo",className:"w-10 h-10 object-contain"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-black text-gradient font-display",children:(n==null?void 0:n.role)==="board_member"?"Board Hub":"Admin"}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted dark:text-dark-muted uppercase tracking-widest",children:"Baptizo Community"})]}),r.jsx("button",{onClick:t,className:"lg:hidden ml-auto p-2 text-light-muted",children:r.jsx(Me,{className:"w-6 h-6"})})]}),r.jsx("nav",{ref:u,className:"flex-1 space-y-1 overflow-y-auto premium-scrollbar pr-1 min-h-0",children:y.map(p=>{const b=p.icon,j=p.children&&p.children.length>0,k=l.includes(p.label),w=j&&p.children.some(N=>s.pathname===N.path),C=s.pathname===p.path||w;return j?r.jsxs("div",{className:"space-y-1",ref:N=>{c.current[p.label]=N},children:[r.jsxs("button",{onClick:()=>m(p.label),className:`
                                        w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                        ${w?"bg-primary-500/10 text-primary-500 font-bold border border-primary-500/20":"text-light-text dark:text-dark-text hover:bg-light-card/80 dark:hover:bg-dark-card/80"}
                                    `,children:[r.jsx(b,{className:`w-5 h-5 transition-transform duration-300 ${w?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"text-sm font-medium",children:p.label}),r.jsx(Ge,{className:`ml-auto w-4 h-4 transition-transform duration-300 ${k?"rotate-180":""}`})]}),r.jsx(se,{initial:!1,children:k&&r.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden pl-4 space-y-1",children:p.children.map(N=>{const T=N.icon,_=s.pathname===N.path;return r.jsxs(re,{to:N.path,onClick:()=>{window.innerWidth<1024&&t()},className:`
                                                            flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all duration-200 group
                                                            ${_?"text-primary-500 font-bold bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text hover:bg-light-card/50 dark:hover:bg-dark-card/50"}
                                                        `,children:[r.jsx(T,{className:`w-4 h-4 transition-transform ${_?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"text-xs font-medium",children:N.label}),h(N.label)>0&&r.jsx("span",{className:`
                                                                ml-auto px-1.5 py-0.5 rounded-full text-[8px] font-bold
                                                                ${_?"bg-primary-500 text-white":"bg-primary-500/20 text-primary-500"}
                                                            `,children:h(N.label)}),_&&!h(N.label)&&r.jsx(A.div,{layoutId:"activeIndicator",className:"ml-auto w-1 h-1 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]},N.path)})})})]},p.label):r.jsxs(re,{to:p.path,onClick:()=>{window.innerWidth<1024&&t()},className:`
                                flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                ${C?"bg-primary-500 text-white shadow-lg shadow-primary-500/30 font-bold":"text-light-text dark:text-dark-text hover:bg-light-card/80 dark:hover:bg-dark-card/80"}
                            `,children:[r.jsx(b,{className:`w-5 h-5 transition-transform duration-300 ${C?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"text-sm font-medium",children:p.label}),h(p.label)>0&&r.jsx("span",{className:`
                                    ml-auto px-2 py-0.5 rounded-full text-[10px] font-bold
                                    ${C?"bg-white text-primary-500":"bg-primary-500 text-white shadow-sm shadow-primary-500/20"}
                                `,children:h(p.label)}),C&&!h(p.label)&&r.jsx(A.div,{layoutId:"activeIndicatorMain",className:"ml-auto w-1.5 h-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})]},p.path)})}),r.jsxs("div",{className:"mt-4 flex-shrink-0 space-y-4 px-2",children:[r.jsx("div",{className:"p-4 rounded-xl glass border border-light-border/50 dark:border-dark-border/50",children:r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold overflow-hidden",children:n!=null&&n.avatarUrl?r.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-full h-full object-cover"}):n==null?void 0:n.name[0]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-bold truncate",children:n==null?void 0:n.name}),r.jsx("p",{className:"text-[10px] text-primary-500 font-bold uppercase tracking-wider",children:n==null?void 0:n.role.replace("_"," ")})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:hidden",children:[r.jsxs("button",{onClick:()=>{a("/search"),t()},className:"flex items-center justify-center gap-2 py-3 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm font-bold text-light-text dark:text-dark-text",children:[r.jsx(lt,{className:"w-4 h-4"}),"Search"]}),r.jsx("button",{onClick:o,className:"flex items-center justify-center gap-2 py-3 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm font-bold text-light-text dark:text-dark-text",children:i==="dark"?r.jsxs(r.Fragment,{children:[r.jsx(Id,{className:"w-4 h-4 text-yellow-500"}),"Light"]}):r.jsxs(r.Fragment,{children:[r.jsx(Td,{className:"w-4 h-4 text-slate-700"}),"Dark"]})})]}),r.jsxs(re,{to:"/feed",className:"flex items-center justify-center gap-2 w-full py-3 rounded-xl border border-light-border dark:border-dark-border hover:bg-light-card dark:hover:bg-dark-card transition-all text-sm font-bold text-light-muted dark:text-dark-muted hover:text-primary-500",children:[r.jsx(Aa,{className:"w-4 h-4"}),"Back to Feed"]})]})]});return r.jsxs(r.Fragment,{children:[r.jsxs("aside",{className:"hidden lg:block fixed inset-y-0 left-0 w-64 z-50",children:[r.jsx("style",{children:Og}),v]}),r.jsx(se,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] lg:hidden"}),r.jsxs(A.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 left-0 w-64 z-[70] lg:hidden",children:[r.jsx("style",{children:Og}),v]})]})})]})}function Fg({children:e}){var c;const{user:t,isLoading:s}=X(),{theme:a,toggleTheme:n}=Cd(),i=ue(),[o,l]=f.useState(!1),d=jt();return f.useEffect(()=>{l(!1)},[d.pathname]),s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):!t||t.role!=="admin"&&t.role!=="super_admin"&&t.role!=="board_member"?r.jsx(Ae,{to:"/feed",replace:!0}):r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg transition-colors duration-300",children:[r.jsx(dM,{isOpen:o,onClose:()=>l(!1)}),r.jsxs("div",{className:"lg:ml-64 flex flex-col min-h-screen",children:[r.jsx("header",{className:"sticky top-0 z-40 bg-white/80 dark:bg-dark-bg/80 backdrop-blur-md border-b border-light-border dark:border-dark-border px-4 md:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-2 hover:bg-light-card dark:hover:bg-dark-card rounded-lg",children:r.jsx(g4,{className:"w-6 h-6"})}),r.jsx("div",{className:"hidden md:block",children:r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text capitalize",children:((c=d.pathname.split("/").pop())==null?void 0:c.replace("-"," "))||"Dashboard"})})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsx("button",{onClick:()=>i("/search"),className:"hidden md:flex p-2.5 text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card rounded-xl transition-all",children:r.jsx(lt,{className:"w-5 h-5"})}),r.jsx("button",{onClick:n,className:"hidden md:flex p-2.5 text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card rounded-xl transition-all",children:a==="dark"?r.jsx(Id,{className:"w-5 h-5 text-yellow-500"}):r.jsx(Td,{className:"w-5 h-5 text-slate-700"})}),r.jsxs("button",{onClick:()=>i("/notifications"),className:"p-2.5 text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card rounded-xl transition-all relative",children:[r.jsx(Ni,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-primary-500 rounded-full border-2 border-white dark:border-dark-bg"})]}),r.jsxs("div",{className:"hidden md:flex ml-2 pl-4 border-l border-light-border dark:border-dark-border items-center gap-3",children:[r.jsxs("div",{className:"hidden sm:block text-right",children:[r.jsx("p",{className:"text-xs font-bold truncate",children:t==null?void 0:t.name}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-medium",children:t==null?void 0:t.role})]}),r.jsx("div",{className:"w-9 h-9 rounded-xl bg-primary-500/10 dark:bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold border border-primary-500/20 overflow-hidden",children:t!=null&&t.avatarUrl?r.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-full h-full object-cover rounded-xl"}):t==null?void 0:t.name[0]})]})]})]})}),r.jsx("main",{className:"flex-1 p-4 md:p-8",children:r.jsx(se,{mode:"wait",children:r.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e},d.pathname)})})]})]})}const cM=["Access Bank","Citibank","Ecobank Nigeria","Fairmoney","Fidelity Bank","First Bank of Nigeria","First City Monument Bank (FCMB)","Globus Bank","Guaranty Trust Bank (GTBank)","Heritage Bank","Keystone Bank","Kuda Bank","Moniepoint","OPay","PalmPay","Polaris Bank","Providus Bank","Stanbic IBTC Bank","Standard Chartered","Sterling Bank","SunTrust Bank","Union Bank of Nigeria","United Bank for Africa (UBA)","Unity Bank","Wema Bank","Zenith Bank"].sort();function uM({poolType:e,amount:t,talents:s,nairaAmount:a,exchangeRate:n,onSubmit:i,onCancel:o}){const[l,d]=f.useState(1),[c,u]=f.useState(""),[m,x]=f.useState(""),[h,g]=f.useState(""),[y,v]=f.useState(""),[p,b]=f.useState(!1),[j,k]=f.useState(""),w=f.useMemo(()=>cM.filter(V=>V.toLowerCase().includes(j.toLowerCase())),[j]),C=()=>{if(l===2){if(!c){v("Please select a bank");return}if(!m||m.length!==10){v("Account number must be exactly 10 digits");return}if(!h||h.trim().length<3){v("Please enter a valid account name");return}}v(""),d(l+1)},N=()=>{d(l-1),v("")},T=()=>{i({bankName:c,accountNumber:m,accountName:h.trim()})},_={diamond:"",gold:"",silver:"",bronze:"",big_pull:""},P={diamond:"Diamond",gold:"Gold",silver:"Silver",bronze:"Bronze",big_pull:"Big Pull"};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:r.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-light-bg dark:bg-dark-bg rounded-2xl shadow-2xl max-w-md w-full relative overflow-hidden flex flex-col max-h-[90vh]",children:[r.jsxs("div",{className:"p-4 md:p-6 pb-2 md:pb-4 border-b border-light-border dark:border-dark-border flex justify-between items-center bg-light-bg dark:bg-dark-bg sticky top-0 z-10",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-light-text dark:text-dark-text flex items-center gap-2 truncate",children:[_[e]," Withdraw ",P[e]]}),r.jsx("div",{className:"flex gap-1 mt-2",children:[1,2,3].map(V=>r.jsx("div",{className:`h-1 w-6 md:w-8 rounded-full transition-colors duration-300 ${l>=V?"bg-primary-500":"bg-light-border dark:bg-dark-border"}`},V))})]}),r.jsx("button",{onClick:o,className:"p-1.5 md:p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors flex-shrink-0",children:r.jsx(Me,{className:"w-4 h-4 md:w-5 md:h-5 text-light-muted dark:text-dark-muted"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 relative",children:[r.jsxs(se,{mode:"wait",children:[l===1&&r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text",children:"Review Earnings"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["You are about to withdraw your earnings from the ",P[e]," pool."]})]}),r.jsx("div",{className:"p-4 md:p-6 rounded-2xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-primary-500/20",children:r.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl md:text-4xl font-display font-bold text-light-text dark:text-dark-text mb-1",children:t.toFixed(2)}),r.jsx("p",{className:"text-[10px] md:text-sm font-medium text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Rubies"})]}),r.jsx("div",{className:"w-full h-px bg-primary-500/20"}),r.jsxs("div",{className:"flex justify-between w-full gap-2 md:gap-4",children:[r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("p",{className:"text-lg md:text-xl font-bold text-amber-500 mb-0.5 md:mb-1",children:s.toFixed(2)}),r.jsx("p",{className:"text-[10px] md:text-xs font-medium text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Talents"})]}),r.jsx("div",{className:"w-px h-8 md:h-10 bg-primary-500/20"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsxs("p",{className:"text-lg md:text-xl font-bold text-green-500 mb-0.5 md:mb-1",children:["",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("p",{className:"text-[10px] md:text-xs font-medium text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Naira"})]})]})]})}),r.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl text-xs text-center text-blue-600 dark:text-blue-400 font-medium",children:["Current Exchange Rate: 1 Ruby = ",n]})]},"step1"),l===2&&r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text",children:"Bank Details"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Enter your bank information to receive payments."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted ml-1",children:"Bank Name"}),r.jsxs("button",{onClick:()=>b(!0),className:"w-full px-3 md:px-4 py-2.5 md:py-3.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-left flex items-center justify-between hover:border-primary-500 transition-colors group",children:[r.jsx("span",{className:`text-sm md:text-base ${c?"text-light-text dark:text-dark-text":"text-light-muted/70 dark:text-dark-muted/70"}`,children:c||"Select Bank"}),r.jsx(Xi,{className:"w-4 h-4 text-light-muted group-hover:text-primary-500 transition-colors"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted ml-1",children:"Account Number"}),r.jsx("input",{type:"text",value:m,onChange:V=>x(V.target.value.replace(/\D/g,"").slice(0,10)),className:"w-full px-3 md:px-4 py-2.5 md:py-3.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm md:text-base text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none font-mono tracking-wider transition-shadow placeholder:text-light-muted/50 dark:placeholder:text-dark-muted/50",placeholder:"0123456789"}),r.jsxs("p",{className:"text-[10px] text-right text-light-muted dark:text-dark-muted pr-1",children:[m.length,"/10 digits"]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted ml-1",children:"Account Name"}),r.jsx("input",{type:"text",value:h,onChange:V=>g(V.target.value),className:"w-full px-3 md:px-4 py-2.5 md:py-3.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm md:text-base text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-shadow placeholder:text-light-muted/50 dark:placeholder:text-dark-muted/50",placeholder:"John Doe"})]}),r.jsx(se,{children:y&&r.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),y]})})]})]},"step2"),l===3&&r.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text",children:"Confirm Pay Out"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Please review your details before confirming."})]}),r.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-2xl p-5 border border-light-border dark:border-dark-border space-y-4 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-light-border/50 dark:border-dark-border/50",children:[r.jsx("span",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Amount"}),r.jsxs("span",{className:"font-bold text-xl text-green-500",children:["",a.toLocaleString()]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Bank Name"}),r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text text-right",children:c})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Account Number"}),r.jsx("span",{className:"font-mono text-light-text dark:text-dark-text",children:m})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Account Name"}),r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text text-right",children:h})]})]})]}),r.jsxs("div",{className:"flex gap-4 p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl",children:[r.jsx(it,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400/90 leading-relaxed",children:"Your withdrawal request will be reviewed by an admin. Once approved, the Naira amount will be transferred to your account within 1-3 business days."})]})]},"step3")]}),r.jsx(se,{children:p&&r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-light-bg dark:bg-dark-bg z-20 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex gap-3 items-center bg-light-card dark:bg-dark-card sticky top-0",children:[r.jsx("button",{onClick:()=>b(!1),className:"p-2 -ml-2 rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition-colors",children:r.jsx(Aa,{className:"w-5 h-5 text-light-text dark:text-dark-text"})}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted"}),r.jsx("input",{type:"text",placeholder:"Search banks...",autoFocus:!0,value:j,onChange:V=>k(V.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-sm outline-none focus:ring-2 focus:ring-primary-500"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:r.jsx("div",{className:"space-y-1",children:w.length>0?w.map(V=>r.jsxs("button",{onClick:()=>{u(V),b(!1),k("")},className:`w-full text-left px-4 py-3 rounded-xl flex items-center justify-between transition-colors ${c===V?"bg-primary-500/10 text-primary-500":"hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text"}`,children:[r.jsxs("span",{className:"flex items-center gap-3",children:[r.jsx(c4,{className:`w-4 h-4 ${c===V?"text-primary-500":"text-light-muted"}`}),V]}),c===V&&r.jsx(it,{className:"w-4 h-4 text-primary-500"})]},V)):r.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:r.jsxs("p",{children:['No banks found matching "',j,'"']})})})})]})})]}),r.jsx("div",{className:"p-4 md:p-6 pt-2 bg-light-bg dark:bg-dark-bg sticky bottom-0 z-10 border-t border-light-border/50 dark:border-dark-border/50",children:r.jsxs("div",{className:"flex gap-3 md:gap-4",children:[l>1&&r.jsxs(M,{variant:"outline",onClick:N,className:"flex-1 py-4 md:py-6 rounded-xl hover:bg-light-card dark:hover:bg-dark-card border-light-border dark:border-dark-border text-sm",children:[r.jsx(Aa,{className:"w-4 h-4 mr-1"})," Back"]}),r.jsx(M,{variant:"primary",onClick:l===3?T:C,className:`flex-[2] py-4 md:py-6 rounded-xl bg-gradient-to-r from-primary-500 to-secondary-500 shadow-lg shadow-primary-500/20 hover:shadow-primary-500/30 transition-all text-sm ${l===1?"w-full":""}`,children:l===3?"Confirm & Withdraw":r.jsxs("span",{className:"flex items-center",children:["Next Step ",r.jsx(Xi,{className:"w-4 h-4 ml-1"})]})})]})})]})})}const mM=[{icon:"",label:"Reaction on Admin Post",reward:"+0.02 Rubies",cap:"0.5/day"},{icon:"",label:"Comment on Admin Post",reward:"+0.05 Rubies",cap:"1.0/day"},{icon:"",label:"Mini Game / Weekly Poll",reward:"+0.1 Rubies",cap:"0.4/day"},{icon:"",label:"Quiz Participation",reward:"+0.5 Rubies",cap:"per quiz"},{icon:"",label:"Quiz Winner",reward:"+5.05 Rubies",cap:"5 withdrawable now!"}];function hM(){const{user:e}=X(),t=ue(),[s,a]=f.useState(!1),[n,i]=f.useState(!1),[o,l]=f.useState(null),d=B(S.wallets.getWallet,e!=null&&e._id?{userId:e._id}:"skip"),c=B(S.wallets.getWithdrawals,e!=null&&e._id?{userId:e._id}:"skip"),u=B(S.wallets.getUserBadges,e!=null&&e._id?{userId:e._id}:"skip"),m=$(S.wallets.initializeWallet),x=$(S.wallets.requestWithdrawal);if(f.useEffect(()=>{e&&d===null&&m({userId:e._id})},[e,d,m]),!e)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:r.jsx(D,{className:"max-w-md w-full mx-4",children:r.jsxs(F,{className:"pt-6",children:[r.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted",children:"Please log in to view your banking details"}),r.jsx(M,{onClick:()=>t("/login"),className:"w-full mt-4",children:"Log In"})]})})});if(d===void 0)return r.jsx(D6,{});const h=(d==null?void 0:d.totalRubiesDisplay)??0,g=(d==null?void 0:d.totalTalentsDisplay)??0,y=(d==null?void 0:d.nairaEquivalent)??0,v=(d==null?void 0:d.activeRate)??200,p=(d==null?void 0:d.canWithdrawNormal)??!1,b=(d==null?void 0:d.canWithdrawWinner)??!1,j=(d==null?void 0:d.withdrawableDisplay)??0,k=(d==null?void 0:d.minWithdrawalRubies)??24,w=Math.min(h/k*100,100),C=async _=>{if(!(!o||!e))try{const P=await x({userId:e._id,mode:o,bankDetails:_});alert(` Withdrawal request submitted!
${P.amountRubies} Rubies  ${P.nairaAmount.toLocaleString()}
We'll process it shortly.`),l(null)}catch(P){alert(P.message||"Withdrawal failed. Please try again.")}},N=o==="winner"?j:k,T=N*v;return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[r.jsx("div",{className:"gradient-primary text-white py-6 md:py-8 px-4",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("button",{onClick:()=>t("/feed"),className:"flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors text-sm",children:[r.jsx(yr,{className:"w-4 h-4"})," Back to Feed"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center flex-shrink-0",children:r.jsx(fo,{className:"w-6 h-6 md:w-8 md:h-8"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-display font-bold truncate",children:"Banking"}),r.jsx("p",{className:"text-white/80 text-xs md:text-base truncate",children:"Manage your Rubies & withdrawals"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass p-4 md:p-6 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Mh,{className:"w-4 h-4 text-amber-300"}),r.jsx("p",{className:"text-xs md:text-sm text-white/60",children:"Total Rubies"})]}),r.jsx("p",{className:"text-3xl md:text-4xl font-display font-bold",children:h.toFixed(2)}),r.jsxs("p",{className:"text-[10px] text-white/40 mt-1",children:["= ",g.toFixed(4)," Talents"]})]}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass p-4 md:p-6 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vs,{className:"w-4 h-4 text-green-300"}),r.jsx("p",{className:"text-xs md:text-sm text-white/60",children:"Naira Value"})]}),r.jsxs("p",{className:"text-3xl md:text-4xl font-display font-bold",children:["",y.toLocaleString()]}),r.jsxs("p",{className:"text-[10px] text-white/40 mt-1",children:["@ ",v," per Ruby (live rate)"]})]}),r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass p-4 md:p-6 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ye,{className:"w-4 h-4 text-amber-300"}),r.jsx("p",{className:"text-xs md:text-sm text-white/60",children:"Talents"})]}),r.jsx("p",{className:"text-3xl md:text-4xl font-display font-bold",children:g.toFixed(4)}),r.jsxs("p",{className:"text-[10px] text-white/40 mt-1",children:["1 Talent = 100 Rubies = ",(100*v).toLocaleString()]})]})]})]})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-6 md:py-8 space-y-6",children:[r.jsx(se,{children:b&&r.jsx(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"p-5 bg-gradient-to-r from-amber-500/20 to-yellow-500/20 border-2 border-amber-500/60 rounded-2xl",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0 text-2xl",children:""}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text",children:"Winner Window Open!"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-1",children:["You won the quiz and have"," ",r.jsxs("strong",{className:"text-amber-600 dark:text-amber-400",children:[j," Rubies ( ",(j*v).toLocaleString(),")"]})," ","available to withdraw right now  no 24-ruby minimum needed!"]}),r.jsxs(M,{id:"winner-withdraw-btn",onClick:()=>l("winner"),variant:"primary",className:"mt-3 bg-amber-500 hover:bg-amber-600 border-0",size:"sm",children:[r.jsx(E4,{className:"w-4 h-4 mr-1"}),"Withdraw ",j," Rubies Now"]})]})]})},"winner-alert")}),r.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsxs(D,{glass:!0,className:"overflow-hidden",children:[r.jsx("div",{className:"h-1.5 bg-gradient-to-r from-primary-500 via-secondary-500 to-primary-500"}),r.jsxs(F,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-secondary-500/20 flex items-center justify-center",children:p?r.jsx(sv,{className:"w-6 h-6 text-green-500"}):r.jsx(st,{className:"w-6 h-6 text-light-muted dark:text-dark-muted"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:"Standard Withdrawal"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Withdraw exactly 24 Rubies at a time"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-xs text-light-muted dark:text-dark-muted mb-1.5",children:[r.jsxs("span",{children:[h.toFixed(2)," Rubies"]}),r.jsxs("span",{children:["Goal: ",k," Rubies"]})]}),r.jsx("div",{className:"h-3 bg-light-border dark:bg-dark-border rounded-full overflow-hidden",children:r.jsx(A.div,{initial:{width:0},animate:{width:`${w}%`},transition:{duration:1},className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full"})}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1.5 text-right",children:p?" Ready to withdraw!":`${(k-h).toFixed(2)} more Rubies needed`})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[{label:"Your Rubies",value:h.toFixed(2),unit:""},{label:"Withdraw Amount",value:`${k}`,unit:""},{label:"Naira You Get",value:`${(k*v).toLocaleString()}`,unit:""}].map(_=>r.jsxs("div",{className:"text-center p-3 rounded-xl bg-light-card dark:bg-dark-card",children:[r.jsx("p",{className:"text-xl mb-1",children:_.unit}),r.jsx("p",{className:"font-bold text-light-text dark:text-dark-text text-sm",children:_.value}),r.jsx("p",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:_.label})]},_.label))}),r.jsx(M,{id:"normal-withdraw-btn",onClick:()=>l("normal"),disabled:!p,variant:"primary",className:"w-full",children:p?`Withdraw 24 Rubies  ${(k*v).toLocaleString()}`:`Need ${k} Rubies to Withdraw`}),!p&&r.jsx("p",{className:"text-xs text-center text-light-muted dark:text-dark-muted mt-2",children:"Keep earning through quizzes, comments, reactions & mini-games!"})]})]})}),r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsxs("button",{onClick:()=>i(!n),className:"w-full flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(T4,{className:"w-5 h-5 text-primary-500"}),r.jsx(ge,{children:"How to Earn Rubies"})]}),r.jsx(Ge,{className:`w-5 h-5 transition-transform ${n?"rotate-180":""}`})]})}),r.jsx(se,{children:n&&r.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:r.jsxs(F,{children:[r.jsx("div",{className:"space-y-3",children:mM.map(_=>r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-light-card dark:bg-dark-card",children:[r.jsx("span",{className:"text-xl flex-shrink-0",children:_.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text truncate",children:_.label}),r.jsxs("p",{className:"text-[11px] text-light-muted dark:text-dark-muted",children:["Daily cap: ",_.cap]})]}),r.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400 whitespace-nowrap",children:_.reward})]},_.label))}),r.jsx("div",{className:"mt-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[r.jsx("strong",{children:"Withdrawal rules:"})," Standard withdrawals require a minimum of 24 Rubies and deduct exactly 24 Rubies. Quiz winners can withdraw 5 Rubies immediately. After any withdrawal the button locks again until you reach 24 Rubies."]})})]})})})]}),r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rh,{className:"w-5 h-5 text-primary-500"}),r.jsx(ge,{children:"Withdrawal History"})]}),r.jsx(Ge,{className:`w-5 h-5 transition-transform ${s?"rotate-180":""}`})]})}),r.jsx(se,{children:s&&r.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:r.jsx(F,{children:c&&c.length>0?r.jsx("div",{className:"space-y-3",children:c.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-light-text dark:text-dark-text capitalize",children:[_.type==="big_pull"?"Standard":_.type==="diamond"?"Winner":_.type," Withdrawal"]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:new Date(_.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-light-text dark:text-dark-text",children:[_.amountRubies," Rubies"]}),r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:["",(_.nairaAmount||0).toLocaleString()]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_.status==="paid"?"bg-green-500/20 text-green-600":_.status==="pending"?"bg-yellow-500/20 text-yellow-600":"bg-gray-500/20 text-gray-600"}`,children:_.status})]})]},_._id))}):r.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-8",children:"No withdrawal history yet"})})})})]}),u&&u.length>0&&r.jsxs(D,{glass:!0,children:[r.jsx(fe,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{className:"w-5 h-5 text-amber-500"}),r.jsx(ge,{children:"Your Badges"})]})}),r.jsx(F,{children:r.jsx("div",{className:"flex flex-wrap gap-3",children:u.map(_=>r.jsxs("div",{className:"px-4 py-2 rounded-full glass border border-primary-500/30 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{className:"text-sm font-semibold text-light-text dark:text-dark-text capitalize",children:_.type.replace(/_/g," ")})]},_._id))})})]})]}),o&&d&&r.jsx(uM,{poolType:o==="winner"?"diamond":"big_pull",amount:N,talents:N/100,nairaAmount:T,exchangeRate:v,onSubmit:C,onCancel:()=>l(null)})]})}const xM=()=>{};var Bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=function(e){const t=[];let s=0;for(let a=0;a<e.length;a++){let n=e.charCodeAt(a);n<128?t[s++]=n:n<2048?(t[s++]=n>>6|192,t[s++]=n&63|128):(n&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++a)&1023),t[s++]=n>>18|240,t[s++]=n>>12&63|128,t[s++]=n>>6&63|128,t[s++]=n&63|128):(t[s++]=n>>12|224,t[s++]=n>>6&63|128,t[s++]=n&63|128)}return t},pM=function(e){const t=[];let s=0,a=0;for(;s<e.length;){const n=e[s++];if(n<128)t[a++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];t[a++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[s++],o=e[s++],l=e[s++],d=((n&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[a++]=String.fromCharCode(55296+(d>>10)),t[a++]=String.fromCharCode(56320+(d&1023))}else{const i=e[s++],o=e[s++];t[a++]=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63)}}return t.join("")},rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<e.length;n+=3){const i=e[n],o=n+1<e.length,l=o?e[n+1]:0,d=n+2<e.length,c=d?e[n+2]:0,u=i>>2,m=(i&3)<<4|l>>4;let x=(l&15)<<2|c>>6,h=c&63;d||(h=64,o||(x=64)),a.push(s[u],s[m],s[x],s[h])}return a.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<e.length;){const i=s[e.charAt(n++)],l=n<e.length?s[e.charAt(n)]:0;++n;const c=n<e.length?s[e.charAt(n)]:64;++n;const m=n<e.length?s[e.charAt(n)]:64;if(++n,i==null||l==null||c==null||m==null)throw new fM;const x=i<<2|l>>4;if(a.push(x),c!==64){const h=l<<4&240|c>>2;if(a.push(h),m!==64){const g=c<<6&192|m;a.push(g)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gM=function(e){const t=tk(e);return rk.encodeByteArray(t,!0)},sk=function(e){return gM(e).replace(/\./g,"")},bM=function(e){try{return rk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=()=>yM().__FIREBASE_DEFAULTS__,jM=()=>{if(typeof process>"u"||typeof Bg>"u")return;const e=Bg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bM(e[1]);return t&&JSON.parse(t)},wM=()=>{try{return xM()||vM()||jM()||kM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ak=()=>{var e;return(e=wM())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,a))}}}function nk(){try{return typeof indexedDB=="object"}catch{return!1}}function ik(){return new Promise((e,t)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var i;t(((i=n.error)==null?void 0:i.message)||"")}}catch(s){t(s)}})}function SM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="FirebaseError";class $n extends Error{constructor(t,s,a){super(s),this.code=t,this.customData=a,this.name=CM,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vd.prototype.create)}}class Vd{constructor(t,s,a){this.service=t,this.serviceName=s,this.errors=a}create(t,...s){const a=s[0]||{},n=`${this.service}/${t}`,i=this.errors[t],o=i?TM(i,a):"Error",l=`${this.serviceName}: ${o} (${n}).`;return new $n(n,l,a)}}function TM(e,t){return e.replace(PM,(s,a)=>{const n=t[a];return n!=null?String(n):`<${a}?>`})}const PM=/\{\$([^}]+)}/g;function jm(e,t){if(e===t)return!0;const s=Object.keys(e),a=Object.keys(t);for(const n of s){if(!a.includes(n))return!1;const i=e[n],o=t[n];if(Ug(i)&&Ug(o)){if(!jm(i,o))return!1}else if(i!==o)return!1}for(const n of a)if(!s.includes(n))return!1;return!0}function Ug(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(e){return e&&e._delegate?e._delegate:e}class Hs{constructor(t,s,a){this.name=t,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const a=new NM;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MM(t))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:n});a.resolve(i)}catch{}}}}clearInstance(t=ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ca){return this.instances.has(t)}getOptions(t=ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);a===l&&o.resolve(n)}return n}onInit(t,s){const a=this.normalizeInstanceIdentifier(s),n=this.onInitCallbacks.get(a)??new Set;n.add(t),this.onInitCallbacks.set(a,n);const i=this.instances.get(a);return i&&t(i,a),()=>{n.delete(t)}}invokeOnInitCallbacks(t,s){const a=this.onInitCallbacks.get(s);if(a)for(const n of a)try{n(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:IM(t),options:s}),this.instances.set(t,a),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ca){return this.component?this.component.multipleInstances?t:ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IM(e){return e===ca?void 0:e}function MM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new AM(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const EM={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},RM=Te.INFO,DM={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},LM=(e,t,...s)=>{if(t<e.logLevel)return;const a=new Date().toISOString(),n=DM[t];if(n)console[n](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class OM{constructor(t){this.name=t,this._logLevel=RM,this._logHandler=LM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?EM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const FM=(e,t)=>t.some(s=>e instanceof s);let $g,Vg;function BM(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UM(){return Vg||(Vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ok=new WeakMap,km=new WeakMap,lk=new WeakMap,Qc=new WeakMap,cx=new WeakMap;function $M(e){const t=new Promise((s,a)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{s(Yr(e.result)),n()},o=()=>{a(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(s=>{s instanceof IDBCursor&&ok.set(s,e)}).catch(()=>{}),cx.set(t,e),t}function VM(e){if(km.has(e))return;const t=new Promise((s,a)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{s(),n()},o=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});km.set(e,t)}let wm={get(e,t,s){if(e instanceof IDBTransaction){if(t==="done")return km.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lk.get(e);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Yr(e[t])},set(e,t,s){return e[t]=s,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zM(e){wm=e(wm)}function qM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const a=e.call(Gc(this),t,...s);return lk.set(a,t.sort?t.sort():[t]),Yr(a)}:UM().includes(e)?function(...t){return e.apply(Gc(this),t),Yr(ok.get(this))}:function(...t){return Yr(e.apply(Gc(this),t))}}function WM(e){return typeof e=="function"?qM(e):(e instanceof IDBTransaction&&VM(e),FM(e,BM())?new Proxy(e,wm):e)}function Yr(e){if(e instanceof IDBRequest)return $M(e);if(Qc.has(e))return Qc.get(e);const t=WM(e);return t!==e&&(Qc.set(e,t),cx.set(t,e)),t}const Gc=e=>cx.get(e);function zd(e,t,{blocked:s,upgrade:a,blocking:n,terminated:i}={}){const o=indexedDB.open(e,t),l=Yr(o);return a&&o.addEventListener("upgradeneeded",d=>{a(Yr(o.result),d.oldVersion,d.newVersion,Yr(o.transaction),d)}),s&&o.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),l.then(d=>{i&&d.addEventListener("close",()=>i()),n&&d.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}function Kc(e,{blocked:t}={}){const s=indexedDB.deleteDatabase(e);return t&&s.addEventListener("blocked",a=>t(a.oldVersion,a)),Yr(s).then(()=>{})}const HM=["get","getKey","getAll","getAllKeys","count"],QM=["put","add","delete","clear"],Yc=new Map;function zg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Yc.get(t))return Yc.get(t);const s=t.replace(/FromIndex$/,""),a=t!==s,n=QM.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(n||HM.includes(s)))return;const i=async function(o,...l){const d=this.transaction(o,n?"readwrite":"readonly");let c=d.store;return a&&(c=c.index(l.shift())),(await Promise.all([c[s](...l),n&&d.done]))[0]};return Yc.set(t,i),i}zM(e=>({...e,get:(t,s,a)=>zg(t,s)||e.get(t,s,a),has:(t,s)=>!!zg(t,s)||e.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(KM(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function KM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nm="@firebase/app",qg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new OM("@firebase/app"),YM="@firebase/app-compat",JM="@firebase/analytics-compat",XM="@firebase/analytics",ZM="@firebase/app-check-compat",e_="@firebase/app-check",t_="@firebase/auth",r_="@firebase/auth-compat",s_="@firebase/database",a_="@firebase/data-connect",n_="@firebase/database-compat",i_="@firebase/functions",o_="@firebase/functions-compat",l_="@firebase/installations",d_="@firebase/installations-compat",c_="@firebase/messaging",u_="@firebase/messaging-compat",m_="@firebase/performance",h_="@firebase/performance-compat",x_="@firebase/remote-config",p_="@firebase/remote-config-compat",f_="@firebase/storage",g_="@firebase/storage-compat",b_="@firebase/firestore",y_="@firebase/ai",v_="@firebase/firestore-compat",j_="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",k_={[Nm]:"fire-core",[YM]:"fire-core-compat",[XM]:"fire-analytics",[JM]:"fire-analytics-compat",[e_]:"fire-app-check",[ZM]:"fire-app-check-compat",[t_]:"fire-auth",[r_]:"fire-auth-compat",[s_]:"fire-rtdb",[a_]:"fire-data-connect",[n_]:"fire-rtdb-compat",[i_]:"fire-fn",[o_]:"fire-fn-compat",[l_]:"fire-iid",[d_]:"fire-iid-compat",[c_]:"fire-fcm",[u_]:"fire-fcm-compat",[m_]:"fire-perf",[h_]:"fire-perf-compat",[x_]:"fire-rc",[p_]:"fire-rc-compat",[f_]:"fire-gcs",[g_]:"fire-gcs-compat",[b_]:"fire-fst",[v_]:"fire-fst-compat",[y_]:"fire-vertex","fire-js":"fire-js",[j_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,w_=new Map,Cm=new Map;function Wg(e,t){try{e.container.addComponent(t)}catch(s){as.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,s)}}function Ea(e){const t=e.name;if(Cm.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,e);for(const s of id.values())Wg(s,e);for(const s of w_.values())Wg(s,e);return!0}function ux(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Vd("app","Firebase",N_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t,s,a){this._isDeleted=!1,this._options={...t},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}function dk(e,t={}){let s=e;typeof t!="object"&&(t={name:t});const a={name:Sm,automaticDataCollectionEnabled:!0,...t},n=a.name;if(typeof n!="string"||!n)throw Os.create("bad-app-name",{appName:String(n)});if(s||(s=ak()),!s)throw Os.create("no-options");const i=id.get(n);if(i){if(jm(s,i.options)&&jm(a,i.config))return i;throw Os.create("duplicate-app",{appName:n})}const o=new _M(n);for(const d of Cm.values())o.addComponent(d);const l=new S_(s,a,o);return id.set(n,l),l}function C_(e=Sm){const t=id.get(e);if(!t&&e===Sm&&ak())return dk();if(!t)throw Os.create("no-app",{appName:e});return t}function Fs(e,t,s){let a=k_[e]??e;s&&(a+=`-${s}`);const n=a.match(/\s|\//),i=t.match(/\s|\//);if(n||i){const o=[`Unable to register library "${a}" with version "${t}":`];n&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}Ea(new Hs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="firebase-heartbeat-database",P_=1,no="firebase-heartbeat-store";let Jc=null;function ck(){return Jc||(Jc=zd(T_,P_,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(no)}catch(s){console.warn(s)}}}}).catch(e=>{throw Os.create("idb-open",{originalErrorMessage:e.message})})),Jc}async function A_(e){try{const s=(await ck()).transaction(no),a=await s.objectStore(no).get(uk(e));return await s.done,a}catch(t){if(t instanceof $n)as.warn(t.message);else{const s=Os.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});as.warn(s.message)}}}async function Hg(e,t){try{const a=(await ck()).transaction(no,"readwrite");await a.objectStore(no).put(t,uk(e)),await a.done}catch(s){if(s instanceof $n)as.warn(s.message);else{const a=Os.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});as.warn(a.message)}}}function uk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=1024,M_=30;class __{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new R_(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>M_){const o=D_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){as.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Qg(),{heartbeatsToSend:a,unsentEntries:n}=E_(this._heartbeatsCache.heartbeats),i=sk(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return as.warn(s),""}}}function Qg(){return new Date().toISOString().substring(0,10)}function E_(e,t=I_){const s=[];let a=e.slice();for(const n of e){const i=s.find(o=>o.agent===n.agent);if(i){if(i.dates.push(n.date),Gg(s)>t){i.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),Gg(s)>t){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class R_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nk()?ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await A_(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Hg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Hg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Gg(e){return sk(JSON.stringify({version:2,heartbeats:e})).length}function D_(e){if(e.length===0)return-1;let t=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e){Ea(new Hs("platform-logger",t=>new GM(t),"PRIVATE")),Ea(new Hs("heartbeat",t=>new __(t),"PRIVATE")),Fs(Nm,qg,e),Fs(Nm,qg,"esm2020"),Fs("fire-js","")}L_("");var O_="firebase",F_="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(O_,F_,"app");const mk="@firebase/installations",mx="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=1e4,xk=`w:${mx}`,pk="FIS_v2",B_="https://firebaseinstallations.googleapis.com/v1",U_=60*60*1e3,$_="installations",V_="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ra=new Vd($_,V_,z_);function fk(e){return e instanceof $n&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk({projectId:e}){return`${B_}/projects/${e}/installations`}function bk(e){return{token:e.token,requestStatus:2,expiresIn:W_(e.expiresIn),creationTime:Date.now()}}async function yk(e,t){const a=(await t.json()).error;return Ra.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function vk({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function q_(e,{refreshToken:t}){const s=vk(e);return s.append("Authorization",H_(t)),s}async function jk(e){const t=await e();return t.status>=500&&t.status<600?e():t}function W_(e){return Number(e.replace("s","000"))}function H_(e){return`${pk} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=gk(e),n=vk(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const o={fid:s,authVersion:pk,appId:e.appId,sdkVersion:xk},l={method:"POST",headers:n,body:JSON.stringify(o)},d=await jk(()=>fetch(a,l));if(d.ok){const c=await d.json();return{fid:c.fid||s,registrationStatus:2,refreshToken:c.refreshToken,authToken:bk(c.authToken)}}else throw await yk("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=/^[cdef][\w-]{21}$/,Tm="";function Y_(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=J_(e);return K_.test(s)?s:Tm}catch{return Tm}}function J_(e){return G_(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Map;function Nk(e,t){const s=qd(e);Sk(s,t),X_(s,t)}function Sk(e,t){const s=wk.get(e);if(s)for(const a of s)a(t)}function X_(e,t){const s=Z_();s&&s.postMessage({key:e,fid:t}),eE()}let ga=null;function Z_(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=e=>{Sk(e.data.key,e.data.fid)}),ga}function eE(){wk.size===0&&ga&&(ga.close(),ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebase-installations-database",rE=1,Da="firebase-installations-store";let Xc=null;function hx(){return Xc||(Xc=zd(tE,rE,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Da)}}})),Xc}async function od(e,t){const s=qd(e),n=(await hx()).transaction(Da,"readwrite"),i=n.objectStore(Da),o=await i.get(s);return await i.put(t,s),await n.done,(!o||o.fid!==t.fid)&&Nk(e,t.fid),t}async function Ck(e){const t=qd(e),a=(await hx()).transaction(Da,"readwrite");await a.objectStore(Da).delete(t),await a.done}async function Wd(e,t){const s=qd(e),n=(await hx()).transaction(Da,"readwrite"),i=n.objectStore(Da),o=await i.get(s),l=t(o);return l===void 0?await i.delete(s):await i.put(l,s),await n.done,l&&(!o||o.fid!==l.fid)&&Nk(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(e){let t;const s=await Wd(e.appConfig,a=>{const n=sE(a),i=aE(e,n);return t=i.registrationPromise,i.installationEntry});return s.fid===Tm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function sE(e){const t=e||{fid:Y_(),registrationStatus:0};return Tk(t)}function aE(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(Ra.create("app-offline"));return{installationEntry:t,registrationPromise:n}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=nE(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:iE(e)}:{installationEntry:t}}async function nE(e,t){try{const s=await Q_(e,t);return od(e.appConfig,s)}catch(s){throw fk(s)&&s.customData.serverCode===409?await Ck(e.appConfig):await od(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function iE(e){let t=await Kg(e.appConfig);for(;t.registrationStatus===1;)await kk(100),t=await Kg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await xx(e);return a||s}return t}function Kg(e){return Wd(e,t=>{if(!t)throw Ra.create("installation-not-found");return Tk(t)})}function Tk(e){return oE(e)?{fid:e.fid,registrationStatus:0}:e}function oE(e){return e.registrationStatus===1&&e.registrationTime+hk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE({appConfig:e,heartbeatServiceProvider:t},s){const a=dE(e,s),n=q_(e,s),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const o={installation:{sdkVersion:xk,appId:e.appId}},l={method:"POST",headers:n,body:JSON.stringify(o)},d=await jk(()=>fetch(a,l));if(d.ok){const c=await d.json();return bk(c)}else throw await yk("Generate Auth Token",d)}function dE(e,{fid:t}){return`${gk(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(e,t=!1){let s;const a=await Wd(e.appConfig,i=>{if(!Pk(i))throw Ra.create("not-registered");const o=i.authToken;if(!t&&mE(o))return i;if(o.requestStatus===1)return s=cE(e,t),i;{if(!navigator.onLine)throw Ra.create("app-offline");const l=xE(i);return s=uE(e,l),l}});return s?await s:a.authToken}async function cE(e,t){let s=await Yg(e.appConfig);for(;s.authToken.requestStatus===1;)await kk(100),s=await Yg(e.appConfig);const a=s.authToken;return a.requestStatus===0?px(e,t):a}function Yg(e){return Wd(e,t=>{if(!Pk(t))throw Ra.create("not-registered");const s=t.authToken;return pE(s)?{...t,authToken:{requestStatus:0}}:t})}async function uE(e,t){try{const s=await lE(e,t),a={...t,authToken:s};return await od(e.appConfig,a),s}catch(s){if(fk(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await Ck(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await od(e.appConfig,a)}throw s}}function Pk(e){return e!==void 0&&e.registrationStatus===2}function mE(e){return e.requestStatus===2&&!hE(e)}function hE(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+U_}function xE(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function pE(e){return e.requestStatus===1&&e.requestTime+hk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(e){const t=e,{installationEntry:s,registrationPromise:a}=await xx(t);return a?a.catch(console.error):px(t).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(e,t=!1){const s=e;return await bE(s),(await px(s,t)).token}async function bE(e){const{registrationPromise:t}=await xx(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e){if(!e||!e.options)throw Zc("App Configuration");if(!e.name)throw Zc("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw Zc(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Zc(e){return Ra.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="installations",vE="installations-internal",jE=e=>{const t=e.getProvider("app").getImmediate(),s=yE(t),a=ux(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},kE=e=>{const t=e.getProvider("app").getImmediate(),s=ux(t,Ak).getImmediate();return{getId:()=>fE(s),getToken:n=>gE(s,n)}};function wE(){Ea(new Hs(Ak,jE,"PUBLIC")),Ea(new Hs(vE,kE,"PRIVATE"))}wE();Fs(mk,mx);Fs(mk,mx,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="/firebase-messaging-sw.js",SE="/firebase-cloud-messaging-push-scope",Ik="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",CE="https://fcmregistrations.googleapis.com/v1",Mk="google.c.a.c_id",TE="google.c.a.c_l",PE="google.c.a.ts",AE="google.c.a.e",Jg=1e4;var Xg;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Xg||(Xg={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var io;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(io||(io={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function IE(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="fcm_token_details_db",ME=5,Zg="fcm_token_object_Store";async function _E(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(eu))return null;let t=null;return(await zd(eu,ME,{upgrade:async(a,n,i,o)=>{if(n<2||!a.objectStoreNames.contains(Zg))return;const l=o.objectStore(Zg),d=await l.index("fcmSenderId").get(e);if(await l.clear(),!!d){if(n===2){const c=d;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:$r(c.vapidKey)}}}else if(n===3){const c=d;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:$r(c.auth),p256dh:$r(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:$r(c.vapidKey)}}}else if(n===4){const c=d;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:$r(c.auth),p256dh:$r(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:$r(c.vapidKey)}}}}}})).close(),await Kc(eu),await Kc("fcm_vapid_details_db"),await Kc("undefined"),EE(t)?t:null}function EE(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firebase-messaging-database",DE=1,oo="firebase-messaging-store";let tu=null;function _k(){return tu||(tu=zd(RE,DE,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(oo)}}})),tu}async function LE(e){const t=Ek(e),a=await(await _k()).transaction(oo).objectStore(oo).get(t);if(a)return a;{const n=await _E(e.appConfig.senderId);if(n)return await fx(e,n),n}}async function fx(e,t){const s=Ek(e),n=(await _k()).transaction(oo,"readwrite");return await n.objectStore(oo).put(t,s),await n.done,t}function Ek({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},bt=new Vd("messaging","Messaging",OE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FE(e,t){const s=await bx(e),a=Rk(t),n={method:"POST",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(gx(e.appConfig),n)).json()}catch(o){throw bt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw bt.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw bt.create("token-subscribe-no-token");return i.token}async function BE(e,t){const s=await bx(e),a=Rk(t.subscriptionOptions),n={method:"PATCH",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(`${gx(e.appConfig)}/${t.token}`,n)).json()}catch(o){throw bt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw bt.create("token-update-failed",{errorInfo:o})}if(!i.token)throw bt.create("token-update-no-token");return i.token}async function UE(e,t){const a={method:"DELETE",headers:await bx(e)};try{const i=await(await fetch(`${gx(e.appConfig)}/${t}`,a)).json();if(i.error){const o=i.error.message;throw bt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(n){throw bt.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function gx({projectId:e}){return`${CE}/projects/${e}/registrations`}async function bx({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function Rk({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const n={web:{endpoint:s,auth:t,p256dh:e}};return a!==Ik&&(n.web.applicationPubKey=a),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=7*24*60*60*1e3;async function VE(e){const t=await qE(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:$r(t.getKey("auth")),p256dh:$r(t.getKey("p256dh"))},a=await LE(e.firebaseDependencies);if(a){if(WE(a.subscriptionOptions,s))return Date.now()>=a.createTime+$E?zE(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await UE(e.firebaseDependencies,a.token)}catch(n){console.warn(n)}return e0(e.firebaseDependencies,s)}else return e0(e.firebaseDependencies,s)}async function zE(e,t){try{const s=await BE(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await fx(e.firebaseDependencies,a),s}catch(s){throw s}}async function e0(e,t){const a={token:await FE(e,t),createTime:Date.now(),subscriptionOptions:t};return await fx(e,a),a.token}async function qE(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:IE(t)})}function WE(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,n=t.auth===e.auth,i=t.p256dh===e.p256dh;return s&&a&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return HE(t,e),QE(t,e),GE(t,e),t}function HE(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const n=t.notification.image;n&&(e.notification.image=n);const i=t.notification.icon;i&&(e.notification.icon=i)}function QE(e,t){t.data&&(e.data=t.data)}function GE(e,t){var n,i,o,l;if(!t.fcmOptions&&!((n=t.notification)!=null&&n.click_action))return;e.fcmOptions={};const s=((i=t.fcmOptions)==null?void 0:i.link)??((o=t.notification)==null?void 0:o.click_action);s&&(e.fcmOptions.link=s);const a=(l=t.fcmOptions)==null?void 0:l.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(e){return typeof e=="object"&&!!e&&Mk in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(e){if(!e||!e.options)throw ru("App Configuration Object");if(!e.name)throw ru("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw ru(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function ru(e){return bt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=YE(t);this.firebaseDependencies={app:t,appConfig:n,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(e){try{e.swRegistration=await navigator.serviceWorker.register(NE,{scope:SE}),e.swRegistration.update().catch(()=>{}),await ZE(e.swRegistration)}catch(t){throw bt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function ZE(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${Jg} ms`)),Jg),n=e.installing||e.waiting;e.active?(clearTimeout(a),t()):n?n.onstatechange=i=>{var o;((o=i.target)==null?void 0:o.state)==="activated"&&(n.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(e,t){if(!t&&!e.swRegistration&&await XE(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ik)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(e,t){if(!navigator)throw bt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw bt.create("permission-blocked");return await tR(e,t==null?void 0:t.vapidKey),await eR(e,t==null?void 0:t.serviceWorkerRegistration),VE(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(e,t,s){const a=sR(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[Mk],message_name:s[TE],message_time:s[PE],message_device_time:Math.floor(Date.now()/1e3)})}function sR(e){switch(e){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===io.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(t0(s)):e.onMessageHandler.next(t0(s)));const a=s.data;KE(a)&&a[AE]==="1"&&await rR(e,s.messageType,a)}const r0="@firebase/messaging",s0="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=e=>{const t=new JE(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>aR(t,s)),t},iR=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>Dk(t,a)}};function oR(){Ea(new Hs("messaging",nR,"PUBLIC")),Ea(new Hs("messaging-internal",iR,"PRIVATE")),Fs(r0,s0),Fs(r0,s0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(){try{await ik()}catch{return!1}return typeof window<"u"&&nk()&&SM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(e,t){if(!navigator)throw bt.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e=C_()){return lR().then(t=>{if(!t)throw bt.create("unsupported-browser")},t=>{throw bt.create("indexed-db-unsupported")}),ux(dx(e),"messaging").getImmediate()}async function uR(e,t){return e=dx(e),Dk(e,t)}function mR(e,t){return e=dx(e),dR(e,t)}oR();const yx={apiKey:"AIzaSyD_zaEB4r9OdxRhqjh_3knPThewK0Xr98I",authDomain:"baptizo-community.firebaseapp.com",projectId:"baptizo-community",storageBucket:"baptizo-community.firebasestorage.app",messagingSenderId:"781281083216",appId:"1:781281083216:web:4236621528ef828ab03655",measurementId:"G-7LD94T1B5D"};if(!yx.projectId)throw new Error("Firebase projectId is required. Please set VITE_FIREBASE_PROJECT_ID in your .env.local file.");if(!yx.apiKey)throw new Error("Firebase apiKey is required. Please set VITE_FIREBASE_API_KEY in your .env.local file.");const hR=dk(yx),su=typeof window<"u"?cR(hR):null,a0="BGwc3-C9heX7WHfc8hJwJ08smI0rWbqoyoOXN1IoaHN33auBdJ7GIr82XZKUdl5MW9XZyElzyxIuMQA_J-xWhEE";function xR(){const{user:e}=X(),t=$(S.users.updateFcmToken),[s,a]=f.useState(typeof window<"u"?Notification.permission:"default");return f.useEffect(()=>{if(!e||!su||!a0)return;(async()=>{try{const o=await Notification.requestPermission();if(a(o),o==="granted"){const l=await uR(su,{vapidKey:a0});l&&(console.log("FCM Token:",l),await t({userId:e._id,fcmToken:l}))}}catch(o){console.error("Error setting up notifications:",o)}})();const i=mR(su,o=>{console.log("Foreground message received:",o),o.notification&&new Notification(o.notification.title||"New Notification",{body:o.notification.body,icon:o.notification.image||"/logo192.png"})});return()=>i()},[e,t]),{permissionStatus:s}}function pR(){const[e,t]=f.useState(null),[s,a]=f.useState(!1);f.useEffect(()=>{const o=l=>{l.preventDefault(),t(l),localStorage.getItem("pwa_dismissed")||a(!0)};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const n=async()=>{if(!e)return;a(!1),e.prompt();const{outcome:o}=await e.userChoice;console.log(`User response to the install prompt: ${o}`),t(null)},i=()=>{a(!1),localStorage.setItem("pwa_dismissed","true")};return s?r.jsx(se,{children:r.jsx(A.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-0 left-0 right-0 z-[100] p-4 md:p-6 flex justify-center pointer-events-none",children:r.jsxs("div",{className:"bg-white/90 dark:bg-gray-900/95 backdrop-blur-xl border border-light-border dark:border-dark-border shadow-2xl rounded-2xl p-4 w-[95%] max-w-sm pointer-events-auto relative overflow-hidden mx-auto mb-4 md:mb-6",children:[r.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-primary-500/20 rounded-full blur-2xl pointer-events-none"}),r.jsx("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 bg-secondary-500/20 rounded-full blur-2xl pointer-events-none"}),r.jsx("button",{onClick:i,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors z-10",children:r.jsx(Me,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"w-12 h-12 rounded-xl shadow-md mb-2"}),r.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Install Baptizo Application"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4 max-w-[90%]",children:"Get the best experience with offline access and real-time updates."}),r.jsxs("div",{className:"flex gap-2 w-full",children:[r.jsx(M,{variant:"outline",className:"flex-1 h-9 text-xs",onClick:i,children:"Not Now"}),r.jsxs(M,{className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white shadow-lg shadow-primary-500/25 h-9 text-xs",onClick:n,children:[r.jsx(xo,{className:"w-3 h-3 mr-1.5"}),"Install App"]})]})]})]})})}):null}function fR({users:e,selectedUserId:t,onSelect:s,label:a="Assign To"}){const[n,i]=f.useState(!1),[o,l]=f.useState(""),d=f.useRef(null),c=e.find(m=>m._id===t),u=e.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())||m.role.toLowerCase().includes(o.toLowerCase()));return f.useEffect(()=>{const m=x=>{d.current&&!d.current.contains(x.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),r.jsxs("div",{className:"w-full relative",ref:d,children:[a&&r.jsx("label",{className:"block text-sm font-medium mb-1.5 text-light-text dark:text-dark-text",children:a}),r.jsxs("button",{type:"button",onClick:()=>i(!n),className:`w-full flex items-center justify-between p-3 rounded-xl border transition-all ${n?"border-primary-500 ring-2 ring-primary-500/20 bg-light-card/80 dark:bg-dark-card/80":"border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg hover:border-primary-500/50"}`,children:[c?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:r.jsx("div",{className:"w-full h-full rounded-lg bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:c.avatarUrl?r.jsx("img",{src:c.avatarUrl,alt:c.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xs font-bold",children:c.name[0]})})}),r.jsxs("div",{className:"flex flex-col items-start leading-none",children:[r.jsx("span",{className:"font-semibold text-sm",children:c.name}),r.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted font-bold uppercase tracking-wider mt-0.5",children:c.role.replace("_"," ")})]})]}):r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Select a member..."}),r.jsx(Ge,{className:`w-5 h-5 text-light-muted dark:text-dark-muted transition-transform ${n?"rotate-180":""}`})]}),r.jsx(se,{children:n&&r.jsxs(A.div,{initial:{opacity:0,y:5,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"absolute top-full left-0 right-0 mt-2 z-50 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-xl border border-light-border/20 dark:border-dark-border/20 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-light-border/10 dark:border-dark-border/10",children:r.jsxs("div",{className:"relative",children:[r.jsx(lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",placeholder:"Search members...",value:o,onChange:m=>l(m.target.value),className:"w-full pl-9 pr-3 py-2 bg-light-bg/50 dark:bg-dark-bg/50 rounded-lg text-sm border-none focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0})]})}),r.jsx("div",{className:"max-h-[250px] overflow-y-auto thin-scrollbar p-1",children:u.length>0?u.map(m=>r.jsxs("button",{onClick:()=>{s(m._id),i(!1)},className:`w-full flex items-center justify-between p-2 rounded-lg transition-colors ${t===m._id?"bg-primary-500/10 text-primary-500":"hover:bg-light-bg/80 dark:hover:bg-dark-bg/80"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:r.jsx("div",{className:"w-full h-full rounded-lg bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:m.avatarUrl?r.jsx("img",{src:m.avatarUrl,alt:m.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xs font-bold",children:m.name[0]})})}),r.jsxs("div",{className:"flex flex-col items-start leading-none",children:[r.jsx("span",{className:"font-semibold text-sm",children:m.name}),r.jsx("span",{className:"text-[10px] opacity-70 font-bold uppercase tracking-wider mt-0.5",children:m.role.replace("_"," ")})]})]}),t===m._id&&r.jsx(ot,{className:"w-4 h-4"})]},m._id)):r.jsx("div",{className:"p-4 text-center text-sm text-light-muted dark:text-dark-muted",children:"No members found"})})]})})]})}function gR(){const{user:e,isLoading:t}=X(),s=ue(),a=$(S.boardTasks.createTask),[n,i]=f.useState(""),[o,l]=f.useState(""),[d,c]=f.useState("Ministry Assignment"),[u,m]=f.useState("medium"),[x,h]=f.useState(""),[g,y]=f.useState(""),[v,p]=f.useState(!1),b=B(S.users.getAllUsers,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),j=(b==null?void 0:b.filter(w=>w.role==="board_member"||w.role==="admin"||w.role==="super_admin"))||[];if(t)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[r.jsx(Kt,{}),r.jsx(_a,{count:4})]})});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Ae,{to:"/board",replace:!0});const k=async()=>{if(!(!n||!o||!x)){p(!0);try{await a({adminId:e._id,title:n,description:o,type:d,priority:u,assignedTo:x,dueDate:g?new Date(g).getTime():void 0}),s("/board/admin")}catch(w){console.error("Failed to create task:",w)}finally{p(!1)}}};return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Operation Command"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Issue Directive"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Formulate and deploy a new mission objective."})]}),r.jsxs(D,{glass:!0,className:"overflow-hidden border-primary-500/20",children:[r.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-500 via-secondary-500 to-primary-500"}),r.jsxs(F,{className:"p-8 md:p-12 space-y-10",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx(he,{label:"Directive Title",value:n,onChange:w=>i(w.target.value),placeholder:"State the core objective...",className:"text-lg font-bold h-14 rounded-2xl border-2 focus:border-primary-500 transition-all"}),r.jsx(ao,{label:"Operational Details",value:o,onChange:w=>l(w.target.value),rows:6,placeholder:"Elucidate the mission requirements and expected outcomes...",className:"rounded-[24px] border-2 focus:border-primary-500 transition-all p-6 text-base italic"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(Dr,{label:"Mission Classification",value:d,onChange:c,options:[{value:"Ministry Assignment",label:"Ministry Assignment"},{value:"Administrative",label:"Administrative"},{value:"Training",label:"Training"},{value:"Personal Development",label:"Personal Development"},{value:"Team Project",label:"Team Project"}]}),r.jsx(Dr,{label:"Intensity Priority",value:u,onChange:m,options:[{value:"low",label:"Low Priority"},{value:"medium",label:"Standard Priority"},{value:"high",label:"High Priority"},{value:"urgent",label:"Immediate Attention"}]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"relative z-40",children:r.jsx(fR,{users:j,selectedUserId:x,onSelect:h,label:"Assigned Personnel"})}),r.jsx(he,{type:"date",label:"Deadline Alignment",value:g,onChange:w=>y(w.target.value),className:"h-14 rounded-2xl border-2 focus:border-primary-500"})]}),r.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-4 pt-8",children:[r.jsx(M,{variant:"ghost",onClick:()=>s(-1),className:"h-14 px-8 rounded-2xl font-black text-[10px] uppercase tracking-widest border-2 hover:bg-light-muted/10",children:"Abort"}),r.jsx(M,{variant:"primary",onClick:k,disabled:v,className:"h-14 px-12 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl shadow-primary-500/40",children:v?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Deploying..."})]}):"Deploy Directive"})]})]})]})]})}function bR(){const{user:e,isLoading:t}=X(),s=ue(),a=$(S.training.createModule),n=B(S.training.getTrainingStats,e?{userId:e._id}:"skip"),[i,o]=f.useState(""),[l,d]=f.useState(""),[c,u]=f.useState("Leadership"),[m,x]=f.useState(""),[h,g]=f.useState(""),[y,v]=f.useState(""),[p,b]=f.useState(""),[j,k]=f.useState(!1);if(t)return r.jsx("div",{className:"flex justify-center p-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Ae,{to:"/board",replace:!0});const w=async()=>{if(!(!i||!l)){k(!0);try{const C=(n==null?void 0:n.totalModules)||0;await a({adminId:e._id,title:i,description:l,category:c,content:m,videoUrl:h||void 0,documentUrl:y||void 0,duration:p?parseInt(p):void 0,order:C+1}),s("/board/admin")}catch(C){console.error("Failed to create module:",C)}finally{k(!1)}}};return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-secondary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-secondary-500",children:"Wisdom Forge"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Author Wisdom"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Create a transformative learning experience for the board."})]}),r.jsxs(D,{glass:!0,className:"overflow-hidden border-secondary-500/20",children:[r.jsx("div",{className:"h-2 bg-gradient-to-r from-secondary-500 via-primary-500 to-secondary-500"}),r.jsxs(F,{className:"p-8 md:p-12 space-y-10",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx(he,{label:"Module Title",value:i,onChange:C=>o(C.target.value),placeholder:"Enter a compelling title...",className:"text-lg font-bold h-14 rounded-2xl border-2 focus:border-secondary-500 transition-all"}),r.jsx(ao,{label:"Executive Summary",value:l,onChange:C=>d(C.target.value),rows:2,placeholder:"What is the core essence of this wisdom?",className:"rounded-[24px] border-2 focus:border-secondary-500 transition-all p-6 text-base italic"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(Dr,{label:"Sector Category",value:c,onChange:u,options:[{value:"Leadership",label:"Leadership"},{value:"Ministry Skills",label:"Ministry Skills"},{value:"Spiritual Growth",label:"Spiritual Growth"},{value:"Technical Skills",label:"Technical Skills"},{value:"Team Building",label:"Team Building"}]}),r.jsx(he,{label:"Estimated Duration (MIN)",type:"number",value:p,onChange:C=>b(C.target.value),placeholder:"e.g., 30",className:"h-14 rounded-2xl border-2 focus:border-secondary-500"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-light-muted/60 ml-1",children:"Deep Content (Markdown/HTML Compatible)"}),r.jsx(ao,{value:m,onChange:C=>x(C.target.value),rows:10,placeholder:"<h2>Core Principles</h2><p>Synthesize the wisdom here...</p>",className:"rounded-[32px] border-2 focus:border-secondary-500 transition-all p-8 text-base font-mono bg-light-muted/5"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(he,{label:"Visual Transmission (Video URL)",value:h,onChange:C=>g(C.target.value),placeholder:"Embed URL (YT/Vimeo)...",className:"h-14 rounded-2xl border-2 focus:border-secondary-500"}),r.jsx(he,{label:"Resource Reference (Document URL)",value:y,onChange:C=>v(C.target.value),placeholder:"Cloud Link (Drive/Dropbox)...",className:"h-14 rounded-2xl border-2 focus:border-secondary-500"})]}),r.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-4 pt-8 border-t border-light-border dark:border-dark-border",children:[r.jsx(M,{variant:"ghost",onClick:()=>s(-1),className:"h-14 px-8 rounded-2xl font-black text-[10px] uppercase tracking-widest border-2 hover:bg-light-muted/10 transition-all",children:"Discard Draft"}),r.jsx(M,{variant:"primary",onClick:w,disabled:j,className:"h-14 px-12 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] bg-secondary-500 hover:bg-secondary-600 shadow-2xl shadow-secondary-500/40 border-none",children:j?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Forging Module..."})]}):"Authorize Wisdom"})]})]})]})]})}function yR(){const{user:e,isLoading:t}=X(),s=ue(),[a,n]=f.useState(()=>{const b=localStorage.getItem("teachings_activeTab");return b==="ancient"||b==="wisdom"?b:"wisdom"}),[i,o]=f.useState(0),[l,d]=f.useState(0),[c,u]=f.useState(()=>{const b=localStorage.getItem("ancientCulture_postsVisible");return b!==null?JSON.parse(b):!0}),[m,x]=f.useState(()=>{const b=localStorage.getItem("wisdomNow_postsVisible");return b!==null?JSON.parse(b):!0});if(f.useEffect(()=>{localStorage.setItem("teachings_activeTab",a)},[a]),f.useEffect(()=>{localStorage.setItem("ancientCulture_postsVisible",JSON.stringify(c))},[c]),f.useEffect(()=>{localStorage.setItem("wisdomNow_postsVisible",JSON.stringify(m))},[m]),t)return r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Kt,{}),r.jsx(Wj,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{}),r.jsx(Re,{})]})]})});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});const h=a==="ancient"?"Ancient Culture":"Wisdom of The Now",g=a==="ancient"?c:m,y=a==="ancient"?u:x,v=a==="ancient"?i:l,p=()=>{a==="ancient"?o(b=>b+1):d(b=>b+1)};return r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:Y("mb-6 md:mb-8 p-6 md:p-8 rounded-2xl border transition-all duration-300",a==="ancient"?"bg-gradient-to-br from-primary-500/10 via-primary-500/5 to-primary-600/10 border-primary-500/20":"bg-gradient-to-br from-secondary-500/10 via-secondary-500/5 to-secondary-600/10 border-secondary-500/20"),children:[r.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx(A.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:Y("w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0 transition-colors duration-300",a==="ancient"?"bg-primary-500 shadow-primary-500/30":"bg-secondary-500 shadow-secondary-500/30"),children:a==="ancient"?r.jsx(Ba,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}):r.jsx(Lr,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})},a),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:Y("text-2xl md:text-4xl font-bold font-display transition-colors duration-300",a==="ancient"?"text-primary-600 dark:text-primary-400":"text-secondary-600 dark:text-secondary-400"),children:a==="ancient"?"Ancient Culture":"Wisdom of The Now"}),r.jsx(lx,{title:a==="ancient"?"Ancient Culture":"Wisdom of The Now",content:a==="ancient"?"This section features teachings based on prophetic wisdom and systems from the Old Testament. Admin-created posts appear here for community learning and discussion.":"This section features teachings based on spiritual identity and insights from the New Testament. Engage with admin posts to deepen your understanding."})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:a==="ancient"?"Prophetic wisdom and systems from the Old Testament":"Spiritual identity and insights from the New Testament"})]})]}),r.jsx(A.button,{whileTap:{scale:.95},onClick:async()=>{const b=`${window.location.origin}/teachings`;navigator.share?await navigator.share({title:"Teachings - Baptizo",url:b}):(await navigator.clipboard.writeText(b),alert("Link copied to clipboard!"))},className:Y("p-2 rounded-lg transition-all flex-shrink-0",a==="ancient"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 text-primary-500":"hover:bg-secondary-100 dark:hover:bg-secondary-900/20 text-secondary-500"),title:"Share this page",children:r.jsx(Bn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex p-1 bg-light-bg/50 dark:bg-dark-bg/50 backdrop-blur-sm rounded-xl border border-light-border dark:border-dark-border mt-6 relative",children:[r.jsx(A.div,{layout:!0,className:Y("absolute top-1 bottom-1 rounded-lg bg-white dark:bg-dark-card shadow-sm z-0",a==="ancient"?"left-1 right-1/2":"left-1/2 right-1"),initial:!1,transition:{type:"spring",bounce:.2,duration:.6}}),r.jsx("button",{onClick:()=>n("wisdom"),className:Y("flex-1 py-2 text-sm md:text-base font-bold rounded-lg relative z-10 transition-colors duration-300",a==="wisdom"?"text-secondary-600 dark:text-secondary-400":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"),children:"Wisdom of The Now"}),r.jsx("button",{onClick:()=>n("ancient"),className:Y("flex-1 py-2 text-sm md:text-base font-bold rounded-lg relative z-10 transition-colors duration-300",a==="ancient"?"text-primary-600 dark:text-primary-400":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"),children:"Ancient Culture"})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx($d,{onSuccess:p,defaultCategory:h})}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ox,{isVisible:g,onToggle:()=>y(!g),category:h})}),g?r.jsxs("div",{children:[" ",r.jsx(Ud,{category:h,onlyOfficial:!0,onCommentClick:b=>s(`/post/${b._id}`)},`${a}-${v}`)]},a):r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Posts" to view them.'})})]})]})})}function vR(){const{user:e,isLoading:t}=X(),s=ue(),[a,n]=f.useState(null),i=B(S.settings.canUserCreatePosts,e!=null&&e._id?{userId:e._id}:"skip");if(t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return r.jsx(Ae,{to:"/login",replace:!0});const o=e.role==="admin"||e.role==="super_admin",l=()=>{s(o?"/teachings":"/feed")},d=()=>a==="question"?"question":a==="prayer"?"prayer":"general",c=()=>{if(a==="Ancient Culture"||a==="Wisdom of The Now")return a};return r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6 md:mb-8",children:[r.jsx("button",{onClick:()=>a?n(null):s(-1),className:"p-2 -ml-2 rounded-full hover:bg-light-card dark:hover:bg-dark-card transition-colors",children:r.jsx(yr,{className:"w-6 h-6 text-light-text dark:text-dark-text"})}),r.jsx("h1",{className:"text-2xl font-bold font-display text-light-text dark:text-dark-text",children:a?"Create Post":"Choose Category"})]}),r.jsx("div",{className:"space-y-6",children:a?r.jsx(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-light-bg dark:bg-dark-bg",children:r.jsx($d,{defaultCategory:c(),postType:d(),onSuccess:l,variant:"default"})}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:o?"Select the category where you want to share your thoughts.":"What would you like to share today?"}),r.jsxs("div",{className:"grid gap-4",children:[(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(A.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("Wisdom of The Now"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-secondary-500/20 bg-gradient-to-br from-secondary-500/5 to-secondary-500/10 hover:shadow-lg hover:shadow-secondary-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-secondary-500/10 text-secondary-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsx(Lr,{className:"w-8 h-8"}):r.jsx(st,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-secondary-600 dark:text-secondary-400":"text-gray-500 dark:text-gray-400"}`,children:"Wisdom of The Now"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Share spiritual insights and identity from the New Testament":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})(),(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(A.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("Ancient Culture"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-primary-500/10 hover:shadow-lg hover:shadow-primary-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-primary-500/10 text-primary-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsx(Ba,{className:"w-8 h-8"}):r.jsx(st,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`,children:"Ancient Culture"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Discuss prophetic wisdom from the Old Testament":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})(),(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(A.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("question"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-blue-500/20 bg-gradient-to-br from-blue-500/5 to-blue-500/10 hover:shadow-lg hover:shadow-blue-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-blue-500/10 text-blue-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("path",{d:"M12 17h.01"})]}):r.jsx(st,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:"Ask a Question"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Submit a question about a teaching or topic":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})(),(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(A.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("prayer"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-purple-500/20 bg-gradient-to-br from-purple-500/5 to-purple-500/10 hover:shadow-lg hover:shadow-purple-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-purple-500/10 text-purple-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M19 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M24 6h-6a2 2 0 0 0-2 2v10.17a3 3 0 0 1-.5 1.7l-2 2.83"}),r.jsx("path",{d:"M13 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M7 6h6a2 2 0 0 1 2 2v10.17a3 3 0 0 0 .5 1.7l2 2.83"})]}):r.jsx(st,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-purple-600 dark:text-purple-400":"text-gray-500 dark:text-gray-400"}`,children:"Prayer Point"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Share a prayer request with the community":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})()]}),!o&&(i==null?void 0:i.canCreate)===!1&&r.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 rounded-xl bg-orange-500/5 border border-orange-500/20 flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:r.jsx(st,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 font-display",children:"Post Creation Paused"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5 leading-relaxed",children:"This feature is currently inactive. It will be available once an administrator enables post creation permissions."})]})]})]})})]})})}function jR(){const{user:e}=X(),t=ue(),s=B(S.wordUnderPressure.getActivePassageStatus,e?{userId:e._id}:"skip"),a=$(S.wordUnderPressure.startAttempt),n=$(S.wordUnderPressure.getQuestion),i=$(S.wordUnderPressure.submitAnswer),[o,l]=f.useState("loading"),[d,c]=f.useState(""),[u,m]=f.useState(""),x=f.useRef(""),[h,g]=f.useState(20),[y,v]=f.useState(0),[p,b]=f.useState([]),[j,k]=f.useState(""),[w,C]=f.useState([]),[N,T]=f.useState(null),[_,P]=f.useState(null),[V,R]=f.useState(null),G=f.useRef(null),[ee,E]=f.useState(!0),L=f.useRef(!1);f.useEffect(()=>{s!==void 0&&ee&&(l("landing"),E(!1))},[s,ee]),f.useEffect(()=>{const Q=()=>{document.hidden&&(o==="viewing"||o==="answering")&&ie("Focus lost. Challenge failed.")};return document.addEventListener("visibilitychange",Q),()=>{document.removeEventListener("visibilitychange",Q)}},[o]);const ie=async Q=>{if(!L.current&&(L.current=!0,l("error"),c(Q),G.current&&clearInterval(G.current),V))try{await i({attemptId:V,selectedOptionId:"failed_focus_lost",userId:e==null?void 0:e._id})}catch(le){console.error("Failed to report failure",le)}},z=async()=>{if(!(!(s!=null&&s.hasActivePassage)||!e)){G.current&&clearInterval(G.current),L.current=!1;try{const Q=await a({userId:e._id});R(Q.attemptId),b(Q.textLines),v(Q.displayTime),l("viewing"),G.current=setInterval(()=>{v(le=>le<=1?(clearInterval(G.current),U(Q.attemptId),0):le-1)},1e3)}catch(Q){c(Q.message||"Failed to start"),l("error")}}},U=async Q=>{G.current&&clearInterval(G.current),b([]);try{l("loading"),await new Promise(de=>setTimeout(de,800));const le=await n({attemptId:Q,userId:e==null?void 0:e._id});k(le.question),C(le.options),v(le.timeLimit),l("answering"),L.current=!1,G.current=setInterval(()=>{v(de=>de<=1?(clearInterval(G.current),J(Q),0):de-1)},1e3)}catch(le){c(le.message||"Failed to fetch question"),l("error")}},J=async Q=>{if(!(L.current||o!=="answering")){L.current=!0,G.current&&clearInterval(G.current),l("error"),c("Time expired.");try{await i({attemptId:Q,selectedOptionId:"timeout",userId:e==null?void 0:e._id})}catch{}}},H=async Q=>{if(!(L.current||o!=="answering")){L.current=!0,T(Q),G.current&&clearInterval(G.current);try{const le=await i({attemptId:V,selectedOptionId:Q,userId:e==null?void 0:e._id});if(P({isCorrect:le.isCorrect||!1,participationRuby:le.participationRuby||0}),le.skipExplanation){l("result");return}l("explaining"),g(20),G.current&&clearInterval(G.current),G.current=setInterval(()=>{g(de=>de<=1?(clearInterval(G.current),ne(),0):de-1)},1e3)}catch(le){c(le.message||"Failed to submit answer"),l("error")}}},me=$(S.wordUnderPressure.submitExplanation),ne=async Q=>{if(G.current&&clearInterval(G.current),o==="result")return;const le=x.current;try{await me({attemptId:V,explanation:le,userId:e==null?void 0:e._id}),l("result")}catch(de){console.error(de),l("result")}};return s===void 0?r.jsx("div",{className:"min-h-screen bg-black/95 flex items-center justify-center text-white",children:"Loading..."}):r.jsx("div",{className:"min-h-screen bg-black text-white font-sans selection:bg-none",children:r.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col p-6 items-center justify-center relative",children:[r.jsxs("div",{className:"absolute top-6 left-0 w-full flex justify-between px-6 opacity-40",children:[r.jsx("span",{className:"text-[10px] tracking-[0.3em] font-medium uppercase text-emerald-500",children:"Word Under Pressure"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ye,{className:"w-3 h-3 text-emerald-400"}),r.jsx("span",{className:"text-[10px] font-mono font-medium text-emerald-200/50",children:s!=null&&s.rewardClaimed?"PRACTICE MODE":"MONTHLY CHALLENGE"})]})]}),o==="landing"&&r.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center w-full",children:[r.jsx("div",{className:"w-20 h-20 rounded-full border border-emerald-500/20 flex items-center justify-center mx-auto mb-8 bg-emerald-950/20 shadow-[0_0_40px_rgba(16,185,129,0.05)]",children:r.jsx(vr,{className:"w-8 h-8 text-emerald-400"})}),r.jsx("h1",{className:"text-4xl font-display font-light mb-2 tracking-tight",children:"Focus."}),r.jsx("p",{className:"text-emerald-200/40 text-sm mb-10 font-light",children:"Memorize the Word accurately."}),s!=null&&s.hasActivePassage?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-emerald-500/60 mb-10 font-mono tracking-[0.2em]",children:[r.jsx("span",{className:"bg-emerald-500/10 px-2 py-0.5 rounded",children:"FREE ENTRY"}),r.jsx("span",{className:"opacity-30",children:""}),r.jsx("span",{className:"bg-emerald-500/10 px-2 py-0.5 rounded",children:s.rewardClaimed?"PRACTICE ONLY":"WINNER: 11.5 RUBIES"})]}),s.hasAttempted&&r.jsxs("div",{className:"bg-emerald-950/40 border border-emerald-500/10 text-emerald-200/60 text-[10px] p-4 rounded-xl mb-6 font-mono leading-relaxed",children:[s.rewardClaimed?r.jsx("span",{className:"text-emerald-400",children:"Monthly reward claimed. "}):r.jsx("span",{children:"Participated. "}),"Improve your time to win the month! ",r.jsx("br",{}),s.bestTime?r.jsxs("span",{className:"text-emerald-400 mt-1 block",children:["Your Best: ",s.bestTime,"ms"]}):""]}),r.jsx(M,{className:"w-full h-16 bg-emerald-600 hover:bg-emerald-500 text-white tracking-[0.3em] text-xs font-bold shadow-[0_10px_30px_rgba(5,150,105,0.2)] transition-all active:scale-[0.98] rounded-2xl",onClick:z,children:s.hasAttempted?"RETRY CHALLENGE":"BEGIN CHALLENGE"}),r.jsxs("p",{className:"text-[10px] text-emerald-200/20 max-w-[220px] mx-auto leading-relaxed uppercase tracking-widest font-medium",children:["No interruptions. No screenshots.",r.jsx("br",{}),s.memoTime,"s study  ",s.recallTime,"s recall."]})]}):r.jsx(D,{className:"bg-emerald-950/20 border-emerald-500/10 backdrop-blur-xl",children:r.jsxs(F,{className:"p-8 text-center",children:[r.jsx(vr,{className:"w-12 h-12 text-emerald-500/10 mx-auto mb-4"}),r.jsx("h3",{className:"text-emerald-100 text-lg font-light mb-2",children:"No Active Challenge"}),r.jsx("p",{className:"text-emerald-200/30 text-xs mb-8 leading-relaxed",children:"The scribes are preparing the next monthly portion. Check back soon."}),r.jsx(M,{variant:"ghost",className:"w-full text-emerald-400/50 hover:text-emerald-300 hover:bg-emerald-500/5 text-xs tracking-widest uppercase font-bold",onClick:()=>t("/leaderboard"),children:"View Leaderboard"})]})})]}),o==="viewing"&&r.jsxs("div",{className:"w-full h-full flex flex-col justify-center select-none",onContextMenu:Q=>Q.preventDefault(),children:[r.jsx("div",{className:"mb-12 flex justify-center",children:r.jsxs("div",{className:"relative w-20 h-20 rounded-full border border-emerald-500/10 flex items-center justify-center bg-emerald-950/20",children:[r.jsx("span",{className:"font-mono text-3xl font-light text-emerald-400",children:y}),r.jsxs("svg",{className:"absolute w-full h-full -rotate-90",children:[r.jsx("circle",{cx:"40",cy:"40",r:"38",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-emerald-500/10"}),r.jsx("circle",{cx:"40",cy:"40",r:"38",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"238.7",strokeDashoffset:238.7-238.7*y/((s==null?void 0:s.memoTime)||20),className:"text-emerald-500 transition-all duration-1000 ease-linear shadow-[0_0_10px_rgba(16,185,129,0.5)]"})]})]})}),r.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-8 text-center",children:[r.jsx("div",{className:"space-y-4",children:p.map((Q,le)=>r.jsx("p",{className:"text-xl md:text-2xl font-serif text-emerald-50/90 leading-relaxed tracking-wide italic",children:Q},le))}),r.jsxs("div",{className:"pt-8 opacity-20",children:[r.jsx("div",{className:"h-px w-12 bg-emerald-500 mx-auto mb-4"}),r.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-emerald-200 font-medium",children:"Internalize"})]})]})]}),o==="answering"&&r.jsxs("div",{className:"w-full max-w-sm",children:[r.jsxs("div",{className:"mb-12 text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-4 px-4 py-2 bg-emerald-500/10 rounded-full border border-emerald-500/20 mb-8",children:[r.jsx(Je,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("span",{className:"font-mono text-lg font-medium text-emerald-400",children:[y,"s"]})]}),r.jsx("h2",{className:"text-2xl font-light leading-snug text-emerald-50 px-4",children:j})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.map(Q=>r.jsxs(M,{variant:"outline",className:Y("h-16 justify-start px-6 text-sm font-light tracking-wide rounded-2xl transition-all border-emerald-500/10 bg-emerald-950/10 hover:bg-emerald-500/10 hover:border-emerald-500/30",N===Q.id?"bg-emerald-500/20 border-emerald-500":"text-emerald-200/80"),onClick:()=>H(Q.id),children:[r.jsx("span",{className:"w-6 text-[10px] font-mono text-emerald-500/50 uppercase",children:Q.id}),r.jsx("span",{className:"flex-1 text-left",children:Q.text})]},Q.id))})]}),o==="explaining"&&r.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-4 px-4 py-2 bg-emerald-500/10 rounded-full border border-emerald-500/20 mb-8",children:[r.jsx(Je,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("span",{className:"font-mono text-lg font-medium text-emerald-400",children:[h,"s"]})]}),r.jsx("h2",{className:"text-2xl font-light mb-2 text-emerald-50",children:"Reasoning."}),r.jsx("p",{className:"text-emerald-200/40 text-sm",children:"Why did you choose this answer? Explain in less than 250 words."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("textarea",{className:"w-full h-40 p-4 rounded-2xl bg-emerald-950/20 border border-emerald-500/10 text-emerald-50 text-sm font-light leading-relaxed focus:outline-none focus:border-emerald-500/30 transition-all resize-none",placeholder:"Explain your logic...",value:u,onChange:Q=>{(Q.target.value.trim().split(/\s+/).filter(de=>de!=="").length<=250||Q.target.value.length<u.length)&&(m(Q.target.value),x.current=Q.target.value)},onPaste:Q=>{Q.preventDefault()}}),r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs("span",{className:Y("text-[10px] font-mono tracking-widest",u.trim().split(/\s+/).filter(Q=>Q!=="").length>240?"text-amber-500":"text-emerald-500/40"),children:[u.trim().split(/\s+/).filter(Q=>Q!=="").length," / 250 WORDS"]}),r.jsx(M,{className:"bg-emerald-600 hover:bg-emerald-500 text-white px-8 rounded-xl h-10 text-[10px] tracking-widest uppercase font-bold",onClick:()=>ne(),disabled:u.trim().length<5,children:"SUBMIT"})]})]})]}),o==="result"&&_&&r.jsxs(A.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center w-full",children:[_.isCorrect?r.jsxs("div",{className:"mb-10",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-6",children:r.jsx(ye,{className:"w-10 h-10 text-emerald-400"})}),r.jsx("h2",{className:"text-3xl font-display font-light mb-2",children:"Well Done."}),r.jsx("p",{className:"text-emerald-200/50 text-sm mb-10",children:"Focus rewarded."}),_.participationRuby>0?r.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-emerald-500/10 rounded-3xl border border-emerald-500/20 shadow-[0_10px_40px_rgba(16,185,129,0.1)]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Mh,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("span",{className:"text-4xl font-mono text-emerald-400",children:["+",_.participationRuby]})]}),r.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] text-emerald-500/60 font-bold",children:"Rubies Earned"})]}):r.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-emerald-950/40 rounded-3xl border border-white/5",children:[r.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-white/30 font-bold mb-1",children:"Practice Complete"}),r.jsx("p",{className:"text-[10px] text-emerald-500/40",children:"Monthly reward already claimed."})]})]}):r.jsxs("div",{className:"mb-10",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-6",children:r.jsx(vr,{className:"w-10 h-10 text-red-400"})}),r.jsx("h2",{className:"text-3xl font-display font-light mb-2 text-red-200",children:"Refocus."}),r.jsx("p",{className:"text-red-200/40 text-sm mb-10",children:"Try again to improve your standing."})]}),r.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[240px] mx-auto",children:[r.jsx(M,{className:"w-full h-14 bg-white text-emerald-950 hover:bg-emerald-50 rounded-2xl font-bold tracking-widest text-[10px] uppercase",onClick:()=>l("landing"),children:"Play Again"}),r.jsx(M,{variant:"outline",className:"w-full h-14 border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/5 rounded-2xl font-bold tracking-widest text-[10px] uppercase",onClick:()=>t("/leaderboard"),children:"Leaderboard"})]})]}),o==="error"&&r.jsxs("div",{className:"text-center w-full",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:r.jsx(Je,{className:"w-8 h-8 text-red-500"})}),r.jsx("h2",{className:"text-2xl font-light mb-4",children:"Interrupted."}),r.jsx("p",{className:"text-red-200/40 text-sm mb-10 bg-red-500/5 p-4 rounded-xl border border-red-500/10",children:d}),r.jsx(M,{className:"bg-emerald-600 hover:bg-emerald-500 text-white rounded-2xl px-8 h-12",onClick:()=>l("landing"),children:"Return to Start"})]})]})})}const kR=new B5("https://perceptive-kudu-144.convex.cloud");function wR(){const e=jt(),[t,s]=Er.useState(!0);if(xR(),Er.useEffect(()=>{const d=setTimeout(()=>s(!1),2e3);return()=>clearTimeout(d)},[]),t)return r.jsx(Yj,{});const a=e.pathname.startsWith("/admin")||e.pathname.startsWith("/board"),n=e.pathname==="/",o=!a&&["/feed","/ancient-culture","/wisdom-now","/teachings","/profile","/admin","/board","/notifications","/tasks","/leaderboard","/admin/reward-responses","/my-responses","/admin/responses","/post","/search","/banking","/chat"].some(d=>e.pathname.startsWith(d))&&e.pathname!=="/chat";return r.jsxs("div",{className:"flex flex-col min-h-screen",children:[!a&&e.pathname!=="/chat"&&r.jsx(MP,{}),!1,r.jsx("main",{className:`flex-1 ${!a&&e.pathname!=="/chat"?"pt-14 md:pt-20":""} ${o?"pb-20 md:pb-0":""}`,children:r.jsxs(Nc,{children:[r.jsx(Z,{path:"/",element:r.jsx(RP,{})}),r.jsx(Z,{path:"/login",element:r.jsx(LP,{})}),r.jsx(Z,{path:"/register",element:r.jsx($P,{})}),r.jsx(Z,{path:"/feed",element:r.jsx(U6,{})}),r.jsx(Z,{path:"/ancient-culture",element:r.jsx(V6,{})}),r.jsx(Z,{path:"/wisdom-now",element:r.jsx(z6,{})}),r.jsx(Z,{path:"/profile",element:r.jsx(X6,{})}),r.jsx(Z,{path:"/profile/followers",element:r.jsx(Jo,{})}),r.jsx(Z,{path:"/profile/following",element:r.jsx(Jo,{})}),r.jsx(Z,{path:"/profile/:userId/followers",element:r.jsx(Jo,{})}),r.jsx(Z,{path:"/profile/:userId/following",element:r.jsx(Jo,{})}),r.jsx(Z,{path:"/saved-posts",element:r.jsx($6,{})}),r.jsx(Z,{path:"/admin/*",element:r.jsx(Fg,{children:r.jsxs(Nc,{children:[r.jsx(Z,{index:!0,element:r.jsx(Z6,{})}),r.jsx(Z,{path:"banking",element:r.jsx(sI,{})}),r.jsx(Z,{path:"master-pool",element:r.jsx(uI,{})}),r.jsx(Z,{path:"announcements",element:r.jsx(xI,{})}),r.jsx(Z,{path:"polls",element:r.jsx(pI,{})}),r.jsx(Z,{path:"diamond-challenge",element:r.jsx(lI,{})}),r.jsx(Z,{path:"questions",element:r.jsx(dI,{})}),r.jsx(Z,{path:"user-tags",element:r.jsx(cI,{})}),r.jsx(Z,{path:"contacts",element:r.jsx(gI,{})}),r.jsx(Z,{path:"settings",element:r.jsx(hI,{})}),r.jsx(Z,{path:"roles",element:r.jsx(DI,{})}),r.jsx(Z,{path:"user/:userId",element:r.jsx(LI,{})})]})})}),r.jsx(Z,{path:"/my-responses",element:r.jsx(bI,{})}),r.jsx(Z,{path:"/banking",element:r.jsx(hM,{})}),r.jsx(Z,{path:"/tasks",element:r.jsx(tI,{})}),r.jsx(Z,{path:"/leaderboard",element:r.jsx(vI,{})}),r.jsx(Z,{path:"/notifications",element:r.jsx(eI,{})}),r.jsx(Z,{path:"/setup",element:r.jsx(rI,{})}),r.jsx(Z,{path:"/search",element:r.jsx(SI,{})}),r.jsx(Z,{path:"/member-onboarding",element:r.jsx(oM,{})}),r.jsx(Z,{path:"/board/*",element:r.jsx(Fg,{children:r.jsxs(Nc,{children:[r.jsx(Z,{index:!0,element:r.jsx(FI,{})}),r.jsx(Z,{path:"tasks",element:r.jsx(BI,{})}),r.jsx(Z,{path:"task/new",element:r.jsx(gR,{})}),r.jsx(Z,{path:"training",element:r.jsx(UI,{})}),r.jsx(Z,{path:"training/new",element:r.jsx(bR,{})}),r.jsx(Z,{path:"attendance",element:r.jsx(XI,{})}),r.jsx(Z,{path:"finance",element:r.jsx(ZI,{})}),r.jsx(Z,{path:"contributions",element:r.jsx(iM,{})}),r.jsx(Z,{path:"admin",element:r.jsx(JI,{})})]})})}),r.jsx(Z,{path:"/profile/:userId",element:r.jsx(CI,{})}),r.jsx(Z,{path:"/about",element:r.jsx(TI,{})}),r.jsx(Z,{path:"/privacy",element:r.jsx(PI,{})}),r.jsx(Z,{path:"/terms",element:r.jsx(AI,{})}),r.jsx(Z,{path:"/contact",element:r.jsx(II,{})}),r.jsx(Z,{path:"/faq",element:r.jsx(_I,{})}),r.jsx(Z,{path:"/guidelines",element:r.jsx(RI,{})}),r.jsx(Z,{path:"/post/:postId/responses",element:r.jsx(kI,{})}),r.jsx(Z,{path:"/post/:postId",element:r.jsx(NI,{})}),r.jsx(Z,{path:"/official-response/:postId",element:r.jsx(lM,{})}),r.jsx(Z,{path:"/teachings",element:r.jsx(yR,{})}),r.jsx(Z,{path:"/create-post",element:r.jsx(vR,{})}),r.jsx(Z,{path:"/announcement/:id",element:r.jsx(OI,{})}),r.jsx(Z,{path:"/chat",element:r.jsx(Jj,{})}),r.jsx(Z,{path:"/diamond-challenge",element:r.jsx(jR,{})})]})}),n&&r.jsx(_P,{}),o&&r.jsx(EP,{})]})}function NR(){return r.jsx(U5,{client:kR,children:r.jsx(e4,{children:r.jsx(r4,{children:r.jsx(YT,{children:r.jsxs(p2,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[r.jsx(pR,{}),r.jsx(wR,{})]})})})})})}au.createRoot(document.getElementById("root")).render(r.jsx(Er.StrictMode,{children:r.jsx(NR,{})}));
//# sourceMappingURL=index-C5ftJiym.js.map
