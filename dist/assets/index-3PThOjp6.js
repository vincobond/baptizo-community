function xb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function yb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sg={exports:{}},Mo={},ig={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ki=Symbol.for("react.element"),vb=Symbol.for("react.portal"),bb=Symbol.for("react.fragment"),wb=Symbol.for("react.strict_mode"),kb=Symbol.for("react.profiler"),jb=Symbol.for("react.provider"),Nb=Symbol.for("react.context"),Sb=Symbol.for("react.forward_ref"),Cb=Symbol.for("react.suspense"),Tb=Symbol.for("react.memo"),Pb=Symbol.for("react.lazy"),$h=Symbol.iterator;function Ab(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},og=Object.assign,lg={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=lg,this.updater=r||ag}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cg(){}cg.prototype=Ss.prototype;function Qu(e,t,r){this.props=e,this.context=t,this.refs=lg,this.updater=r||ag}var Gu=Qu.prototype=new cg;Gu.constructor=Qu;og(Gu,Ss.prototype);Gu.isPureReactComponent=!0;var zh=Array.isArray,ug=Object.prototype.hasOwnProperty,Ku={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function hg(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ug.call(t,n)&&!dg.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ki,type:e,key:a,ref:o,props:s,_owner:Ku.current}}function Eb(e,t){return{$$typeof:Ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ki}function Ib(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uh=/\/+/g;function gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ib(""+e.key):t.toString(36)}function Ia(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ki:case vb:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+gl(o,0):n,zh(s)?(r="",e!=null&&(r=e.replace(Uh,"$&/")+"/"),Ia(s,t,r,"",function(u){return u})):s!=null&&(Yu(s)&&(s=Eb(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",zh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+gl(a,l);o+=Ia(a,t,r,c,s)}else if(c=Ab(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+gl(a,l++),o+=Ia(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ia(e,t,r){if(e==null)return e;var n=[],s=0;return Ia(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Rb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Ra={transition:null},_b={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Ra,ReactCurrentOwner:Ku};function fg(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ia,forEach:function(e,t,r){ia(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ia(e,function(){t++}),t},toArray:function(e){return ia(e,function(t){return t})||[]},only:function(e){if(!Yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Ss;H.Fragment=bb;H.Profiler=kb;H.PureComponent=Qu;H.StrictMode=wb;H.Suspense=Cb;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b;H.act=fg;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=og({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ku.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ug.call(t,c)&&!dg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ki,type:e.type,key:s,ref:a,props:n,_owner:o}};H.createContext=function(e){return e={$$typeof:Nb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jb,_context:e},e.Consumer=e};H.createElement=hg;H.createFactory=function(e){var t=hg.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Sb,render:e}};H.isValidElement=Yu;H.lazy=function(e){return{$$typeof:Pb,_payload:{_status:-1,_result:e},_init:Rb}};H.memo=function(e,t){return{$$typeof:Tb,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ra.transition;Ra.transition={};try{e()}finally{Ra.transition=t}};H.unstable_act=fg;H.useCallback=function(e,t){return Ke.current.useCallback(e,t)};H.useContext=function(e){return Ke.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ke.current.useEffect(e,t)};H.useId=function(){return Ke.current.useId()};H.useImperativeHandle=function(e,t,r){return Ke.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ke.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ke.current.useReducer(e,t,r)};H.useRef=function(e){return Ke.current.useRef(e)};H.useState=function(e){return Ke.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ke.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ke.current.useTransition()};H.version="18.3.1";ig.exports=H;var b=ig.exports;const ir=yb(b),Mb=xb({__proto__:null,default:ir},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=b,Lb=Symbol.for("react.element"),Ob=Symbol.for("react.fragment"),Fb=Object.prototype.hasOwnProperty,Vb=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bb={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Fb.call(t,n)&&!Bb.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Lb,type:e,key:a,ref:o,props:s,_owner:Vb.current}}Mo.Fragment=Ob;Mo.jsx=mg;Mo.jsxs=mg;sg.exports=Mo;var i=sg.exports,Nc={},pg={exports:{}},dt={},gg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var B=P.length;P.push(F);e:for(;0<B;){var M=B-1>>>1,te=P[M];if(0<s(te,F))P[M]=F,P[B]=te,B=M;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var F=P[0],B=P.pop();if(B!==F){P[0]=B;e:for(var M=0,te=P.length,St=te>>>1;M<St;){var ze=2*(M+1)-1,gr=P[ze],Ue=ze+1,qt=P[Ue];if(0>s(gr,B))Ue<te&&0>s(qt,gr)?(P[M]=qt,P[Ue]=B,M=Ue):(P[M]=gr,P[ze]=B,M=ze);else if(Ue<te&&0>s(qt,B))P[M]=qt,P[Ue]=B,M=Ue;else break e}}return F}function s(P,F){var B=P.sortIndex-F.sortIndex;return B!==0?B:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=P)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function k(P){if(v=!1,m(P),!y)if(r(c)!==null)y=!0,K(j);else{var F=r(u);F!==null&&ke(k,F.startTime-P)}}function j(P,F){y=!1,v&&(v=!1,p(C),C=-1),g=!0;var B=f;try{for(m(F),h=r(c);h!==null&&(!(h.expirationTime>F)||P&&!_());){var M=h.callback;if(typeof M=="function"){h.callback=null,f=h.priorityLevel;var te=M(h.expirationTime<=F);F=e.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&n(c),m(F)}else n(c);h=r(c)}if(h!==null)var St=!0;else{var ze=r(u);ze!==null&&ke(k,ze.startTime-F),St=!1}return St}finally{h=null,f=B,g=!1}}var N=!1,S=null,C=-1,I=5,L=-1;function _(){return!(e.unstable_now()-L<I)}function O(){if(S!==null){var P=e.unstable_now();L=P;var F=!0;try{F=S(!0,P)}finally{F?se():(N=!1,S=null)}}else N=!1}var se;if(typeof x=="function")se=function(){x(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ft=Q.port2;Q.port1.onmessage=O,se=function(){ft.postMessage(null)}}else se=function(){w(O,0)};function K(P){S=P,N||(N=!0,se())}function ke(P,F){C=w(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,K(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var B=f;f=F;try{return P()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return F()}finally{f=B}},e.unstable_scheduleCallback=function(P,F,B){var M=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?M+B:M):B=M,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,P={id:d++,callback:F,priorityLevel:P,startTime:B,expirationTime:te,sortIndex:-1},B>M?(P.sortIndex=B,t(u,P),r(c)===null&&P===r(u)&&(v?(p(C),C=-1):v=!0,ke(k,B-M))):(P.sortIndex=te,t(c,P),y||g||(y=!0,K(j))),P},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(P){var F=f;return function(){var B=f;f=F;try{return P.apply(this,arguments)}finally{f=B}}}})(xg);gg.exports=xg;var $b=gg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb=b,ct=$b;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yg=new Set,xi={};function Mn(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(xi[e]=t,e=0;e<t.length;e++)yg.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,Ub=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qh={},Wh={};function qb(e){return Sc.call(Wh,e)?!0:Sc.call(qh,e)?!1:Ub.test(e)?Wh[e]=!0:(qh[e]=!0,!1)}function Wb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hb(e,t,r,n){if(t===null||typeof t>"u"||Wb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xu=/[\-:]([a-z])/g;function Ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xu,Ju);Me[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xu,Ju);Me[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xu,Ju);Me[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zu(e,t,r,n){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hb(t,r,s,n)&&(r=null),n||s===null?qb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hr=zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aa=Symbol.for("react.element"),$n=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),Cc=Symbol.for("react.profiler"),vg=Symbol.for("react.provider"),bg=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),Tc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),wg=Symbol.for("react.offscreen"),Hh=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,xl;function Ks(e){if(xl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xl=t&&t[1]||""}return`
`+xl+e}var yl=!1;function vl(e,t){if(!e||yl)return"";yl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ks(e):""}function Qb(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=vl(e.type,!1),e;case 11:return e=vl(e.type.render,!1),e;case 1:return e=vl(e.type,!0),e;default:return""}}function Ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case $n:return"Portal";case Cc:return"Profiler";case ed:return"StrictMode";case Tc:return"Suspense";case Pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bg:return(e.displayName||"Context")+".Consumer";case vg:return(e._context.displayName||"Context")+".Provider";case td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rd:return t=e.displayName||null,t!==null?t:Ac(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return Ac(e(t))}catch{}}return null}function Gb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ac(t);case 8:return t===ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kb(e){var t=kg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oa(e){e._valueTracker||(e._valueTracker=Kb(e))}function jg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ec(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ng(e,t){t=t.checked,t!=null&&Zu(e,"checked",t,!1)}function Ic(e,t){Ng(e,t);var r=zr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rc(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rc(e,t,r){(t!=="number"||Ga(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ys=Array.isArray;function ss(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _c(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Ys(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zr(r)}}function Sg(e,t){var r=zr(t.value),n=zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var la,Tg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(la=la||document.createElement("div"),la.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=la.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yb=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(e){Yb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ti[t]=ti[e]})});function Pg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ti.hasOwnProperty(e)&&ti[e]?(""+t).trim():t+"px"}function Ag(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Xb=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(e,t){if(t){if(Xb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Lc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=null;function nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fc=null,is=null,as=null;function Xh(e){if(e=Ji(e)){if(typeof Fc!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Vo(t),Fc(e.stateNode,e.type,t))}}function Eg(e){is?as?as.push(e):as=[e]:is=e}function Ig(){if(is){var e=is,t=as;if(as=is=null,Xh(e),t)for(e=0;e<t.length;e++)Xh(t[e])}}function Rg(e,t){return e(t)}function _g(){}var bl=!1;function Mg(e,t,r){if(bl)return e(t,r);bl=!0;try{return Rg(e,t,r)}finally{bl=!1,(is!==null||as!==null)&&(_g(),Ig())}}function vi(e,t){var r=e.stateNode;if(r===null)return null;var n=Vo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Vc=!1;if(ar)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Vc=!1}function Jb(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ri=!1,Ka=null,Ya=!1,Bc=null,Zb={onError:function(e){ri=!0,Ka=e}};function ew(e,t,r,n,s,a,o,l,c){ri=!1,Ka=null,Jb.apply(Zb,arguments)}function tw(e,t,r,n,s,a,o,l,c){if(ew.apply(this,arguments),ri){if(ri){var u=Ka;ri=!1,Ka=null}else throw Error(T(198));Ya||(Ya=!0,Bc=u)}}function Dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Dg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(Dn(e)!==e)throw Error(T(188))}function rw(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Jh(s),e;if(a===n)return Jh(s),t;a=a.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Lg(e){return e=rw(e),e!==null?Og(e):null}function Og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Og(e);if(t!==null)return t;e=e.sibling}return null}var Fg=ct.unstable_scheduleCallback,Zh=ct.unstable_cancelCallback,nw=ct.unstable_shouldYield,sw=ct.unstable_requestPaint,pe=ct.unstable_now,iw=ct.unstable_getCurrentPriorityLevel,sd=ct.unstable_ImmediatePriority,Vg=ct.unstable_UserBlockingPriority,Xa=ct.unstable_NormalPriority,aw=ct.unstable_LowPriority,Bg=ct.unstable_IdlePriority,Do=null,Bt=null;function ow(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:uw,lw=Math.log,cw=Math.LN2;function uw(e){return e>>>=0,e===0?32:31-(lw(e)/cw|0)|0}var ca=64,ua=4194304;function Xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ja(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Xs(l):(a&=o,a!==0&&(n=Xs(a)))}else o=r&~s,o!==0?n=Xs(o):a!==0&&(n=Xs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Et(t),s=1<<r,n|=e[r],t&=~s;return n}function dw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Et(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=dw(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function $c(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $g(){var e=ca;return ca<<=1,!(ca&4194240)&&(ca=64),e}function wl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=r}function fw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Et(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function id(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Et(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function zg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ug,ad,qg,Wg,Hg,zc=!1,da=[],Er=null,Ir=null,Rr=null,bi=new Map,wi=new Map,Nr=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ef(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Os(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ji(t),t!==null&&ad(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pw(e,t,r,n,s){switch(t){case"focusin":return Er=Os(Er,e,t,r,n,s),!0;case"dragenter":return Ir=Os(Ir,e,t,r,n,s),!0;case"mouseover":return Rr=Os(Rr,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return bi.set(a,Os(bi.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,wi.set(a,Os(wi.get(a)||null,e,t,r,n,s)),!0}return!1}function Qg(e){var t=hn(e.target);if(t!==null){var r=Dn(t);if(r!==null){if(t=r.tag,t===13){if(t=Dg(r),t!==null){e.blockedOn=t,Hg(e.priority,function(){qg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _a(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Uc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Oc=n,r.target.dispatchEvent(n),Oc=null}else return t=Ji(r),t!==null&&ad(t),e.blockedOn=r,!1;t.shift()}return!0}function tf(e,t,r){_a(e)&&r.delete(t)}function gw(){zc=!1,Er!==null&&_a(Er)&&(Er=null),Ir!==null&&_a(Ir)&&(Ir=null),Rr!==null&&_a(Rr)&&(Rr=null),bi.forEach(tf),wi.forEach(tf)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,gw)))}function ki(e){function t(s){return Fs(s,e)}if(0<da.length){Fs(da[0],e);for(var r=1;r<da.length;r++){var n=da[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Er!==null&&Fs(Er,e),Ir!==null&&Fs(Ir,e),Rr!==null&&Fs(Rr,e),bi.forEach(t),wi.forEach(t),r=0;r<Nr.length;r++)n=Nr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nr.length&&(r=Nr[0],r.blockedOn===null);)Qg(r),r.blockedOn===null&&Nr.shift()}var os=hr.ReactCurrentBatchConfig,Za=!0;function xw(e,t,r,n){var s=J,a=os.transition;os.transition=null;try{J=1,od(e,t,r,n)}finally{J=s,os.transition=a}}function yw(e,t,r,n){var s=J,a=os.transition;os.transition=null;try{J=4,od(e,t,r,n)}finally{J=s,os.transition=a}}function od(e,t,r,n){if(Za){var s=Uc(e,t,r,n);if(s===null)Il(e,t,n,eo,r),ef(e,n);else if(pw(s,e,t,r,n))n.stopPropagation();else if(ef(e,n),t&4&&-1<mw.indexOf(e)){for(;s!==null;){var a=Ji(s);if(a!==null&&Ug(a),a=Uc(e,t,r,n),a===null&&Il(e,t,n,eo,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Il(e,t,n,null,r)}}var eo=null;function Uc(e,t,r,n){if(eo=null,e=nd(n),e=hn(e),e!==null)if(t=Dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Dg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eo=e,null}function Gg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iw()){case sd:return 1;case Vg:return 4;case Xa:case aw:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var Cr=null,ld=null,Ma=null;function Kg(){if(Ma)return Ma;var e,t=ld,r=t.length,n,s="value"in Cr?Cr.value:Cr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ma=s.slice(e,1<n?1-n:void 0)}function Da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function rf(){return!1}function ht(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ha:rf,this.isPropagationStopped=rf,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cd=ht(Cs),Xi=fe({},Cs,{view:0,detail:0}),vw=ht(Xi),kl,jl,Vs,Lo=fe({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(kl=e.screenX-Vs.screenX,jl=e.screenY-Vs.screenY):jl=kl=0,Vs=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),nf=ht(Lo),bw=fe({},Lo,{dataTransfer:0}),ww=ht(bw),kw=fe({},Xi,{relatedTarget:0}),Nl=ht(kw),jw=fe({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nw=ht(jw),Sw=fe({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cw=ht(Sw),Tw=fe({},Cs,{data:0}),sf=ht(Tw),Pw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ew[e])?!!t[e]:!1}function ud(){return Iw}var Rw=fe({},Xi,{key:function(e){if(e.key){var t=Pw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Aw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?Da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_w=ht(Rw),Mw=fe({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),af=ht(Mw),Dw=fe({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),Lw=ht(Dw),Ow=fe({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fw=ht(Ow),Vw=fe({},Lo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bw=ht(Vw),$w=[9,13,27,32],dd=ar&&"CompositionEvent"in window,ni=null;ar&&"documentMode"in document&&(ni=document.documentMode);var zw=ar&&"TextEvent"in window&&!ni,Yg=ar&&(!dd||ni&&8<ni&&11>=ni),of=" ",lf=!1;function Xg(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function Uw(e,t){switch(e){case"compositionend":return Jg(t);case"keypress":return t.which!==32?null:(lf=!0,of);case"textInput":return e=t.data,e===of&&lf?null:e;default:return null}}function qw(e,t){if(Un)return e==="compositionend"||!dd&&Xg(e,t)?(e=Kg(),Ma=ld=Cr=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yg&&t.locale!=="ko"?null:t.data;default:return null}}var Ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ww[e.type]:t==="textarea"}function Zg(e,t,r,n){Eg(n),t=to(t,"onChange"),0<t.length&&(r=new cd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var si=null,ji=null;function Hw(e){ux(e,0)}function Oo(e){var t=Hn(e);if(jg(t))return e}function Qw(e,t){if(e==="change")return t}var ex=!1;if(ar){var Sl;if(ar){var Cl="oninput"in document;if(!Cl){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),Cl=typeof uf.oninput=="function"}Sl=Cl}else Sl=!1;ex=Sl&&(!document.documentMode||9<document.documentMode)}function df(){si&&(si.detachEvent("onpropertychange",tx),ji=si=null)}function tx(e){if(e.propertyName==="value"&&Oo(ji)){var t=[];Zg(t,ji,e,nd(e)),Mg(Hw,t)}}function Gw(e,t,r){e==="focusin"?(df(),si=t,ji=r,si.attachEvent("onpropertychange",tx)):e==="focusout"&&df()}function Kw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(ji)}function Yw(e,t){if(e==="click")return Oo(t)}function Xw(e,t){if(e==="input"||e==="change")return Oo(t)}function Jw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Jw;function Ni(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Sc.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var r=hf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hf(r)}}function rx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nx(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ga(e.document)}return t}function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zw(e){var t=nx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rx(r.ownerDocument.documentElement,r)){if(n!==null&&hd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=ff(r,a);var o=ff(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ek=ar&&"documentMode"in document&&11>=document.documentMode,qn=null,qc=null,ii=null,Wc=!1;function mf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wc||qn==null||qn!==Ga(n)||(n=qn,"selectionStart"in n&&hd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ii&&Ni(ii,n)||(ii=n,n=to(qc,"onSelect"),0<n.length&&(t=new cd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qn)))}function fa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wn={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},Tl={},sx={};ar&&(sx=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Fo(e){if(Tl[e])return Tl[e];if(!Wn[e])return e;var t=Wn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sx)return Tl[e]=t[r];return e}var ix=Fo("animationend"),ax=Fo("animationiteration"),ox=Fo("animationstart"),lx=Fo("transitionend"),cx=new Map,pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){cx.set(e,t),Mn(t,[e])}for(var Pl=0;Pl<pf.length;Pl++){var Al=pf[Pl],tk=Al.toLowerCase(),rk=Al[0].toUpperCase()+Al.slice(1);Kr(tk,"on"+rk)}Kr(ix,"onAnimationEnd");Kr(ax,"onAnimationIteration");Kr(ox,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(lx,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function gf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tw(n,t,void 0,e),e.currentTarget=null}function ux(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;gf(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;gf(s,l,u),a=c}}}if(Ya)throw e=Bc,Ya=!1,Bc=null,e}function ae(e,t){var r=t[Yc];r===void 0&&(r=t[Yc]=new Set);var n=e+"__bubble";r.has(n)||(dx(t,e,2,!1),r.add(n))}function El(e,t,r){var n=0;t&&(n|=4),dx(r,e,n,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[ma]){e[ma]=!0,yg.forEach(function(r){r!=="selectionchange"&&(nk.has(r)||El(r,!1,e),El(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,El("selectionchange",!1,t))}}function dx(e,t,r,n){switch(Gg(t)){case 1:var s=xw;break;case 4:s=yw;break;default:s=od}r=s.bind(null,t,r,e),s=void 0,!Vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Il(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Mg(function(){var u=a,d=nd(r),h=[];e:{var f=cx.get(e);if(f!==void 0){var g=cd,y=e;switch(e){case"keypress":if(Da(r)===0)break e;case"keydown":case"keyup":g=_w;break;case"focusin":y="focus",g=Nl;break;case"focusout":y="blur",g=Nl;break;case"beforeblur":case"afterblur":g=Nl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Lw;break;case ix:case ax:case ox:g=Nw;break;case lx:g=Fw;break;case"scroll":g=vw;break;case"wheel":g=Bw;break;case"copy":case"cut":case"paste":g=Cw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=af}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var x=u,m;x!==null;){m=x;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,p!==null&&(k=vi(x,p),k!=null&&v.push(Ci(x,k,m)))),w)break;x=x.return}0<v.length&&(f=new g(f,y,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Oc&&(y=r.relatedTarget||r.fromElement)&&(hn(y)||y[or]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?hn(y):null,y!==null&&(w=Dn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=nf,k="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=af,k="onPointerLeave",p="onPointerEnter",x="pointer"),w=g==null?f:Hn(g),m=y==null?f:Hn(y),f=new v(k,x+"leave",g,r,d),f.target=w,f.relatedTarget=m,k=null,hn(d)===u&&(v=new v(p,x+"enter",y,r,d),v.target=m,v.relatedTarget=w,k=v),w=k,g&&y)t:{for(v=g,p=y,x=0,m=v;m;m=Vn(m))x++;for(m=0,k=p;k;k=Vn(k))m++;for(;0<x-m;)v=Vn(v),x--;for(;0<m-x;)p=Vn(p),m--;for(;x--;){if(v===p||p!==null&&v===p.alternate)break t;v=Vn(v),p=Vn(p)}v=null}else v=null;g!==null&&xf(h,f,g,v,!1),y!==null&&w!==null&&xf(h,w,y,v,!0)}}e:{if(f=u?Hn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=Qw;else if(cf(f))if(ex)j=Xw;else{j=Kw;var N=Gw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Yw);if(j&&(j=j(e,u))){Zg(h,j,r,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Rc(f,"number",f.value)}switch(N=u?Hn(u):window,e){case"focusin":(cf(N)||N.contentEditable==="true")&&(qn=N,qc=u,ii=null);break;case"focusout":ii=qc=qn=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,mf(h,r,d);break;case"selectionchange":if(ek)break;case"keydown":case"keyup":mf(h,r,d)}var S;if(dd)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Un?Xg(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Yg&&r.locale!=="ko"&&(Un||C!=="onCompositionStart"?C==="onCompositionEnd"&&Un&&(S=Kg()):(Cr=d,ld="value"in Cr?Cr.value:Cr.textContent,Un=!0)),N=to(u,C),0<N.length&&(C=new sf(C,e,null,r,d),h.push({event:C,listeners:N}),S?C.data=S:(S=Jg(r),S!==null&&(C.data=S)))),(S=zw?Uw(e,r):qw(e,r))&&(u=to(u,"onBeforeInput"),0<u.length&&(d=new sf("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}ux(h,t)})}function Ci(e,t,r){return{instance:e,listener:t,currentTarget:r}}function to(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=vi(e,r),a!=null&&n.unshift(Ci(e,a,s)),a=vi(e,t),a!=null&&n.push(Ci(e,a,s))),e=e.return}return n}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xf(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=vi(r,a),c!=null&&o.unshift(Ci(r,c,l))):s||(c=vi(r,a),c!=null&&o.push(Ci(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sk=/\r\n?/g,ik=/\u0000|\uFFFD/g;function yf(e){return(typeof e=="string"?e:""+e).replace(sk,`
`).replace(ik,"")}function pa(e,t,r){if(t=yf(t),yf(e)!==t&&r)throw Error(T(425))}function ro(){}var Hc=null,Qc=null;function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,ak=typeof clearTimeout=="function"?clearTimeout:void 0,vf=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof vf<"u"?function(e){return vf.resolve(null).then(e).catch(lk)}:Kc;function lk(e){setTimeout(function(){throw e})}function Rl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ki(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ki(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ts,Ti="__reactProps$"+Ts,or="__reactContainer$"+Ts,Yc="__reactEvents$"+Ts,ck="__reactListeners$"+Ts,uk="__reactHandles$"+Ts;function hn(e){var t=e[Ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[or]||r[Ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bf(e);e!==null;){if(r=e[Ft])return r;e=bf(e)}return t}e=r,r=e.parentNode}return null}function Ji(e){return e=e[Ft]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Vo(e){return e[Ti]||null}var Xc=[],Qn=-1;function Yr(e){return{current:e}}function le(e){0>Qn||(e.current=Xc[Qn],Xc[Qn]=null,Qn--)}function re(e,t){Qn++,Xc[Qn]=e.current,e.current=t}var Ur={},$e=Yr(Ur),rt=Yr(!1),jn=Ur;function ps(e,t){var r=e.type.contextTypes;if(!r)return Ur;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function no(){le(rt),le($e)}function wf(e,t,r){if($e.current!==Ur)throw Error(T(168));re($e,t),re(rt,r)}function hx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,Gb(e)||"Unknown",s));return fe({},r,n)}function so(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,jn=$e.current,re($e,e),re(rt,rt.current),!0}function kf(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=hx(e,t,jn),n.__reactInternalMemoizedMergedChildContext=e,le(rt),le($e),re($e,e)):le(rt),re(rt,r)}var Kt=null,Bo=!1,_l=!1;function fx(e){Kt===null?Kt=[e]:Kt.push(e)}function dk(e){Bo=!0,fx(e)}function Xr(){if(!_l&&Kt!==null){_l=!0;var e=0,t=J;try{var r=Kt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kt=null,Bo=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(e+1)),Fg(sd,Xr),s}finally{J=t,_l=!1}}return null}var Gn=[],Kn=0,io=null,ao=0,yt=[],vt=0,Nn=null,Jt=1,Zt="";function an(e,t){Gn[Kn++]=ao,Gn[Kn++]=io,io=e,ao=t}function mx(e,t,r){yt[vt++]=Jt,yt[vt++]=Zt,yt[vt++]=Nn,Nn=e;var n=Jt;e=Zt;var s=32-Et(n)-1;n&=~(1<<s),r+=1;var a=32-Et(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Jt=1<<32-Et(t)+s|r<<s|n,Zt=a+e}else Jt=1<<a|r<<s|n,Zt=e}function fd(e){e.return!==null&&(an(e,1),mx(e,1,0))}function md(e){for(;e===io;)io=Gn[--Kn],Gn[Kn]=null,ao=Gn[--Kn],Gn[Kn]=null;for(;e===Nn;)Nn=yt[--vt],yt[vt]=null,Zt=yt[--vt],yt[vt]=null,Jt=yt[--vt],yt[vt]=null}var lt=null,ot=null,ce=!1,At=null;function px(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,ot=null,!0):!1;default:return!1}}function Jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zc(e){if(ce){var t=ot;if(t){var r=t;if(!jf(e,t)){if(Jc(e))throw Error(T(418));t=_r(r.nextSibling);var n=lt;t&&jf(e,t)?px(n,r):(e.flags=e.flags&-4097|2,ce=!1,lt=e)}}else{if(Jc(e))throw Error(T(418));e.flags=e.flags&-4097|2,ce=!1,lt=e}}}function Nf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function ga(e){if(e!==lt)return!1;if(!ce)return Nf(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gc(e.type,e.memoizedProps)),t&&(t=ot)){if(Jc(e))throw gx(),Error(T(418));for(;t;)px(e,t),t=_r(t.nextSibling)}if(Nf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ot=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?_r(e.stateNode.nextSibling):null;return!0}function gx(){for(var e=ot;e;)e=_r(e.nextSibling)}function gs(){ot=lt=null,ce=!1}function pd(e){At===null?At=[e]:At.push(e)}var hk=hr.ReactCurrentBatchConfig;function Bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sf(e){var t=e._init;return t(e._payload)}function xx(e){function t(p,x){if(e){var m=p.deletions;m===null?(p.deletions=[x],p.flags|=16):m.push(x)}}function r(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function n(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function s(p,x){return p=Or(p,x),p.index=0,p.sibling=null,p}function a(p,x,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<x?(p.flags|=2,x):m):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,x,m,k){return x===null||x.tag!==6?(x=Bl(m,p.mode,k),x.return=p,x):(x=s(x,m),x.return=p,x)}function c(p,x,m,k){var j=m.type;return j===zn?d(p,x,m.props.children,k,m.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&Sf(j)===x.type)?(k=s(x,m.props),k.ref=Bs(p,x,m),k.return=p,k):(k=za(m.type,m.key,m.props,null,p.mode,k),k.ref=Bs(p,x,m),k.return=p,k)}function u(p,x,m,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=$l(m,p.mode,k),x.return=p,x):(x=s(x,m.children||[]),x.return=p,x)}function d(p,x,m,k,j){return x===null||x.tag!==7?(x=bn(m,p.mode,k,j),x.return=p,x):(x=s(x,m),x.return=p,x)}function h(p,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bl(""+x,p.mode,m),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case aa:return m=za(x.type,x.key,x.props,null,p.mode,m),m.ref=Bs(p,null,x),m.return=p,m;case $n:return x=$l(x,p.mode,m),x.return=p,x;case wr:var k=x._init;return h(p,k(x._payload),m)}if(Ys(x)||Ds(x))return x=bn(x,p.mode,m,null),x.return=p,x;xa(p,x)}return null}function f(p,x,m,k){var j=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:l(p,x,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case aa:return m.key===j?c(p,x,m,k):null;case $n:return m.key===j?u(p,x,m,k):null;case wr:return j=m._init,f(p,x,j(m._payload),k)}if(Ys(m)||Ds(m))return j!==null?null:d(p,x,m,k,null);xa(p,m)}return null}function g(p,x,m,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(m)||null,l(x,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case aa:return p=p.get(k.key===null?m:k.key)||null,c(x,p,k,j);case $n:return p=p.get(k.key===null?m:k.key)||null,u(x,p,k,j);case wr:var N=k._init;return g(p,x,m,N(k._payload),j)}if(Ys(k)||Ds(k))return p=p.get(m)||null,d(x,p,k,j,null);xa(x,k)}return null}function y(p,x,m,k){for(var j=null,N=null,S=x,C=x=0,I=null;S!==null&&C<m.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var L=f(p,S,m[C],k);if(L===null){S===null&&(S=I);break}e&&S&&L.alternate===null&&t(p,S),x=a(L,x,C),N===null?j=L:N.sibling=L,N=L,S=I}if(C===m.length)return r(p,S),ce&&an(p,C),j;if(S===null){for(;C<m.length;C++)S=h(p,m[C],k),S!==null&&(x=a(S,x,C),N===null?j=S:N.sibling=S,N=S);return ce&&an(p,C),j}for(S=n(p,S);C<m.length;C++)I=g(S,p,C,m[C],k),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?C:I.key),x=a(I,x,C),N===null?j=I:N.sibling=I,N=I);return e&&S.forEach(function(_){return t(p,_)}),ce&&an(p,C),j}function v(p,x,m,k){var j=Ds(m);if(typeof j!="function")throw Error(T(150));if(m=j.call(m),m==null)throw Error(T(151));for(var N=j=null,S=x,C=x=0,I=null,L=m.next();S!==null&&!L.done;C++,L=m.next()){S.index>C?(I=S,S=null):I=S.sibling;var _=f(p,S,L.value,k);if(_===null){S===null&&(S=I);break}e&&S&&_.alternate===null&&t(p,S),x=a(_,x,C),N===null?j=_:N.sibling=_,N=_,S=I}if(L.done)return r(p,S),ce&&an(p,C),j;if(S===null){for(;!L.done;C++,L=m.next())L=h(p,L.value,k),L!==null&&(x=a(L,x,C),N===null?j=L:N.sibling=L,N=L);return ce&&an(p,C),j}for(S=n(p,S);!L.done;C++,L=m.next())L=g(S,p,C,L.value,k),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?C:L.key),x=a(L,x,C),N===null?j=L:N.sibling=L,N=L);return e&&S.forEach(function(O){return t(p,O)}),ce&&an(p,C),j}function w(p,x,m,k){if(typeof m=="object"&&m!==null&&m.type===zn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case aa:e:{for(var j=m.key,N=x;N!==null;){if(N.key===j){if(j=m.type,j===zn){if(N.tag===7){r(p,N.sibling),x=s(N,m.props.children),x.return=p,p=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&Sf(j)===N.type){r(p,N.sibling),x=s(N,m.props),x.ref=Bs(p,N,m),x.return=p,p=x;break e}r(p,N);break}else t(p,N);N=N.sibling}m.type===zn?(x=bn(m.props.children,p.mode,k,m.key),x.return=p,p=x):(k=za(m.type,m.key,m.props,null,p.mode,k),k.ref=Bs(p,x,m),k.return=p,p=k)}return o(p);case $n:e:{for(N=m.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(p,x.sibling),x=s(x,m.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else t(p,x);x=x.sibling}x=$l(m,p.mode,k),x.return=p,p=x}return o(p);case wr:return N=m._init,w(p,x,N(m._payload),k)}if(Ys(m))return y(p,x,m,k);if(Ds(m))return v(p,x,m,k);xa(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(p,x.sibling),x=s(x,m),x.return=p,p=x):(r(p,x),x=Bl(m,p.mode,k),x.return=p,p=x),o(p)):r(p,x)}return w}var xs=xx(!0),yx=xx(!1),oo=Yr(null),lo=null,Yn=null,gd=null;function xd(){gd=Yn=lo=null}function yd(e){var t=oo.current;le(oo),e._currentValue=t}function eu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ls(e,t){lo=e,gd=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(gd!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(lo===null)throw Error(T(308));Yn=e,lo.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var fn=null;function vd(e){fn===null?fn=[e]:fn.push(e)}function vx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,vd(t)):(r.next=s.next,s.next=r),t.interleaved=r,lr(e,n)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,lr(e,r)}return s=n.interleaved,s===null?(t.next=t,vd(n)):(t.next=s.next,s.next=t),n.interleaved=t,lr(e,r)}function La(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,id(e,r)}}function Cf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function co(e,t,r,n){var s=e.updateQueue;kr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(f=t,g=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=fe({},h,f);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Cn|=o,e.lanes=o,e.memoizedState=h}}function Tf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Zi={},$t=Yr(Zi),Pi=Yr(Zi),Ai=Yr(Zi);function mn(e){if(e===Zi)throw Error(T(174));return e}function wd(e,t){switch(re(Ai,t),re(Pi,e),re($t,Zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mc(t,e)}le($t),re($t,t)}function ys(){le($t),le(Pi),le(Ai)}function wx(e){mn(Ai.current);var t=mn($t.current),r=Mc(t,e.type);t!==r&&(re(Pi,e),re($t,r))}function kd(e){Pi.current===e&&(le($t),le(Pi))}var ue=Yr(0);function uo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function jd(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Oa=hr.ReactCurrentDispatcher,Dl=hr.ReactCurrentBatchConfig,Sn=0,he=null,je=null,Ce=null,ho=!1,ai=!1,Ei=0,fk=0;function De(){throw Error(T(321))}function Nd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function Sd(e,t,r,n,s,a){if(Sn=a,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oa.current=e===null||e.memoizedState===null?xk:yk,e=r(n,s),ai){a=0;do{if(ai=!1,Ei=0,25<=a)throw Error(T(301));a+=1,Ce=je=null,t.updateQueue=null,Oa.current=vk,e=r(n,s)}while(ai)}if(Oa.current=fo,t=je!==null&&je.next!==null,Sn=0,Ce=je=he=null,ho=!1,t)throw Error(T(300));return e}function Cd(){var e=Ei!==0;return Ei=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function jt(){if(je===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ce===null?he.memoizedState:Ce.next;if(t!==null)Ce=t,je=e;else{if(e===null)throw Error(T(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ii(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=jt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=je,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Sn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,he.lanes|=d,Cn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Rt(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,he.lanes|=a,Cn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ol(e){var t=jt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Rt(a,t.memoizedState)||(et=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function kx(){}function jx(e,t){var r=he,n=jt(),s=t(),a=!Rt(n.memoizedState,s);if(a&&(n.memoizedState=s,et=!0),n=n.queue,Td(Cx.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,Ri(9,Sx.bind(null,r,n,s,t),void 0,null),Te===null)throw Error(T(349));Sn&30||Nx(r,t,s)}return s}function Nx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Sx(e,t,r,n){t.value=r,t.getSnapshot=n,Tx(t)&&Px(e)}function Cx(e,t,r){return r(function(){Tx(t)&&Px(e)})}function Tx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Px(e){var t=lr(e,1);t!==null&&It(t,e,1,-1)}function Pf(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=gk.bind(null,he,e),[t.memoizedState,e]}function Ri(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ax(){return jt().memoizedState}function Fa(e,t,r,n){var s=Ot();he.flags|=e,s.memoizedState=Ri(1|t,r,void 0,n===void 0?null:n)}function $o(e,t,r,n){var s=jt();n=n===void 0?null:n;var a=void 0;if(je!==null){var o=je.memoizedState;if(a=o.destroy,n!==null&&Nd(n,o.deps)){s.memoizedState=Ri(t,r,a,n);return}}he.flags|=e,s.memoizedState=Ri(1|t,r,a,n)}function Af(e,t){return Fa(8390656,8,e,t)}function Td(e,t){return $o(2048,8,e,t)}function Ex(e,t){return $o(4,2,e,t)}function Ix(e,t){return $o(4,4,e,t)}function Rx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _x(e,t,r){return r=r!=null?r.concat([e]):null,$o(4,4,Rx.bind(null,t,e),r)}function Pd(){}function Mx(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Dx(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Lx(e,t,r){return Sn&21?(Rt(r,t)||(r=$g(),he.lanes|=r,Cn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=r)}function mk(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=Dl.transition;Dl.transition={};try{e(!1),t()}finally{J=r,Dl.transition=n}}function Ox(){return jt().memoizedState}function pk(e,t,r){var n=Lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fx(e))Vx(t,r);else if(r=vx(e,t,r,n),r!==null){var s=Qe();It(r,e,n,s),Bx(r,t,n)}}function gk(e,t,r){var n=Lr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fx(e))Vx(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(s.next=s,vd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=vx(e,t,s,n),r!==null&&(s=Qe(),It(r,e,n,s),Bx(r,t,n))}}function Fx(e){var t=e.alternate;return e===he||t!==null&&t===he}function Vx(e,t){ai=ho=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,id(e,r)}}var fo={readContext:kt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},xk={readContext:kt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Af,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fa(4194308,4,Rx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var r=Ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pk.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:Pf,useDebugValue:Pd,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=Pf(!1),t=e[0];return e=mk.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=Ot();if(ce){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Te===null)throw Error(T(349));Sn&30||Nx(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Af(Cx.bind(null,n,a,e),[e]),n.flags|=2048,Ri(9,Sx.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ot(),t=Te.identifierPrefix;if(ce){var r=Zt,n=Jt;r=(n&~(1<<32-Et(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ei++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yk={readContext:kt,useCallback:Mx,useContext:kt,useEffect:Td,useImperativeHandle:_x,useInsertionEffect:Ex,useLayoutEffect:Ix,useMemo:Dx,useReducer:Ll,useRef:Ax,useState:function(){return Ll(Ii)},useDebugValue:Pd,useDeferredValue:function(e){var t=jt();return Lx(t,je.memoizedState,e)},useTransition:function(){var e=Ll(Ii)[0],t=jt().memoizedState;return[e,t]},useMutableSource:kx,useSyncExternalStore:jx,useId:Ox,unstable_isNewReconciler:!1},vk={readContext:kt,useCallback:Mx,useContext:kt,useEffect:Td,useImperativeHandle:_x,useInsertionEffect:Ex,useLayoutEffect:Ix,useMemo:Dx,useReducer:Ol,useRef:Ax,useState:function(){return Ol(Ii)},useDebugValue:Pd,useDeferredValue:function(e){var t=jt();return je===null?t.memoizedState=e:Lx(t,je.memoizedState,e)},useTransition:function(){var e=Ol(Ii)[0],t=jt().memoizedState;return[e,t]},useMutableSource:kx,useSyncExternalStore:jx,useId:Ox,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zo={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qe(),s=Lr(e),a=tr(n,s);a.payload=t,r!=null&&(a.callback=r),t=Mr(e,a,s),t!==null&&(It(t,e,s,n),La(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qe(),s=Lr(e),a=tr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Mr(e,a,s),t!==null&&(It(t,e,s,n),La(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qe(),n=Lr(e),s=tr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mr(e,s,n),t!==null&&(It(t,e,n,r),La(t,e,n))}};function Ef(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ni(r,n)||!Ni(s,a):!0}function $x(e,t,r){var n=!1,s=Ur,a=t.contextType;return typeof a=="object"&&a!==null?a=kt(a):(s=nt(t)?jn:$e.current,n=t.contextTypes,a=(n=n!=null)?ps(e,s):Ur),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function If(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function ru(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},bd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=kt(a):(a=nt(t)?jn:$e.current,s.context=ps(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(tu(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zo.enqueueReplaceState(s,s.state,null),co(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var r="",n=t;do r+=Qb(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Fl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function zx(e,t,r){r=tr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){po||(po=!0,fu=n),nu(e,t)},r}function Ux(e,t,r){r=tr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){nu(e,t),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Rf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Mk.bind(null,e,t,r),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tr(-1,1),t.tag=2,Mr(r,t,1))),r.lanes|=1),e)}var wk=hr.ReactCurrentOwner,et=!1;function He(e,t,r,n){t.child=e===null?yx(t,null,r,n):xs(t,e.child,r,n)}function Df(e,t,r,n,s){r=r.render;var a=t.ref;return ls(t,s),n=Sd(e,t,r,n,a,s),r=Cd(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(ce&&r&&fd(t),t.flags|=1,He(e,t,n,s),t.child)}function Lf(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Ld(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,qx(e,t,a,n,s)):(e=za(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ni,r(o,n)&&e.ref===t.ref)return cr(e,t,s)}return t.flags|=1,e=Or(a,n),e.ref=t.ref,e.return=t,t.child=e}function qx(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ni(a,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,cr(e,t,s)}return su(e,t,r,n,s)}function Wx(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Jn,at),at|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(Jn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,re(Jn,at),at|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,re(Jn,at),at|=n;return He(e,t,s,r),t.child}function Hx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function su(e,t,r,n,s){var a=nt(r)?jn:$e.current;return a=ps(t,a),ls(t,s),r=Sd(e,t,r,n,a,s),n=Cd(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cr(e,t,s)):(ce&&n&&fd(t),t.flags|=1,He(e,t,r,s),t.child)}function Of(e,t,r,n,s){if(nt(r)){var a=!0;so(t)}else a=!1;if(ls(t,s),t.stateNode===null)Va(e,t),$x(t,r,n),ru(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=nt(r)?jn:$e.current,u=ps(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&If(t,o,n,u),kr=!1;var f=t.memoizedState;o.state=f,co(t,n,o,s),c=t.memoizedState,l!==n||f!==c||rt.current||kr?(typeof d=="function"&&(tu(t,r,d,n),c=t.memoizedState),(l=kr||Ef(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,bx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Tt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=nt(r)?jn:$e.current,c=ps(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&If(t,o,n,c),kr=!1,f=t.memoizedState,o.state=f,co(t,n,o,s);var y=t.memoizedState;l!==h||f!==y||rt.current||kr?(typeof g=="function"&&(tu(t,r,g,n),y=t.memoizedState),(u=kr||Ef(t,r,u,n,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return iu(e,t,r,n,a,s)}function iu(e,t,r,n,s,a){Hx(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&kf(t,r,!1),cr(e,t,a);n=t.stateNode,wk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xs(t,e.child,null,a),t.child=xs(t,null,l,a)):He(e,t,l,a),t.memoizedState=n.state,s&&kf(t,r,!0),t.child}function Qx(e){var t=e.stateNode;t.pendingContext?wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wf(e,t.context,!1),wd(e,t.containerInfo)}function Ff(e,t,r,n,s){return gs(),pd(s),t.flags|=256,He(e,t,r,n),t.child}var au={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gx(e,t,r){var n=t.pendingProps,s=ue.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),re(ue,s&1),e===null)return Zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Wo(o,n,0,null),e=bn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ou(r),t.memoizedState=au,e):Ad(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return kk(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Or(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Or(l,a):(a=bn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?ou(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=au,n}return a=e.child,e=a.sibling,n=Or(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ad(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ya(e,t,r,n){return n!==null&&pd(n),xs(t,e.child,null,r),e=Ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kk(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Fl(Error(T(422))),ya(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Wo({mode:"visible",children:n.children},s,0,null),a=bn(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&xs(t,e.child,null,o),t.child.memoizedState=ou(o),t.memoizedState=au,a);if(!(t.mode&1))return ya(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(T(419)),n=Fl(a,n,void 0),ya(e,t,o,n)}if(l=(o&e.childLanes)!==0,et||l){if(n=Te,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,lr(e,s),It(n,e,s,-1))}return Dd(),n=Fl(Error(T(421))),ya(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dk.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ot=_r(s.nextSibling),lt=t,ce=!0,At=null,e!==null&&(yt[vt++]=Jt,yt[vt++]=Zt,yt[vt++]=Nn,Jt=e.id,Zt=e.overflow,Nn=t),t=Ad(t,n.children),t.flags|=4096,t)}function Vf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eu(e.return,t,r)}function Vl(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Kx(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(He(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,r,t);else if(e.tag===19)Vf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(re(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Vl(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Vl(t,!0,r,null,a);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jk(e,t,r){switch(t.tag){case 3:Qx(t),gs();break;case 5:wx(t);break;case 1:nt(t.type)&&so(t);break;case 4:wd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;re(oo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(re(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?Gx(e,t,r):(re(ue,ue.current&1),e=cr(e,t,r),e!==null?e.sibling:null);re(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Wx(e,t,r)}return cr(e,t,r)}var Yx,lu,Xx,Jx;Yx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lu=function(){};Xx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,mn($t.current);var a=null;switch(r){case"input":s=Ec(e,s),n=Ec(e,n),a=[];break;case"select":s=fe({},s,{value:void 0}),n=fe({},n,{value:void 0}),a=[];break;case"textarea":s=_c(e,s),n=_c(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ro)}Dc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Jx=function(e,t,r,n){r!==n&&(t.flags|=4)};function $s(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Nk(e,t,r){var n=t.pendingProps;switch(md(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return nt(t.type)&&no(),Le(t),null;case 3:return n=t.stateNode,ys(),le(rt),le($e),jd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ga(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(gu(At),At=null))),lu(e,t),Le(t),null;case 5:kd(t);var s=mn(Ai.current);if(r=t.type,e!==null&&t.stateNode!=null)Xx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Le(t),null}if(e=mn($t.current),ga(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ft]=t,n[Ti]=a,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(s=0;s<Js.length;s++)ae(Js[s],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":Qh(n,a),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ae("invalid",n);break;case"textarea":Kh(n,a),ae("invalid",n)}Dc(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&pa(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&pa(n.textContent,l,e),s=["children",""+l]):xi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",n)}switch(r){case"input":oa(n),Gh(n,a,!0);break;case"textarea":oa(n),Yh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ro)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ft]=t,e[Ti]=n,Yx(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lc(r,n),r){case"dialog":ae("cancel",e),ae("close",e),s=n;break;case"iframe":case"object":case"embed":ae("load",e),s=n;break;case"video":case"audio":for(s=0;s<Js.length;s++)ae(Js[s],e);s=n;break;case"source":ae("error",e),s=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=n;break;case"details":ae("toggle",e),s=n;break;case"input":Qh(e,n),s=Ec(e,n),ae("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fe({},n,{value:void 0}),ae("invalid",e);break;case"textarea":Kh(e,n),s=_c(e,n),ae("invalid",e);break;default:s=n}Dc(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Ag(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tg(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yi(e,c):typeof c=="number"&&yi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ae("scroll",e):c!=null&&Zu(e,a,c,o))}switch(r){case"input":oa(e),Gh(e,n,!1);break;case"textarea":oa(e),Yh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ss(e,!!n.multiple,a,!1):n.defaultValue!=null&&ss(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ro)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Jx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=mn(Ai.current),mn($t.current),ga(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ft]=t,(a=n.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:pa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pa(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ft]=t,t.stateNode=n}return Le(t),null;case 13:if(le(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&ot!==null&&t.mode&1&&!(t.flags&128))gx(),gs(),t.flags|=98560,a=!1;else if(a=ga(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(T(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[Ft]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),a=!1}else At!==null&&(gu(At),At=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ne===0&&(Ne=3):Dd())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return ys(),lu(e,t),e===null&&Si(t.stateNode.containerInfo),Le(t),null;case 10:return yd(t.type._context),Le(t),null;case 17:return nt(t.type)&&no(),Le(t),null;case 19:if(le(ue),a=t.memoizedState,a===null)return Le(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)$s(a,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uo(e),o!==null){for(t.flags|=128,$s(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return re(ue,ue.current&1|2),t.child}e=e.sibling}a.tail!==null&&pe()>bs&&(t.flags|=128,n=!0,$s(a,!1),t.lanes=4194304)}else{if(!n)if(e=uo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$s(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ce)return Le(t),null}else 2*pe()-a.renderingStartTime>bs&&r!==1073741824&&(t.flags|=128,n=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pe(),t.sibling=null,r=ue.current,re(ue,n?r&1|2:r&1),t):(Le(t),null);case 22:case 23:return Md(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Sk(e,t){switch(md(t),t.tag){case 1:return nt(t.type)&&no(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),le(rt),le($e),jd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kd(t),null;case 13:if(le(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ue),null;case 4:return ys(),null;case 10:return yd(t.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var va=!1,Fe=!1,Ck=typeof WeakSet=="function"?WeakSet:Set,A=null;function Xn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(e,t,n)}else r.current=null}function cu(e,t,r){try{r()}catch(n){me(e,t,n)}}var Bf=!1;function Tk(e,t){if(Hc=Za,e=nx(),hd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qc={focusedElem:e,selectionRange:r},Za=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tt(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){me(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=Bf,Bf=!1,y}function oi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&cu(t,r,a)}s=s.next}while(s!==n)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zx(e){var t=e.alternate;t!==null&&(e.alternate=null,Zx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Ti],delete t[Yc],delete t[ck],delete t[uk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ey(e){return e.tag===5||e.tag===3||e.tag===4}function $f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ro));else if(n!==4&&(e=e.child,e!==null))for(du(e,t,r),e=e.sibling;e!==null;)du(e,t,r),e=e.sibling}function hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hu(e,t,r),e=e.sibling;e!==null;)hu(e,t,r),e=e.sibling}var Ae=null,Pt=!1;function xr(e,t,r){for(r=r.child;r!==null;)ty(e,t,r),r=r.sibling}function ty(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Do,r)}catch{}switch(r.tag){case 5:Fe||Xn(r,t);case 6:var n=Ae,s=Pt;Ae=null,xr(e,t,r),Ae=n,Pt=s,Ae!==null&&(Pt?(e=Ae,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ae.removeChild(r.stateNode));break;case 18:Ae!==null&&(Pt?(e=Ae,r=r.stateNode,e.nodeType===8?Rl(e.parentNode,r):e.nodeType===1&&Rl(e,r),ki(e)):Rl(Ae,r.stateNode));break;case 4:n=Ae,s=Pt,Ae=r.stateNode.containerInfo,Pt=!0,xr(e,t,r),Ae=n,Pt=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&cu(r,t,o),s=s.next}while(s!==n)}xr(e,t,r);break;case 1:if(!Fe&&(Xn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){me(r,t,l)}xr(e,t,r);break;case 21:xr(e,t,r);break;case 22:r.mode&1?(Fe=(n=Fe)||r.memoizedState!==null,xr(e,t,r),Fe=n):xr(e,t,r);break;default:xr(e,t,r)}}function zf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ck),t.forEach(function(n){var s=Lk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ct(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,Pt=!1;break e;case 3:Ae=l.stateNode.containerInfo,Pt=!0;break e;case 4:Ae=l.stateNode.containerInfo,Pt=!0;break e}l=l.return}if(Ae===null)throw Error(T(160));ty(a,o,s),Ae=null,Pt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ry(t,e),t=t.sibling}function ry(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Dt(e),n&4){try{oi(3,e,e.return),Uo(3,e)}catch(v){me(e,e.return,v)}try{oi(5,e,e.return)}catch(v){me(e,e.return,v)}}break;case 1:Ct(t,e),Dt(e),n&512&&r!==null&&Xn(r,r.return);break;case 5:if(Ct(t,e),Dt(e),n&512&&r!==null&&Xn(r,r.return),e.flags&32){var s=e.stateNode;try{yi(s,"")}catch(v){me(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Ng(s,a),Lc(l,o);var u=Lc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ag(s,h):d==="dangerouslySetInnerHTML"?Tg(s,h):d==="children"?yi(s,h):Zu(s,d,h,u)}switch(l){case"input":Ic(s,a);break;case"textarea":Sg(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?ss(s,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?ss(s,!!a.multiple,a.defaultValue,!0):ss(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ti]=a}catch(v){me(e,e.return,v)}}break;case 6:if(Ct(t,e),Dt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){me(e,e.return,v)}}break;case 3:if(Ct(t,e),Dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(v){me(e,e.return,v)}break;case 4:Ct(t,e),Dt(e);break;case 13:Ct(t,e),Dt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Rd=pe())),n&4&&zf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||d,Ct(t,e),Fe=u):Ct(t,e),Dt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,g=f.child,f.tag){case 0:case 11:case 14:case 15:oi(4,f,f.return);break;case 1:Xn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){me(n,r,v)}}break;case 5:Xn(f,f.return);break;case 22:if(f.memoizedState!==null){qf(h);continue}}g!==null?(g.return=f,A=g):qf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Pg("display",o))}catch(v){me(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){me(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ct(t,e),Dt(e),n&4&&zf(e);break;case 21:break;default:Ct(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ey(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yi(s,""),n.flags&=-33);var a=$f(e);hu(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=$f(e);du(e,l,o);break;default:throw Error(T(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pk(e,t,r){A=e,ny(e)}function ny(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||va;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Fe;l=va;var u=Fe;if(va=o,(Fe=c)&&!u)for(A=s;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?Wf(s):c!==null?(c.return=o,A=c):Wf(s);for(;a!==null;)A=a,ny(a),a=a.sibling;A=s,va=l,Fe=u}Uf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,A=a):Uf(e)}}function Uf(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Uo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Tf(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ki(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Fe||t.flags&512&&uu(t)}catch(f){me(t,t.return,f)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function qf(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function Wf(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uo(4,t)}catch(c){me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){me(t,s,c)}}var a=t.return;try{uu(t)}catch(c){me(t,a,c)}break;case 5:var o=t.return;try{uu(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var Ak=Math.ceil,mo=hr.ReactCurrentDispatcher,Ed=hr.ReactCurrentOwner,wt=hr.ReactCurrentBatchConfig,G=0,Te=null,we=null,_e=0,at=0,Jn=Yr(0),Ne=0,_i=null,Cn=0,qo=0,Id=0,li=null,Ze=null,Rd=0,bs=1/0,Qt=null,po=!1,fu=null,Dr=null,ba=!1,Tr=null,go=0,ci=0,mu=null,Ba=-1,$a=0;function Qe(){return G&6?pe():Ba!==-1?Ba:Ba=pe()}function Lr(e){return e.mode&1?G&2&&_e!==0?_e&-_e:hk.transition!==null?($a===0&&($a=$g()),$a):(e=J,e!==0||(e=window.event,e=e===void 0?16:Gg(e.type)),e):1}function It(e,t,r,n){if(50<ci)throw ci=0,mu=null,Error(T(185));Yi(e,r,n),(!(G&2)||e!==Te)&&(e===Te&&(!(G&2)&&(qo|=r),Ne===4&&Sr(e,_e)),st(e,n),r===1&&G===0&&!(t.mode&1)&&(bs=pe()+500,Bo&&Xr()))}function st(e,t){var r=e.callbackNode;hw(e,t);var n=Ja(e,e===Te?_e:0);if(n===0)r!==null&&Zh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zh(r),t===1)e.tag===0?dk(Hf.bind(null,e)):fx(Hf.bind(null,e)),ok(function(){!(G&6)&&Xr()}),r=null;else{switch(zg(n)){case 1:r=sd;break;case 4:r=Vg;break;case 16:r=Xa;break;case 536870912:r=Bg;break;default:r=Xa}r=dy(r,sy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sy(e,t){if(Ba=-1,$a=0,G&6)throw Error(T(327));var r=e.callbackNode;if(cs()&&e.callbackNode!==r)return null;var n=Ja(e,e===Te?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xo(e,n);else{t=n;var s=G;G|=2;var a=ay();(Te!==e||_e!==t)&&(Qt=null,bs=pe()+500,vn(e,t));do try{Rk();break}catch(l){iy(e,l)}while(!0);xd(),mo.current=a,G=s,we!==null?t=0:(Te=null,_e=0,t=Ne)}if(t!==0){if(t===2&&(s=$c(e),s!==0&&(n=s,t=pu(e,s))),t===1)throw r=_i,vn(e,0),Sr(e,n),st(e,pe()),r;if(t===6)Sr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ek(s)&&(t=xo(e,n),t===2&&(a=$c(e),a!==0&&(n=a,t=pu(e,a))),t===1))throw r=_i,vn(e,0),Sr(e,n),st(e,pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:on(e,Ze,Qt);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=Rd+500-pe(),10<t)){if(Ja(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kc(on.bind(null,e,Ze,Qt),t);break}on(e,Ze,Qt);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Et(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ak(n/1960))-n,10<n){e.timeoutHandle=Kc(on.bind(null,e,Ze,Qt),n);break}on(e,Ze,Qt);break;case 5:on(e,Ze,Qt);break;default:throw Error(T(329))}}}return st(e,pe()),e.callbackNode===r?sy.bind(null,e):null}function pu(e,t){var r=li;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=xo(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&gu(t)),e}function gu(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Ek(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Rt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~Id,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Et(t),n=1<<r;e[r]=-1,t&=~n}}function Hf(e){if(G&6)throw Error(T(327));cs();var t=Ja(e,0);if(!(t&1))return st(e,pe()),null;var r=xo(e,t);if(e.tag!==0&&r===2){var n=$c(e);n!==0&&(t=n,r=pu(e,n))}if(r===1)throw r=_i,vn(e,0),Sr(e,t),st(e,pe()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Ze,Qt),st(e,pe()),null}function _d(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(bs=pe()+500,Bo&&Xr())}}function Tn(e){Tr!==null&&Tr.tag===0&&!(G&6)&&cs();var t=G;G|=1;var r=wt.transition,n=J;try{if(wt.transition=null,J=1,e)return e()}finally{J=n,wt.transition=r,G=t,!(G&6)&&Xr()}}function Md(){at=Jn.current,le(Jn)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ak(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(md(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&no();break;case 3:ys(),le(rt),le($e),jd();break;case 5:kd(n);break;case 4:ys();break;case 13:le(ue);break;case 19:le(ue);break;case 10:yd(n.type._context);break;case 22:case 23:Md()}r=r.return}if(Te=e,we=e=Or(e.current,null),_e=at=t,Ne=0,_i=null,Id=qo=Cn=0,Ze=li=null,fn!==null){for(t=0;t<fn.length;t++)if(r=fn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}fn=null}return e}function iy(e,t){do{var r=we;try{if(xd(),Oa.current=fo,ho){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ho=!1}if(Sn=0,Ce=je=he=null,ai=!1,Ei=0,Ed.current=null,r===null||r.return===null){Ne=1,_i=t,we=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=_e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=_f(o);if(g!==null){g.flags&=-257,Mf(g,o,l,a,t),g.mode&1&&Rf(a,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){Rf(a,u,t),Dd();break e}c=Error(T(426))}}else if(ce&&l.mode&1){var w=_f(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Mf(w,o,l,a,t),pd(vs(c,l));break e}}a=c=vs(c,l),Ne!==4&&(Ne=2),li===null?li=[a]:li.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=zx(a,c,t);Cf(a,p);break e;case 1:l=c;var x=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Dr===null||!Dr.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Ux(a,l,t);Cf(a,k);break e}}a=a.return}while(a!==null)}ly(r)}catch(j){t=j,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function ay(){var e=mo.current;return mo.current=fo,e===null?fo:e}function Dd(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Te===null||!(Cn&268435455)&&!(qo&268435455)||Sr(Te,_e)}function xo(e,t){var r=G;G|=2;var n=ay();(Te!==e||_e!==t)&&(Qt=null,vn(e,t));do try{Ik();break}catch(s){iy(e,s)}while(!0);if(xd(),G=r,mo.current=n,we!==null)throw Error(T(261));return Te=null,_e=0,Ne}function Ik(){for(;we!==null;)oy(we)}function Rk(){for(;we!==null&&!nw();)oy(we)}function oy(e){var t=uy(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?ly(e):we=t,Ed.current=null}function ly(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Sk(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,we=null;return}}else if(r=Nk(r,t,at),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ne===0&&(Ne=5)}function on(e,t,r){var n=J,s=wt.transition;try{wt.transition=null,J=1,_k(e,t,r,n)}finally{wt.transition=s,J=n}return null}function _k(e,t,r,n){do cs();while(Tr!==null);if(G&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(fw(e,a),e===Te&&(we=Te=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ba||(ba=!0,dy(Xa,function(){return cs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wt.transition,wt.transition=null;var o=J;J=1;var l=G;G|=4,Ed.current=null,Tk(e,r),ry(r,e),Zw(Qc),Za=!!Hc,Qc=Hc=null,e.current=r,Pk(r),sw(),G=l,J=o,wt.transition=a}else e.current=r;if(ba&&(ba=!1,Tr=e,go=s),a=e.pendingLanes,a===0&&(Dr=null),ow(r.stateNode),st(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(po)throw po=!1,e=fu,fu=null,e;return go&1&&e.tag!==0&&cs(),a=e.pendingLanes,a&1?e===mu?ci++:(ci=0,mu=e):ci=0,Xr(),null}function cs(){if(Tr!==null){var e=zg(go),t=wt.transition,r=J;try{if(wt.transition=null,J=16>e?16:e,Tr===null)var n=!1;else{if(e=Tr,Tr=null,go=0,G&6)throw Error(T(331));var s=G;for(G|=4,A=e.current;A!==null;){var a=A,o=a.child;if(A.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:oi(8,d,a)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,g=d.return;if(Zx(d),d===u){A=null;break}if(f!==null){f.return=g,A=f;break}A=g}}}var y=a.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}A=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,A=o;else e:for(;A!==null;){if(a=A,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oi(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,A=p;break e}A=a.return}}var x=e.current;for(A=x;A!==null;){o=A;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,A=m;else e:for(o=x;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uo(9,l)}}catch(j){me(l,l.return,j)}if(l===o){A=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,A=k;break e}A=l.return}}if(G=s,Xr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Do,e)}catch{}n=!0}return n}finally{J=r,wt.transition=t}}return!1}function Qf(e,t,r){t=vs(r,t),t=zx(e,t,1),e=Mr(e,t,1),t=Qe(),e!==null&&(Yi(e,1,t),st(e,t))}function me(e,t,r){if(e.tag===3)Qf(e,e,r);else for(;t!==null;){if(t.tag===3){Qf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){e=vs(r,e),e=Ux(t,e,1),t=Mr(t,e,1),e=Qe(),t!==null&&(Yi(t,1,e),st(t,e));break}}t=t.return}}function Mk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&r,Te===e&&(_e&r)===r&&(Ne===4||Ne===3&&(_e&130023424)===_e&&500>pe()-Rd?vn(e,0):Id|=r),st(e,t)}function cy(e,t){t===0&&(e.mode&1?(t=ua,ua<<=1,!(ua&130023424)&&(ua=4194304)):t=1);var r=Qe();e=lr(e,t),e!==null&&(Yi(e,t,r),st(e,r))}function Dk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cy(e,r)}function Lk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),cy(e,r)}var uy;uy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return et=!1,jk(e,t,r);et=!!(e.flags&131072)}else et=!1,ce&&t.flags&1048576&&mx(t,ao,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Va(e,t),e=t.pendingProps;var s=ps(t,$e.current);ls(t,r),s=Sd(null,t,n,e,s,r);var a=Cd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(n)?(a=!0,so(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bd(t),s.updater=zo,t.stateNode=s,s._reactInternals=t,ru(t,n,e,r),t=iu(null,t,n,!0,a,r)):(t.tag=0,ce&&a&&fd(t),He(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Fk(n),e=Tt(n,e),s){case 0:t=su(null,t,n,e,r);break e;case 1:t=Of(null,t,n,e,r);break e;case 11:t=Df(null,t,n,e,r);break e;case 14:t=Lf(null,t,n,Tt(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),su(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Of(e,t,n,s,r);case 3:e:{if(Qx(t),e===null)throw Error(T(387));n=t.pendingProps,a=t.memoizedState,s=a.element,bx(e,t),co(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=vs(Error(T(423)),t),t=Ff(e,t,n,r,s);break e}else if(n!==s){s=vs(Error(T(424)),t),t=Ff(e,t,n,r,s);break e}else for(ot=_r(t.stateNode.containerInfo.firstChild),lt=t,ce=!0,At=null,r=yx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===s){t=cr(e,t,r);break e}He(e,t,n,r)}t=t.child}return t;case 5:return wx(t),e===null&&Zc(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Gc(n,s)?o=null:a!==null&&Gc(n,a)&&(t.flags|=32),Hx(e,t),He(e,t,o,r),t.child;case 6:return e===null&&Zc(t),null;case 13:return Gx(e,t,r);case 4:return wd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xs(t,null,n,r):He(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Df(e,t,n,s,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,re(oo,n._currentValue),n._currentValue=o,a!==null)if(Rt(a.value,o)){if(a.children===s.children&&!rt.current){t=cr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=tr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),eu(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),eu(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}He(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ls(t,r),s=kt(s),n=n(s),t.flags|=1,He(e,t,n,r),t.child;case 14:return n=t.type,s=Tt(n,t.pendingProps),s=Tt(n.type,s),Lf(e,t,n,s,r);case 15:return qx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tt(n,s),Va(e,t),t.tag=1,nt(n)?(e=!0,so(t)):e=!1,ls(t,r),$x(t,n,s),ru(t,n,s,r),iu(null,t,n,!0,e,r);case 19:return Kx(e,t,r);case 22:return Wx(e,t,r)}throw Error(T(156,t.tag))};function dy(e,t){return Fg(e,t)}function Ok(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,n){return new Ok(e,t,r,n)}function Ld(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fk(e){if(typeof e=="function")return Ld(e)?1:0;if(e!=null){if(e=e.$$typeof,e===td)return 11;if(e===rd)return 14}return 2}function Or(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function za(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Ld(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zn:return bn(r.children,s,a,t);case ed:o=8,s|=8;break;case Cc:return e=bt(12,r,t,s|2),e.elementType=Cc,e.lanes=a,e;case Tc:return e=bt(13,r,t,s),e.elementType=Tc,e.lanes=a,e;case Pc:return e=bt(19,r,t,s),e.elementType=Pc,e.lanes=a,e;case wg:return Wo(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vg:o=10;break e;case bg:o=9;break e;case td:o=11;break e;case rd:o=14;break e;case wr:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=bt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function bn(e,t,r,n){return e=bt(7,e,n,t),e.lanes=r,e}function Wo(e,t,r,n){return e=bt(22,e,n,t),e.elementType=wg,e.lanes=r,e.stateNode={isHidden:!1},e}function Bl(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function $l(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Od(e,t,r,n,s,a,o,l,c){return e=new Vk(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=bt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(a),e}function Bk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$n,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hy(e){if(!e)return Ur;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(nt(r))return hx(e,r,t)}return t}function fy(e,t,r,n,s,a,o,l,c){return e=Od(r,n,!0,e,s,a,o,l,c),e.context=hy(null),r=e.current,n=Qe(),s=Lr(r),a=tr(n,s),a.callback=t??null,Mr(r,a,s),e.current.lanes=s,Yi(e,s,n),st(e,n),e}function Ho(e,t,r,n){var s=t.current,a=Qe(),o=Lr(s);return r=hy(r),t.context===null?t.context=r:t.pendingContext=r,t=tr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mr(s,t,o),e!==null&&(It(e,s,o,a),La(e,s,o)),o}function yo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fd(e,t){Gf(e,t),(e=e.alternate)&&Gf(e,t)}function $k(){return null}var my=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vd(e){this._internalRoot=e}Qo.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Ho(e,t,null,null)};Qo.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){Ho(null,e,null,null)}),t[or]=null}};function Qo(e){this._internalRoot=e}Qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nr.length&&t!==0&&t<Nr[r].priority;r++);Nr.splice(r,0,e),r===0&&Qg(e)}};function Bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kf(){}function zk(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=yo(o);a.call(u)}}var o=fy(t,n,e,0,null,!1,!1,"",Kf);return e._reactRootContainer=o,e[or]=o.current,Si(e.nodeType===8?e.parentNode:e),Tn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=yo(c);l.call(u)}}var c=Od(e,0,!1,null,null,!1,!1,"",Kf);return e._reactRootContainer=c,e[or]=c.current,Si(e.nodeType===8?e.parentNode:e),Tn(function(){Ho(t,c,r,n)}),c}function Ko(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=yo(o);l.call(c)}}Ho(t,o,e,s)}else o=zk(r,t,e,s,n);return yo(o)}Ug=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xs(t.pendingLanes);r!==0&&(id(t,r|1),st(t,pe()),!(G&6)&&(bs=pe()+500,Xr()))}break;case 13:Tn(function(){var n=lr(e,1);if(n!==null){var s=Qe();It(n,e,1,s)}}),Fd(e,1)}};ad=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=Qe();It(t,e,134217728,r)}Fd(e,134217728)}};qg=function(e){if(e.tag===13){var t=Lr(e),r=lr(e,t);if(r!==null){var n=Qe();It(r,e,t,n)}Fd(e,t)}};Wg=function(){return J};Hg=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};Fc=function(e,t,r){switch(t){case"input":if(Ic(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vo(n);if(!s)throw Error(T(90));jg(n),Ic(n,s)}}}break;case"textarea":Sg(e,r);break;case"select":t=r.value,t!=null&&ss(e,!!r.multiple,t,!1)}};Rg=_d;_g=Tn;var Uk={usingClientEntryPoint:!1,Events:[Ji,Hn,Vo,Eg,Ig,_d]},zs={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qk={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lg(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||$k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{Do=wa.inject(qk),Bt=wa}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;dt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bd(t))throw Error(T(200));return Bk(e,t,null,r)};dt.createRoot=function(e,t){if(!Bd(e))throw Error(T(299));var r=!1,n="",s=my;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Od(e,1,!1,null,null,r,!1,n,s),e[or]=t.current,Si(e.nodeType===8?e.parentNode:e),new Vd(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Lg(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return Tn(e)};dt.hydrate=function(e,t,r){if(!Go(t))throw Error(T(200));return Ko(null,e,t,!0,r)};dt.hydrateRoot=function(e,t,r){if(!Bd(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=my;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fy(t,null,e,1,r??null,s,!1,a,o),e[or]=t.current,Si(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Qo(t)};dt.render=function(e,t,r){if(!Go(t))throw Error(T(200));return Ko(null,e,t,!1,r)};dt.unmountComponentAtNode=function(e){if(!Go(e))throw Error(T(40));return e._reactRootContainer?(Tn(function(){Ko(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};dt.unstable_batchedUpdates=_d;dt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Go(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ko(e,t,r,!1,n)};dt.version="18.3.1-next-f1338f8080-20240426";function py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(py)}catch(e){console.error(e)}}py(),pg.exports=dt;var gy=pg.exports,Yf=gy;Nc.createRoot=Yf.createRoot,Nc.hydrateRoot=Yf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}var Pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pr||(Pr={}));const Xf="popstate";function Wk(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return xu("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:vo(s)}return Qk(t,r,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $d(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hk(){return Math.random().toString(36).substr(2,8)}function Jf(e,t){return{usr:e.state,key:e.key,idx:t}}function xu(e,t,r,n){return r===void 0&&(r=null),Mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ps(t):t,{state:r,key:t&&t.key||n||Hk()})}function vo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ps(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Qk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Pr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pr.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:p})}function f(w,p){l=Pr.Push;let x=xu(v.location,w,p);u=d()+1;let m=Jf(x,u),k=v.createHref(x);try{o.pushState(m,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}a&&c&&c({action:l,location:v.location,delta:1})}function g(w,p){l=Pr.Replace;let x=xu(v.location,w,p);u=d();let m=Jf(x,u),k=v.createHref(x);o.replaceState(m,"",k),a&&c&&c({action:l,location:v.location,delta:0})}function y(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:vo(w);return x=x.replace(/ $/,"%20"),xe(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let v={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Xf,h),c=w,()=>{s.removeEventListener(Xf,h),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let p=y(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(w){return o.go(w)}};return v}var Zf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zf||(Zf={}));function Gk(e,t,r){return r===void 0&&(r="/"),Kk(e,t,r)}function Kk(e,t,r,n){let s=typeof t=="string"?Ps(t):t,a=zd(s.pathname||"/",r);if(a==null)return null;let o=xy(e);Yk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=l1(a);l=i1(o[c],u)}return l}function xy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(xe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xy(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:n1(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of yy(a.path))s(a,o,c)}),t}function yy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=yy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Yk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:s1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Xk=/^:[\w-]+$/,Jk=3,Zk=2,e1=1,t1=10,r1=-2,em=e=>e==="*";function n1(e,t){let r=e.split("/"),n=r.length;return r.some(em)&&(n+=r1),t&&(n+=Zk),r.filter(s=>!em(s)).reduce((s,a)=>s+(Xk.test(a)?Jk:a===""?e1:t1),n)}function s1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function i1(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=a1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Fr([a,h.pathname]),pathnameBase:f1(Fr([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Fr([a,h.pathnameBase]))}return o}function a1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=o1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function o1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$d(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function l1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const c1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u1=e=>c1.test(e);function d1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ps(e):e,a;if(r)if(u1(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),$d(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=tm(r.substring(1),"/"):a=tm(r,t)}else a=t;return{pathname:a,search:m1(n),hash:p1(s)}}function tm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function zl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ud(e,t){let r=h1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ps(e):(s=Mi({},e),xe(!s.pathname||!s.pathname.includes("?"),zl("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),zl("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),zl("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=d1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Fr=e=>e.join("/").replace(/\/\/+/g,"/"),f1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vy=["post","put","patch","delete"];new Set(vy);const x1=["get",...vy];new Set(x1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}const Wd=b.createContext(null),y1=b.createContext(null),Jr=b.createContext(null),Yo=b.createContext(null),fr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),by=b.createContext(null);function v1(e,t){let{relative:r}=t===void 0?{}:t;As()||xe(!1);let{basename:n,navigator:s}=b.useContext(Jr),{hash:a,pathname:o,search:l}=jy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Fr([n,o])),s.createHref({pathname:c,search:l,hash:a})}function As(){return b.useContext(Yo)!=null}function Zr(){return As()||xe(!1),b.useContext(Yo).location}function wy(e){b.useContext(Jr).static||b.useLayoutEffect(e)}function _t(){let{isDataRoute:e}=b.useContext(fr);return e?R1():b1()}function b1(){As()||xe(!1);let e=b.useContext(Wd),{basename:t,future:r,navigator:n}=b.useContext(Jr),{matches:s}=b.useContext(fr),{pathname:a}=Zr(),o=JSON.stringify(Ud(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return wy(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=qd(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Fr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function ky(){let{matches:e}=b.useContext(fr),t=e[e.length-1];return t?t.params:{}}function jy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Jr),{matches:s}=b.useContext(fr),{pathname:a}=Zr(),o=JSON.stringify(Ud(s,n.v7_relativeSplatPath));return b.useMemo(()=>qd(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function w1(e,t){return k1(e,t)}function k1(e,t,r,n){As()||xe(!1);let{navigator:s}=b.useContext(Jr),{matches:a}=b.useContext(fr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Zr(),d;if(t){var h;let w=typeof t=="string"?Ps(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||xe(!1),d=w}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Gk(e,{pathname:g}),v=T1(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Fr([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Fr([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&v?b.createElement(Yo.Provider,{value:{location:Di({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pr.Pop}},v):v}function j1(){let e=I1(),t=g1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const N1=b.createElement(j1,null);class S1 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(fr.Provider,{value:this.props.routeContext},b.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C1(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Wd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(fr.Provider,{value:t},n)}function T1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,y=!1,v=null,w=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||N1,c&&(u<0&&f===0?(_1("route-fallback"),y=!0,w=null):u===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),x=()=>{let m;return g?m=v:y?m=w:h.route.Component?m=b.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,b.createElement(C1,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(S1,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var Ny=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ny||{}),Sy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sy||{});function P1(e){let t=b.useContext(Wd);return t||xe(!1),t}function A1(e){let t=b.useContext(y1);return t||xe(!1),t}function E1(e){let t=b.useContext(fr);return t||xe(!1),t}function Cy(e){let t=E1(),r=t.matches[t.matches.length-1];return r.route.id||xe(!1),r.route.id}function I1(){var e;let t=b.useContext(by),r=A1(),n=Cy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function R1(){let{router:e}=P1(Ny.UseNavigateStable),t=Cy(Sy.UseNavigateStable),r=b.useRef(!1);return wy(()=>{r.current=!0}),b.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Di({fromRouteId:t},a)))},[e,t])}const rm={};function _1(e,t,r){rm[e]||(rm[e]=!0)}function M1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mr(e){let{to:t,replace:r,state:n,relative:s}=e;As()||xe(!1);let{future:a,static:o}=b.useContext(Jr),{matches:l}=b.useContext(fr),{pathname:c}=Zr(),u=_t(),d=qd(t,Ud(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function ve(e){xe(!1)}function D1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Pr.Pop,navigator:a,static:o=!1,future:l}=e;As()&&xe(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Di({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ps(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:y="default"}=n,v=b.useMemo(()=>{let w=zd(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:y},navigationType:s}},[c,d,h,f,g,y,s]);return v==null?null:b.createElement(Jr.Provider,{value:u},b.createElement(Yo.Provider,{children:r,value:v}))}function L1(e){let{children:t,location:r}=e;return w1(yu(t),r)}new Promise(()=>{});function yu(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let a=[...t,s];if(n.type===b.Fragment){r.push.apply(r,yu(n.props.children,a));return}n.type!==ve&&xe(!1),!n.props.index||!n.props.children||xe(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=yu(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function O1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function F1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V1(e,t){return e.button===0&&(!t||t==="_self")&&!F1(e)}const B1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$1="6";try{window.__reactRouterVersion=$1}catch{}const z1="startTransition",nm=Mb[z1];function U1(e){let{basename:t,children:r,future:n,window:s}=e,a=b.useRef();a.current==null&&(a.current=Wk({window:s,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&nm?nm(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>M1(n),[n]),b.createElement(D1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const q1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=O1(t,B1),{basename:g}=b.useContext(Jr),y,v=!1;if(typeof u=="string"&&W1.test(u)&&(y=u,q1))try{let m=new URL(window.location.href),k=u.startsWith("//")?new URL(m.protocol+u):new URL(u),j=zd(k.pathname,g);k.origin===m.origin&&j!=null?u=j+k.search+k.hash:v=!0}catch{}let w=v1(u,{relative:s}),p=H1(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(m){n&&n(m),m.defaultPrevented||p(m)}return b.createElement("a",vu({},f,{href:y||w,onClick:v||a?n:x,ref:r,target:c}))});var sm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sm||(sm={}));var im;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(im||(im={}));function H1(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=_t(),u=Zr(),d=jy(e,{relative:o});return b.useCallback(h=>{if(V1(h,r)){h.preventDefault();let f=n!==void 0?n:vo(u)===vo(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}var Vt=[],xt=[],Q1=Uint8Array,Ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Bn=0,G1=Ul.length;Bn<G1;++Bn)Vt[Bn]=Ul[Bn],xt[Ul.charCodeAt(Bn)]=Bn;xt[45]=62;xt[95]=63;function K1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Y1(e,t,r){return(t+r)*3/4-r}function Li(e){var t,r=K1(e),n=r[0],s=r[1],a=new Q1(Y1(e,n,s)),o=0,l=s>0?n-4:n,c;for(c=0;c<l;c+=4)t=xt[e.charCodeAt(c)]<<18|xt[e.charCodeAt(c+1)]<<12|xt[e.charCodeAt(c+2)]<<6|xt[e.charCodeAt(c+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return s===2&&(t=xt[e.charCodeAt(c)]<<2|xt[e.charCodeAt(c+1)]>>4,a[o++]=t&255),s===1&&(t=xt[e.charCodeAt(c)]<<10|xt[e.charCodeAt(c+1)]<<4|xt[e.charCodeAt(c+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function X1(e){return Vt[e>>18&63]+Vt[e>>12&63]+Vt[e>>6&63]+Vt[e&63]}function J1(e,t,r){for(var n,s=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),s.push(X1(n));return s.join("")}function Oi(e){for(var t,r=e.length,n=r%3,s=[],a=16383,o=0,l=r-n;o<l;o+=a)s.push(J1(e,o,o+a>l?l:o+a));return n===1?(t=e[r-1],s.push(Vt[t>>2]+Vt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],s.push(Vt[t>>10]+Vt[t>>4&63]+Vt[t<<2&63]+"=")),s.join("")}function Yt(e){if(e===void 0)return{};if(!Ty(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function Z1(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Ty(e){var s;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((s=r==null?void 0:r.constructor)==null?void 0:s.name)==="Object";return t&&n}const Py=!0,ws=BigInt("-9223372036854775808"),Hd=BigInt("9223372036854775807"),bu=BigInt("0"),ej=BigInt("8"),tj=BigInt("256");function Ay(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function rj(e){e<bu&&(e-=ws+ws);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const s of t.match(/.{2}/g).reverse())r.set([parseInt(s,16)],n++),e>>=ej;return Oi(r)}function nj(e){const t=Li(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=bu,n=bu;for(const s of t)r+=BigInt(s)*tj**n,n++;return r>Hd&&(r+=ws+ws),r}function sj(e){if(e<ws||Hd<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Oi(new Uint8Array(t))}function ij(e){const t=Li(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const aj=DataView.prototype.setBigInt64?sj:rj,oj=DataView.prototype.getBigInt64?ij:nj,am=1024;function Ey(e){if(e.length>am)throw new Error(`Field name ${e} exceeds maximum field name length ${am}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function ks(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>ks(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Li(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return oj(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const s=Li(e.$float);if(s.byteLength!==8)throw new Error(`Received ${s.byteLength} bytes, expected 8 for $float`);const o=new DataView(s.buffer).getFloat64(0,Py);if(!Ay(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,s]of Object.entries(e))Ey(n),r[n]=ks(s);return r}const om=16384;function ui(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>om){const r="[...truncated]";let n=om-r.length;const s=t.codePointAt(n-1);return s!==void 0&&s>65535&&(n-=1),t.substring(0,n)+r}return t}function wu(e,t,r,n){var o;if(e===void 0){const l=r&&` (present at path ${r} in original object ${ui(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<ws||Hd<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:aj(e)}}if(typeof e=="number")if(Ay(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,Py),{$float:Oi(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Oi(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,c)=>wu(l,t,r+`[${c}]`));if(e instanceof Set)throw new Error(ql(r,"Set",[...e],t));if(e instanceof Map)throw new Error(ql(r,"Map",[...e],t));if(!Ty(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,c=l?`${l} `:"";throw new Error(ql(r,c,e,t))}const s={},a=Object.entries(e);a.sort(([l,c],[u,d])=>l===u?0:l<u?-1:1);for(const[l,c]of a)c!==void 0&&(Ey(l),s[l]=wu(c,t,r+`.${l}`));return s}function ql(e,t,r,n){return e?`${t}${ui(r)} is not a supported Convex type (present at path ${e} in original object ${ui(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ui(r)} is not a supported Convex type.`}function Ut(e){return wu(e,e,"")}var lj=Object.defineProperty,cj=(e,t,r)=>t in e?lj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wl=(e,t,r)=>cj(e,typeof t!="symbol"?t+"":t,r),lm,cm;const uj=Symbol.for("ConvexError");class ku extends(cm=Error,lm=uj,cm){constructor(t){super(typeof t=="string"?t:ui(t)),Wl(this,"name","ConvexError"),Wl(this,"data"),Wl(this,lm,!0),this.data=t}}const Iy=()=>Array.from({length:4},()=>0);Iy();Iy();const um="1.30.0";var dj=Object.defineProperty,hj=(e,t,r)=>t in e?dj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dm=(e,t,r)=>hj(e,typeof t!="symbol"?t+"":t,r);const fj="color:rgb(0, 145, 255)";function Ry(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class _y{constructor(t){dm(this,"_onLogLineFuncs"),dm(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function My(e){const t=new _y(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function Dy(e){return new _y(e)}function bo(e,t,r,n,s){const a=Ry(r);if(typeof s=="object"&&(s=`ConvexError ${JSON.stringify(s.errorData,null,2)}`),t==="info"){const o=s.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${a}(${n})] Could not parse console.log`);return}const l=s.slice(1,o[0].length-2),c=s.slice(o[0].length);e.log(`%c[CONVEX ${a}(${n})] [${l}]`,fj,c)}else e.error(`[CONVEX ${a}(${n})] ${s}`)}function mj(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function Zn(e,t,r){return`[CONVEX ${Ry(e)}(${t})] ${r.errorMessage}
  Called by client`}function ju(e,t){return t.data=e.errorData,t}function Pn(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function wn(e,t){return JSON.stringify({udfPath:Pn(e),args:Ut(t)})}function hm(e,t,r){const{initialNumItems:n,id:s}=r;return JSON.stringify({type:"paginated",udfPath:Pn(e),args:Ut(t),options:Ut({initialNumItems:n,id:s})})}var pj=Object.defineProperty,gj=(e,t,r)=>t in e?pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lt=(e,t,r)=>gj(e,typeof t!="symbol"?t+"":t,r);class xj{constructor(){Lt(this,"nextQueryId"),Lt(this,"querySetVersion"),Lt(this,"querySet"),Lt(this,"queryIdToToken"),Lt(this,"identityVersion"),Lt(this,"auth"),Lt(this,"outstandingQueriesOlderThanRestart"),Lt(this,"outstandingAuthOlderThanRestart"),Lt(this,"paused"),Lt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,s){const a=Pn(t),o=wn(a,r),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const c=this.nextQueryId++,u={id:c,canonicalizedUdfPath:a,args:r,numSubscribers:1,journal:n,componentPath:s};this.querySet.set(o,u),this.queryIdToToken.set(c,o);const d=this.querySetVersion,h=this.querySetVersion+1,f={type:"Add",queryId:c,udfPath:a,args:[Ut(r)],journal:n,componentPath:s};return this.paused?this.pendingQuerySetModifications.set(c,f):this.querySetVersion=h,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:d,newVersion:h,modifications:[f]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const s=this.queryIdToToken.get(r.queryId);s!==void 0&&(this.querySet.get(s).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=Pn(t),s=wn(n,r),a=this.querySet.get(s);return a!==void 0?a.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const s=this.identityVersion;return this.paused||(this.identityVersion=s+1),{type:"Authenticate",baseVersion:s,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const a of this.querySet.values()){const o={type:"Add",queryId:a.id,udfPath:a.canonicalizedUdfPath,args:[Ut(a.args)],journal:a.journal,componentPath:a.componentPath};r.push(o),t.has(a.id)||this.outstandingQueriesOlderThanRestart.add(a.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const s={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,s]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,s=this.querySetVersion+1,a={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,a):this.querySetVersion=s,{type:"ModifyQuerySet",baseVersion:n,newVersion:s,modifications:[a]}}}}var yj=Object.defineProperty,vj=(e,t,r)=>t in e?yj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ka=(e,t,r)=>vj(e,typeof t!="symbol"?t+"":t,r);class bj{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,ka(this,"inflightRequests"),ka(this,"requestsOlderThanRestart"),ka(this,"inflightMutationsCount",0),ka(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(s=>{const a=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:a,requestedAt:new Date,onResult:s}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",s=r.message.udfPath;for(const c of t.logLines)bo(this.logger,"info",n,s,c);const a=r.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:ks(t.result)},l=()=>a.onResult(o);else{const c=t.result,{errorData:u}=t;bo(this.logger,"error",n,s,c),o={success:!1,errorMessage:c,errorData:u!==void 0?ks(u):void 0,logLines:t.logLines},l=()=>a.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(r.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,s]of this.inflightRequests.entries()){const a=s.status;a.status==="Completed"&&a.ts.lessThanOrEqual(t)&&(a.onResolve(),r.set(n,a.result),s.message.type==="Mutation"?this.inflightMutationsCount--:s.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Fi=Symbol.for("functionName"),Ly=Symbol.for("toReferencePath");function wj(e){return e[Ly]??null}function kj(e){return e.startsWith("function://")}function jj(e){let t;if(typeof e=="string")kj(e)?t={functionHandle:e}:t={name:e};else if(e[Fi])t={name:e[Fi]};else{const r=wj(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function tt(e){const t=jj(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[Fi];if(!r)throw new Error(`${e} is not a functionReference`);return r}function Oy(e){return{[Fi]:e}}function Fy(e=[]){const t={get(r,n){if(typeof n=="string"){const s=[...e,n];return Fy(s)}else if(n===Fi){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const s=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?s:s+":"+a}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Nj=Fy();var Sj=Object.defineProperty,Cj=(e,t,r)=>t in e?Sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wo=(e,t,r)=>Cj(e,typeof t!="symbol"?t+"":t,r);class Vi{constructor(t){wo(this,"queryResults"),wo(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=Yt(r[0]),s=tt(t),a=this.queryResults.get(wn(s,n));if(a!==void 0)return Vi.queryValue(a.result)}getAllQueries(t){const r=[],n=tt(t);for(const s of this.queryResults.values())s.udfPath===Pn(n)&&r.push({args:s.args,value:Vi.queryValue(s.result)});return r}setQuery(t,r,n){const s=Yt(r),a=tt(t),o=wn(a,s);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const c={udfPath:a,args:s,result:l};this.queryResults.set(o,c),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Tj{constructor(){wo(this,"queryResults"),wo(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!r.has(o.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const s=new Vi(this.queryResults);for(const o of this.optimisticUpdates)o.update(s);const a=[];for(const[o,l]of this.queryResults){const c=n.get(o);(c===void 0||c.result!==l.result)&&a.push(o)}return a}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new Vi(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){const r=this.queryResults.get(t);if(r!==void 0)return r.result}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?ju(n,new ku(Zn("query",r.udfPath,n))):new Error(Zn("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var Pj=Object.defineProperty,Aj=(e,t,r)=>t in e?Pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hl=(e,t,r)=>Aj(e,typeof t!="symbol"?t+"":t,r);class Je{constructor(t,r){Hl(this,"low"),Hl(this,"high"),Hl(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new Je(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?fm:t>=Ej?Ij:new Je(t%di|0,t/di|0)}toString(){return(BigInt(this.high)*BigInt(di)+BigInt(this.low)).toString()}equals(t){return Je.isLong(t)||(t=Je.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return Je.isLong(t)||(t=Je.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?Je.fromNumber(t):new Je(t.low,t.high)}}const fm=new Je(0,0),mm=65536,di=mm*mm,Ej=di*di,Ij=new Je(-1,-1);var Rj=Object.defineProperty,_j=(e,t,r)=>t in e?Rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ja=(e,t,r)=>_j(e,typeof t!="symbol"?t+"":t,r);class pm{constructor(t,r){ja(this,"version"),ja(this,"remoteQuerySet"),ja(this,"queryPath"),ja(this,"logger"),this.version={querySet:0,ts:Je.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const s=this.queryPath(n.queryId);if(s)for(const o of n.logLines)bo(this.logger,"info","query",s,o);const a=ks(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:a,logLines:n.logLines});break}case"QueryFailed":{const s=this.queryPath(n.queryId);if(s)for(const o of n.logLines)bo(this.logger,"info","query",s,o);const{errorData:a}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:a!==void 0?ks(a):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function Ql(e){const t=Li(e);return Je.fromBytesLE(Array.from(t))}function Mj(e){const t=new Uint8Array(e.toBytesLE());return Oi(t)}function gm(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:Ql(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:Ql(e.startVersion.ts)},endVersion:{...e.endVersion,ts:Ql(e.endVersion.ts)}}}}function Dj(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:Mj(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var Lj=Object.defineProperty,Oj=(e,t,r)=>t in e?Lj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pe=(e,t,r)=>Oj(e,typeof t!="symbol"?t+"":t,r);const Fj=1e3,Vj=1001,Bj=1005,$j=4040;let Ua;function qa(){return Ua===void 0&&(Ua=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ua+performance.now())}function xm(){return`t=${Math.round((qa()-Ua)/100)/10}s`}const Vy={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function zj(e){if(e===void 0)return"Unknown";for(const t of Object.keys(Vy))if(e.startsWith(t))return t;return"Unknown"}class Uj{constructor(t,r,n,s,a,o){this.markConnectionStateDirty=a,this.debug=o,Pe(this,"socket"),Pe(this,"connectionCount"),Pe(this,"_hasEverConnected",!1),Pe(this,"lastCloseReason"),Pe(this,"transitionChunkBuffer",null),Pe(this,"defaultInitialBackoff"),Pe(this,"maxBackoff"),Pe(this,"retries"),Pe(this,"serverInactivityThreshold"),Pe(this,"reconnectDueToServerInactivityTimeout"),Pe(this,"uri"),Pe(this,"onOpen"),Pe(this,"onResume"),Pe(this,"onMessage"),Pe(this,"webSocketConstructor"),Pe(this,"logger"),Pe(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=s,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=gm(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:qa()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",xm(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",xm())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let s=gm(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${s.type}`),s.type==="Ping")return;if(s.type==="TransitionChunk"){const o=this.assembleTransition(s);if(!o)return;s=o,this._logVerbose(`assembled full ws message of type ${s.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${s.type} while buffering TransitionChunks`)),s.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:s}),this.onMessage(s).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==Fj&&r.code!==Vj&&r.code!==Bj&&r.code!==$j){let s=`WebSocket closed with code ${r.code}`;r.reason&&(s+=`: ${r.reason}`),this.logger.log(s),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(s)}const n=zj(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=Dj(t),s=JSON.stringify(n);let a=!1;try{this.socket.ws.send(s),a=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${a?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:qa()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:Vy[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const s=Math.min(n,this.maxBackoff),a=s*(Math.random()-.5);return s+a}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=qa()-t.clientClockSkew-t.serverTs/1e6,s=`${Math.round(n)}ms`,a=`${Math.round(r/1e4)/100}MB`,o=r/(n/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${a} transition in ${s} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${a}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${a} which took more than 20s to arrive (${s})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function qj(){return Wj()}function Wj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Zs extends Error{}Zs.prototype.name="InvalidTokenError";function Hj(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Qj(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Hj(t)}catch{return atob(t)}}function By(e,t){if(typeof e!="string")throw new Zs("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new Zs(`Invalid token specified: missing part #${r+1}`);let s;try{s=Qj(n)}catch(a){throw new Zs(`Invalid token specified: invalid base64 for part #${r+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new Zs(`Invalid token specified: invalid json for part #${r+1} (${a.message})`)}}var Gj=Object.defineProperty,Kj=(e,t,r)=>t in e?Gj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mt=(e,t,r)=>Kj(e,typeof t!="symbol"?t+"":t,r);const Yj=20*24*60*60*1e3,ym=2;class Xj{constructor(t,r,n){mt(this,"authState",{state:"noAuth"}),mt(this,"configVersion",0),mt(this,"syncState"),mt(this,"authenticate"),mt(this,"stopSocket"),mt(this,"tryRestartSocket"),mt(this,"pauseSocket"),mt(this,"resumeSocket"),mt(this,"clearAuth"),mt(this,"logger"),mt(this,"refreshTokenLeewaySeconds"),mt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=ym){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${ym-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:s}=r;if(!n||!s){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const a=s-n;if(a<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(Yj,(a-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${a}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const s=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:s}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return By(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const Jj=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Zj(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function eN(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function tN(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of Jj){const n=performance.getEntriesByName(r).filter(s=>s.entryType==="mark").filter(s=>s.detail.sessionId===e);t.push(...n)}return t.map(eN)}var rN=Object.defineProperty,nN=(e,t,r)=>t in e?rN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ye=(e,t,r)=>nN(e,typeof t!="symbol"?t+"":t,r);class sN{constructor(t,r,n){if(ye(this,"address"),ye(this,"state"),ye(this,"requestManager"),ye(this,"webSocketManager"),ye(this,"authenticationManager"),ye(this,"remoteQuerySet"),ye(this,"optimisticQueryResults"),ye(this,"_transitionHandlerCounter",0),ye(this,"_nextRequestId"),ye(this,"_onTransitionFns",new Map),ye(this,"_sessionId"),ye(this,"firstMessageReceived",!1),ye(this,"debug"),ye(this,"logger"),ye(this,"maxObservedTimestamp"),ye(this,"connectionStateSubscribers",new Map),ye(this,"nextConnectionStateSubscriberId",0),ye(this,"_lastPublishedConnectionState"),ye(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const g=this.connectionState();if(JSON.stringify(g)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=g;for(const y of this.connectionStateSubscribers.values())y(g)}})}),ye(this,"mark",g=>{this.debug&&Zj(g,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&Z1(t),n={...n};const s=n.authRefreshTokenLeewaySeconds??2;let a=n.webSocketConstructor;if(!a&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");a=a||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?Dy({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:My({verbose:n.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),c=t.substring(0,o);let u;if(c==="http")u="ws";else if(c==="https")u="wss";else throw new Error(`Unknown parent protocol ${c}`);const d=`${u}://${l}/api/${um}/sync`;this.state=new xj,this.remoteQuerySet=new pm(g=>this.state.queryPath(g),this.logger),this.requestManager=new bj(this.logger,this.markConnectionStateDirty);const h=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new Xj(this.state,{authenticate:g=>{const y=this.state.setAuth(g);return this.webSocketManager.sendMessage(y),y.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:h,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:s}),this.optimisticQueryResults=new Tj,this.addOnTransitionHandler(g=>{r(g.queries.map(y=>y.token))}),this._nextRequestId=0,this._sessionId=qj();const{unsavedChangesWarning:f}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(f===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else f!==!1&&window.addEventListener("beforeunload",g=>{if(this.requestManager.hasIncompleteRequests()){g.preventDefault();const y="Are you sure you want to leave? Your changes may not be saved.";return(g||window.event).returnValue=y,y}});this.webSocketManager=new Uj(d,{onOpen:g=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...g,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const y=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new pm(p=>this.state.queryPath(p),this.logger);const[v,w]=this.state.restart(y);w&&this.webSocketManager.sendMessage(w),this.webSocketManager.sendMessage(v);for(const p of this.requestManager.restart())this.webSocketManager.sendMessage(p)},onResume:()=>{const[g,y]=this.state.resume();y&&this.webSocketManager.sendMessage(y),g&&this.webSocketManager.sendMessage(g);for(const v of this.requestManager.resume())this.webSocketManager.sendMessage(v)},onMessage:g=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),g.type){case"Transition":{this.observedTimestamp(g.endVersion.ts),this.authenticationManager.onTransition(g),this.remoteQuerySet.transition(g),this.state.transition(g);const y=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(y);break}case"MutationResponse":{g.success&&this.observedTimestamp(g.ts);const y=this.requestManager.onResponse(g);y!==null&&this.notifyOnQueryResultChanges(new Map([[y.requestId,y.result]]));break}case"ActionResponse":{this.requestManager.onResponse(g);break}case"AuthError":{this.authenticationManager.onAuthError(g);break}case"FatalError":{const y=mj(this.logger,g.error);throw this.webSocketManager.terminate(),y}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},a,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&h()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[a,o]of r){const l=this.state.queryToken(a);if(l!==null){const c={result:o,udfPath:this.state.queryPath(a),args:this.state.queryArgs(a)};n.set(l,c)}}const s=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:s.map(a=>{const o=this.optimisticQueryResults.rawQueryResult(a);return{token:a,modification:{kind:"Updated",result:o}}}),reflectedMutations:Array.from(t).map(([a,o])=>({requestId:a,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?By(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const s=Yt(r),{modification:a,queryToken:o,unsubscribe:l}=this.state.subscribe(t,s,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return a!==null&&this.webSocketManager.sendMessage(a),{queryToken:o,unsubscribe:()=>{const c=l();c&&this.webSocketManager.sendMessage(c)}}}localQueryResult(t,r){const n=Yt(r),s=wn(t,n);return this.optimisticQueryResults.queryResult(s)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=Yt(r),s=wn(t,n);return this.optimisticQueryResults.queryLogs(s)}queryJournal(t,r){const n=Yt(r),s=wn(t,n);return this.state.queryJournal(s)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const s=await this.mutationInternal(t,r,n);if(!s.success)throw s.errorData!==void 0?ju(s,new ku(Zn("mutation",t,s))):new Error(Zn("mutation",t,s));return s.value}async mutationInternal(t,r,n,s){const{mutationPromise:a}=this.enqueueMutation(t,r,n,s);return a}enqueueMutation(t,r,n,s){const a=Yt(r);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const d=n.optimisticUpdate;if(d!==void 0){const h=y=>{d(y,a)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},g=this.optimisticQueryResults.applyOptimisticUpdate(h,o).map(y=>{const v=this.localQueryResultByToken(y);return{token:y,modification:{kind:"Updated",result:v===void 0?void 0:{success:!0,value:v,logLines:[]}}}});this.handleTransition({queries:g,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:s,args:[Ut(a)]},c=this.webSocketManager.sendMessage(l),u=this.requestManager.request(l,c);return{requestId:o,mutationPromise:u}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?ju(n,new ku(Zn("action",t,n))):new Error(Zn("action",t,n));return n.value}async actionInternal(t,r,n){const s=Yt(r),a=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:a,udfPath:t,componentPath:n,args:[Ut(s)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=tN(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${um}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function Gl(e){if(typeof e!="object"||e===null||!Array.isArray(e.page)||typeof e.isDone!="boolean"||typeof e.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${e==null?void 0:e.toString()}`);return e}var iN=Object.defineProperty,aN=(e,t,r)=>t in e?iN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vm=(e,t,r)=>aN(e,typeof t!="symbol"?t+"":t,r);class oN{constructor(t,r){this.client=t,this.onTransition=r,vm(this,"paginatedQuerySet",new Map),vm(this,"lastTransitionTs"),this.lastTransitionTs=Je.fromNumber(0),this.client.addOnTransitionHandler(n=>this.onBaseTransition(n))}subscribe(t,r,n){const s=Pn(t),a=hm(s,r,n),o=()=>this.removePaginatedQuerySubscriber(a),l=this.paginatedQuerySet.get(a);return l?(l.numSubscribers+=1,{paginatedQueryToken:a,unsubscribe:o}):(this.paginatedQuerySet.set(a,{token:a,canonicalizedUdfPath:s,args:r,numSubscribers:1,options:{initialNumItems:n.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:n.id}),this.addPageToPaginatedQuery(a,null,n.initialNumItems),{paginatedQueryToken:a,unsubscribe:o})}localQueryResult(t,r,n){const s=Pn(t),a=hm(s,r,n);return this.localQueryResultByToken(a)}localQueryResultByToken(t){const r=this.paginatedQuerySet.get(t);if(!r)return;const n=this.activePageQueryTokens(r);if(n.length===0)return{results:[],status:"LoadingFirstPage",loadMore:c=>this.loadMoreOfPaginatedQuery(t,c)};let s=[],a=!1,o=!1;for(const c of n){const u=this.client.localQueryResultByToken(c);if(u===void 0){a=!0,o=!1;continue}const d=Gl(u);s=s.concat(d.page),o=!!d.isDone}let l;return a?l=s.length===0?"LoadingFirstPage":"LoadingMore":o?l="Exhausted":l="CanLoadMore",{results:s,status:l,loadMore:c=>this.loadMoreOfPaginatedQuery(t,c)}}onBaseTransition(t){const r=t.queries.map(o=>o.token),n=this.queriesContainingTokens(r);let s=[];n.length>0&&(this.processPaginatedQuerySplits(n,o=>this.client.localQueryResultByToken(o)),s=n.map(o=>({token:o,modification:{kind:"Updated",result:this.localQueryResultByToken(o)}})));const a={...t,paginatedQueries:s};this.onTransition(a)}loadMoreOfPaginatedQuery(t,r){this.mustGetPaginatedQuery(t);const n=this.queryTokenForLastPageOfPaginatedQuery(t),s=this.client.localQueryResultByToken(n);if(!s)return!1;const a=Gl(s);if(a.isDone)return!1;this.addPageToPaginatedQuery(t,a.continueCursor,r);const o={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:t,modification:{kind:"Updated",result:this.localQueryResultByToken(t)}}]};return this.onTransition(o),!0}queriesContainingTokens(t){if(t.length===0)return[];const r=[],n=new Set(t);for(const[s,a]of this.paginatedQuerySet)for(const o of this.allQueryTokens(a))if(n.has(o)){r.push(s);break}return r}processPaginatedQuerySplits(t,r){for(const n of t){const s=this.mustGetPaginatedQuery(n),{ongoingSplits:a,pageKeyToQuery:o,pageKeys:l}=s;for(const[c,[u,d]]of a)r(o.get(u).queryToken)!==void 0&&r(o.get(d).queryToken)!==void 0&&this.completePaginatedQuerySplit(s,c,u,d);for(const c of l){if(a.has(c))continue;const u=o.get(c).queryToken,d=r(u);if(!d)continue;const h=Gl(d);h.splitCursor&&(h.pageStatus==="SplitRecommended"||h.pageStatus==="SplitRequired"||h.page.length>s.options.initialNumItems*2)&&this.splitPaginatedQueryPage(s,c,h.splitCursor,h.continueCursor)}}}splitPaginatedQueryPage(t,r,n,s){const a=t.nextPageKey++,o=t.nextPageKey++,l={cursor:s,numItems:t.options.initialNumItems,id:t.id},c=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:null,endCursor:n}});t.pageKeyToQuery.set(a,c);const u=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:n,endCursor:s}});t.pageKeyToQuery.set(o,u),t.ongoingSplits.set(r,[a,o])}addPageToPaginatedQuery(t,r,n){const s=this.mustGetPaginatedQuery(t),a=s.nextPageKey++,o={cursor:r,numItems:n,id:s.id},l={...s.args,paginationOpts:o},c=this.client.subscribe(s.canonicalizedUdfPath,l);return s.pageKeys.push(a),s.pageKeyToQuery.set(a,c),c}removePaginatedQuerySubscriber(t){const r=this.paginatedQuerySet.get(t);if(r&&(r.numSubscribers-=1,!(r.numSubscribers>0))){for(const n of r.pageKeyToQuery.values())n.unsubscribe();this.paginatedQuerySet.delete(t)}}completePaginatedQuerySplit(t,r,n,s){const a=t.pageKeyToQuery.get(r);t.pageKeyToQuery.delete(r);const o=t.pageKeys.indexOf(r);t.pageKeys.splice(o,1,n,s),t.ongoingSplits.delete(r),a.unsubscribe()}activePageQueryTokens(t){return t.pageKeys.map(r=>t.pageKeyToQuery.get(r).queryToken)}allQueryTokens(t){return Array.from(t.pageKeyToQuery.values()).map(r=>r.queryToken)}queryTokenForLastPageOfPaginatedQuery(t){const r=this.mustGetPaginatedQuery(t),n=r.pageKeys[r.pageKeys.length-1];if(n===void 0)throw new Error(`No pages for paginated query ${t}`);return r.pageKeyToQuery.get(n).queryToken}mustGetPaginatedQuery(t){const r=this.paginatedQuerySet.get(t);if(!r)throw new Error("paginated query no longer exists for token "+t);return r}}function lN({getCurrentValue:e,subscribe:t}){const[r,n]=b.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let s=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(s=e(),n({getCurrentValue:e,subscribe:t,value:s})),b.useEffect(()=>{let a=!1;const o=()=>{a||n(c=>{if(c.getCurrentValue!==e||c.subscribe!==t)return c;const u=e();return c.value===u?c:{...c,value:u}})},l=t(o);return o(),()=>{a=!0,l()}},[e,t]),s}var cN=Object.defineProperty,uN=(e,t,r)=>t in e?cN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wt=(e,t,r)=>uN(e,typeof t!="symbol"?t+"":t,r);const dN=5e3;if(typeof ir>"u")throw new Error("Required dependency 'react' not found");function $y(e,t,r){function n(s){return pN(s),t.mutation(e,s,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(a){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${tt(e)}`);return $y(e,t,a)},n}class hN{constructor(t,r){if(Wt(this,"address"),Wt(this,"cachedSync"),Wt(this,"cachedPaginatedQueryClient"),Wt(this,"listeners"),Wt(this,"options"),Wt(this,"closed",!1),Wt(this,"_logger"),Wt(this,"adminAuth"),Wt(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?Dy({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:My({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new sN(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new oN(this.cachedSync,t=>this.handleTransition(t)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,s]=r,a=tt(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:c}=this.sync.subscribe(a,n,s),u=this.listeners.get(l);return u!==void 0?u.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const d=this.listeners.get(l);d.delete(o),d.size===0&&this.listeners.delete(l),c()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(a,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(a,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(a,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??dN,s=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(s,r)}watchPaginatedQuery(t,r,n){const s=tt(t);return{onUpdate:a=>{const{paginatedQueryToken:o,unsubscribe:l}=this.paginatedQueryClient.subscribe(s,r||{},n),c=this.listeners.get(o);return c!==void 0?c.add(a):this.listeners.set(o,new Set([a])),()=>{if(this.closed)return;const u=this.listeners.get(o);u.delete(a),u.size===0&&this.listeners.delete(o),l()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(s,r,n)}}mutation(t,...r){const[n,s]=r,a=tt(t);return this.sync.mutation(a,n,s)}action(t,...r){const n=tt(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),s=n.localQueryResult();return s!==void 0?Promise.resolve(s):new Promise((a,o)=>{const l=n.onUpdate(()=>{l();try{a(n.localQueryResult())}catch(c){o(c)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}handleTransition(t){const r=t.queries.map(s=>s.token),n=t.paginatedQueries.map(s=>s.token);this.transition([...r,...n])}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const s of n)s()}}}const Qd=ir.createContext(void 0);function fN(){return b.useContext(Qd)}const mN=({client:e,children:t})=>ir.createElement(Qd.Provider,{value:e},t);function X(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:Yt(t[0]),s=typeof e=="string"?Oy(e):e,a=tt(s),o=b.useMemo(()=>r?{}:{query:{query:s,args:n}},[JSON.stringify(Ut(n)),a,r]),c=vN(o).query;if(c instanceof Error)throw c;return c}function Y(e){const t=typeof e=="string"?Oy(e):e,r=b.useContext(Qd);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return b.useMemo(()=>$y(t,r),[r,tt(t)])}function pN(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var gN=Object.defineProperty,xN=(e,t,r)=>t in e?gN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kl=(e,t,r)=>xN(e,typeof t!="symbol"?t+"":t,r);class yN{constructor(t){Kl(this,"createWatch"),Kl(this,"queries"),Kl(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:s,paginationOptions:a}=t[r];if(tt(n),this.queries[r]===void 0)this.addQuery(r,n,s,a?{paginationOptions:a}:{});else{const o=this.queries[r];(tt(n)!==tt(o.query)||JSON.stringify(Ut(s))!==JSON.stringify(Ut(o.args))||JSON.stringify(a)!==JSON.stringify(o.paginationOptions))&&(this.removeQuery(r),this.addQuery(r,n,s,a?{paginationOptions:a}:{}))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:s,args:a}=t[n],o=t[n].paginationOptions;tt(s);const l=this.createWatch(s,a,o?{paginationOptions:o}:{});let c;try{c=l.localQueryResult()}catch(u){if(u instanceof Error)c=u;else throw u}r[n]=c}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:s,watch:a,paginationOptions:o}=this.queries[r],l="journal"in a?a.journal():void 0;this.removeQuery(r),this.addQuery(r,n,s,{...l?{journal:l}:[],...o?{paginationOptions:o}:{}})}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,{paginationOptions:s,journal:a}){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(r,n,{...a?{journal:a}:[],...s?{paginationOptions:s}:{}}),l=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:o,unsubscribe:l,...s?{paginationOptions:s}:{}}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function vN(e){const t=fN();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=b.useMemo(()=>(n,s,{journal:a,paginationOptions:o})=>o?t.watchPaginatedQuery(n,s,o):t.watchQuery(n,s,a?{journal:a}:{}),[t]);return bN(e,r)}function bN(e,t){const[r]=b.useState(()=>new yN(t));r.createWatch!==t&&r.setCreateWatch(t),b.useEffect(()=>()=>r.destroy(),[r]);const n=b.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:s=>(r.setQueries(e),r.subscribe(s))}),[r,e]);return lN(n)}const zy=b.createContext(void 0);function wN({children:e}){const[t,r]=b.useState(()=>{const a=localStorage.getItem("baptizo-theme");return a==="dark"||a==="light"?a:"light"});b.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("baptizo-theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")},s=a=>{r(a)};return i.jsx(zy.Provider,{value:{theme:t,toggleTheme:n,setTheme:s},children:e})}function kN(){const e=b.useContext(zy);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Uy(e,t){const r={get(n,s){if(typeof s=="string"){const a=[...t,s];return Uy(e,a)}else if(s===Ly){if(t.length<1){const a=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const jN=()=>Uy("components",[]),D=Nj;jN();const qy=b.createContext(void 0),Na="baptizo-auth-user";function NN({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{const u=localStorage.getItem(Na);if(u)try{const d=JSON.parse(u);r(d)}catch(d){console.error("Failed to parse stored user:",d),localStorage.removeItem(Na)}s(!1)},[]);const a=X(D.users.getUser,t?{userId:t._id}:"skip");b.useEffect(()=>{if(a&&t&&(a.role!==t.role||a.name!==t.name||a.avatarUrl!==t.avatarUrl)){const u={...t,...a};console.log("Syncing fresh user data from DB:",u),r(u)}},[a,t]),b.useEffect(()=>{t?localStorage.setItem(Na,JSON.stringify(t)):localStorage.removeItem(Na)},[t]);const o=u=>{r(u)},l=()=>{r(null)},c=u=>{t&&r({...t,...u})};return i.jsx(qy.Provider,{value:{user:t,isLoading:n,login:o,logout:l,updateUser:c},children:e})}function SN(){const e=b.useContext(qy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Wy=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xo=b.createContext({}),Jo=b.createContext(null),Zo=typeof document<"u",Gd=Zo?b.useLayoutEffect:b.useEffect,Hy=b.createContext({strict:!1}),Kd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),CN="framerAppearId",Qy="data-"+Kd(CN);function TN(e,t,r,n){const{visualElement:s}=b.useContext(Xo),a=b.useContext(Hy),o=b.useContext(Jo),l=b.useContext(Wy).reducedMotion,c=b.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(r,o)});const d=b.useRef(!!(r[Qy]&&!window.HandoffComplete));return Gd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function es(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function PN(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):es(r)&&(r.current=n))},[t])}function Bi(e){return typeof e=="string"||Array.isArray(e)}function el(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Yd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xd=["initial",...Yd];function tl(e){return el(e.animate)||Xd.some(t=>Bi(e[t]))}function Gy(e){return!!(tl(e)||e.variants)}function AN(e,t){if(tl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Bi(r)?r:void 0,animate:Bi(n)?n:void 0}}return e.inherit!==!1?t:{}}function EN(e){const{initial:t,animate:r}=AN(e,b.useContext(Xo));return b.useMemo(()=>({initial:t,animate:r}),[bm(t),bm(r)])}function bm(e){return Array.isArray(e)?e.join(" "):e}const wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$i={};for(const e in wm)$i[e]={isEnabled:t=>wm[e].some(r=>!!t[r])};function IN(e){for(const t in e)$i[t]={...$i[t],...e[t]}}const Jd=b.createContext({}),Ky=b.createContext({}),RN=Symbol.for("motionComponentSymbol");function _N({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&IN(e);function a(l,c){let u;const d={...b.useContext(Wy),...l,layoutId:MN(l)},{isStatic:h}=d,f=EN(l),g=n(l,h);if(!h&&Zo){f.visualElement=TN(s,g,d,t);const y=b.useContext(Ky),v=b.useContext(Hy).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,v,e,y))}return b.createElement(Xo.Provider,{value:f},u&&f.visualElement?b.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,l,PN(g,f.visualElement,c),g,h,f.visualElement))}const o=b.forwardRef(a);return o[RN]=s,o}function MN({layoutId:e}){const t=b.useContext(Jd).id;return t&&e!==void 0?t+"-"+e:e}function DN(e){function t(n,s={}){return _N(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const LN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zd(e){return typeof e!="string"||e.includes("-")?!1:!!(LN.indexOf(e)>-1||/[A-Z]/.test(e))}const ko={};function ON(e){Object.assign(ko,e)}const ea=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ln=new Set(ea);function Yy(e,{layout:t,layoutId:r}){return Ln.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ko[e]||e==="opacity")}const it=e=>!!(e&&e.getVelocity),FN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VN=ea.length;function BN(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let a="";for(let o=0;o<VN;o++){const l=ea[o];if(e[l]!==void 0){const c=FN[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(e,n?"":a):r&&n&&(a="none"),a}const Xy=e=>t=>typeof t=="string"&&t.startsWith(e),Jy=Xy("--"),Nu=Xy("var(--"),$N=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,zN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qr=(e,t,r)=>Math.min(Math.max(r,e),t),On={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hi={...On,transform:e=>qr(0,1,e)},Sa={...On,default:1},fi=e=>Math.round(e*1e5)/1e5,rl=/(-)?([\d]*\.?[\d])+/g,Zy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,UN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ta(e){return typeof e=="string"}const ra=e=>({test:t=>ta(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=ra("deg"),zt=ra("%"),V=ra("px"),qN=ra("vh"),WN=ra("vw"),km={...zt,parse:e=>zt.parse(e)/100,transform:e=>zt.transform(e*100)},jm={...On,transform:Math.round},e0={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,size:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:Sa,scaleX:Sa,scaleY:Sa,scaleZ:Sa,skew:br,skewX:br,skewY:br,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:hi,originX:km,originY:km,originZ:V,zIndex:jm,fillOpacity:hi,strokeOpacity:hi,numOctaves:jm};function eh(e,t,r,n){const{style:s,vars:a,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(Jy(h)){a[h]=f;continue}const g=e0[h],y=zN(f,g);if(Ln.has(h)){if(c=!0,o[h]=y,!d)continue;f!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=y):s[h]=y}if(t.transform||(c||n?s.transform=BN(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${f} ${g}`}}const th=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t0(e,t,r){for(const n in t)!it(t[n])&&!Yy(n,r)&&(e[n]=t[n])}function HN({transformTemplate:e},t,r){return b.useMemo(()=>{const n=th();return eh(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function QN(e,t,r){const n=e.style||{},s={};return t0(s,n,e),Object.assign(s,HN(e,t,r)),e.transformValues?e.transformValues(s):s}function GN(e,t,r){const n={},s=QN(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const KN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||KN.has(e)}let r0=e=>!jo(e);function YN(e){e&&(r0=t=>t.startsWith("on")?!jo(t):e(t))}try{YN(require("@emotion/is-prop-valid").default)}catch{}function XN(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(r0(s)||r===!0&&jo(s)||!t&&!jo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Nm(e,t,r){return typeof e=="string"?e:V.transform(t+r*e)}function JN(e,t,r){const n=Nm(t,e.x,e.width),s=Nm(r,e.y,e.height);return`${n} ${s}`}const ZN={offset:"stroke-dashoffset",array:"stroke-dasharray"},eS={offset:"strokeDashoffset",array:"strokeDasharray"};function tS(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?ZN:eS;e[a.offset]=V.transform(-n);const o=V.transform(t),l=V.transform(r);e[a.array]=`${o} ${l}`}function rh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(eh(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:y,dimensions:v}=e;g.transform&&(v&&(y.transform=g.transform),delete g.transform),v&&(s!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=JN(v,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&tS(g,o,l,c,!1)}const n0=()=>({...th(),attrs:{}}),nh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rS(e,t,r,n){const s=b.useMemo(()=>{const a=n0();return rh(a,t,{enableHardwareAcceleration:!1},nh(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};t0(a,e.style,e),s.style={...a,...s.style}}return s}function nS(e=!1){return(r,n,s,{latestValues:a},o)=>{const c=(Zd(r)?rS:GN)(n,a,o,r),d={...XN(n,typeof r=="string",e),...c,ref:s},{children:h}=n,f=b.useMemo(()=>it(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function s0(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const i0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a0(e,t,r,n){s0(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(i0.has(s)?s:Kd(s),t.attrs[s])}function sh(e,t){const{style:r}=e,n={};for(const s in r)(it(r[s])||t.style&&it(t.style[s])||Yy(s,e))&&(n[s]=r[s]);return n}function o0(e,t){const r=sh(e,t);for(const n in e)if(it(e[n])||it(t[n])){const s=ea.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function ih(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function l0(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const No=e=>Array.isArray(e),sS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),iS=e=>No(e)?e[e.length-1]||0:e;function Wa(e){const t=it(e)?e.get():e;return sS(t)?t.toValue():t}function aS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,a){const o={latestValues:oS(n,s,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const c0=e=>(t,r)=>{const n=b.useContext(Xo),s=b.useContext(Jo),a=()=>aS(e,t,n,s);return r?a():l0(a)};function oS(e,t,r,n){const s={},a=n(e,{});for(const f in a)s[f]=Wa(a[f]);let{initial:o,animate:l}=e;const c=tl(e),u=Gy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!el(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const y=ih(e,g);if(!y)return;const{transitionEnd:v,transition:w,...p}=y;for(const x in p){let m=p[x];if(Array.isArray(m)){const k=d?m.length-1:0;m=m[k]}m!==null&&(s[x]=m)}for(const x in v)s[x]=v[x]}),s}const ge=e=>e;class Sm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function lS(e){let t=new Sm,r=new Sm,n=0,s=!1,a=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&o.add(c),f.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){a=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,a&&(a=!1,l.process(c))}};return l}const Ca=["prepare","read","update","preRender","render","postRender"],cS=40;function uS(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=Ca.reduce((h,f)=>(h[f]=lS(()=>r=!0),h),{}),o=h=>a[h].process(s),l=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,cS),1),s.timestamp=h,s.isProcessing=!0,Ca.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:Ca.reduce((h,f)=>{const g=a[f];return h[f]=(y,v=!1,w=!1)=>(r||c(),g.schedule(y,v,w)),h},{}),cancel:h=>Ca.forEach(f=>a[f].cancel(h)),state:s,steps:a}}const{schedule:ne,cancel:ur,state:Oe,steps:Yl}=uS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0),dS={useVisualState:c0({scrapeMotionValuesFromProps:o0,createRenderState:n0,onMount:(e,t,{renderState:r,latestValues:n})=>{ne.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ne.render(()=>{rh(r,n,{enableHardwareAcceleration:!1},nh(t.tagName),e.transformTemplate),a0(t,r)})}})},hS={useVisualState:c0({scrapeMotionValuesFromProps:sh,createRenderState:th})};function fS(e,{forwardMotionProps:t=!1},r,n){return{...Zd(e)?dS:hS,preloadedFeatures:r,useRender:nS(t),createVisualElement:n,Component:e}}function er(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const u0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function nl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const mS=e=>t=>u0(t)&&e(t,nl(t));function rr(e,t,r,n){return er(e,t,mS(r),n)}const pS=(e,t)=>r=>t(e(r)),Vr=(...e)=>e.reduce(pS);function d0(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Cm=d0("dragHorizontal"),Tm=d0("dragVertical");function h0(e){let t=!1;if(e==="y")t=Tm();else if(e==="x")t=Cm();else{const r=Cm(),n=Tm();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function f0(){const e=h0(!0);return e?(e(),!1):!0}class en{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Pm(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(a,o)=>{if(a.pointerType==="touch"||f0())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ne.update(()=>l[n](a,o))};return rr(e.current,r,s,{passive:!e.getProps()[n]})}class gS extends en{mount(){this.unmount=Vr(Pm(this.node,!0),Pm(this.node,!1))}unmount(){}}class xS extends en{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vr(er(this.node.current,"focus",()=>this.onFocus()),er(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const m0=(e,t)=>t?e===t?!0:m0(e,t.parentElement):!1;function Xl(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,nl(r))}class yS extends en{constructor(){super(...arguments),this.removeStartListeners=ge,this.removeEndListeners=ge,this.removeAccessibleListeners=ge,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=rr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ne.update(()=>{!h&&!m0(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=rr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Vr(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Xl("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ne.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=er(this.node.current,"keyup",o),Xl("down",(l,c)=>{this.startPress(l,c)})},r=er(this.node.current,"keydown",t),n=()=>{this.isPressing&&Xl("cancel",(a,o)=>this.cancelPress(a,o))},s=er(this.node.current,"blur",n);this.removeAccessibleListeners=Vr(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ne.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!f0()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ne.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=rr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=er(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Su=new WeakMap,Jl=new WeakMap,vS=e=>{const t=Su.get(e.target);t&&t(e)},bS=e=>{e.forEach(vS)};function wS({root:e,...t}){const r=e||document;Jl.has(r)||Jl.set(r,{});const n=Jl.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(bS,{root:e,...t})),n[s]}function kS(e,t,r){const n=wS(t);return Su.set(e,r),n.observe(e),()=>{Su.delete(e),n.unobserve(e)}}const jS={some:0,all:1};class NS extends en{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:jS[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return kS(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(SS(t,r))&&this.startObserver()}unmount(){}}function SS({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const CS={inView:{Feature:NS},tap:{Feature:yS},focus:{Feature:xS},hover:{Feature:gS}};function p0(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function TS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function PS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function sl(e,t,r){const n=e.getProps();return ih(n,t,r!==void 0?r:n.custom,TS(e),PS(e))}let ah=ge;const kn=e=>e*1e3,nr=e=>e/1e3,AS={current:!1},g0=e=>Array.isArray(e)&&typeof e[0]=="number";function x0(e){return!!(!e||typeof e=="string"&&y0[e]||g0(e)||Array.isArray(e)&&e.every(x0))}const ei=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,y0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ei([0,.65,.55,1]),circOut:ei([.55,0,1,.45]),backIn:ei([.31,.01,.66,-.59]),backOut:ei([.33,1.53,.69,.99])};function v0(e){if(e)return g0(e)?ei(e):Array.isArray(e)?e.map(v0):y0[e]}function ES(e,t,r,{delay:n=0,duration:s,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=v0(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function IS(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const b0=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,RS=1e-7,_S=12;function MS(e,t,r,n,s){let a,o,l=0;do o=t+(r-t)/2,a=b0(o,n,s)-e,a>0?r=o:t=o;while(Math.abs(a)>RS&&++l<_S);return o}function na(e,t,r,n){if(e===t&&r===n)return ge;const s=a=>MS(a,0,1,e,r);return a=>a===0||a===1?a:b0(s(a),t,n)}const DS=na(.42,0,1,1),LS=na(0,0,.58,1),w0=na(.42,0,.58,1),OS=e=>Array.isArray(e)&&typeof e[0]!="number",k0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,j0=e=>t=>1-e(1-t),oh=e=>1-Math.sin(Math.acos(e)),N0=j0(oh),FS=k0(oh),S0=na(.33,1.53,.69,.99),lh=j0(S0),VS=k0(lh),BS=e=>(e*=2)<1?.5*lh(e):.5*(2-Math.pow(2,-10*(e-1))),$S={linear:ge,easeIn:DS,easeInOut:w0,easeOut:LS,circIn:oh,circInOut:FS,circOut:N0,backIn:lh,backInOut:VS,backOut:S0,anticipate:BS},Am=e=>{if(Array.isArray(e)){ah(e.length===4);const[t,r,n,s]=e;return na(t,r,n,s)}else if(typeof e=="string")return $S[e];return e},ch=(e,t)=>r=>!!(ta(r)&&UN.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),C0=(e,t,r)=>n=>{if(!ta(n))return n;const[s,a,o,l]=n.match(rl);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},zS=e=>qr(0,255,e),Zl={...On,transform:e=>Math.round(zS(e))},pn={test:ch("rgb","red"),parse:C0("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Zl.transform(e)+", "+Zl.transform(t)+", "+Zl.transform(r)+", "+fi(hi.transform(n))+")"};function US(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Cu={test:ch("#"),parse:US,transform:pn.transform},ts={test:ch("hsl","hue"),parse:C0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+zt.transform(fi(t))+", "+zt.transform(fi(r))+", "+fi(hi.transform(n))+")"},We={test:e=>pn.test(e)||Cu.test(e)||ts.test(e),parse:e=>pn.test(e)?pn.parse(e):ts.test(e)?ts.parse(e):Cu.parse(e),transform:e=>ta(e)?e:e.hasOwnProperty("red")?pn.transform(e):ts.transform(e)},de=(e,t,r)=>-r*e+r*t+e;function ec(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function qS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,o=0;if(!t)s=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=ec(c,l,e+1/3),a=ec(c,l,e),o=ec(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const tc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},WS=[Cu,pn,ts],HS=e=>WS.find(t=>t.test(e));function Em(e){const t=HS(e);let r=t.parse(e);return t===ts&&(r=qS(r)),r}const T0=(e,t)=>{const r=Em(e),n=Em(t),s={...r};return a=>(s.red=tc(r.red,n.red,a),s.green=tc(r.green,n.green,a),s.blue=tc(r.blue,n.blue,a),s.alpha=de(r.alpha,n.alpha,a),pn.transform(s))};function QS(e){var t,r;return isNaN(e)&&ta(e)&&(((t=e.match(rl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Zy))===null||r===void 0?void 0:r.length)||0)>0}const P0={regex:$N,countKey:"Vars",token:"${v}",parse:ge},A0={regex:Zy,countKey:"Colors",token:"${c}",parse:We.parse},E0={regex:rl,countKey:"Numbers",token:"${n}",parse:On.parse};function rc(e,{regex:t,countKey:r,token:n,parse:s}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(s)))}function So(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&rc(r,P0),rc(r,A0),rc(r,E0),r}function I0(e){return So(e).values}function R0(e){const{values:t,numColors:r,numVars:n,tokenised:s}=So(e),a=t.length;return o=>{let l=s;for(let c=0;c<a;c++)c<n?l=l.replace(P0.token,o[c]):c<n+r?l=l.replace(A0.token,We.transform(o[c])):l=l.replace(E0.token,fi(o[c]));return l}}const GS=e=>typeof e=="number"?0:e;function KS(e){const t=I0(e);return R0(e)(t.map(GS))}const Wr={test:QS,parse:I0,createTransformer:R0,getAnimatableNone:KS},_0=(e,t)=>r=>`${r>0?t:e}`;function M0(e,t){return typeof e=="number"?r=>de(e,t,r):We.test(e)?T0(e,t):e.startsWith("var(")?_0(e,t):L0(e,t)}const D0=(e,t)=>{const r=[...e],n=r.length,s=e.map((a,o)=>M0(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}},YS=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=M0(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}},L0=(e,t)=>{const r=Wr.createTransformer(t),n=So(e),s=So(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Vr(D0(n.values,s.values),r):_0(e,t)},zi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Im=(e,t)=>r=>de(e,t,r);function XS(e){return typeof e=="number"?Im:typeof e=="string"?We.test(e)?T0:L0:Array.isArray(e)?D0:typeof e=="object"?YS:Im}function JS(e,t,r){const n=[],s=r||XS(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ge:t;l=Vr(c,l)}n.push(l)}return n}function O0(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(ah(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=JS(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=zi(e[d],e[d+1],u);return o[d](h)};return r?u=>c(qr(e[0],e[a-1],u)):c}function ZS(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=zi(0,t,n);e.push(de(r,1,s))}}function e2(e){const t=[0];return ZS(t,e.length-1),t}function t2(e,t){return e.map(r=>r*t)}function r2(e,t){return e.map(()=>t||w0).splice(0,e.length-1)}function Co({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=OS(n)?n.map(Am):Am(n),a={done:!1,value:t[0]},o=t2(r&&r.length===t.length?r:e2(t),e),l=O0(o,t,{ease:Array.isArray(s)?s:r2(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function F0(e,t){return t?e*(1e3/t):0}const n2=5;function V0(e,t,r){const n=Math.max(t-n2,0);return F0(r-e(n),t-n)}const nc=.001,s2=.01,i2=10,a2=.05,o2=1;function l2({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,a,o=1-t;o=qr(a2,o2,o),e=qr(s2,i2,nr(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,g=Tu(u,o),y=Math.exp(-h);return nc-f/g*y},a=u=>{const h=u*o*e,f=h*r+r,g=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),v=Tu(Math.pow(u,2),o);return(-s(u)+nc>0?-1:1)*((f-g)*y)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-nc+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=u2(s,a,l);if(e=kn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const c2=12;function u2(e,t,r){let n=r;for(let s=1;s<c2;s++)n=n-e(n)/t(n);return n}function Tu(e,t){return e*Math.sqrt(1-t*t)}const d2=["duration","bounce"],h2=["stiffness","damping","mass"];function Rm(e,t){return t.some(r=>e[r]!==void 0)}function f2(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Rm(e,h2)&&Rm(e,d2)){const r=l2(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function B0({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],a=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=f2({...n,velocity:-nr(n.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*u)),v=a-s,w=nr(Math.sqrt(l/u)),p=Math.abs(v)<5;r||(r=p?.01:2),t||(t=p?.005:.5);let x;if(y<1){const m=Tu(w,y);x=k=>{const j=Math.exp(-y*w*k);return a-j*((g+y*w*v)/m*Math.sin(m*k)+v*Math.cos(m*k))}}else if(y===1)x=m=>a-Math.exp(-w*m)*(v+(g+w*v)*m);else{const m=w*Math.sqrt(y*y-1);x=k=>{const j=Math.exp(-y*w*k),N=Math.min(m*k,300);return a-j*((g+y*w*v)*Math.sinh(N)+m*v*Math.cosh(N))/m}}return{calculatedDuration:f&&d||null,next:m=>{const k=x(m);if(f)o.done=m>=d;else{let j=g;m!==0&&(y<1?j=V0(x,m,k):j=0);const N=Math.abs(j)<=r,S=Math.abs(a-k)<=t;o.done=N&&S}return o.value=o.done?a:k,o}}}function _m({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=C=>l!==void 0&&C<l||c!==void 0&&C>c,y=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let v=r*t;const w=h+v,p=o===void 0?w:o(w);p!==w&&(v=p-h);const x=C=>-v*Math.exp(-C/n),m=C=>p+x(C),k=C=>{const I=x(C),L=m(C);f.done=Math.abs(I)<=u,f.value=f.done?p:L};let j,N;const S=C=>{g(f.value)&&(j=C,N=B0({keyframes:[f.value,y(f.value)],velocity:V0(m,C,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:C=>{let I=!1;return!N&&j===void 0&&(I=!0,k(C),S(C)),j!==void 0&&C>j?N.next(C-j):(!I&&k(C),f)}}}const m2=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ne.update(t,!0),stop:()=>ur(t),now:()=>Oe.isProcessing?Oe.timestamp:performance.now()}},Mm=2e4;function Dm(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Mm;)t+=r,n=e.next(t);return t>=Mm?1/0:t}const p2={decay:_m,inertia:_m,tween:Co,keyframes:Co,spring:B0};function To({autoplay:e=!0,delay:t=0,driver:r=m2,keyframes:n,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let g=1,y=!1,v,w;const p=()=>{w=new Promise(M=>{v=M})};p();let x;const m=p2[s]||Co;let k;m!==Co&&typeof n[0]!="number"&&(k=O0([0,100],n,{clamp:!1}),n=[0,100]);const j=m({...f,keyframes:n});let N;l==="mirror"&&(N=m({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let S="idle",C=null,I=null,L=null;j.calculatedDuration===null&&a&&(j.calculatedDuration=Dm(j));const{calculatedDuration:_}=j;let O=1/0,se=1/0;_!==null&&(O=_+o,se=O*(a+1)-o);let Q=0;const ft=M=>{if(I===null)return;g>0&&(I=Math.min(I,M)),g<0&&(I=Math.min(M-se/g,I)),C!==null?Q=C:Q=Math.round(M-I)*g;const te=Q-t*(g>=0?1:-1),St=g>=0?te<0:te>se;Q=Math.max(te,0),S==="finished"&&C===null&&(Q=se);let ze=Q,gr=j;if(a){const Ms=Math.min(Q,se)/O;let nn=Math.floor(Ms),Mt=Ms%1;!Mt&&Ms>=1&&(Mt=1),Mt===1&&nn--,nn=Math.min(nn,a+1),!!(nn%2)&&(l==="reverse"?(Mt=1-Mt,o&&(Mt-=o/O)):l==="mirror"&&(gr=N)),ze=qr(0,1,Mt)*O}const Ue=St?{done:!1,value:n[0]}:gr.next(ze);k&&(Ue.value=k(Ue.value));let{done:qt}=Ue;!St&&_!==null&&(qt=g>=0?Q>=se:Q<=0);const ml=C===null&&(S==="finished"||S==="running"&&qt);return h&&h(Ue.value),ml&&P(),Ue},K=()=>{x&&x.stop(),x=void 0},ke=()=>{S="idle",K(),v(),p(),I=L=null},P=()=>{S="finished",d&&d(),K(),v()},F=()=>{if(y)return;x||(x=r(ft));const M=x.now();c&&c(),C!==null?I=M-C:(!I||S==="finished")&&(I=M),S==="finished"&&p(),L=I,C=null,S="running",x.start()};e&&F();const B={then(M,te){return w.then(M,te)},get time(){return nr(Q)},set time(M){M=kn(M),Q=M,C!==null||!x||g===0?C=M:I=x.now()-M/g},get duration(){const M=j.calculatedDuration===null?Dm(j):j.calculatedDuration;return nr(M)},get speed(){return g},set speed(M){M===g||!x||(g=M,B.time=nr(Q))},get state(){return S},play:F,pause:()=>{S="paused",C=Q},stop:()=>{y=!0,S!=="idle"&&(S="idle",u&&u(),ke())},cancel:()=>{L!==null&&ft(L),ke()},complete:()=>{S="finished"},sample:M=>(I=0,ft(M))};return B}function g2(e){let t;return()=>(t===void 0&&(t=e()),t)}const x2=g2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),y2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ta=10,v2=2e4,b2=(e,t)=>t.type==="spring"||e==="backgroundColor"||!x0(t.ease);function w2(e,t,{onUpdate:r,onComplete:n,...s}){if(!(x2()&&y2.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(m=>{l=m})};d();let{keyframes:h,duration:f=300,ease:g,times:y}=s;if(b2(t,s)){const m=To({...s,repeat:0,delay:0});let k={done:!1,value:h[0]};const j=[];let N=0;for(;!k.done&&N<v2;)k=m.sample(N),j.push(k.value),N+=Ta;y=void 0,h=j,f=N-Ta,g="linear"}const v=ES(e.owner.current,t,h,{...s,duration:f,ease:g,times:y}),w=()=>{u=!1,v.cancel()},p=()=>{u=!0,ne.update(w),l(),d()};return v.onfinish=()=>{u||(e.set(IS(h,s)),n&&n(),p())},{then(m,k){return c.then(m,k)},attachTimeline(m){return v.timeline=m,v.onfinish=null,ge},get time(){return nr(v.currentTime||0)},set time(m){v.currentTime=kn(m)},get speed(){return v.playbackRate},set speed(m){v.playbackRate=m},get duration(){return nr(f)},play:()=>{o||(v.play(),ur(w))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:m}=v;if(m){const k=To({...s,autoplay:!1});e.setWithVelocity(k.sample(m-Ta).value,k.sample(m).value,Ta)}p()},complete:()=>{u||v.finish()},cancel:p}}function k2({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ge,pause:ge,stop:ge,then:a=>(a(),Promise.resolve()),cancel:ge,complete:ge});return t?To({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const j2={type:"spring",stiffness:500,damping:25,restSpeed:10},N2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S2={type:"keyframes",duration:.8},C2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T2=(e,{keyframes:t})=>t.length>2?S2:Ln.has(e)?e.startsWith("scale")?N2(t[1]):j2:C2,Pu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url(")),P2=new Set(["brightness","contrast","saturate","opacity"]);function A2(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(rl)||[];if(!n)return e;const s=r.replace(n,"");let a=P2.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const E2=/([a-z-]*)\(.*?\)/g,Au={...Wr,getAnimatableNone:e=>{const t=e.match(E2);return t?t.map(A2).join(" "):e}},I2={...e0,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:Au,WebkitFilter:Au},uh=e=>I2[e];function $0(e,t){let r=uh(e);return r!==Au&&(r=Wr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const z0=e=>/^0[^.\s]+$/.test(e);function R2(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||z0(e)}function _2(e,t,r,n){const s=Pu(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),R2(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=$0(t,l)}return a}function M2({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function dh(e,t){return e[t]||e.default||e}const D2={skipAnimations:!1},hh=(e,t,r,n={})=>s=>{const a=dh(n,e)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-kn(o);const c=_2(t,e,r,a),u=c[0],d=c[c.length-1],h=Pu(e,u),f=Pu(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:y=>{t.set(y),a.onUpdate&&a.onUpdate(y)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(M2(a)||(g={...g,...T2(e,g)}),g.duration&&(g.duration=kn(g.duration)),g.repeatDelay&&(g.repeatDelay=kn(g.repeatDelay)),!h||!f||AS.current||a.type===!1||D2.skipAnimations)return k2(g);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=w2(t,e,g);if(y)return y}return To(g)};function Po(e){return!!(it(e)&&e.add)}const U0=e=>/^\-?\d*\.?\d+$/.test(e);function fh(e,t){e.indexOf(t)===-1&&e.push(t)}function mh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class ph{constructor(){this.subscriptions=[]}add(t){return fh(this.subscriptions,t),()=>mh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const L2=e=>!isNaN(parseFloat(e));class O2{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Oe;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=L2(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ph);const n=this.events[t].add(r);return t==="change"?()=>{n(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?F0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function js(e,t){return new O2(e,t)}const q0=e=>t=>t.test(e),F2={test:e=>e==="auto",parse:e=>e},W0=[On,V,zt,br,WN,qN,F2],Us=e=>W0.find(q0(e)),V2=[...W0,We,Wr],B2=e=>V2.find(q0(e));function $2(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,js(r))}function z2(e,t){const r=sl(e,t);let{transitionEnd:n={},transition:s={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const l=iS(a[o]);$2(e,o,l)}}function U2(e,t,r){var n,s;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(U0(d)||z0(d))?d=parseFloat(d):!B2(d)&&Wr.test(u)&&(d=$0(c,u)),e.addValue(c,js(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function q2(e,t){return t?(t[e]||t.default||t).from:void 0}function W2(e,t,r){const n={};for(const s in e){const a=q2(s,t);if(a!==void 0)n[s]=a;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function H2({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Q2(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function H0(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),g=l[h];if(!f||g===void 0||d&&H2(d,h))continue;const y={delay:r,elapsed:0,...dh(a||{},h)};if(window.HandoffAppearAnimations){const p=e.getProps()[Qy];if(p){const x=window.HandoffAppearAnimations(p,h,f,ne);x!==null&&(y.elapsed=x,y.isHandoff=!0)}}let v=!y.isHandoff&&!Q2(f,g);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(hh(h,f,g,e.shouldReduceMotion&&Ln.has(h)?{type:!1}:y));const w=f.animation;Po(c)&&(c.add(h),w.then(()=>c.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&z2(e,o)}),u}function Eu(e,t,r={}){const n=sl(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(H0(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return G2(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function G2(e,t,r=0,n=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(K2).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Eu(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function K2(e,t){return e.sortNodePosition(t)}function Y2(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>Eu(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=Eu(e,t,r);else{const s=typeof t=="function"?sl(e,t,r.custom):t;n=Promise.all(H0(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const X2=[...Yd].reverse(),J2=Yd.length;function Z2(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Y2(e,r,n)))}function eC(e){let t=Z2(e);const r=rC();let n=!0;const s=(c,u)=>{const d=sl(e,u);if(d){const{transition:h,transitionEnd:f,...g}=d;c={...c,...g,...f}}return c};function a(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],g=new Set;let y={},v=1/0;for(let p=0;p<J2;p++){const x=X2[p],m=r[x],k=d[x]!==void 0?d[x]:h[x],j=Bi(k),N=x===u?m.isActive:null;N===!1&&(v=p);let S=k===h[x]&&k!==d[x]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),m.protectedKeys={...y},!m.isActive&&N===null||!k&&!m.prevProp||el(k)||typeof k=="boolean")continue;let I=tC(m.prevProp,k)||x===u&&m.isActive&&!S&&j||p>v&&j,L=!1;const _=Array.isArray(k)?k:[k];let O=_.reduce(s,{});N===!1&&(O={});const{prevResolvedValues:se={}}=m,Q={...se,...O},ft=K=>{I=!0,g.has(K)&&(L=!0,g.delete(K)),m.needsAnimating[K]=!0};for(const K in Q){const ke=O[K],P=se[K];if(y.hasOwnProperty(K))continue;let F=!1;No(ke)&&No(P)?F=!p0(ke,P):F=ke!==P,F?ke!==void 0?ft(K):g.add(K):ke!==void 0&&g.has(K)?ft(K):m.protectedKeys[K]=!0}m.prevProp=k,m.prevResolvedValues=O,m.isActive&&(y={...y,...O}),n&&e.blockInitialAnimation&&(I=!1),I&&(!S||L)&&f.push(..._.map(K=>({animation:K,options:{type:x,...c}})))}if(g.size){const p={};g.forEach(x=>{const m=e.getBaseTarget(x);m!==void 0&&(p[x]=m)}),f.push({animation:p})}let w=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(f):Promise.resolve()}function l(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),r[c].isActive=u;const f=o(d,c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function tC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!p0(t,e):!1}function sn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rC(){return{animate:sn(!0),whileInView:sn(),whileHover:sn(),whileTap:sn(),whileDrag:sn(),whileFocus:sn(),exit:sn()}}class nC extends en{constructor(t){super(t),t.animationState||(t.animationState=eC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),el(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let sC=0;class iC extends en{constructor(){super(...arguments),this.id=sC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aC={animation:{Feature:nC},exit:{Feature:iC}},Lm=(e,t)=>Math.abs(e-t);function oC(e,t){const r=Lm(e.x,t.x),n=Lm(e.y,t.y);return Math.sqrt(r**2+n**2)}class Q0{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ic(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=oC(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:y}=h,{timestamp:v}=Oe;this.history.push({...y,timestamp:v});const{onStart:w,onMove:p}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=sc(f,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ic(h.type==="pointercancel"?this.lastMoveEventInfo:sc(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),y&&y(h,w)},!u0(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=nl(t),l=sc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Oe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,ic(l,this.history)),this.removeListeners=Vr(rr(this.contextWindow,"pointermove",this.handlePointerMove),rr(this.contextWindow,"pointerup",this.handlePointerUp),rr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function sc(e,t){return t?{point:t(e.point)}:e}function Om(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ic({point:e},t){return{point:e,delta:Om(e,G0(t)),offset:Om(e,lC(t)),velocity:cC(t,.1)}}function lC(e){return e[0]}function G0(e){return e[e.length-1]}function cC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=G0(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>kn(t)));)r--;if(!n)return{x:0,y:0};const a=nr(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ut(e){return e.max-e.min}function Iu(e,t=0,r=.01){return Math.abs(e-t)<=r}function Fm(e,t,r,n=.5){e.origin=n,e.originPoint=de(t.min,t.max,e.origin),e.scale=ut(r)/ut(t),(Iu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=de(r.min,r.max,e.origin)-e.originPoint,(Iu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mi(e,t,r,n){Fm(e.x,t.x,r.x,n?n.originX:void 0),Fm(e.y,t.y,r.y,n?n.originY:void 0)}function Vm(e,t,r){e.min=r.min+t.min,e.max=e.min+ut(t)}function uC(e,t,r){Vm(e.x,t.x,r.x),Vm(e.y,t.y,r.y)}function Bm(e,t,r){e.min=t.min-r.min,e.max=e.min+ut(t)}function pi(e,t,r){Bm(e.x,t.x,r.x),Bm(e.y,t.y,r.y)}function dC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?de(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?de(r,e,n.max):Math.min(e,r)),e}function $m(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function hC(e,{top:t,left:r,bottom:n,right:s}){return{x:$m(e.x,r,s),y:$m(e.y,t,n)}}function zm(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function fC(e,t){return{x:zm(e.x,t.x),y:zm(e.y,t.y)}}function mC(e,t){let r=.5;const n=ut(e),s=ut(t);return s>n?r=zi(t.min,t.max-n,e.min):n>s&&(r=zi(e.min,e.max-s,t.min)),qr(0,1,r)}function pC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ru=.35;function gC(e=Ru){return e===!1?e=0:e===!0&&(e=Ru),{x:Um(e,"left","right"),y:Um(e,"top","bottom")}}function Um(e,t,r){return{min:qm(e,t),max:qm(e,r)}}function qm(e,t){return typeof e=="number"?e:e[t]||0}const Wm=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:Wm(),y:Wm()}),Hm=()=>({min:0,max:0}),be=()=>({x:Hm(),y:Hm()});function gt(e){return[e("x"),e("y")]}function K0({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function xC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ac(e){return e===void 0||e===1}function _u({scale:e,scaleX:t,scaleY:r}){return!ac(e)||!ac(t)||!ac(r)}function ln(e){return _u(e)||Y0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Y0(e){return Qm(e.x)||Qm(e.y)}function Qm(e){return e&&e!=="0%"}function Ao(e,t,r){const n=e-r,s=t*n;return r+s}function Gm(e,t,r,n,s){return s!==void 0&&(e=Ao(e,s,n)),Ao(e,r,n)+t}function Mu(e,t=0,r=1,n,s){e.min=Gm(e.min,t,r,n,s),e.max=Gm(e.max,t,r,n,s)}function X0(e,{x:t,y:r}){Mu(e.x,t.translate,t.scale,t.originPoint),Mu(e.y,r.translate,r.scale,r.originPoint)}function vC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ns(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,X0(e,o)),n&&ln(a.latestValues)&&ns(e,a.latestValues))}t.x=Km(t.x),t.y=Km(t.y)}function Km(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jr(e,t){e.min=e.min+t,e.max=e.max+t}function Ym(e,t,[r,n,s]){const a=t[s]!==void 0?t[s]:.5,o=de(e.min,e.max,a);Mu(e,t[r],t[n],o,t.scale)}const bC=["x","scaleX","originX"],wC=["y","scaleY","originY"];function ns(e,t){Ym(e.x,t,bC),Ym(e.y,t,wC)}function J0(e,t){return K0(yC(e.getBoundingClientRect(),t))}function kC(e,t,r){const n=J0(e,r),{scroll:s}=t;return s&&(jr(n.x,s.offset.x),jr(n.y,s.offset.y)),n}const Z0=({current:e})=>e?e.ownerDocument.defaultView:null,jC=new WeakMap;class NC{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(nl(d,"page").point)},a=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=h0(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gt(w=>{let p=this.getAxisMotionValue(w).get()||0;if(zt.test(p)){const{projection:x}=this.visualElement;if(x&&x.layout){const m=x.layout.layoutBox[w];m&&(p=ut(m)*(parseFloat(p)/100))}}this.originPoint[w]=p}),y&&ne.update(()=>y(d,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=SC(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},l=(d,h)=>this.stop(d,h),c=()=>gt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Q0(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Z0(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ne.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Pa(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=dC(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&es(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=hC(s.layoutBox,r):this.constraints=!1,this.elastic=gC(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&gt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=pC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!es(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=kC(n,s.root,this.visualElement.getTransformPagePoint());let o=fC(s.layout.layoutBox,a);if(r){const l=r(xC(o));this.hasMutatedConstraints=!!l,l&&(o=K0(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=gt(d=>{if(!Pa(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(hh(t,n,0,r))}stopAnimation(){gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){gt(r=>{const{drag:n}=this.getProps();if(!Pa(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(t[r]-de(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!es(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=mC({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gt(o=>{if(!Pa(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(de(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;jC.set(this.visualElement,this);const t=this.visualElement.current,r=rr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();es(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=er(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(gt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Ru,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Pa(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function SC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class CC extends en{constructor(t){super(t),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new NC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xm=e=>(t,r)=>{e&&ne.update(()=>e(t,r))};class TC extends en{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(t){this.session=new Q0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Xm(t),onStart:Xm(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&ne.update(()=>s(a,o))}}}mount(){this.removePointerDownListener=rr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PC(){const e=b.useContext(Jo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=b.useId();return b.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Ha={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const r=Jm(e,t.target.x),n=Jm(e,t.target.y);return`${r}% ${n}%`}},AC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Wr.parse(e);if(s.length>5)return n;const a=Wr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=de(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class EC extends ir.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;ON(IC),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ha.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ne.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ev(e){const[t,r]=PC(),n=b.useContext(Jd);return ir.createElement(EC,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Ky),isPresent:t,safeToRemove:r})}const IC={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:AC},tv=["TopLeft","TopRight","BottomLeft","BottomRight"],RC=tv.length,Zm=e=>typeof e=="string"?parseFloat(e):e,ep=e=>typeof e=="number"||V.test(e);function _C(e,t,r,n,s,a){s?(e.opacity=de(0,r.opacity!==void 0?r.opacity:1,MC(n)),e.opacityExit=de(t.opacity!==void 0?t.opacity:1,0,DC(n))):a&&(e.opacity=de(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<RC;o++){const l=`border${tv[o]}Radius`;let c=tp(t,l),u=tp(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ep(c)===ep(u)?(e[l]=Math.max(de(Zm(c),Zm(u),n),0),(zt.test(u)||zt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=de(t.rotate||0,r.rotate||0,n))}function tp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MC=rv(0,.5,N0),DC=rv(.5,.95,ge);function rv(e,t,r){return n=>n<e?0:n>t?1:r(zi(e,t,n))}function rp(e,t){e.min=t.min,e.max=t.max}function pt(e,t){rp(e.x,t.x),rp(e.y,t.y)}function np(e,t,r,n,s){return e-=t,e=Ao(e,1/r,n),s!==void 0&&(e=Ao(e,1/s,n)),e}function LC(e,t=0,r=1,n=.5,s,a=e,o=e){if(zt.test(t)&&(t=parseFloat(t),t=de(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=de(a.min,a.max,n);e===a&&(l-=t),e.min=np(e.min,t,r,l,s),e.max=np(e.max,t,r,l,s)}function sp(e,t,[r,n,s],a,o){LC(e,t[r],t[n],t[s],t.scale,a,o)}const OC=["x","scaleX","originX"],FC=["y","scaleY","originY"];function ip(e,t,r,n){sp(e.x,t,OC,r?r.x:void 0,n?n.x:void 0),sp(e.y,t,FC,r?r.y:void 0,n?n.y:void 0)}function ap(e){return e.translate===0&&e.scale===1}function nv(e){return ap(e.x)&&ap(e.y)}function VC(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function sv(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function op(e){return ut(e.x)/ut(e.y)}class BC{constructor(){this.members=[]}add(t){fh(this.members,t),t.scheduleRender()}remove(t){if(mh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lp(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(n=`translate3d(${s}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const $C=(e,t)=>e.depth-t.depth;class zC{constructor(){this.children=[],this.isDirty=!1}add(t){fh(this.children,t),this.isDirty=!0}remove(t){mh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($C),this.isDirty=!1,this.children.forEach(t)}}function UC(e,t){const r=performance.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(ur(n),e(a-t))};return ne.read(n,!0),()=>ur(n)}function qC(e){window.MotionDebug&&window.MotionDebug.record(e)}function WC(e){return e instanceof SVGElement&&e.tagName!=="svg"}function HC(e,t,r){const n=it(e)?e:js(e);return n.start(hh("",n,t,r)),n.animation}const cp=["","X","Y","Z"],QC={visibility:"hidden"},up=1e3;let GC=0;const cn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function iv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=GC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cn.totalNodes=cn.resolvedTargetDeltas=cn.recalculatedProjection=0,this.nodes.forEach(XC),this.nodes.forEach(rT),this.nodes.forEach(nT),this.nodes.forEach(JC),qC(cn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ph),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=WC(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=UC(f,250),Ha.hasAnimatedSinceResize&&(Ha.hasAnimatedSinceResize=!1,this.nodes.forEach(hp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||lT,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=d.getProps(),x=!this.targetLayout||!sv(this.targetLayout,y)||g,m=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const k={...dh(v,"layout"),onPlay:w,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||hp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dp);return}this.isUpdating||this.nodes.forEach(eT),this.isUpdating=!1,this.nodes.forEach(tT),this.nodes.forEach(KC),this.nodes.forEach(YC),this.clearAllSnapshots();const l=performance.now();Oe.delta=qr(0,1e3/60,l-Oe.timestamp),Oe.timestamp=l,Oe.isProcessing=!0,Yl.update.process(Oe),Yl.preRender.process(Oe),Yl.render.process(Oe),Oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ZC),this.sharedNodes.forEach(iT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!nv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ln(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),cT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return be();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(jr(l.x,c.offset.x),jr(l.y,c.offset.y)),l}removeElementScroll(o){const l=be();pt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){pt(l,o);const{scroll:f}=this.root;f&&(jr(l.x,-f.offset.x),jr(l.y,-f.offset.y))}jr(l.x,d.offset.x),jr(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=be();pt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ns(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ln(d.latestValues)&&ns(c,d.latestValues)}return ln(this.latestValues)&&ns(c,this.latestValues),c}removeTransform(o){const l=be();pt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ln(u.latestValues))continue;_u(u.latestValues)&&u.updateSnapshot();const d=be(),h=u.measurePageBox();pt(d,h),ip(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ln(this.latestValues)&&ip(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Oe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),pi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pt(this.target,this.layout.layoutBox),X0(this.target,this.targetDelta)):pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),pi(this.relativeTargetOrigin,this.target,g.target),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_u(this.parent.latestValues)||Y0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Oe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;pt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;vC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=rs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs());const v=this.projectionTransform;mi(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=lp(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),cn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=be(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=g!==y,w=this.getStack(),p=!w||w.members.length<=1,x=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(oT));this.animationProgress=0;let m;this.mixTargetDelta=k=>{const j=k/1e3;fp(h.x,o.x,j),fp(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aT(this.relativeTarget,this.relativeTargetOrigin,f,j),m&&VC(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=be()),pt(m,this.relativeTarget)),v&&(this.animationValues=d,_C(d,u,this.latestValues,j,x,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{Ha.hasAnimatedSinceResize=!0,this.currentAnimation=HC(0,up,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(up),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&av(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||be();const h=ut(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ut(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}pt(l,c),ns(l,d),mi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BC),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<cp.length;d++){const h="rotate"+cp[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Wa(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Wa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ln(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=lp(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in ko){if(f[v]===void 0)continue;const{correct:w,applyTo:p}=ko[v],x=u.transform==="none"?f[v]:w(f[v],h);if(p){const m=p.length;for(let k=0;k<m;k++)u[p[k]]=x}else u[v]=x}return this.options.layoutId&&(u.pointerEvents=h===this?Wa(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(dp),this.root.sharedNodes.clear()}}}function KC(e){e.updateLayout()}function YC(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?gt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=ut(f);f.min=n[h].min,f.max=f.min+g}):av(a,r.layoutBox,n)&&gt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=ut(n[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=rs();mi(l,n,r.layoutBox);const c=rs();o?mi(c,e.applyTransform(s,!0),r.measuredBox):mi(c,n,r.layoutBox);const u=!nv(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const y=be();pi(y,r.layoutBox,f.layoutBox);const v=be();pi(v,n,g.layoutBox),sv(y,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function XC(e){cn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function JC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ZC(e){e.clearSnapshot()}function dp(e){e.clearMeasurements()}function eT(e){e.isLayoutDirty=!1}function tT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rT(e){e.resolveTargetDelta()}function nT(e){e.calcProjection()}function sT(e){e.resetRotation()}function iT(e){e.removeLeadSnapshot()}function fp(e,t,r){e.translate=de(t.translate,0,r),e.scale=de(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function mp(e,t,r,n){e.min=de(t.min,r.min,n),e.max=de(t.max,r.max,n)}function aT(e,t,r,n){mp(e.x,t.x,r.x,n),mp(e.y,t.y,r.y,n)}function oT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lT={duration:.45,ease:[.4,0,.1,1]},pp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),gp=pp("applewebkit/")&&!pp("chrome/")?Math.round:ge;function xp(e){e.min=gp(e.min),e.max=gp(e.max)}function cT(e){xp(e.x),xp(e.y)}function av(e,t,r){return e==="position"||e==="preserve-aspect"&&!Iu(op(t),op(r),.2)}const uT=iv({attachResizeListener:(e,t)=>er(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oc={current:void 0},ov=iv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oc.current){const e=new uT({});e.mount(window),e.setOptions({layoutScroll:!0}),oc.current=e}return oc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dT={pan:{Feature:TC},drag:{Feature:CC,ProjectionNode:ov,MeasureLayout:ev}},hT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function fT(e){const t=hT.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Du(e,t,r=1){const[n,s]=fT(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return U0(o)?parseFloat(o):o}else return Nu(s)?Du(s,t,r+1):s}function mT(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const a=s.get();if(!Nu(a))return;const o=Du(a,n);o&&s.set(o)});for(const s in t){const a=t[s];if(!Nu(a))continue;const o=Du(a,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=a))}return{target:t,transitionEnd:r}}const pT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),lv=e=>pT.has(e),gT=e=>Object.keys(e).some(lv),yp=e=>e===On||e===V,vp=(e,t)=>parseFloat(e.split(", ")[t]),bp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return vp(s[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?vp(a[1],e):0}},xT=new Set(["x","y","z"]),yT=ea.filter(e=>!xT.has(e));function vT(e){const t=[];return yT.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ns={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bp(4,13),y:bp(5,14)};Ns.translateX=Ns.x;Ns.translateY=Ns.y;const bT=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Ns[u](n,a)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ns[u](c,a)}),e},wT=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(lv);let a=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=Us(d);const f=t[c];let g;if(No(f)){const y=f.length,v=f[0]===null?1:0;d=f[v],h=Us(d);for(let w=v;w<y&&f[w]!==null;w++)g?ah(Us(f[w])===g):g=Us(f[w])}else g=Us(f);if(h!==g)if(yp(h)&&yp(g)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&g===V&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(d===0||f===0)?d===0?u.set(g.transform(d)):t[c]=h.transform(f):(o||(a=vT(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=bT(t,e,l);return a.length&&a.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Zo&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function kT(e,t,r,n){return gT(t)?wT(e,t,r,n):{target:t,transitionEnd:n}}const jT=(e,t,r,n)=>{const s=mT(e,t,n);return t=s.target,n=s.transitionEnd,kT(e,t,r,n)},Lu={current:null},cv={current:!1};function NT(){if(cv.current=!0,!!Zo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lu.current=e.matches;e.addListener(t),t()}else Lu.current=!1}function ST(e,t,r){const{willChange:n}=t;for(const s in t){const a=t[s],o=r[s];if(it(a))e.addValue(s,a),Po(n)&&n.add(s);else if(it(o))e.addValue(s,js(a,{owner:e})),Po(n)&&n.remove(s);else if(o!==a)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(s);e.addValue(s,js(l!==void 0?l:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const wp=new WeakMap,uv=Object.keys($i),CT=uv.length,kp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],TT=Xd.length;class PT{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ne.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=tl(r),this.isVariantNode=Gy(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];l[h]!==void 0&&it(f)&&(f.set(l[h],!1),Po(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,wp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),cv.current||NT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wp.delete(this.current),this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Ln.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ne.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,a){let o,l;for(let c=0;c<CT;c++){const u=uv[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:g}=$i[u];f&&(o=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:g}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&es(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<kp.length;n++){const s=kp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=t["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=ST(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<TT;n++){const s=Xd[n],a=this.props[s];(Bi(a)||a===!1)&&(r[s]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=js(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=ih(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!it(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ph),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class dv extends PT{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},a){let o=W2(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),a){U2(this,n,o);const l=jT(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function AT(e){return window.getComputedStyle(e)}class ET extends dv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Ln.has(r)){const n=uh(r);return n&&n.default||0}else{const n=AT(t),s=(Jy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return J0(t,r)}build(t,r,n,s){eh(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return sh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;it(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){s0(t,r,n,s)}}class IT extends dv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ln.has(r)){const n=uh(r);return n&&n.default||0}return r=i0.has(r)?r:Kd(r),t.getAttribute(r)}measureInstanceViewportBox(){return be()}scrapeMotionValuesFromProps(t,r){return o0(t,r)}build(t,r,n,s){rh(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){a0(t,r,n,s)}mount(t){this.isSVGTag=nh(t.tagName),super.mount(t)}}const RT=(e,t)=>Zd(e)?new IT(t,{enableHardwareAcceleration:!1}):new ET(t,{enableHardwareAcceleration:!0}),_T={layout:{ProjectionNode:ov,MeasureLayout:ev}},MT={...aC,...CS,...dT,..._T},R=DN((e,t)=>fS(e,t,MT,RT));function hv(){const e=b.useRef(!1);return Gd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function DT(){const e=hv(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>ne.postRender(n),[n]),t]}class LT extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function OT({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(LT,{isPresent:t,childRef:n,sizeRef:s},b.cloneElement(e,{ref:n}))}const lc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=l0(FT),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[r]);return b.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=b.createElement(OT,{isPresent:r},e)),b.createElement(Jo.Provider,{value:u},e)};function FT(){return new Map}function VT(e){return b.useEffect(()=>()=>e(),[])}const un=e=>e.key||"";function BT(e,t){e.forEach(r=>{const n=un(r);t.set(n,r)})}function $T(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const pr=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=b.useContext(Jd).forceRender||DT()[0],c=hv(),u=$T(e);let d=u;const h=b.useRef(new Map).current,f=b.useRef(d),g=b.useRef(new Map).current,y=b.useRef(!0);if(Gd(()=>{y.current=!1,BT(u,g),f.current=d}),VT(()=>{y.current=!0,g.clear(),h.clear()}),y.current)return b.createElement(b.Fragment,null,d.map(x=>b.createElement(lc,{key:un(x),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},x)));d=[...d];const v=f.current.map(un),w=u.map(un),p=v.length;for(let x=0;x<p;x++){const m=v[x];w.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((x,m)=>{if(w.indexOf(m)!==-1)return;const k=g.get(m);if(!k)return;const j=v.indexOf(m);let N=x;if(!N){const S=()=>{h.delete(m);const C=Array.from(g.keys()).filter(I=>!w.includes(I));if(C.forEach(I=>g.delete(I)),f.current=u.filter(I=>{const L=un(I);return L===m||C.includes(L)}),!h.size){if(c.current===!1)return;l(),n&&n()}};N=b.createElement(lc,{key:un(k),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:a,mode:o},k),h.set(m,N)}d.splice(j,0,N)}),d=d.map(x=>{const m=x.key;return h.has(m)?x:b.createElement(lc,{key:un(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),b.createElement(b.Fragment,null,h.size?d:d.map(x=>b.cloneElement(x)))};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),E=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...zT,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${UT(e)}`,l].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=E("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=E("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=E("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=E("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=E("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=E("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=E("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=E("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=E("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=E("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=E("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=E("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=E("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=E("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=E("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=E("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=E("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=E("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=E("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=E("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=E("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=E("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=E("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=E("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=E("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=E("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=E("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=E("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=E("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=E("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=E("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=E("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=E("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=E("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=E("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=E("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=E("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=E("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=E("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=E("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=E("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=E("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=E("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=E("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=E("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=E("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=E("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=E("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=E("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=E("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=E("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=E("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=E("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=E("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=E("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=E("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=E("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=E("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=E("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=E("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=E("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=E("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=E("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=E("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Z=SN;function kv(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=kv(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function hP(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=kv(e))&&(n&&(n+=" "),n+=t);return n}const bh="-",fP=e=>{const t=pP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(bh);return l[0]===""&&l.length!==1&&l.shift(),jv(l,t)||mP(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},jv=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?jv(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(bh);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Ap=/^\[(.+)\]$/,mP=e=>{if(Ap.test(e)){const t=Ap.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xP(Object.entries(e.classGroups),r).forEach(([a,o])=>{Vu(o,n,a,t)}),n},Vu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Ep(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(gP(s)){Vu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{Vu(o,Ep(t,a),r,n)})})},Ep=(e,t)=>{let r=e;return t.split(bh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},gP=e=>e.isThemeGetter,xP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,yP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},Nv="!",vP=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(d,w)),d=w+a;continue}if(p==="/"){h=w;continue}}p==="["?u++:p==="]"&&u--}const f=c.length===0?l:l.substring(d),g=f.startsWith(Nv),y=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},bP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},wP=e=>({cache:yP(e.cacheSize),parseClassName:vP(e),...fP(e)}),kP=/\s+/,jP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(kP);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(u);let y=!!g,v=n(y?f.substring(0,g):f);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=n(f),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=bP(d).join(":"),p=h?w+Nv:w,x=p+v;if(a.includes(x))continue;a.push(x);const m=s(v,y);for(let k=0;k<m.length;++k){const j=m[k];a.push(p+j)}l=u+(l.length>0?" "+l:l)}return l};function NP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Sv(t))&&(n&&(n+=" "),n+=r);return n}const Sv=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Sv(e[n]))&&(r&&(r+=" "),r+=t);return r};function SP(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=wP(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=jP(c,r);return s(c,d),d}return function(){return a(NP.apply(null,arguments))}}const ie=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Cv=/^\[(?:([a-z-]+):)?(.+)\]$/i,CP=/^\d+\/\d+$/,TP=new Set(["px","full","screen"]),PP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ht=e=>hs(e)||TP.has(e)||CP.test(e),yr=e=>Is(e,"length",BP),hs=e=>!!e&&!Number.isNaN(Number(e)),cc=e=>Is(e,"number",hs),Ws=e=>!!e&&Number.isInteger(Number(e)),_P=e=>e.endsWith("%")&&hs(e.slice(0,-1)),U=e=>Cv.test(e),vr=e=>PP.test(e),MP=new Set(["length","size","percentage"]),DP=e=>Is(e,MP,Tv),LP=e=>Is(e,"position",Tv),OP=new Set(["image","url"]),FP=e=>Is(e,OP,zP),VP=e=>Is(e,"",$P),Hs=()=>!0,Is=(e,t,r)=>{const n=Cv.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},BP=e=>AP.test(e)&&!EP.test(e),Tv=()=>!1,$P=e=>IP.test(e),zP=e=>RP.test(e),UP=()=>{const e=ie("colors"),t=ie("spacing"),r=ie("blur"),n=ie("brightness"),s=ie("borderColor"),a=ie("borderRadius"),o=ie("borderSpacing"),l=ie("borderWidth"),c=ie("contrast"),u=ie("grayscale"),d=ie("hueRotate"),h=ie("invert"),f=ie("gap"),g=ie("gradientColorStops"),y=ie("gradientColorStopPositions"),v=ie("inset"),w=ie("margin"),p=ie("opacity"),x=ie("padding"),m=ie("saturate"),k=ie("scale"),j=ie("sepia"),N=ie("skew"),S=ie("space"),C=ie("translate"),I=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",U,t],O=()=>[U,t],se=()=>["",Ht,yr],Q=()=>["auto",hs,U],ft=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",U],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[hs,U];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[Ht,yr],blur:["none","",vr,U],brightness:M(),borderColor:[e],borderRadius:["none","","full",vr,U],borderSpacing:O(),borderWidth:se(),contrast:M(),grayscale:F(),hueRotate:M(),invert:F(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[_P,yr],inset:_(),margin:_(),opacity:M(),padding:O(),saturate:M(),scale:M(),sepia:F(),skew:M(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ft(),U]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws,U]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ws,U]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Ws,U]},U]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Ws,U]},U]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,t]}],"min-w":[{"min-w":[U,t,"min","max","fit"]}],"max-w":[{"max-w":[U,t,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[U,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cc]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",hs,cc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ht,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ht,yr]}],"underline-offset":[{"underline-offset":["auto",Ht,U]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ft(),LP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Ht,U]}],"outline-w":[{outline:[Ht,yr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ht,yr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vr,VP]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...ke(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ke()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vr,U]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[m]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ws,U]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ht,yr,cc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qP=SP(UP);function Ge(...e){return qP(hP(e))}function $({variant:e="primary",size:t="md",children:r,isLoading:n=!1,className:s,disabled:a,...o}){const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white shadow-lg shadow-primary-500/30 focus:ring-primary-500",secondary:"bg-gradient-to-r from-secondary-500 to-secondary-600 hover:from-secondary-600 hover:to-secondary-700 text-white shadow-lg shadow-secondary-500/30 focus:ring-secondary-500",ghost:"bg-transparent hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text focus:ring-primary-500",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950 focus:ring-primary-500",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 focus:ring-red-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return i.jsx(R.button,{whileHover:{scale:a||n?1:1.02},whileTap:{scale:a||n?1:.98},className:Ge(l,c[e],u[t],s),disabled:a||n,...o,children:n?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r})}function Pv(){const e=X(D.users.getTickerData),[t,r]=b.useState(0);if(b.useEffect(()=>{if(!(e!=null&&e.recentUsers)||e.recentUsers.length===0)return;const s=setInterval(()=>{r(a=>(a+2)%e.recentUsers.length)},4e3);return()=>clearInterval(s)},[e]),!e)return null;const n=[e.recentUsers[t%e.recentUsers.length],e.recentUsers[(t+1)%e.recentUsers.length]].filter(Boolean);return i.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px]",children:[i.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[i.jsx("div",{className:"bg-primary-500/10 p-1 rounded-full",children:i.jsx(Wi,{className:"w-3 h-3 text-primary-500"})}),i.jsxs("div",{className:"flex flex-col leading-none",children:[i.jsx("span",{className:"text-[9px] uppercase font-bold text-light-muted dark:text-dark-muted",children:"Community"}),i.jsx("span",{className:"text-xs font-black text-light-text dark:text-dark-text font-display",children:e.totalCount.toLocaleString()})]})]}),i.jsx("div",{className:"flex-1 relative h-7 overflow-hidden",children:i.jsx(pr,{mode:"popLayout",children:i.jsx(R.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 flex items-center gap-2",children:n.map(s=>i.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[90px]",children:[i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 p-[1px] flex-shrink-0",children:i.jsx("div",{className:"w-full h-full rounded-full bg-light-bg dark:bg-dark-bg overflow-hidden",children:s.avatarUrl?i.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-[8px] font-bold bg-light-muted/10",children:s.name.charAt(0)})})}),i.jsx("span",{className:"text-[10px] font-medium text-light-text dark:text-dark-text truncate",children:s.name.split(" ")[0]})]},s._id))},t)})})]})}function WP(){const{user:e,logout:t}=Z(),{theme:r,toggleTheme:n}=kN(),s=_t(),[a,o]=b.useState(!1),l=()=>{t(),s("/")};return i.jsx("header",{className:"fixed top-2 md:top-0 left-0 right-0 z-40 px-3 md:px-0 transition-all duration-300",children:i.jsx("div",{className:"mx-auto max-w-7xl md:max-w-full relative",children:i.jsxs("div",{className:"glass shadow-2xl rounded-2xl md:rounded-b-3xl md:rounded-t-none border border-light-border/50 dark:border-dark-border/50 overflow-hidden",children:[i.jsxs("div",{className:"px-4 md:px-12 h-14 md:h-20 flex items-center justify-between",children:[i.jsx(ee,{to:"/",className:"flex items-center space-x-2",children:i.jsxs(R.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:[i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-8 md:h-12 w-auto rounded-xl shadow-lg"}),i.jsx("span",{className:"text-xl md:text-3xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})]})}),i.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:e?i.jsxs(i.Fragment,{children:[i.jsx(ee,{to:"/feed",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Feed"}),i.jsx(ee,{to:"/profile",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Profile"}),e.role==="admin"||e.role==="super_admin"?i.jsxs(ee,{to:"/admin",className:"px-4 py-2 rounded-xl bg-primary-500/10 text-primary-500 hover:bg-primary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[i.jsx(Np,{className:"w-5 h-5"}),"Admin"]}):null]}):i.jsxs(i.Fragment,{children:[i.jsx(ee,{to:"/login",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Login"}),i.jsx(ee,{to:"/register",children:i.jsx($,{size:"lg",className:"rounded-xl font-bold px-8 shadow-xl shadow-primary-500/20",children:"Get Started"})})]})}),i.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[i.jsx(R.button,{whileTap:{scale:.9},onClick:n,className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border shadow-sm",children:r==="dark"?i.jsx(aP,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-500"}):i.jsx(rP,{className:"w-5 h-5 md:w-6 md:h-6 text-slate-700"})}),e&&i.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-1.5 rounded-xl bg-light-card/30 dark:bg-dark-card/30 border border-light-border/20 dark:border-dark-border/20 shadow-inner",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold",children:e.name[0]}),i.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text pr-2",children:e.name})]}),i.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all shadow-sm",children:i.jsx(Sp,{className:"w-5 h-5"})})]}),i.jsxs("button",{onClick:()=>o(!a),className:"md:hidden flex flex-col items-center justify-center w-10 h-10 space-y-1.5 focus:outline-none z-50 group","aria-label":"Toggle menu",children:[i.jsx(R.span,{animate:a?{rotate:45,y:7.5}:{rotate:0,y:0},className:"w-6 h-0.5 bg-light-text dark:bg-dark-text rounded-full transition-all group-hover:bg-primary-500"}),i.jsx(R.span,{animate:a?{opacity:0,x:-20}:{opacity:1,x:0},className:"w-6 h-0.5 bg-light-text dark:bg-dark-text rounded-full transition-all group-hover:bg-primary-500"}),i.jsx(R.span,{animate:a?{rotate:-45,y:-7.5}:{rotate:0,y:0},className:"w-6 h-0.5 bg-light-text dark:bg-dark-text rounded-full transition-all group-hover:bg-primary-500"})]})]})]}),i.jsx(pr,{children:a&&i.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-light-border/20 dark:border-dark-border/20 bg-light-bg/50 dark:bg-dark-bg/50 backdrop-blur-xl",children:i.jsx("nav",{className:"flex flex-col p-4 space-y-2",children:e?i.jsxs(i.Fragment,{children:[i.jsxs(ee,{to:"/feed",className:"px-4 py-3 rounded-xl hover:bg-primary-500/10 text-light-text dark:text-dark-text transition-all font-semibold flex items-center justify-between group",onClick:()=>o(!1),children:["Feed",i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),i.jsxs(ee,{to:"/profile",className:"px-4 py-3 rounded-xl hover:bg-primary-500/10 text-light-text dark:text-dark-text transition-all font-semibold flex items-center justify-between group",onClick:()=>o(!1),children:["Profile",i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),i.jsx("div",{className:"px-4 pt-2 pb-1",children:i.jsx(Pv,{})}),e.role==="admin"||e.role==="super_admin"?i.jsxs(ee,{to:"/admin",className:"px-4 py-3 rounded-xl bg-primary-500/10 text-primary-500 hover:bg-primary-500 hover:text-white transition-all font-bold flex items-center gap-3",onClick:()=>o(!1),children:[i.jsx(Np,{className:"w-5 h-5"}),"Admin Dashboard"]}):null,i.jsx("div",{className:"h-px bg-light-border/20 dark:border-dark-border/20 my-2"}),i.jsxs("div",{className:"px-4 py-3 flex items-center justify-between bg-light-card/30 dark:bg-dark-card/30 rounded-xl border border-light-border/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-xs",children:e.name[0]}),i.jsx("span",{className:"font-bold text-sm text-light-text dark:text-dark-text",children:e.name})]}),i.jsx("button",{onClick:()=>{l(),o(!1)},className:"p-2 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-all",children:i.jsx(Sp,{className:"w-5 h-5"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(ee,{to:"/login",className:"px-4 py-3 rounded-xl hover:bg-primary-500/10 text-light-text dark:text-dark-text transition-all font-semibold",onClick:()=>o(!1),children:"Login"}),i.jsx(ee,{to:"/register",onClick:()=>o(!1),className:"px-4 pt-2",children:i.jsx($,{className:"w-full rounded-xl font-bold py-6",children:"Get Started"})})]})})})})]})})})}function HP(){const e=new Date().getFullYear(),t={platform:[{label:"Feed",path:"/feed"},{label:"Ancient Culture",path:"/ancient-culture"},{label:"Wisdom of The Now",path:"/wisdom-now"},{label:"Leaderboard",path:"/leaderboard"}],community:[{label:"About Baptizo",path:"/"},{label:"Our Mission",path:"/"},{label:"Privacy Policy",path:"/"},{label:"Terms of Service",path:"/"}],support:[{label:"Contact Us",path:"mailto:support@baptizo.com"},{label:"FAQ",path:"/"},{label:"Community Guidelines",path:"/"}]},r=[{icon:cP,href:"#",label:"Twitter"},{icon:eP,href:"#",label:"Instagram"},{icon:dP,href:"#",label:"YouTube"},{icon:YT,href:"#",label:"GitHub"}];return i.jsxs("footer",{className:"relative mt-auto pt-24 pb-12 overflow-hidden",children:[i.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-px bg-gradient-to-r from-transparent via-primary-500/50 to-transparent"}),i.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ee,{to:"/",className:"flex items-center gap-3",children:[i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-10 md:h-12 w-auto rounded-xl shadow-lg shadow-primary-500/10"}),i.jsx("span",{className:"text-2xl font-black text-gradient font-display",children:"Baptizo"})]}),i.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed font-medium",children:"A professional sanctuary for digital spiritual exploration. Bridging ancient wisdom with modern consciousness."}),i.jsx("div",{className:"flex items-center gap-4",children:r.map(n=>i.jsx(R.a,{href:n.href,whileHover:{y:-4},className:"p-3 rounded-xl bg-light-card/50 dark:bg-dark-card/50 border border-light-border/20 dark:border-dark-border/20 text-light-muted dark:text-dark-muted hover:text-primary-500 hover:border-primary-500/50 transition-all shadow-sm","aria-label":n.label,children:i.jsx(n.icon,{className:"w-5 h-5"})},n.label))})]}),Object.entries(t).map(([n,s])=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h4",{className:"text-sm font-black uppercase tracking-[0.2em] text-light-text dark:text-dark-text",children:n}),i.jsx("ul",{className:"space-y-4",children:s.map(a=>i.jsx("li",{children:i.jsxs(ee,{to:a.path,className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-all font-medium flex items-center group",children:[a.label,i.jsx(qT,{className:"w-4 h-4 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})},a.label))})]},n))]}),i.jsxs("div",{className:"pt-12 border-t border-light-border/20 dark:border-dark-border/20 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-light-muted dark:text-dark-muted font-medium",children:[i.jsx("span",{children:"Built with"}),i.jsx(ll,{className:"w-4 h-4 text-red-500 fill-red-500"}),i.jsx("span",{children:"for the Global Community"})]}),i.jsxs("div",{className:"flex items-center gap-8 text-xs font-bold text-light-muted/60 dark:text-dark-muted/60",children:[i.jsxs("p",{children:[" ",e," Baptizo Inc. All rights reserved."]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(XT,{className:"w-3 h-3"}),i.jsx("span",{children:"v2.0 Premium"})]})]})]})]})]})}function QP(){const e=Zr(),t=X(D.notifications.getUnreadCount)||0,r=[{to:"/feed",icon:JT,label:"Feed"},{to:"/ancient-culture",icon:An,label:"Ancient"},{to:"/wisdom-now",icon:tn,label:"Wisdom"},{to:"/notifications",icon:gi,label:"Alerts",badge:t},{to:"/tasks",icon:An,label:"Tasks"},{to:"/my-responses",icon:Hr,label:"Responses"}];return i.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-light-border dark:border-dark-border glass pb-safe",children:i.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:r.map(n=>{const s=n.icon,a=e.pathname===n.to;return i.jsxs(ee,{to:n.to,className:Ge("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[i.jsxs("div",{className:"relative",children:[i.jsx(s,{className:Ge("w-5 h-5 md:w-6 md:h-6",a&&"fill-primary-500/20")}),n.badge!==void 0&&n.badge>0&&i.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white text-[9px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full border-2 border-white dark:border-black shadow-sm touch-none pointer-events-none",children:n.badge>9?"9+":n.badge})]}),i.jsx("span",{className:Ge("text-[10px] font-semibold mt-1 truncate w-full text-center",a?"opacity-100":"opacity-70"),children:n.label})]},n.to)})})})}function GP(){const e=Zr(),t=X(D.notifications.getUnreadCount)||0,r=[{path:"/feed",label:"Feed",icon:tn},{path:"/ancient-culture",label:"Ancient Culture",icon:An},{path:"/wisdom-now",label:"Wisdom of The Now",icon:tP},{path:"/tasks",label:"My Tasks",icon:al},{path:"/my-responses",label:"My Responses",icon:Hr},{path:"/notifications",label:"Notifications",icon:gi,badge:t}];return i.jsx("nav",{className:"hidden md:block sticky top-20 z-40 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md border-b border-light-border dark:border-dark-border",children:i.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-3 flex-nowrap overflow-x-auto no-scrollbar gap-4",children:[i.jsx("div",{className:"flex items-center gap-1 xl:gap-2 flex-nowrap",children:r.map(n=>{const s=n.icon,a=e.pathname===n.path;return i.jsxs(ee,{to:n.path,className:`
                                        flex items-center gap-2 px-3 xl:px-4 py-2 rounded-lg font-medium transition-all relative whitespace-nowrap
                                        ${a?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                    `,children:[i.jsxs("div",{className:"relative",children:[i.jsx(s,{className:"w-5 h-5 flex-shrink-0"}),n.badge!==void 0&&n.badge>0&&i.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center border-2 border-light-bg dark:border-dark-bg",children:n.badge>99?"99+":n.badge})]}),i.jsx("span",{className:"text-sm xl:text-base",children:n.label})]},n.path)})}),i.jsx("div",{className:"hidden 2xl:block flex-shrink-0 ml-4",children:i.jsx(Pv,{})})]})})})}function z({children:e,className:t,glass:r=!1,hover:n=!1,onClick:s}){const a=R.div;return i.jsx(a,{onClick:s,whileHover:n?{y:-4,transition:{duration:.2}}:void 0,className:Ge("rounded-xl p-6 transition-all duration-200",r?"glass":"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",n&&"cursor-pointer shadow-lg hover:shadow-xl",t),children:e})}function Ee({children:e,className:t}){return i.jsx("div",{className:Ge("mb-4",t),children:e})}function Ie({children:e,className:t}){return i.jsx("h3",{className:Ge("text-xl font-semibold text-light-text dark:text-dark-text",t),children:e})}function q({children:e,className:t}){return i.jsx("div",{className:Ge("text-light-text dark:text-dark-text",t),children:e})}function W({children:e,variant:t="default",className:r,animate:n=!1}){const s={default:"bg-light-border dark:bg-dark-border text-light-text dark:text-dark-text",primary:"bg-primary-100 dark:bg-primary-950 text-primary-700 dark:text-primary-300 border border-primary-200 dark:border-primary-800",secondary:"bg-secondary-100 dark:bg-secondary-950 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-800",success:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800",danger:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",outline:"bg-transparent border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted"},a=n?R.span:"span",o=n?{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}}:{};return i.jsx(a,{...o,className:Ge("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s[t],r),children:e})}function KP(){const{user:e}=Z(),t=[{icon:An,title:"Ancient Culture",subtitle:"Prophetic Wisdom",description:"Dive deep into prophetic wisdom and systems from the Old Testament. Understand the foundations of spiritual authority.",image:"/assets/images/ancient-culture.png",color:"from-primary-500 to-primary-700"},{icon:tn,title:"Wisdom of The Now",subtitle:"Modern Insights",description:"Explore spiritual identity and insights from the New Testament. Discover your place in the modern spiritual landscape.",image:"/assets/images/wisdom-now.png",color:"from-secondary-500 to-secondary-700"}],r=[{icon:Wi,title:"Vibrant Community",description:"Connect with a global network of believers seeking deeper truth."},{icon:Ve,title:"Real Impact",description:"Earn recognition and rewards for active participation and growth."},{icon:gn,title:"Guided Path",description:"Structured learning paths designed for progressive spiritual maturity."}];return i.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg selection:bg-primary-500/30 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[i.jsx(R.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-[20%] -right-[10%] w-[60%] h-[60%] bg-primary-500/20 blur-[120px] rounded-full"}),i.jsx(R.div,{animate:{scale:[1.2,1,1.2],rotate:[0,-90,0],opacity:[.2,.4,.2]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute top-[20%] -left-[10%] w-[50%] h-[50%] bg-secondary-500/20 blur-[100px] rounded-full"})]}),i.jsxs("section",{className:"relative min-h-[90vh] flex items-center pt-24 md:pt-0",children:[i.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[i.jsxs(R.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},className:"text-center lg:text-left",children:[i.jsx(W,{variant:"primary",className:"mb-6 px-4 py-1.5 text-[10px] md:text-sm uppercase tracking-widest font-black",children:"The Pinnacle of Spiritual Growth"}),i.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-8xl font-black font-display leading-[1.1] md:leading-tight mb-6",children:["Elevate Your ",i.jsx("br",{}),i.jsx("span",{className:"text-gradient",children:"Spirituality"})]}),i.jsx("p",{className:"hidden lg:block text-xl md:text-2xl text-light-muted dark:text-dark-muted mb-10 leading-relaxed max-w-2xl",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),i.jsx("div",{className:"hidden lg:flex flex-col sm:flex-row items-center gap-6",children:e?i.jsx(ee,{to:"/feed",children:i.jsxs($,{size:"lg",className:"h-14 px-10 text-lg group shadow-2xl shadow-primary-500/20 rounded-2xl",children:["Enter the Feed",i.jsx(gn,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}):i.jsxs(i.Fragment,{children:[i.jsx(ee,{to:"/register",children:i.jsx($,{size:"lg",className:"h-14 px-10 text-lg shadow-2xl shadow-primary-500/20 rounded-2xl",children:"Start Your Journey"})}),i.jsx(ee,{to:"/login",children:i.jsx($,{size:"lg",variant:"outline",className:"h-14 px-10 text-lg backdrop-blur-md rounded-2xl border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]}),i.jsxs("div",{className:"relative mt-12 lg:mt-0",children:[i.jsxs(R.div,{initial:{opacity:0,scale:.9,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut"},className:"grid grid-cols-2 gap-3 md:gap-6",children:[i.jsxs("div",{className:"space-y-3 md:space-y-6 pt-8 md:pt-16",children:[i.jsxs(R.div,{whileHover:{scale:1.05,rotate:-2},className:"rounded-2xl md:rounded-[2.5rem] overflow-hidden shadow-2xl border-2 md:border-4 border-white/10 relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(2).png",alt:"Spiritual Insight",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})]}),i.jsxs(R.div,{whileHover:{scale:1.05,rotate:2},className:"rounded-2xl md:rounded-[2.5rem] overflow-hidden shadow-2xl border-2 md:border-4 border-white/10 relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(5).png",alt:"Ancient Wisdom",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})]})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs(R.div,{whileHover:{scale:1.05,rotate:2},className:"rounded-2xl md:rounded-[2.5rem] overflow-hidden shadow-2xl border-2 md:border-4 border-white/10 relative group h-[80%] md:h-[90%]",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(6).png",alt:"Community Growth",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})]})})]}),i.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:hidden mt-12 text-center",children:[i.jsx("p",{className:"text-base sm:text-lg text-light-muted dark:text-dark-muted mb-8 leading-relaxed px-2 font-medium",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),i.jsx("div",{className:"flex flex-col gap-4 px-6 sm:px-20",children:e?i.jsx(ee,{to:"/feed",children:i.jsxs($,{size:"lg",className:"h-14 w-full text-lg shadow-2xl shadow-primary-500/20 rounded-2xl",children:["Enter the Feed",i.jsx(gn,{className:"w-5 h-5 ml-2"})]})}):i.jsxs(i.Fragment,{children:[i.jsx(ee,{to:"/register",children:i.jsx($,{size:"lg",className:"h-14 w-full text-lg shadow-2xl shadow-primary-500/20 rounded-2xl",children:"Start Your Journey"})}),i.jsx(ee,{to:"/login",children:i.jsx($,{size:"lg",variant:"outline",className:"h-14 w-full text-lg backdrop-blur-md rounded-2xl border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})]})]})}),i.jsx(R.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},className:"absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:block",children:i.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-primary-500/30 flex justify-center p-1 backdrop-blur-sm",children:i.jsx(R.div,{animate:{opacity:[0,1,0],y:[0,15,0]},transition:{duration:1.5,repeat:1/0},className:"w-1.5 h-1.5 rounded-full bg-primary-500"})})})]}),i.jsx("section",{className:"py-24 md:py-32 relative",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{className:"text-center mb-16 md:mb-24",children:i.jsxs(R.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[i.jsx("h2",{className:"text-3xl md:text-6xl font-black font-display mb-6 tracking-tight",children:"Explore Our Core Pillars"}),i.jsx("div",{className:"w-24 h-1.5 bg-gradient-to-r from-primary-500 to-secondary-500 mx-auto rounded-full mb-8"}),i.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted max-w-2xl mx-auto font-medium",children:"We bridge the gap between ancient foundations and contemporary applications."})]})}),i.jsx("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12",children:t.map((n,s)=>i.jsxs(R.div,{initial:{opacity:0,x:s%2===0?-40:40},whileInView:{opacity:1,x:0},transition:{delay:s*.2,duration:.8},viewport:{once:!0},className:"group relative",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.color} opacity-0 group-hover:opacity-10 transition-opacity rounded-[2.5rem] blur-3xl -z-10`}),i.jsxs(z,{glass:!0,className:"overflow-hidden border border-white/10 dark:border-white/5 shadow-2xl hover:shadow-primary-500/10 transition-all duration-500 h-full flex flex-col rounded-[2rem] md:rounded-[2.5rem]",children:[i.jsxs("div",{className:"relative h-64 md:h-80 overflow-hidden",children:[i.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-bg/80 via-transparent to-transparent opacity-60"}),i.jsx("div",{className:"absolute top-6 left-6",children:i.jsx(W,{className:"bg-white/10 backdrop-blur-xl border-white/20 text-white px-4 py-2 rounded-xl font-bold uppercase tracking-wider text-[10px]",children:n.subtitle})})]}),i.jsxs("div",{className:"p-8 md:p-12 flex-1 flex flex-col",children:[i.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${n.color} flex items-center justify-center mb-8 shadow-xl transform group-hover:rotate-6 transition-transform`,children:i.jsx(n.icon,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-3xl md:text-4xl font-black mb-4 tracking-tight",children:n.title}),i.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg md:text-xl mb-10 leading-relaxed font-medium",children:n.description}),i.jsxs(ee,{to:"/register",className:"mt-auto group/btn inline-flex items-center gap-3 text-primary-500 font-black text-lg",children:["Explore Deeply ",i.jsx(gn,{className:"w-6 h-6 transform group-hover/btn:translate-x-2 transition-transform"})]})]})]})]},n.title))})]})}),i.jsxs("section",{className:"py-24 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-dark-bg/5 dark:bg-light-bg/5 backdrop-blur-3xl"}),i.jsx("div",{className:"container mx-auto px-4 relative z-10",children:i.jsx("div",{className:"grid md:grid-cols-3 gap-12 lg:gap-20",children:r.map((n,s)=>i.jsx(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:s*.2},viewport:{once:!0},className:"group",children:i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-100 dark:bg-primary-900/20 text-primary-500 mb-8 transform group-hover:scale-110 group-hover:rotate-3 transition-all shadow-lg",children:i.jsx(n.icon,{className:"w-8 h-8"})}),i.jsx("h4",{className:"text-2xl md:text-3xl font-black mb-4 tracking-tight",children:n.title}),i.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg leading-relaxed font-medium",children:n.description})]})},n.title))})})]}),i.jsxs("section",{className:"py-32 md:py-48 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-20",children:i.jsx(R.div,{animate:{scale:[1,1.5,1],opacity:[.3,.6,.3]},transition:{duration:10,repeat:1/0},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80%] h-[80%] bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full blur-[150px]"})}),i.jsx("div",{className:"container mx-auto px-4 relative z-10 text-center",children:i.jsxs(R.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"glass relative z-10 rounded-[3rem] p-12 md:p-24 border border-white/10 dark:border-white/5 shadow-[0_32px_120px_-20px_rgba(0,0,0,0.3)] max-w-5xl mx-auto",children:[i.jsx(W,{variant:"primary",className:"mb-8 px-6 py-2 text-xs md:text-sm uppercase tracking-[0.2em] font-black",children:"Unleash Your Potential"}),i.jsxs("h2",{className:"text-4xl md:text-7xl font-black font-display mb-10 tracking-tight leading-[1.1]",children:["Ready for a ",i.jsx("br",{}),i.jsx("span",{className:"text-gradient",children:"Higher Experience?"})]}),i.jsx("p",{className:"text-lg md:text-2xl text-light-muted dark:text-dark-muted mb-12 md:mb-16 max-w-2xl mx-auto leading-relaxed font-medium",children:"Join thousands of believers who have unlocked deeper spiritual dimensions through Baptizo."}),!e&&i.jsx(ee,{to:"/register",children:i.jsx($,{size:"lg",className:"h-16 md:h-20 px-12 md:px-16 text-xl md:text-2xl font-black shadow-2xl shadow-primary-500/30 rounded-2xl md:rounded-3xl hover:scale-105 active:scale-95 transition-all",children:"Create Your Free Account"})})]})})]})]})}const Xt=b.forwardRef(({label:e,error:t,icon:r,className:n,...s},a)=>i.jsxs("div",{className:"w-full",children:[e&&i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),i.jsxs("div",{className:"relative",children:[r&&i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-light-muted dark:text-dark-muted",children:r}),i.jsx("input",{ref:a,className:Ge("w-full px-4 py-2.5 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg","border-light-border dark:border-dark-border","text-light-text dark:text-dark-text","placeholder:text-light-muted dark:placeholder:text-dark-muted","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-red-500 focus:ring-red-500",r&&"pl-10",n),...s})]}),t&&i.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:t})]}));Xt.displayName="Input";function YP(){const e=_t(),{login:t}=Z(),r=Y(D.auth.loginUser),[n,s]=b.useState({email:"",password:""}),[a,o]=b.useState({}),[l,c]=b.useState(!1),u=async d=>{d.preventDefault(),o({}),c(!0);try{const h=await r({email:n.email.toLowerCase().trim(),password:n.password});h!=null&&h.success&&(h!=null&&h.user)?(t(h.user),e("/feed")):o({general:"Invalid email or password"})}catch{o({general:"Login failed. Please try again."})}finally{c(!1)}};return i.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:i.jsxs(z,{glass:!0,children:[i.jsxs(Ee,{className:"pt-8",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),i.jsx(Ie,{className:"text-center text-3xl",children:"Welcome Back"}),i.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Sign in to continue to Baptizo Community"})]}),i.jsx(q,{children:i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.general&&i.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:a.general})}),i.jsx(Xt,{label:"Email",type:"email",value:n.email,onChange:d=>s({...n,email:d.target.value}),icon:i.jsx(cl,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),i.jsx(Xt,{label:"Password",type:"password",value:n.password,onChange:d=>s({...n,password:d.target.value}),icon:i.jsx(Io,{className:"w-5 h-5"}),placeholder:"",required:!0}),i.jsx($,{type:"submit",variant:"primary",className:"w-full",isLoading:l,children:"Sign In"}),i.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Don't have an account?"," ",i.jsx(ee,{to:"/register",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign Up"})]})]})})]})})}function XP(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsx(YP,{})})}function JP(e){const r=e.replace(/\D/g,"").substring(0,4),n=["0703","0706","0803","0806","0810","0813","0814","0816","0903","0906","07025","07026","0704"],s=["0705","0805","0807","0811","0815","0905"],a=["0701","0708","0802","0808","0812","0901","0902","0904","0907"],o=["0809","0817","0818","0909","0908"];return n.some(l=>r.startsWith(l))?"MTN":s.some(l=>r.startsWith(l))?"Glo":a.some(l=>r.startsWith(l))?"Airtel":o.some(l=>r.startsWith(l))?"9Mobile":"Unknown"}function wh(e){const t=e.replace(/\D/g,"");return t.length===11?`${t.substring(0,4)} ${t.substring(4,7)} ${t.substring(7)}`:e}function ZP(){return"https://chat.whatsapp.com/YOUR_GROUP_CODE"}function eA(){const e=ZP();window.open(e,"_blank")}function tA(){const e=_t(),{login:t}=Z(),r=Y(D.auth.registerUser),[n,s]=b.useState("form"),[a,o]=b.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",whatsappConfirm:!1}),[l,c]=b.useState(""),[u,d]=b.useState({}),[h,f]=b.useState(!1),g=w=>{o({...a,phone:w});const p=JP(w);c(p)},y=async w=>{if(w.preventDefault(),d({}),a.password.length<6){d({password:"Password must be at least 6 characters"});return}if(a.password!==a.confirmPassword){d({confirmPassword:"Passwords do not match"});return}if(!a.whatsappConfirm){d({whatsappConfirm:"Please confirm your WhatsApp number"});return}if(l==="Unknown"||!l){d({phone:"Please enter a valid phone number (MTN, Glo, Airtel, or 9Mobile)"});return}f(!0);try{const p=await r({email:a.email.toLowerCase().trim(),password:a.password,name:a.name.trim(),phone:a.phone.trim(),network:l});p!=null&&p.success&&(p!=null&&p.user)?(t(p.user),s("whatsapp")):d({general:(p==null?void 0:p.error)||"Registration failed"})}catch(p){const m=(p.message||p.toString()).replace("Uncaught Error: ","");d({general:m})}finally{f(!1)}},v=()=>{eA(),setTimeout(()=>{e("/feed")},1e3)};return n==="whatsapp"?i.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md mx-auto",children:i.jsxs(z,{glass:!0,children:[i.jsxs(Ee,{children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:i.jsx(Es,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),i.jsx(Ie,{className:"text-center text-3xl",children:"Welcome to Baptizo!"}),i.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Join our WhatsApp community to stay connected"})]}),i.jsxs(q,{className:"space-y-4",children:[i.jsx($,{onClick:v,variant:"primary",className:"w-full",children:"Join WhatsApp Group"}),i.jsx("button",{onClick:()=>e("/feed"),className:"text-sm text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:"Skip for now"})]})]})}):i.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:i.jsxs(z,{glass:!0,children:[i.jsxs(Ee,{className:"pt-8",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),i.jsx(Ie,{className:"text-center text-3xl",children:"Join Baptizo"}),i.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Create your account to get started"})]}),i.jsx(q,{children:i.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.general&&i.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u.general})}),i.jsx(Xt,{label:"Full Name",type:"text",value:a.name,onChange:w=>o({...a,name:w.target.value}),icon:i.jsx(rn,{className:"w-5 h-5"}),placeholder:"John Doe",required:!0}),i.jsx(Xt,{label:"Email",type:"email",value:a.email,onChange:w=>o({...a,email:w.target.value}),icon:i.jsx(cl,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),i.jsxs("div",{children:[i.jsx(Xt,{label:"Phone Number",type:"tel",value:a.phone,onChange:w=>g(w.target.value),icon:i.jsx(vh,{className:"w-5 h-5"}),placeholder:"08012345678",required:!0}),l&&l!=="Unknown"&&i.jsx("div",{className:"mt-2",children:i.jsx(W,{variant:"primary",children:l})})]}),i.jsx(Xt,{label:"Password",type:"password",value:a.password,onChange:w=>o({...a,password:w.target.value}),icon:i.jsx(Io,{className:"w-5 h-5"}),placeholder:"",error:u.password,required:!0}),i.jsx(Xt,{label:"Confirm Password",type:"password",value:a.confirmPassword,onChange:w=>o({...a,confirmPassword:w.target.value}),icon:i.jsx(Io,{className:"w-5 h-5"}),placeholder:"",error:u.confirmPassword,required:!0}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("input",{type:"checkbox",id:"whatsappConfirm",checked:a.whatsappConfirm,onChange:w=>o({...a,whatsappConfirm:w.target.checked}),className:"mt-1"}),i.jsx("label",{htmlFor:"whatsappConfirm",className:"text-sm text-light-text dark:text-dark-text",children:"I confirm this phone number is on WhatsApp"})]}),u.whatsappConfirm&&i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.whatsappConfirm}),i.jsx($,{type:"submit",variant:"primary",className:"w-full",isLoading:h,children:"Create Account"}),i.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Already have an account?"," ",i.jsx(ee,{to:"/login",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign In"})]})]})})]})})}function rA(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsx(tA,{})})}function fs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function nA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iA(e,t,r){return t&&sA(e.prototype,t),e}function Av(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ip(Object(r),!0).forEach(function(n){Av(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aA(e,t){if(e){if(typeof e=="string")return Rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rp(e,t)}}function Rp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oA(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=aA(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,l;return{s:function(){r=e[Symbol.iterator]()},n:function(){var c=r.next();return a=c.done,c},e:function(c){o=!0,l=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var lA="3.1.0",qe={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},PRIVATE_KEY_CLIENT_SIDE:{message:"privateKey should not be passed on the client side",help:""},MISSING_UPLOAD_DATA:{message:"Missing data for upload",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_AUTHENTICATION_ENDPOINT:{message:"Missing authentication endpoint for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},AUTH_ENDPOINT_TIMEOUT:{message:"The authenticationEndpoint you provided timed out in 60 seconds",help:""},AUTH_ENDPOINT_NETWORK_ERROR:{message:"Request to authenticationEndpoint failed due to network error",help:""},AUTH_INVALID_RESPONSE:{message:"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},INVALID_TRANSFORMATION:{message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},INVALID_PRE_TRANSFORMATION:{message:"Invalid pre transformation parameter.",help:""},INVALID_POST_TRANSFORMATION:{message:"Invalid post transformation parameter.",help:""}};function Xe(e,t,r){typeof r=="function"&&(e?r(t,null):r(null,t))}function cA(e){var t={},r=e.getAllResponseHeaders();return Object.keys(r).length&&r.trim().split(/[\r\n]+/).map(function(n){return n.split(/: /)}).forEach(function(n){t[n[0].trim()]=n[1].trim()}),t}var _p=function(t,r){var n=xn({},t),s={statusCode:r.status,headers:cA(r)};return Object.defineProperty(n,"$ResponseMetadata",{value:s,enumerable:!1,writable:!1}),n},uA=function(t,r,n){dA(t,r).then(function(s){return Xe(!1,s,n)},function(s){return Xe(!0,s,n)})},dA=function(t,r){return new Promise(function(n,s){t.open("POST","https://upload.imagekit.io/api/v1/files/upload"),t.onerror=function(a){return s(qe.UPLOAD_ENDPOINT_NETWORK_ERROR)},t.onload=function(){if(t.status===200)try{var a=JSON.parse(t.responseText),o=_p(a,t);return n(o)}catch(c){return s(c)}else try{var a=JSON.parse(t.responseText),l=_p(a,t);return s(l)}catch(c){return s(c)}},t.send(r)})},hA=function(t,r,n,s){if(!r.file){Xe(!0,qe.MISSING_UPLOAD_FILE_PARAMETER,s);return}if(!r.fileName){Xe(!0,qe.MISSING_UPLOAD_FILENAME_PARAMETER,s);return}if(!n.publicKey){Xe(!0,qe.MISSING_PUBLIC_KEY,s);return}if(!r.token){Xe(!0,qe.MISSING_TOKEN,s);return}if(!r.signature){Xe(!0,qe.MISSING_SIGNATURE,s);return}if(!r.expire){Xe(!0,qe.MISSING_EXPIRE,s);return}if(r.transformation){if(!(Object.keys(r.transformation).includes("pre")||Object.keys(r.transformation).includes("post"))){Xe(!0,qe.INVALID_TRANSFORMATION,s);return}if(Object.keys(r.transformation).includes("pre")&&!r.transformation.pre){Xe(!0,qe.INVALID_PRE_TRANSFORMATION,s);return}if(Object.keys(r.transformation).includes("post"))if(Array.isArray(r.transformation.post)){var a=oA(r.transformation.post),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.type==="abs"&&!(l.protocol||l.value)){Xe(!0,qe.INVALID_POST_TRANSFORMATION,s);return}else if(l.type==="transformation"&&!l.value){Xe(!0,qe.INVALID_POST_TRANSFORMATION,s);return}}}catch(d){a.e(d)}finally{a.f()}}else{Xe(!0,qe.INVALID_POST_TRANSFORMATION,s);return}}var c=new FormData,u;for(u in r)u&&(u==="file"&&typeof r.file!="string"?c.append("file",r.file,String(r.fileName)):u==="tags"&&Array.isArray(r.tags)?c.append("tags",r.tags.join(",")):u==="signature"?c.append("signature",r.signature):u==="expire"?c.append("expire",String(r.expire)):u==="token"?c.append("token",r.token):u==="responseFields"&&Array.isArray(r.responseFields)?c.append("responseFields",r.responseFields.join(",")):u==="extensions"&&Array.isArray(r.extensions)?c.append("extensions",JSON.stringify(r.extensions)):u==="customMetadata"&&fs(r.customMetadata)==="object"&&!Array.isArray(r.customMetadata)&&r.customMetadata!==null?c.append("customMetadata",JSON.stringify(r.customMetadata)):u==="transformation"&&fs(r.transformation)==="object"&&r.transformation!==null?c.append(u,JSON.stringify(r.transformation)):u==="checks"&&r.checks?c.append("checks",r.checks):r[u]!==void 0&&c.append(u,String(r[u])));c.append("publicKey",n.publicKey),uA(t,c,s)},Mp={width:"w",height:"h",aspectRatio:"ar",background:"bg",border:"b",crop:"c",cropMode:"cm",dpr:"dpr",focus:"fo",quality:"q",x:"x",xCenter:"xc",y:"y",yCenter:"yc",format:"f",videoCodec:"vc",audioCodec:"ac",radius:"r",rotation:"rt",blur:"bl",named:"n",defaultImage:"di",flip:"fl",original:"orig",startOffset:"so",endOffset:"eo",duration:"du",streamingResolutions:"sr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",effectShadow:"e-shadow",effectGradient:"e-gradient",rotate:"rt",grayscale:"e-grayscale",aiUpscale:"e-upscale",aiRetouch:"e-retouch",aiVariation:"e-genvar",aiDropShadow:"e-dropshadow",aiChangeBackground:"e-changebg",aiRemoveBackground:"e-bgremove",aiRemoveBackgroundExternal:"e-removedotbg",contrastStretch:"e-contrast",shadow:"e-shadow",sharpen:"e-sharpen",unsharpMask:"e-usm",gradient:"e-gradient",progressive:"pr",lossless:"lo",colorProfile:"cp",metadata:"md",opacity:"o",trim:"t",zoom:"z",page:"pg",raw:"raw"},Ev="path",Iv="query",fA=[Ev,Iv],mA=":",pA=",",gA="-",Ar={getDefault:function(){return Ev},addAsQueryParameter:function(t){return t.transformationPosition===Iv},validParameters:function(t){return typeof t.transformationPosition>"u"?!1:fA.indexOf(t.transformationPosition)!=-1},getTransformKey:function(t){return t&&(Mp[t]||Mp[t.toLowerCase()])||""},getChainTransformDelimiter:function(){return mA},getTransformDelimiter:function(){return pA},getTransformKeyValueDelimiter:function(){return gA}},Dp="tr";function xA(e){return typeof e=="string"&&e[e.length-1]=="/"&&(e=e.substring(0,e.length-1)),e}function yA(e){return typeof e=="string"&&e[0]=="/"&&(e=e.slice(1)),e}function Aa(e,t){var r="/",n=new RegExp(r+"{1,}","g");return e.join(r).replace(n,r)}var vA=function(t){if(!t.path&&!t.src)return"";var r,n,s;try{t.path?(s=new URL(t.urlEndpoint).pathname,r=new URL(Aa([t.urlEndpoint.replace(s,""),t.path]))):(r=new URL(t.src),n=!0)}catch(l){return console.error(l),""}for(var a in t.queryParameters)r.searchParams.append(a,String(t.queryParameters[a]));var o=bA(t.transformation);return o&&o.length&&(Ar.addAsQueryParameter(t)||n?r.searchParams.append(Dp,o):r.pathname=Aa([Dp+Ar.getChainTransformDelimiter()+o,r.pathname])),s?r.pathname=Aa([s,r.pathname]):r.pathname=Aa([r.pathname]),r.href};function bA(e){if(!Array.isArray(e))return"";for(var t=[],r=0,n=e.length;r<n;r++){var s=[];for(var a in e[r]){var o=e[r][a];if(o!=null){var l=Ar.getTransformKey(a);if(l||(l=a),l!=="")if(["e-grayscale","e-contrast","e-removedotbg","e-bgremove","e-upscale","e-retouch","e-genvar"].includes(l))if(o===!0||o==="-"||o==="true")s.push(l);else continue;else["e-sharpen","e-shadow","e-gradient","e-usm","e-dropshadow"].includes(l)&&(o.toString().trim()===""||o===!0||o==="true")?s.push(l):a==="raw"?s.push(e[r][a]):(l==="di"&&(o=xA(yA(o||"")),o=o.replace(/\//g,"@@")),l==="sr"&&Array.isArray(o)&&(o=o.join("_")),l==="t"&&o.toString().trim()===""&&(o="true"),s.push([l,o].join(Ar.getTransformKeyValueDelimiter())))}}s.length&&t.push(s.join(Ar.getTransformDelimiter()))}return t.join(Ar.getChainTransformDelimiter())}var wA=function(t,r){return vA(xn(xn({},r),t))};function kA(e){return e.urlEndpoint}var jA=function(t,r){return function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];if(s.length===r.length&&typeof s[s.length-1]<"u"){if(typeof s[s.length-1]!="function")throw new Error("Callback must be a function.");r.call.apply(r,[t].concat(s))}else return new Promise(function(o,l){var c=function(d){if(d)return l(d);for(var h=arguments.length,f=new Array(h>1?h-1:0),g=1;g<h;g++)f[g-1]=arguments[g];o(f.length>1?f:f[0])};s.pop(),s.push(c),r.call.apply(r,[t].concat(s))})}},NA=function(){function e(t){if(nA(this,e),Av(this,"options",{sdkVersion:"javascript-".concat(lA),publicKey:"",urlEndpoint:"",transformationPosition:Ar.getDefault()}),this.options=xn(xn({},this.options),t||{}),!kA(this.options))throw qe.MANDATORY_INITIALIZATION_MISSING;if(!Ar.validParameters(this.options))throw qe.INVALID_TRANSFORMATION_POSITION}return iA(e,[{key:"url",value:function(r){return wA(r,this.options)}},{key:"upload",value:function(r,n,s){var a;if(typeof n=="function"?a=n:s=n||{},!r||fs(r)!=="object")return Xe(!0,qe.INVALID_UPLOAD_OPTIONS,a);var o=xn(xn({},this.options),s),l=r||{},c=l.xhr;delete r.xhr;var u=c||new XMLHttpRequest;return jA(this,hA)(u,r,o,a)}}]),e}();new NA({publicKey:"public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=",urlEndpoint:"https://ik.imagekit.io/h3qzmviwv"});const kh=async(e,t,r)=>new Promise((n,s)=>{const a=new FormData;a.append("file",e),a.append("fileName",e.name),a.append("folder",`/baptizo/${t}`),a.append("publicKey","public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=");const o=new XMLHttpRequest;o.upload.addEventListener("progress",c=>{if(c.lengthComputable&&r){const u=Math.round(c.loaded/c.total*100);r(u)}}),o.addEventListener("load",()=>{if(o.status===200)try{const c=JSON.parse(o.responseText);n(c.url)}catch{s(new Error("Failed to parse response"))}else s(new Error(`Upload failed with status ${o.status}`))}),o.addEventListener("error",()=>{s(new Error("Upload failed"))}),o.open("POST","https://upload.imagekit.io/api/v1/files/upload");const l=btoa("private_RDhLHlvGS4fKh49gv6q5Ygv2bHg=:");o.setRequestHeader("Authorization",`Basic ${l}`),o.send(a)}),Rv=e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type),SA=e=>["video/mp4","video/webm","video/ogg"].includes(e.type),_v=(e,t,r)=>{if(!e)return"";const n=[];if(n.push(`w-${t}`),n.push(`h-${r}`),n.length===0)return e;const s=`tr:${n.join(",")}`;return e.replace("/baptizo/",`/baptizo/${s}/`)};function Qr({src:e,alt:t="Avatar",size:r="md",className:n}){const s={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-14 h-14",xl:"w-20 h-20"},a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-7 h-7",xl:"w-10 h-10"};return i.jsx("div",{className:Ge("rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",s[r],n),children:e?i.jsx("img",{src:_v(e,200,200),alt:t,className:"w-full h-full object-cover"}):i.jsx(rn,{className:Ge("text-white",a[r])})})}const CA={1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th"},TA={1:"from-yellow-400 to-yellow-600",2:"from-gray-300 to-gray-500",3:"from-orange-400 to-orange-600",4:"from-blue-400 to-blue-600",5:"from-green-400 to-green-600"};function Mv({position:e,className:t}){return e<1||e>5?null:i.jsx(R.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20},className:Ge("inline-flex items-center gap-1.5",t),children:i.jsxs("div",{className:Ge("px-3 py-1 rounded-full flex items-center gap-1.5 shadow-lg","bg-gradient-to-r text-white font-bold text-sm",TA[e]),children:[i.jsx(tn,{className:"w-4 h-4"}),i.jsx("span",{children:"SENT"}),i.jsxs("span",{className:"text-xs opacity-90",children:["(",CA[e],")"]})]})})}function Re(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function PA(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Ea=43200,Lp=1440;let AA={};function EA(){return AA}function Op(e){const t=Re(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qa(e,t){const r=Re(e),n=Re(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function IA(e){return PA(e,Date.now())}function RA(e,t){const r=Re(e),n=Re(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function _A(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function MA(e,t){return+Re(e)-+Re(t)}function DA(e){const t=Re(e);return t.setHours(23,59,59,999),t}function LA(e){const t=Re(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function OA(e){const t=Re(e);return+DA(t)==+LA(t)}function FA(e,t){const r=Re(e),n=Re(t),s=Qa(r,n),a=Math.abs(RA(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Qa(r,n)===-s;OA(Re(e))&&a===1&&Qa(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function VA(e,t,r){const n=MA(e,t)/1e3;return _A(r==null?void 0:r.roundingMethod)(n)}const BA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$A=(e,t,r)=>{let n;const s=BA[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function uc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WA={date:uc({formats:zA,defaultWidth:"full"}),time:uc({formats:UA,defaultWidth:"full"}),dateTime:uc({formats:qA,defaultWidth:"full"})},HA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QA=(e,t,r,n)=>HA[e];function Qs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const GA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eE=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tE={ordinalNumber:eE,era:Qs({values:GA,defaultWidth:"wide"}),quarter:Qs({values:KA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qs({values:YA,defaultWidth:"wide"}),day:Qs({values:XA,defaultWidth:"wide"}),dayPeriod:Qs({values:JA,defaultWidth:"wide",formattingValues:ZA,defaultFormattingWidth:"wide"})};function Gs(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?nE(l,h=>h.test(o)):rE(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function rE(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nE(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const iE=/^(\d+)(th|st|nd|rd)?/i,aE=/\d+/i,oE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lE={any:[/^b/i,/^(a|c)/i]},cE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uE={any:[/1/i,/2/i,/3/i,/4/i]},dE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xE={ordinalNumber:sE({matchPattern:iE,parsePattern:aE,valueCallback:e=>parseInt(e,10)}),era:Gs({matchPatterns:oE,defaultMatchWidth:"wide",parsePatterns:lE,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:cE,defaultMatchWidth:"wide",parsePatterns:uE,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gs({matchPatterns:dE,defaultMatchWidth:"wide",parsePatterns:hE,defaultParseWidth:"any"}),day:Gs({matchPatterns:fE,defaultMatchWidth:"wide",parsePatterns:mE,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:pE,defaultMatchWidth:"any",parsePatterns:gE,defaultParseWidth:"any"})},yE={code:"en-US",formatDistance:$A,formatLong:WA,formatRelative:QA,localize:tE,match:xE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vE(e,t,r){const n=EA(),s=(r==null?void 0:r.locale)??n.locale??yE,a=2520,o=Qa(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Re(t),u=Re(e)):(c=Re(e),u=Re(t));const d=VA(u,c),h=(Op(u)-Op(c))/1e3,f=Math.round((d-h)/60);let g;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Lp){const y=Math.round(f/60);return s.formatDistance("aboutXHours",y,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<Ea){const y=Math.round(f/Lp);return s.formatDistance("xDays",y,l)}else if(f<Ea*2)return g=Math.round(f/Ea),s.formatDistance("aboutXMonths",g,l)}if(g=FA(u,c),g<12){const y=Math.round(f/Ea);return s.formatDistance("xMonths",y,l)}else{const y=g%12,v=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",v,l):y<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function Fn(e,t){return vE(e,IA(e),t)}function Rs({isOpen:e,onClose:t,children:r,title:n,className:s}){return b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),b.useEffect(()=>{const a=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,t]),gy.createPortal(i.jsx(pr,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:t}),i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:i.jsxs(R.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:Ge("w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar","bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl","border border-light-border dark:border-dark-border",s),onClick:a=>a.stopPropagation(),children:[n&&i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-light-border dark:border-dark-border",children:[i.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:n}),i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:i.jsx(En,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})})]}),i.jsxs("div",{className:n?"p-6":"p-6 relative",children:[!n&&i.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:i.jsx(En,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),r]})]})})]})}),document.body)}function bE({isOpen:e,onClose:t,postId:r}){var w;const{user:n}=Z(),[s,a]=b.useState(""),[o,l]=b.useState(null),[c,u]=b.useState(""),[d,h]=b.useState(!1),f=X(D.users.getAllUsers,n&&(n.role==="admin"||n.role==="super_admin")?{adminId:n._id}:"skip"),g=Y(D.assignments.createAssignment),y=f==null?void 0:f.filter(p=>p.name.toLowerCase().includes(s.toLowerCase())||p.email.toLowerCase().includes(s.toLowerCase())).slice(0,5),v=async p=>{if(p.preventDefault(),!(!n||!o||!c.trim())){h(!0);try{await g({adminId:n._id,userId:o,postId:r,instructions:c.trim()}),t(),l(null),u(""),a("")}catch(x){console.error("Failed to assign task:",x),alert("Failed to assign task. Please try again.")}finally{h(!1)}}};return i.jsx(Rs,{isOpen:e,onClose:t,title:"Assign Task",children:i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Select Member"}),i.jsxs("div",{className:"relative",children:[i.jsx(yv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),i.jsx("input",{type:"text",value:s,onChange:p=>a(p.target.value),placeholder:"Search by name or email...",className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500"})]}),s&&y&&i.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:y.map(p=>i.jsxs("div",{onClick:()=>l(p._id),className:`p-2 rounded-lg cursor-pointer flex items-center gap-2 transition-colors ${o===p._id?"bg-primary-500 text-white":"bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg text-light-text dark:text-dark-text"}`,children:[i.jsx(rn,{className:"w-4 h-4"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:p.name}),i.jsx("p",{className:"text-xs opacity-80",children:p.email})]}),o===p._id&&i.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})]},p._id))}),o&&!s&&i.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-primary-100 dark:bg-primary-900 border border-primary-500 text-primary-700 dark:text-primary-300 text-sm",children:["Selected: ",(w=f==null?void 0:f.find(p=>p._id===o))==null?void 0:w.name]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Instructions"}),i.jsx("textarea",{value:c,onChange:p=>u(p.target.value),placeholder:"Describe the task for this member...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx($,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),i.jsx($,{type:"submit",variant:"primary",disabled:!o||!c.trim()||d,children:d?"Assigning...":"Assign Task"})]})]})})}function wE({isOpen:e,onClose:t,postId:r,postContent:n}){const{user:s}=Z(),a=Y(D.responses.submitResponse),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(""),f=async g=>{if(g.preventDefault(),!(!s||!o.trim())){u(!0),h("");try{await a({userId:s._id,postId:r,content:o.trim()}),t(),l("")}catch(y){console.error("Failed to submit response:",y),y.message.includes("Vacancy Filled")?h("Sorry, the response slots for this post are full."):y.message.includes("already responded")?h("You have already responded to this post."):h("Failed to submit response. Please try again.")}finally{u(!1)}}};return i.jsx(Rs,{isOpen:e,onClose:t,title:"Submit Official Response",children:i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-3 rounded-lg text-sm text-light-muted dark:text-dark-muted mb-4 border-l-4 border-primary-500",children:[i.jsx("p",{className:"font-medium mb-1",children:"Replying to Official Post:"}),i.jsxs("p",{className:"line-clamp-2 italic",children:['"',n,'"']})]}),d&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg flex items-center gap-2 text-sm",children:[i.jsx(fv,{className:"w-4 h-4"}),d]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Your Response"}),i.jsx("textarea",{value:o,onChange:g=>l(g.target.value),placeholder:"Type your official response here...",className:"w-full min-h-[150px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text resize-y",autoFocus:!0}),i.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1 text-right",children:[o.length," characters"]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx($,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),i.jsxs($,{type:"submit",variant:"primary",disabled:!o.trim()||c,className:"flex items-center gap-2",children:[i.jsx(vv,{className:"w-4 h-4"}),c?"Submitting...":"Submit Response"]})]})]})})}function kE({responses:e}){const t=_t();if(!e||e.length===0)return null;const r=e.slice(0,2),n=e[0].postId;return i.jsxs("div",{className:"mt-4 space-y-3 border-t border-light-border dark:border-dark-border pt-4",children:[i.jsxs("h4",{className:"text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider flex items-center justify-between",children:["Official Responses",e.length>0&&i.jsxs("span",{className:"text-primary-500",children:[e.length," total"]})]}),i.jsx("div",{className:"space-y-2",children:r.map((s,a)=>i.jsx(jE,{response:s,rank:a+1,tier:a<5?"gold":"silver",compact:!0},s._id))}),e.length>0&&i.jsxs("button",{onClick:()=>t(`/post/${n}/responses`),className:"w-full py-2.5 text-sm text-primary-500 hover:text-primary-600 dark:text-primary-400 font-bold flex items-center justify-center gap-2 hover:bg-primary-50 dark:hover:bg-primary-900/10 rounded-xl transition-all border border-transparent hover:border-primary-500/20",children:["View Detailed Responses ",i.jsx(HT,{className:"w-4 h-4"})]})]})}function jE({response:e,rank:t,tier:r,compact:n}){const s=r==="gold";return i.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all ${s?"bg-primary-50/50 dark:bg-primary-900/10 border-primary-200 dark:border-primary-800":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:[i.jsxs("div",{className:`flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold ${s?"bg-primary-500 text-white":"bg-secondary-500 text-white"}`,children:["#",t]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Qr,{src:e.userAvatar,alt:e.userName,size:"sm"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"font-semibold text-sm text-light-text dark:text-dark-text truncate",children:e.userName}),i.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted whitespace-nowrap",children:Fn(e.createdAt,{addSuffix:!0})})]}),i.jsx("p",{className:`text-sm text-light-text dark:text-dark-text mt-1 whitespace-pre-wrap ${n?"line-clamp-2":""}`,children:e.content}),e.grade!==void 0&&i.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[i.jsxs(W,{variant:e.grade>=70?"success":"default",className:"text-[10px] md:text-xs",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&i.jsxs(W,{variant:"primary",className:"text-[10px] md:text-xs flex items-center gap-1 animate-pulse",children:[i.jsx(Ve,{className:"w-3 h-3"}),"Winner / Awarded"]}),!n&&e.feedback&&i.jsxs("span",{className:"text-xs text-light-muted italic text-ellipsis overflow-hidden",children:['"',e.feedback,'"']})]})]})]})}function NE({src:e,alt:t,onClose:r,layoutId:n}){return i.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm shadow-2xl overflow-hidden",onClick:r,children:[i.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[110] flex items-center justify-between p-4 bg-gradient-to-b from-black/60 to-transparent",onClick:s=>s.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white","aria-label":"Back",children:i.jsx(pv,{className:"w-6 h-6"})}),i.jsx("span",{className:"text-white font-medium truncate max-w-[200px]",children:t||"Image"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:i.jsx(bv,{className:"w-5 h-5"})}),i.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:i.jsx(KT,{className:"w-5 h-5"})}),i.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:i.jsx(En,{className:"w-6 h-6"})})]})]}),i.jsx(R.div,{className:"relative z-[105] w-full h-full flex items-center justify-center p-4",onClick:s=>s.stopPropagation(),children:i.jsx(R.img,{layoutId:n,src:e,alt:t,className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm",draggable:!1})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent pointer-events-none",children:i.jsx("p",{className:"text-white/60 text-sm text-center max-w-2xl mx-auto",children:t})})]})}function SE({post:e,onLike:t,onCommentClick:r,hasUserLiked:n=!1}){var nn,Mt,pl,Lh,Oh,Fh,Vh;const{user:s}=Z(),a=_t(),o=Y(D.posts.likePost),l=Y(D.posts.pinPost),c=Y(D.posts.deletePost),u=Y(D.editDelete.editPost),[d,h]=b.useState(!1),[f,g]=b.useState(!1),[y,v]=b.useState(!1),[w,p]=b.useState(!1),[x,m]=b.useState(e.content),[k,j]=b.useState(!1),[N,S]=b.useState(!1),[C,I]=b.useState(n),[L,_]=b.useState(e.likeCount),O=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="super_admin",se=((nn=e.author)==null?void 0:nn.role)==="admin"||((Mt=e.author)==null?void 0:Mt.role)==="super_admin",Q=X(D.responses.getPostResponses,se?{postId:e._id}:"skip"),K=((Q==null?void 0:Q.length)||0)>=10,ke=Q==null?void 0:Q.some(Se=>Se.userId===(s==null?void 0:s._id)),P=e.isResponseEnabled,F=Y(D.posts.toggleResponseStatus),[B,M]=b.useState(!1),te=async()=>{if(!(!s||!O)){M(!0);try{await F({adminId:s._id,postId:e._id,isEnabled:!P})}catch(Se){console.error("Failed to toggle response status",Se)}finally{M(!1)}}},St=((pl=e.author)==null?void 0:pl.role)==="admin",ze=((Lh=e.author)==null?void 0:Lh.role)==="super_admin",gr=async()=>{if(!s||f)return;const Se=!C;I(Se),_(sa=>Se?sa+1:sa-1),g(!0);try{await o({userId:s._id,postId:e._id}),t==null||t()}catch(sa){I(!Se),_(Bh=>Se?Bh-1:Bh+1),console.error("Failed to like post:",sa)}finally{g(!1)}},Ue=async()=>{if(!(!s||!x.trim()))try{await u({userId:s._id,postId:e._id,content:x.trim()}),p(!1)}catch(Se){console.error("Failed to edit post:",Se),alert(Se instanceof Error?Se.message:"Failed to edit post")}},qt=async()=>{if(!(!s||!O)){try{await l({adminId:s._id,postId:e._id,isPinned:!e.isPinned})}catch(Se){console.error("Failed to pin post:",Se)}h(!1)}},ml=async()=>{if(!(!s||!O)){if(confirm("Are you sure you want to delete this post?"))try{await c({adminId:s._id,postId:e._id})}catch(Se){console.error("Failed to delete post:",Se)}h(!1)}},Ms=`glass rounded-xl p-4 md:p-6 shadow-md hover:shadow-xl transition-shadow duration-300 ${ze?"border border-yellow-500/30 bg-gradient-to-br from-yellow-500/5 to-transparent":St?"border border-primary-500/30 bg-gradient-to-br from-primary-500/5 to-transparent":""}`;return i.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:Ms,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[i.jsx(Qr,{src:(Oh=e.author)==null?void 0:Oh.avatarUrl,alt:((Fh=e.author)==null?void 0:Fh.name)||"User",size:"md",className:ze?"ring-2 ring-yellow-500":St?"ring-2 ring-primary-500":""}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[i.jsxs("h4",{className:"font-semibold text-light-text dark:text-dark-text flex items-center gap-2",children:[((Vh=e.author)==null?void 0:Vh.name)||"Unknown User",ze&&i.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold tracking-wider uppercase bg-yellow-100 dark:bg-yellow-900/30 px-2 py-0.5 rounded-full border border-yellow-200 dark:border-yellow-800",children:"Super Admin"})]}),ze?i.jsxs(W,{variant:"primary",className:"text-xs flex items-center gap-1 bg-gradient-to-r from-yellow-500 to-amber-600 text-white border border-yellow-300",children:[i.jsx(ds,{className:"w-3 h-3 fill-yellow-200"}),"Official"]}):St?i.jsxs(W,{variant:"primary",className:"text-xs flex items-center gap-1 bg-gradient-to-r from-primary-500 to-primary-600 text-white",children:[i.jsx(ds,{className:"w-3 h-3"}),"Admin"]}):i.jsxs(W,{variant:"default",className:"text-xs flex items-center gap-1",children:[i.jsx(rn,{className:"w-3 h-3"}),"Member"]}),e.isPinned&&i.jsx(Cp,{className:"w-4 h-4 text-accent-500 fill-accent-500"}),e.rewardPosition&&i.jsx(Mv,{position:e.rewardPosition})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-light-muted dark:text-dark-muted",children:[i.jsx("span",{children:Fn(e.createdAt,{addSuffix:!0})}),i.jsx("span",{children:""}),i.jsx(W,{variant:e.category==="Ancient Culture"?"primary":"secondary",className:"text-xs",children:e.category})]})]})]}),O&&i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>h(!d),className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:i.jsx(nP,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),d&&i.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute right-0 mt-2 w-48 glass rounded-lg shadow-xl p-2 z-10",children:[i.jsxs("button",{onClick:()=>{h(!1),j(!0)},className:"w-full flex items-center gap-2 px-3 py-2 rounded hover:bg-light-bg dark:hover:bg-dark-bg text-left text-sm text-primary-500",children:[i.jsx(sP,{className:"w-4 h-4"}),"Assign Task"]}),i.jsxs("button",{onClick:qt,className:"w-full flex items-center gap-2 px-3 py-2 rounded hover:bg-light-bg dark:hover:bg-dark-bg text-left text-sm",children:[i.jsx(Cp,{className:"w-4 h-4"}),e.isPinned?"Unpin":"Pin"," Post"]}),i.jsxs("button",{onClick:ml,className:"w-full flex items-center gap-2 px-3 py-2 rounded hover:bg-red-50 dark:hover:bg-red-950 text-red-500 text-left text-sm",children:[i.jsx(wv,{className:"w-4 h-4"}),"Delete Post"]})]})]})]}),w?i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsx("textarea",{value:x,onChange:Se=>m(Se.target.value),className:"w-full min-h-[100px] p-3 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Edit your post..."}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs("button",{onClick:()=>{p(!1),m(e.content)},className:"px-4 py-2 rounded-lg border border-light-border dark:border-dark-border hover:bg-light-card dark:hover:bg-dark-card transition-colors flex items-center gap-2",children:[i.jsx(En,{className:"w-4 h-4"}),"Cancel"]}),i.jsxs("button",{onClick:Ue,disabled:!x.trim(),className:"px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(Es,{className:"w-4 h-4"}),"Save"]})]})]}):i.jsxs("div",{onClick:()=>a(`/post/${e._id}`),className:"cursor-pointer group",children:[i.jsx("p",{className:"text-light-text dark:text-dark-text mb-2 whitespace-pre-wrap line-clamp-3",children:e.content}),e.content.length>150&&i.jsx("span",{className:"text-primary-500 text-sm font-medium group-hover:underline",children:"Read more..."})]}),e.imageUrl&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 rounded-lg overflow-hidden cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>v(!0),children:i.jsx(R.img,{layoutId:`post-image-${e._id}`,src:e.imageUrl,alt:"Post image",className:"w-full max-h-96 object-cover"})}),i.jsx(pr,{children:y&&i.jsx(NE,{layoutId:`post-image-${e._id}`,src:e.imageUrl,alt:"Full post image",onClose:()=>v(!1)})})]}),e.videoUrl&&i.jsx("div",{className:"mb-4 rounded-lg overflow-hidden bg-black",children:i.jsx("video",{src:e.videoUrl,controls:!0,className:"w-full max-h-96"})}),i.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[i.jsxs(R.button,{onClick:gr,disabled:f,whileTap:{scale:.9},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all ${C?"text-red-500 bg-red-50 dark:bg-red-950":"text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card"}`,children:[i.jsx(R.div,{animate:C?{scale:[1,1.3,1]}:{scale:1},transition:{duration:.3},children:i.jsx(ll,{className:`w-5 h-5 transition-all duration-300 ${C?"fill-red-500 text-red-500":""}`})}),i.jsx("span",{className:"text-sm font-medium",children:L})]}),i.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card transition-all",children:[i.jsx(qi,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm",children:e.commentCount})]})]}),se&&i.jsxs("div",{className:"px-4 pb-4",children:[O&&i.jsxs("div",{className:"flex items-center justify-between mb-3 bg-light-bg dark:bg-dark-bg p-2 rounded-lg border border-light-border dark:border-dark-border",children:[i.jsxs("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted flex items-center gap-2",children:[i.jsx(ds,{className:"w-3 h-3"}),"Official Responses: ",i.jsx("span",{className:P?"text-green-500":"text-gray-500",children:P?"ENABLED":"DISABLED"})]}),i.jsxs("button",{onClick:te,disabled:B,className:`text-xs px-2 py-1 rounded transition-colors flex items-center gap-1 ${P?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200"}`,children:[P?i.jsx(lP,{className:"w-4 h-4"}):i.jsx(oP,{className:"w-4 h-4"}),P?"Disable":"Enable"]})]}),!O&&!ke&&!K&&P&&i.jsxs("button",{onClick:()=>S(!0),className:"w-full mt-3 py-2 px-4 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium flex items-center justify-center gap-2 transition-colors shadow-lg shadow-primary-500/20",children:[i.jsx(jp,{className:"w-4 h-4"}),"Submit Official Response"]}),!O&&!P&&!ke&&i.jsx("div",{className:"mt-3 py-2 text-center text-xs text-light-muted italic",children:"Responses are currently closed for this post."}),K&&!O&&i.jsxs("div",{className:"mt-3 py-2 px-4 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 font-medium flex items-center justify-center gap-2 border border-gray-200 dark:border-gray-700",children:[i.jsx(fv,{className:"w-4 h-4"}),"Vacancy Filled (Max 10 Responses)"]}),ke&&i.jsxs("div",{className:"mt-3 py-2 px-4 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 font-medium flex items-center justify-center gap-2 border border-green-200 dark:border-green-800",children:[i.jsx(jp,{className:"w-4 h-4"}),"Response Submitted"]}),Q&&Q.length>0&&i.jsx(kE,{responses:Q})]}),O&&i.jsx(bE,{isOpen:k,onClose:()=>j(!1),postId:e._id}),se&&i.jsx(wE,{isOpen:N,onClose:()=>S(!1),postId:e._id,postContent:e.content})]})}function dc(){return i.jsxs("div",{className:"glass rounded-xl p-6 shadow-md animate-pulse",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"h-4 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),i.jsx("div",{className:"h-4 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),i.jsx("div",{className:"h-3 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),i.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),i.jsx("div",{className:"h-4 w-4/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),i.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[i.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"}),i.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]})]})}function jh({category:e,onCommentClick:t}){const{user:r}=Z(),[n,s]=b.useState(e),[a,o]=b.useState(0),l=X(D.posts.getPosts,{category:n,limit:50}),c=()=>{o(u=>u+1)};return l===void 0?i.jsxs("div",{className:"space-y-4",children:[i.jsx(dc,{}),i.jsx(dc,{}),i.jsx(dc,{})]}):i.jsxs("div",{className:"space-y-6",children:[!e&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>s(void 0),className:`px-4 py-2 rounded-lg font-medium transition-all ${n===void 0?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"All Posts"}),i.jsx("button",{onClick:()=>s("Ancient Culture"),className:`px-4 py-2 rounded-lg font-medium transition-all ${n==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient Culture"}),i.jsx("button",{onClick:()=>s("Wisdom of The Now"),className:`px-4 py-2 rounded-lg font-medium transition-all ${n==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom of The Now"})]}),l.length===0?i.jsx("div",{className:"text-center py-12 glass rounded-xl",children:i.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts yet. Be the first to share your learning!"})}):i.jsx(pr,{mode:"popLayout",children:i.jsx("div",{className:"space-y-4",children:l.map(u=>i.jsx(SE,{post:u,onLike:c,onCommentClick:()=>t==null?void 0:t(u),hasUserLiked:!1},`${u._id}-${a}`))})})]})}function CE({title:e,description:t,imageUrl:r,creatorRole:n="admin"}){const s=n==="super_admin";return i.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`glass rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border-2 ${s?"border-secondary-500/50 shadow-secondary-500/10":"border-transparent"}`,children:[i.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),i.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${s?"from-secondary-900/80":"from-black/60"} to-transparent`}),i.jsx("div",{className:"absolute bottom-4 left-4 flex items-center gap-2",children:s?i.jsxs("span",{className:"px-3 py-1 rounded-full bg-secondary-500 text-white text-xs font-bold flex items-center gap-1.5 shadow-lg",children:[i.jsx(GT,{className:"w-3 h-3 fill-current"}),"OFFICIAL ANNOUNCEMENT"]}):i.jsxs("span",{className:"px-3 py-1 rounded-full bg-primary-500 text-white text-xs font-bold flex items-center gap-1.5 shadow-lg",children:[i.jsx(WT,{className:"w-3 h-3"}),"ADMIN UPDATE"]})})]}),i.jsxs("div",{className:`p-6 ${s?"bg-secondary-500/5 dark:bg-secondary-500/5":""}`,children:[i.jsx("h3",{className:`text-2xl font-bold mb-2 ${s?"text-secondary-600 dark:text-secondary-400":"text-light-text dark:text-dark-text"}`,children:e}),i.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed",children:t})]})]})}function TE(){const{user:e,isLoading:t}=Z(),r=_t(),n=X(D.announcements.getAnnouncements,e?{category:"General"}:"skip");return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?(console.log("Announcements:",n),i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[n&&n.length>0&&i.jsx("div",{className:"mb-8 space-y-6",children:n.map(s=>i.jsx(CE,{title:s.title,description:s.description,imageUrl:s.imageUrl,creatorRole:s.creatorRole},s._id))}),i.jsx(jh,{onCommentClick:s=>r(`/post/${s._id}`)})]})})):i.jsx(mr,{to:"/login",replace:!0})}function PE({onUploadComplete:e,allowVideo:t=!1,currentMedia:r}){const[n,s]=b.useState(!1),[a,o]=b.useState(0),[l,c]=b.useState(r),u=b.useRef(null),d=b.useRef(null),h=async(g,y)=>{if(y==="image"&&!Rv(g)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}if(y==="video"&&!SA(g)){alert("Please upload a valid video file (MP4, WebM, or OGG)");return}const v=new FileReader;v.onloadend=()=>{c({url:v.result,type:y})},v.readAsDataURL(g),s(!0),o(0);try{const p=await kh(g,y==="image"?"posts/images":"posts/videos",o);e(p,y),c({url:p,type:y})}catch(w){console.error("Upload failed:",w),alert(`Failed to upload ${y}. Please try again.`),c(r)}finally{s(!1),o(0)}},f=()=>{c(void 0),e("","image"),u.current&&(u.current.value=""),d.current&&(d.current.value="")};return i.jsxs("div",{className:"space-y-3",children:[i.jsx(pr,{children:l&&i.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative rounded-lg overflow-hidden bg-light-card dark:bg-dark-card",children:[l.type==="image"?i.jsx("img",{src:l.url,alt:"Preview",className:"w-full max-h-96 object-contain"}):i.jsx("video",{src:l.url,controls:!0,className:"w-full max-h-96 object-contain"}),n&&i.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xv,{className:"w-8 h-8 text-white animate-spin mx-auto mb-2"}),i.jsxs("span",{className:"text-sm text-white font-medium",children:[a,"%"]})]})}),!n&&i.jsx("button",{onClick:f,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:i.jsx(En,{className:"w-5 h-5 text-white"})})]})}),!l&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];y&&h(y,"image")},className:"hidden",disabled:n}),i.jsxs("button",{type:"button",onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},disabled:n,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[i.jsx(ZT,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Add Image"})]}),t&&i.jsxs(i.Fragment,{children:[i.jsx("input",{ref:d,type:"file",accept:"video/*",onChange:g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];y&&h(y,"video")},className:"hidden",disabled:n}),i.jsxs("button",{type:"button",onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},disabled:n,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-secondary-500 dark:hover:border-secondary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-secondary-500",children:[i.jsx(uP,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Add Video"})]})]})]})]})}function Dv({onSuccess:e}){const{user:t}=Z(),r=Y(D.posts.createPost),[n,s]=b.useState(""),[a,o]=b.useState("Ancient Culture"),[l,c]=b.useState(""),[u,d]=b.useState(null),[h,f]=b.useState(!1),[g,y]=b.useState(""),v=(p,x)=>{c(p),d(x)},w=async p=>{if(p.preventDefault(),!t){y("You must be logged in to post");return}if(n.trim().length<10){y("Post must be at least 10 characters");return}y(""),f(!0);try{await r({authorId:t._id,content:n.trim(),category:a,imageUrl:u==="image"?l:void 0,videoUrl:u==="video"?l:void 0}),s(""),c(""),d(null),e==null||e()}catch(x){y(x instanceof Error?x.message:"Failed to create post")}finally{f(!1)}};return i.jsxs(R.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:w,className:"glass rounded-xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(tn,{className:"w-5 h-5 text-primary-500"}),i.jsx("h3",{className:"text-xl font-semibold text-light-text dark:text-dark-text",children:"Share Your Learning"})]}),g&&i.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:g})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>o("Ancient Culture"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${a==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient Culture"}),i.jsx("button",{type:"button",onClick:()=>o("Wisdom of The Now"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${a==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom of The Now"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"What did you learn?"}),i.jsx("textarea",{value:n,onChange:p=>s(p.target.value),placeholder:"Share your insights, revelations, and key takeaways from today's teaching session...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0}),i.jsxs("p",{className:"mt-1 text-xs text-light-muted dark:text-dark-muted",children:[n.length," characters"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Add Media (Optional)"}),i.jsx(PE,{onUploadComplete:v,allowVideo:(t==null?void 0:t.role)==="admin",currentMedia:l?{url:l,type:u}:void 0}),(t==null?void 0:t.role)==="admin"&&i.jsx("p",{className:"mt-1 text-xs text-accent-500",children:" As an admin, you can upload both images and videos"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:[" Be among the first 5 to post and earn the ",i.jsx("strong",{className:"text-primary-500",children:"SENT"})," badge!"]}),i.jsx($,{type:"submit",variant:"primary",isLoading:h,disabled:n.trim().length<10,children:"Post"})]})]})]})}function AE(){const{user:e,isLoading:t}=Z(),[r,n]=b.useState(0);return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[i.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-primary-500/10 to-primary-600/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(An,{className:"w-6 h-6 md:w-8 md:h-8 text-primary-500"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 font-display",children:"Ancient Culture"})]}),i.jsx("p",{className:"text-light-text dark:text-dark-text text-base md:text-lg",children:"Teachings based on prophetic wisdom and systems from the Old Testament"})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsx(Dv,{onSuccess:()=>n(s=>s+1)}),i.jsx(jh,{category:"Ancient Culture"},r)]})]})}):i.jsx(mr,{to:"/login",replace:!0})}function EE(){const{user:e,isLoading:t}=Z(),[r,n]=b.useState(0);return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[i.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-secondary-500/10 to-secondary-600/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(tn,{className:"w-6 h-6 md:w-8 md:h-8 text-secondary-500"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary-600 dark:text-secondary-400 font-display",children:"Wisdom of The Now"})]}),i.jsx("p",{className:"text-light-text dark:text-dark-text text-base md:text-lg",children:"Teachings based on spiritual identity and insights from the New Testament"})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsx(Dv,{onSuccess:()=>n(s=>s+1)}),i.jsx(jh,{category:"Wisdom of The Now"},r)]})]})}):i.jsx(mr,{to:"/login",replace:!0})}function IE({currentAvatarUrl:e,onUploadComplete:t,size:r="lg"}){const[n,s]=b.useState(!1),[a,o]=b.useState(0),[l,c]=b.useState(e),[u,d]=b.useState(!1),h=b.useRef(null),f={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},g=async v=>{var x;const w=(x=v.target.files)==null?void 0:x[0];if(!w)return;if(!Rv(w)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}const p=new FileReader;p.onloadend=()=>{c(p.result)},p.readAsDataURL(w),s(!0),o(0),d(!1);try{const m=await kh(w,"avatars",o);t(m),c(m),d(!0),setTimeout(()=>d(!1),3e3)}catch(m){console.error("Upload failed:",m),alert("Failed to upload avatar. Please try again."),c(e)}finally{s(!1),o(0)}},y=()=>{c(void 0),t(""),h.current&&(h.current.value="")};return i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`${f[r]} rounded-full overflow-hidden border-4 border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card flex items-center justify-center`,children:l?i.jsx("img",{src:_v(l,200,200),alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx(Fu,{className:"w-8 h-8 text-light-muted dark:text-dark-muted"})}),n&&i.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xv,{className:"w-6 h-6 text-white animate-spin mx-auto mb-1"}),i.jsxs("span",{className:"text-xs text-white font-medium",children:[a,"%"]})]})}),l&&!n&&i.jsx("button",{onClick:y,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:i.jsx(En,{className:"w-4 h-4 text-white"})})]}),i.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:g,className:"hidden",disabled:n}),i.jsxs($,{onClick:()=>{var v;return(v=h.current)==null?void 0:v.click()},variant:"outline",size:"sm",disabled:n,children:[i.jsx(Fu,{className:"w-4 h-4 mr-2"}),l?"Change Avatar":"Upload Avatar"]}),i.jsx(pr,{children:u&&i.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:[i.jsx(Es,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),i.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Avatar saved successfully!"})]})})]})}const Nh=e=>{if(!e)return"";if(e.length<=4)return e;const t=e.slice(-4);return"*".repeat(e.length-4)+t},RE=e=>{const t=e.replace(/[\s-]/g,"");return/^\d{10}$/.test(t)},_E=e=>e.trim().length>=2&&e.trim().length<=100,ME=e=>e.trim().length>=2&&e.trim().length<=100,DE=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Fidelity Bank","Union Bank","Sterling Bank","Polaris Bank","Wema Bank","Ecobank","Stanbic IBTC","Keystone Bank","FCMB","Unity Bank","Jaiz Bank","Providus Bank","Kuda Bank","OPay","PalmPay","Moniepoint","Other"];function LE({userId:e,isAdminView:t=!1}){const{user:r}=Z(),n=e||(r==null?void 0:r._id),s=X(D.bankingCredentials.getBankingCredentials,n&&(r!=null&&r._id)?{userId:n,viewerId:r._id}:"skip"),a=Y(D.bankingCredentials.updateBankingCredentials),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState({bankName:"",accountNumber:"",accountName:""}),[f,g]=b.useState({}),[y,v]=b.useState(!1);b.useEffect(()=>{s&&h({bankName:s.bankName||"",accountNumber:s.accountNumber||"",accountName:s.accountName||""})},[s]);const w=async m=>{m.preventDefault();const k={};if(_E(d.bankName)||(k.bankName="Please enter a valid bank name"),RE(d.accountNumber)||(k.accountNumber="Account number must be 10 digits"),ME(d.accountName)||(k.accountName="Please enter a valid account name"),g(k),!(Object.keys(k).length>0)&&n){v(!0);try{await a({userId:n,bankName:d.bankName.trim(),accountNumber:d.accountNumber.replace(/[\s-]/g,""),accountName:d.accountName.trim()}),l(!1),u(!1)}catch(j){console.error("Failed to update banking credentials:",j),g({submit:"Failed to save banking credentials. Please try again."})}finally{v(!1)}}},p=(s==null?void 0:s.bankName)&&(s==null?void 0:s.accountNumber)&&(s==null?void 0:s.accountName),x=!t&&(r==null?void 0:r._id)===n;return i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5 text-accent-500"}),"Banking Information"]})}),i.jsxs(q,{children:[!t&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-light-bg dark:bg-dark-bg flex items-start gap-2",children:[i.jsx(Io,{className:"w-4 h-4 text-light-muted dark:text-dark-muted mt-0.5 flex-shrink-0"}),i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Your banking information is secure and only visible to you and administrators. This is required to receive rewards for participating in teaching sessions."})]}),o?i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Bank Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:d.bankName,onChange:m=>h({...d,bankName:m.target.value}),className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"Select your bank"}),DE.map(m=>i.jsx("option",{value:m,children:m},m))]}),f.bankName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.bankName})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:d.accountNumber,onChange:m=>h({...d,accountNumber:m.target.value}),placeholder:"0123456789",maxLength:10,className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono"}),f.accountNumber&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.accountNumber})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:d.accountName,onChange:m=>h({...d,accountName:m.target.value}),placeholder:"John Doe",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500"}),f.accountName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.accountName})]}),f.submit&&i.jsx("p",{className:"text-red-500 text-sm",children:f.submit}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx($,{type:"submit",variant:"primary",className:"flex-1",disabled:y,children:y?"Saving...":"Save"}),i.jsx($,{type:"button",onClick:()=>{l(!1),g({}),s&&h({bankName:s.bankName||"",accountNumber:s.accountNumber||"",accountName:s.accountName||""})},variant:"secondary",className:"flex-1",disabled:y,children:"Cancel"})]})]}):i.jsx("div",{className:"space-y-4",children:p?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Bank Name"}),i.jsx("p",{className:"text-light-text dark:text-dark-text",children:s.bankName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Number"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-light-text dark:text-dark-text font-mono",children:c?s.accountNumber:Nh(s.accountNumber||"")}),i.jsx("button",{onClick:()=>u(!c),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:c?i.jsx(xh,{className:"w-4 h-4"}):i.jsx(yh,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Name"}),i.jsx("p",{className:"text-light-text dark:text-dark-text",children:s.accountName})]}),x&&i.jsx($,{onClick:()=>l(!0),variant:"secondary",className:"w-full",children:"Update Banking Information"})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:t?"This user has not added banking information yet.":"Add your banking information to receive rewards."}),x&&i.jsx($,{onClick:()=>l(!0),variant:"primary",children:"Add Banking Information"})]})})]})]})}function Nt(){const e=_t();return i.jsxs("button",{onClick:()=>e(-1),className:"fixed top-20 left-4 z-50 p-3 rounded-full bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md border border-light-border dark:border-dark-border shadow-xl text-light-muted dark:text-dark-muted hover:text-primary-500 dark:hover:text-primary-400 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Go Back",children:[i.jsx(pv,{className:"w-5 h-5 md:w-6 md:h-6"}),i.jsx("span",{className:"sr-only",children:"Back"})]})}function OE(){const{user:e,isLoading:t,updateUser:r}=Z(),n=Y(D.presence.updateAvatar),s=e?X(D.users.getUserStats,{userId:e._id}):void 0,a=async o=>{if(e)try{await n({userId:e._id,avatarUrl:o}),r({avatarUrl:o})}catch(l){console.error("Failed to update avatar:",l)}};return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Profile"}),i.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View your account details and community stats"})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5 text-primary-500"}),"Profile Information"]})}),i.jsxs(q,{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center pb-4 border-b border-light-border dark:border-dark-border",children:i.jsx(IE,{currentAvatarUrl:e.avatarUrl,onUploadComplete:a,size:"lg"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Name"}),i.jsx("p",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:e.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Email"}),i.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:e.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Phone"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:wh(e.phone)}),i.jsx(W,{variant:"primary",children:e.network})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Role"}),i.jsx("div",{className:"mt-1",children:i.jsx(W,{variant:e.role==="super_admin"?"secondary":e.role==="admin"?"primary":"default",children:e.role==="super_admin"?"Super Admin":e.role==="admin"?"Admin":"Member"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"WhatsApp Status"}),i.jsx("div",{className:"mt-1",children:i.jsx(W,{variant:e.whatsappVerified?"success":"warning",children:e.whatsappVerified?"Verified":"Not Verified"})})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(ol,{className:"w-5 h-5 text-primary-500"}),"Activity Stats"]})}),i.jsx(q,{children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[i.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Total Posts"}),i.jsx("span",{className:"text-2xl font-bold text-primary-500",children:(s==null?void 0:s.totalPosts)||0})]})})})]}),i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(Ve,{className:"w-5 h-5 text-accent-500"}),"Rewards Earned"]})}),i.jsx(q,{children:i.jsx("div",{className:"space-y-3",children:s!=null&&s.rewardPositions&&s.rewardPositions.length>0?i.jsxs("div",{className:"space-y-2",children:[s.rewardPositions.map((o,l)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-light-bg dark:bg-dark-bg",children:[i.jsxs("span",{className:"text-sm text-light-muted dark:text-dark-muted",children:["Reward #",l+1]}),i.jsx(Mv,{position:o})]},l)),i.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:"Total Rewards"}),i.jsx("span",{className:"text-2xl font-bold text-accent-500",children:s.totalRewards})]})})]}):i.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-4",children:"No rewards yet. Be among the first 5 to post after a teaching session!"})})})]})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx(LE,{})})]})}):i.jsx(mr,{to:"/login",replace:!0})}function FE(){const{user:e}=Z(),t=Y(D.announcements.createAnnouncement),[r,n]=b.useState(!1),[s,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState("General"),[d,h]=b.useState(null),[f,g]=b.useState(null),[y,v]=b.useState(!1),[w,p]=b.useState(!1),[x,m]=b.useState(null),k=N=>{var C;const S=(C=N.target.files)==null?void 0:C[0];if(S){h(S);const I=new FileReader;I.onloadend=()=>g(I.result),I.readAsDataURL(S)}},j=async()=>{if(!e||!s||!o||!d){alert("Please fill all fields and select an image");return}v(!0);try{const N=await kh(d,"announcements",void 0);await t({adminId:e._id,title:s,description:o,imageUrl:N,category:c}),a(""),l(""),u("General"),h(null),g(null),n(!1),p(!0),m(null),setTimeout(()=>p(!1),3e3)}catch(N){console.error("Failed to create announcement:",N),m("Failed to create announcement. Please try again.")}finally{v(!1)}};return i.jsxs(z,{glass:!0,className:"mb-8",children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("span",{children:"Announcement Cards"}),!r&&i.jsxs($,{onClick:()=>n(!0),variant:"primary",className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[i.jsx(iP,{className:"w-4 h-4"}),"New Announcement"]})]})}),i.jsxs(q,{children:[w&&i.jsx("div",{className:"mb-4 p-4 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:i.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:" Announcement created successfully!"})}),x&&i.jsx("div",{className:"mb-4 p-4 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:i.jsx("p",{className:"text-red-800 dark:text-red-200",children:x})}),r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Title"}),i.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text",placeholder:"Announcement title..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Description"}),i.jsx("textarea",{value:o,onChange:N=>l(N.target.value),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text resize-none",rows:3,placeholder:"Announcement description..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Category"}),i.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text",children:[i.jsx("option",{value:"General",children:"General (Feed)"}),i.jsx("option",{value:"Ancient Culture",children:"Ancient Culture"}),i.jsx("option",{value:"Wisdom of The Now",children:"Wisdom of The Now"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",id:"announcement-image"}),i.jsxs("label",{htmlFor:"announcement-image",className:"flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 cursor-pointer transition-colors w-fit",children:[i.jsx(Fu,{className:"w-5 h-5"}),"Select Image"]}),f&&i.jsx("div",{className:"mt-4 relative w-full h-48 rounded-lg overflow-hidden",children:i.jsx("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[i.jsx($,{onClick:()=>{n(!1),a(""),l(""),h(null),g(null)},variant:"secondary",className:"w-full sm:w-auto",children:"Cancel"}),i.jsx($,{onClick:j,variant:"primary",className:"w-full sm:w-auto",disabled:y||!s||!o||!d,children:y?"Creating...":"Create Announcement"})]})]}):i.jsx("p",{className:"text-light-muted dark:text-dark-muted text-center py-8",children:'Click "New Announcement" to create an announcement card'})]})]})}function VE({category:e}){const{user:t}=Z(),r=_t(),[n,s]=b.useState(!1),a=X(D.rewardActions.getTop5Responders,(t==null?void 0:t.role)==="admin"&&t._id?{category:e,adminId:t._id}:"skip");if(!t||t.role!=="admin"||!a)return null;const o=a.filter(c=>c.rewardStatus==="pending").length,l=a.filter(c=>c.rewardStatus==="approved").length;return i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(Ve,{className:"w-5 h-5 text-accent-500"}),"Top 5 Responders"]})}),i.jsx(q,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wi,{className:"w-5 h-5 text-primary-500"}),i.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:e})]}),i.jsxs(W,{variant:"primary",children:[a.length,"/5"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:o}),i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Pending"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-500",children:l}),i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Approved"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-accent-500",children:a.length}),i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Total"})]})]}),a.length>0?i.jsxs("div",{className:"space-y-2 mb-3",children:[a.slice(0,2).map(c=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-light-card dark:bg-dark-card",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-500 text-white flex items-center justify-center text-xs font-bold",children:c.position}),i.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:c.user.name})]}),i.jsx(W,{variant:c.rewardStatus==="approved"?"primary":"default",children:c.rewardStatus})]},c.position)),a.length>2&&i.jsxs("button",{onClick:()=>s(!0),className:"w-full text-center text-xs text-primary-500 hover:text-primary-600 font-medium py-1",children:["View all ",a.length," responders"]})]}):i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted text-center py-4",children:"No responders yet for this session"})]}),i.jsxs($,{onClick:()=>r("/admin/rewards"),variant:"primary",className:"w-full flex items-center justify-center gap-2",children:["Manage Rewards",i.jsx(gn,{className:"w-4 h-4"})]})]})}),i.jsxs(Rs,{isOpen:n,onClose:()=>s(!1),title:`Top Responders - ${e}`,children:[i.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:a.map(c=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white shadow-lg ${c.position===1?"bg-yellow-500":c.position===2?"bg-gray-400":c.position===3?"bg-amber-600":"bg-primary-500"}`,children:c.position}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-light-text dark:text-dark-text",children:c.user.name}),i.jsxs("div",{className:"text-xs text-light-muted dark:text-dark-muted space-y-1 mt-1",children:[i.jsx("p",{className:"capitalize",children:c.user.role}),i.jsxs("p",{className:"font-mono text-primary-500",children:[c.user.phone," (",c.user.network,")"]}),c.user.bankName&&i.jsxs("div",{className:"p-1.5 bg-light-bg dark:bg-dark-bg rounded border border-light-border dark:border-dark-border mt-1",children:[i.jsx("p",{className:"font-bold",children:c.user.bankName}),i.jsx("p",{className:"font-mono",children:c.user.accountNumber}),i.jsx("p",{children:c.user.accountName})]})]})]})]}),i.jsx(W,{variant:c.rewardStatus==="approved"?"primary":"default",children:c.rewardStatus})]},c.position))}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx($,{onClick:()=>s(!1),children:"Close"})})]})]})}function BE(){var L;const{user:e,isLoading:t}=Z(),[r,n]=b.useState("Ancient Culture"),s=X(D.users.getAllUsers,e?{adminId:e._id}:"skip"),a=X(D.sessions.getCurrentSession,{category:r}),o=X(D.comments.getCommentSettings,{}),l=Y(D.sessions.createSession),c=Y(D.comments.toggleComments),u=Y(D.users.updateUserRole),d=X(D.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),h=(d==null?void 0:d.length)||0,[f,g]=b.useState(""),[y,v]=b.useState(!1),[w,p]=b.useState(null),x=(s==null?void 0:s.filter(_=>_.name.toLowerCase().includes(f.toLowerCase())||_.email.toLowerCase().includes(f.toLowerCase())))||[],m=(_,O,se)=>{p({id:_,name:O,currentRole:se,newRole:se==="admin"?"member":"admin"}),v(!0)},k=async()=>{if(!(!w||!e))try{await u({adminId:e._id,userId:w.id,newRole:w.newRole}),v(!1),p(null)}catch(_){console.error("Failed to update role",_)}};if(t)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return i.jsx(mr,{to:"/feed",replace:!0});const j=async()=>{if(e)try{await l({adminId:e._id,category:r})}catch(_){console.error("Failed to create session:",_)}},N=(s==null?void 0:s.length)||0,S=(s==null?void 0:s.filter(_=>_.role==="admin"||_.role==="super_admin").length)||0,C=N-S,I=((L=a==null?void 0:a.rewardSlots)==null?void 0:L.filter(_=>_!==void 0).length)||0;return i.jsxs("div",{className:"min-h-screen py-8",children:[i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Admin Dashboard"}),i.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Manage teaching sessions and view community statistics"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-8",children:[i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Total Users"}),i.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text",children:N})]}),i.jsx(Wi,{className:"w-10 h-10 text-primary-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Members"}),i.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text",children:C})]}),i.jsx(Wi,{className:"w-10 h-10 text-secondary-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Admins"}),i.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text",children:S})]}),i.jsx(Ve,{className:"w-10 h-10 text-accent-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-6",children:i.jsxs(ee,{to:"/admin/tasks",className:"flex items-center justify-between group",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Task Reviews"}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:h}),i.jsx("span",{className:"text-xs text-light-muted",children:"pending"})]})]}),i.jsx(al,{className:"w-10 h-10 text-blue-500 opacity-20 group-hover:opacity-100 transition-opacity"})]})})})]}),i.jsxs(z,{glass:!0,className:"mb-8",children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(Pp,{className:"w-5 h-5 text-primary-500"}),"Quick Actions"]})}),i.jsx(q,{children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsx(ee,{to:"/admin/reward-responses",children:i.jsxs("div",{className:"p-4 rounded-lg border-2 border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-all cursor-pointer group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:"Response Rewards"}),i.jsx(gn,{className:"w-5 h-5 text-light-muted group-hover:text-primary-500 transition-colors"})]}),i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"View all responses to your posts with payment info"})]})}),i.jsx(ee,{to:"/admin/responses",children:i.jsxs("div",{className:"p-4 rounded-lg border-2 border-light-border dark:border-dark-border hover:border-accent-500 dark:hover:border-accent-500 transition-all cursor-pointer group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-accent-500 transition-colors",children:"Grade Responses"}),i.jsx(gn,{className:"w-5 h-5 text-light-muted group-hover:text-accent-500 transition-colors"})]}),i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Review and grade pending responses"})]})})]})})]}),i.jsx(FE,{}),i.jsx("div",{className:"mb-8",children:i.jsx(VE,{category:r})}),i.jsxs(z,{glass:!0,className:"mb-8",children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(Pp,{className:"w-5 h-5 text-accent-500"}),"Session Management"]})}),i.jsx(q,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>n("Ancient Culture"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[i.jsx(An,{className:"w-4 h-4"}),"Ancient Culture"]}),i.jsxs("button",{onClick:()=>n("Wisdom of The Now"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[i.jsx(tn,{className:"w-4 h-4"}),"Wisdom of The Now"]})]})]}),a?i.jsxs("div",{className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:["Active Session #",a.sessionNumber]}),i.jsx(W,{variant:r==="Ancient Culture"?"primary":"secondary",children:"Active"})]}),i.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-2",children:["Reward Slots: ",I,"/5 filled"]}),i.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(_=>{var O;return i.jsx("div",{className:`h-2 flex-1 rounded-full ${(O=a.rewardSlots)!=null&&O[_]?"bg-accent-500":"bg-light-border dark:bg-dark-border"}`},_)})})]}):i.jsxs("div",{className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg text-center",children:[i.jsxs("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:["No active session for ",r]}),i.jsx($,{onClick:j,variant:"primary",children:"Start New Session"})]})]})})]}),i.jsxs(z,{glass:!0,className:"mb-8",children:[i.jsx(Ee,{children:i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(Hr,{className:"w-5 h-5 text-primary-500"}),"Comment Settings"]})}),i.jsx(q,{children:i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-light-text dark:text-dark-text mb-1",children:"Allow Comments"}),i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:o?"Users can comment on posts":"Comments are disabled for all users"})]}),i.jsx("button",{onClick:async()=>{if(e)try{await c({adminId:e._id,enabled:!o})}catch(_){console.error("Failed to toggle comments:",_)}},className:`relative inline-flex h-7 w-14 items-center rounded-full transition-colors ${o?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:i.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${o?"translate-x-8":"translate-x-1"}`})})]})})]}),i.jsxs(z,{glass:!0,children:[i.jsxs(Ee,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsx(Ie,{children:"Recent Users (Super Admin Enabled)"}),i.jsx("div",{className:"w-full sm:w-64",children:i.jsx(Xt,{placeholder:"Search by name or email...",value:f,onChange:_=>g(_.target.value),icon:i.jsx(yv,{className:"w-4 h-4"}),className:"h-9"})})]}),i.jsx(q,{children:i.jsx("div",{className:"space-y-3",children:x&&x.length>0?x.slice(0,10).map(_=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-light-text dark:text-dark-text truncate",children:_.name}),i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted truncate",children:_.email})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(W,{variant:"default",className:"text-[10px]",children:_.network}),i.jsx(W,{variant:_.role==="admin"||_.role==="super_admin"?"primary":"default",className:"text-[10px]",children:_.role}),e.role==="super_admin"&&_.role!=="super_admin"&&i.jsx("button",{onClick:()=>m(_._id,_.name,_.role),className:"px-3 py-1.5 rounded-lg bg-primary-100 dark:bg-primary-900/30 text-[10px] font-bold text-primary-500 hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors w-full sm:w-auto text-center",children:_.role==="admin"?"Demote":"Make Admin"})]})]},_._id)):i.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-4",children:"No users found"})})})]})]}),i.jsx(Rs,{isOpen:y,onClose:()=>v(!1),title:"Confirm Role Change",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg",children:[i.jsx(mv,{className:"w-6 h-6 flex-shrink-0"}),i.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"Are you sure you want to change this user's role?"})]}),i.jsxs("div",{className:"py-2",children:[i.jsxs("p",{className:"text-light-text dark:text-dark-text",children:["User: ",i.jsx("span",{className:"font-bold",children:w==null?void 0:w.name})]}),i.jsxs("p",{className:"text-light-text dark:text-dark-text",children:["Action: ",i.jsx("span",{className:"font-bold",children:(w==null?void 0:w.currentRole)==="admin"?"Demote to Member":"Promote to Admin"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[i.jsx($,{variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),i.jsx($,{variant:"primary",onClick:k,children:"Confirm Change"})]})]})})]})}function $E(){const{user:e,isLoading:t}=Z(),[r,n]=b.useState("Ancient Culture"),[s,a]=b.useState(new Set),o=X(D.rewardActions.getTop5Responders,(e==null?void 0:e.role)==="admin"&&e._id?{category:r,adminId:e._id}:"skip"),l=Y(D.rewardActions.approveReward),c=Y(D.rewardActions.cancelReward),[u,d]=b.useState(new Set);if(t)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin")return i.jsx(mr,{to:"/feed",replace:!0});const h=async p=>{if(e){d(x=>new Set(x).add(p));try{await l({rewardActionId:p,adminId:e._id})}catch(x){console.error("Failed to approve reward:",x)}finally{d(x=>{const m=new Set(x);return m.delete(p),m})}}},f=async p=>{if(e&&confirm("Are you sure you want to cancel this reward? The user will not be notified.")){d(x=>new Set(x).add(p));try{await c({rewardActionId:p,adminId:e._id})}catch(x){console.error("Failed to cancel reward:",x)}finally{d(x=>{const m=new Set(x);return m.delete(p),m})}}},g=p=>{a(x=>{const m=new Set(x);return m.has(p)?m.delete(p):m.add(p),m})},y=(o==null?void 0:o.filter(p=>p.rewardStatus==="pending").length)||0,v=(o==null?void 0:o.filter(p=>p.rewardStatus==="approved").length)||0,w=(o==null?void 0:o.filter(p=>p.rewardStatus==="cancelled").length)||0;return i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Reward Management"}),i.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Manage rewards for the top 5 responders to monthly teaching series"})]}),i.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(o==null?void 0:o.length)||0})]}),i.jsx(Ve,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending"}),i.jsx("p",{className:"text-2xl font-bold text-orange-500",children:y})]}),i.jsx(us,{className:"w-8 h-8 text-orange-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Approved"}),i.jsx("p",{className:"text-2xl font-bold text-green-500",children:v})]}),i.jsx(Ui,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Cancelled"}),i.jsx("p",{className:"text-2xl font-bold text-red-500",children:w})]}),i.jsx(Tp,{className:"w-8 h-8 text-red-500 opacity-20"})]})})})]}),i.jsx(z,{glass:!0,className:"mb-8",children:i.jsxs(q,{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>n("Ancient Culture"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[i.jsx(An,{className:"w-4 h-4"}),"Ancient Culture"]}),i.jsxs("button",{onClick:()=>n("Wisdom of The Now"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[i.jsx(tn,{className:"w-4 h-4"}),"Wisdom of The Now"]})]})]})}),i.jsx("div",{className:"space-y-6",children:o&&o.length>0?o.map(p=>{const x=p.rewardActionId?u.has(p.rewardActionId):!1,m=s.has(p.position);return i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ie,{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center text-lg font-bold",children:["#",p.position]}),p.user.name]}),i.jsx(W,{variant:p.rewardStatus==="approved"?"primary":p.rewardStatus==="cancelled"?"default":"secondary",children:p.rewardStatus})]})}),i.jsx(q,{children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Contact Information"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cl,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),i.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:p.user.email})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vh,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),i.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:wh(p.user.phone)})]}),i.jsx(W,{variant:"default",className:"text-[10px] md:text-xs",children:p.user.network})]}),i.jsxs("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:[i.jsxs("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[i.jsx(us,{className:"w-4 h-4 text-accent-500"}),"Banking Information"]}),p.user.bankName?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Bank Name"}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:p.user.bankName})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Number"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text font-mono",children:m?p.user.accountNumber:Nh(p.user.accountNumber||"")}),i.jsx("button",{onClick:()=>g(p.position),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:m?i.jsx(xh,{className:"w-4 h-4"}):i.jsx(yh,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Name"}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:p.user.accountName})]})]}):i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"Banking information not provided"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Response Post"}),p.post?i.jsxs("div",{className:"p-3 rounded-lg bg-light-bg dark:bg-dark-bg",children:[i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-4",children:p.post.content}),i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-2",children:new Date(p.post.createdAt).toLocaleDateString()})]}):i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"No post found"}),p.rewardActionId&&i.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:p.rewardStatus==="pending"?i.jsxs("div",{className:"flex gap-2",children:[i.jsxs($,{onClick:()=>h(p.rewardActionId),variant:"primary",className:"flex-1 flex items-center justify-center gap-2",disabled:x,children:[i.jsx(Ui,{className:"w-4 h-4"}),x?"Processing...":"Reward"]}),i.jsxs($,{onClick:()=>f(p.rewardActionId),variant:"secondary",className:"flex-1 flex items-center justify-center gap-2",disabled:x,children:[i.jsx(Tp,{className:"w-4 h-4"}),"Cancel"]})]}):i.jsx("div",{className:"text-center p-3 rounded-lg bg-light-bg dark:bg-dark-bg",children:i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:p.rewardStatus==="approved"?" Reward has been approved and user notified":" Reward has been cancelled"})})})]})]})})]},p.position)}):i.jsx(z,{glass:!0,children:i.jsxs(q,{className:"p-8 text-center",children:[i.jsx(Ve,{className:"w-16 h-16 text-light-muted dark:text-dark-muted mx-auto mb-4 opacity-20"}),i.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:["No responders yet for ",r]})]})})})]})})}function zE(){const{user:e}=Z(),t=_t(),r=X(D.notifications.getNotifications),n=Y(D.notifications.markAllAsRead),s=Y(D.notifications.markAsRead),a=Y(D.notifications.deleteNotification),o=async()=>{try{await n()}catch(h){console.error("Failed to mark all as read:",h)}},l=async h=>{h.read||await s({notificationId:h._id}),h.postId?h.type==="reward"?t(`/post/${h.postId}/responses`):t(`/post/${h.postId}`):h.type==="assignment"&&t("/tasks")},c=async(h,f)=>{if(h.stopPropagation(),confirm("Delete this notification?"))try{await a({notificationId:f})}catch(g){console.error("Failed to delete notification:",g)}},u=h=>{switch(h){case"like":return i.jsx(ll,{className:"w-5 h-5 text-red-500 fill-red-500"});case"comment":return i.jsx(qi,{className:"w-5 h-5 text-blue-500 fill-blue-500"});case"reply":return i.jsx(qi,{className:"w-5 h-5 text-indigo-500 fill-indigo-500"});case"new_post":return i.jsx(ol,{className:"w-5 h-5 text-green-500 fill-green-500"});case"reward":return i.jsx(il,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"});case"assignment":return i.jsx(al,{className:"w-5 h-5 text-purple-500 fill-purple-500"});default:return i.jsx(gi,{className:"w-5 h-5 text-primary-500"})}},d=h=>{var g;const f=((g=h.sender)==null?void 0:g.name)||"Someone";switch(h.type){case"like":return i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold text-primary-500",children:f})," liked your post"]});case"comment":return i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold text-primary-500",children:f})," commented on your post"]});case"new_post":return i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold text-primary-500",children:f})," shared a new post"]});case"reply":return i.jsxs("span",{children:[i.jsx("span",{className:"font-semibold text-primary-500",children:f})," replied to your comment"]});case"reward":return i.jsxs("span",{children:["Congratulations! You were ",i.jsx("span",{className:"font-semibold text-yellow-500",children:"awarded"})," for your response"]});case"assignment":return i.jsxs("span",{children:["You have a new ",i.jsx("span",{className:"font-semibold text-purple-500",children:"assignment"})," from an admin"]});default:return i.jsxs("span",{children:["New notification from ",i.jsx("span",{className:"font-semibold text-primary-500",children:f})]})}};return e?i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[i.jsx(Nt,{}),i.jsxs(z,{glass:!0,className:"mt-4",children:[i.jsxs(Ee,{className:"flex flex-row items-center justify-between border-b border-light-border dark:border-dark-border",children:[i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(gi,{className:"w-6 h-6 text-primary-500"}),"Center of Alerts"]}),r&&r.some(h=>!h.read)&&i.jsxs("button",{onClick:o,className:"text-sm text-primary-500 hover:text-primary-600 font-medium flex items-center gap-1 px-3 py-1 rounded-full hover:bg-primary-50 dark:hover:bg-primary-950/20 transition-all",children:[i.jsx(Es,{className:"w-4 h-4"}),"Mark all as read"]})]}),i.jsx(q,{className:"p-0",children:r?r.length===0?i.jsxs("div",{className:"text-center py-20 text-light-muted dark:text-dark-muted",children:[i.jsx("div",{className:"w-20 h-20 bg-light-card dark:bg-dark-card rounded-full flex items-center justify-center mx-auto mb-4 border border-light-border dark:border-dark-border",children:i.jsx(gi,{className:"w-10 h-10 opacity-20"})}),i.jsx("h3",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:"All Caught Up!"}),i.jsx("p",{className:"text-sm",children:"No new notifications at the moment."})]}):i.jsx("div",{className:"divide-y divide-light-border dark:divide-dark-border",children:r.map(h=>{var f,g;return i.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>l(h),className:`
                                            flex items-start gap-4 p-4 cursor-pointer transition-all group relative
                                            ${h.read?"bg-transparent":"bg-primary-50/30 dark:bg-primary-900/5"}
                                            hover:bg-light-card dark:hover:bg-dark-card
                                        `,children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx(Qr,{src:(f=h.sender)==null?void 0:f.avatarUrl,alt:((g=h.sender)==null?void 0:g.name)||"User",size:"md",className:"ring-2 ring-transparent group-hover:ring-primary-500/20"}),i.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-dark-bg rounded-full p-1 shadow-md border border-light-border dark:border-dark-border",children:u(h.type)})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-light-text dark:text-dark-text text-sm leading-relaxed",children:d(h)}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wider",children:Fn(h.createdAt,{addSuffix:!0})}),!h.read&&i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]})]}),i.jsx("div",{className:"flex flex-col gap-2",children:i.jsx("button",{onClick:y=>c(y,h._id),className:"p-2 text-light-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete notification",children:i.jsx(wv,{className:"w-4 h-4"})})})]},h._id)})}):i.jsx("div",{className:"space-y-4 p-6",children:[1,2,3].map(h=>i.jsxs("div",{className:"flex gap-4 animate-pulse",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-light-border dark:bg-dark-border"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 w-3/4 bg-light-border dark:bg-dark-border rounded"}),i.jsx("div",{className:"h-3 w-1/4 bg-light-border dark:bg-dark-border rounded"})]})]},h))})})]})]})}):null}function Sh(){return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:i.jsxs("div",{className:"relative flex flex-col items-center",children:[i.jsxs(R.div,{className:"w-24 h-24 mb-8 relative",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-500/20 animate-ping"}),i.jsx("div",{className:"absolute inset-2 rounded-full bg-primary-500/40 animate-pulse"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3%20(1).png",alt:"Baptizo",className:"w-16 h-16 rounded-2xl shadow-2xl z-10"})})]}),i.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col items-center gap-2",children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent",children:"Baptizo Community"}),i.jsx("div",{className:"flex gap-1",children:[0,1,2].map(e=>i.jsx(R.div,{className:"w-2 h-2 rounded-full bg-primary-500",animate:{y:[0,-6,0],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:e*.2}},e))})]})]})})}function UE(){const{user:e}=Z(),[t,r]=b.useState(""),[n,s]=b.useState(null),a=X(D.assignments.getUserAssignments,e?{userId:e._id}:"skip"),o=Y(D.assignments.submitAssignment);if(!e)return null;if(a===void 0)return i.jsx(Sh,{});const l=a.filter(d=>d.status==="pending"),c=a.filter(d=>d.status!=="pending"),u=async d=>{if(t.trim())try{await o({assignmentId:d,userId:e._id,content:t}),s(null),r("")}catch(h){console.error("Failed to submit:",h),alert("Failed to submit assignment")}};return i.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[i.jsx(Nt,{}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"My Tasks"}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[i.jsx(QT,{className:"w-5 h-5 text-amber-500"}),"Pending (",l.length,")"]}),l.length===0?i.jsx("p",{className:"text-light-muted dark:text-dark-muted italic",children:"No pending tasks."}):i.jsx("div",{className:"space-y-4",children:l.map(d=>{var h;return i.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-amber-500/20",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Instruction from ",d.adminName]}),i.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(h=d.postContent)==null?void 0:h.substring(0,50),'..."']})]}),i.jsx(W,{variant:"warning",children:"Pending"})]}),i.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg mb-4 text-light-text dark:text-dark-text",children:d.instructions}),n===d._id?i.jsxs("div",{className:"space-y-3",children:[i.jsx("textarea",{value:t,onChange:f=>r(f.target.value),placeholder:"Type your response here...",className:"w-full min-h-[150px] p-4 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500"}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx($,{variant:"ghost",onClick:()=>s(null),children:"Cancel"}),i.jsx($,{variant:"primary",onClick:()=>u(d._id),disabled:!t.trim(),children:"Submit Response"})]})]}):i.jsx($,{variant:"primary",onClick:()=>s(d._id),children:"Start Task"})]},d._id)})})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[i.jsx(ol,{className:"w-5 h-5 text-primary-500"}),"History"]}),i.jsx("div",{className:"space-y-4",children:c.map(d=>{var h;return i.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm opacity-80 hover:opacity-100 transition-opacity",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Task from ",d.adminName]}),i.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(h=d.postContent)==null?void 0:h.substring(0,30),'..."']})]}),i.jsx(W,{variant:d.status==="approved"?"success":d.status==="rejected"?"danger":"default",children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]}),i.jsxs("div",{className:"mb-4 space-y-2",children:[i.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Instructions:"}),i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted bg-light-bg dark:bg-dark-bg p-2 rounded",children:d.instructions})]}),i.jsxs("div",{className:"mb-4 space-y-2",children:[i.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Your Submission:"}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text bg-light-bg dark:bg-dark-bg p-3 rounded",children:d.submissionContent})]}),(d.grade||d.feedback)&&i.jsxs("div",{className:`p-4 rounded-lg ${d.status==="approved"?"bg-green-500/10 border border-green-500/20":d.status==="rejected"?"bg-red-500/10 border border-red-500/20":"bg-primary-500/10 border border-primary-500/20"}`,children:[d.grade&&i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ui,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-bold",children:["Grade: ",d.grade]})]}),d.feedback&&i.jsxs("p",{className:"text-sm italic",children:['"',d.feedback,'"']})]})]},d._id)})})]})]})}function qE(){const{user:e}=Z(),[t,r]=b.useState(null),[n,s]=b.useState(""),[a,o]=b.useState(""),[l,c]=b.useState(!1),u=X(D.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),d=Y(D.assignments.reviewAssignment);if(!e||e.role!=="admin"&&e.role!=="super_admin")return i.jsx("div",{className:"p-8 text-center",children:"Unauthorized"});if(u===void 0)return i.jsx(Sh,{});const h=async f=>{if(!(!t||!e)){c(!0);try{await d({assignmentId:t,adminId:e._id,status:f,grade:n.trim(),feedback:a.trim()}),r(null),s(""),o("")}catch(g){console.error("Failed to review:",g),alert("Failed to submitting review")}finally{c(!1)}}};return i.jsxs("div",{className:"container max-w-5xl mx-auto px-4 py-8 pb-20",children:[i.jsx(Nt,{}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"Task Reviews"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h2",{className:"font-semibold text-lg mb-2 text-light-text dark:text-dark-text",children:["Pending Submissions (",u.length,")"]}),u.length===0&&i.jsx("div",{className:"glass p-8 text-center text-light-muted dark:text-dark-muted",children:"No tasks waiting for review."}),u.map(f=>i.jsxs("div",{onClick:()=>r(f._id),className:`glass p-4 rounded-xl cursor-pointer transition-all border ${t===f._id?"border-primary-500 ring-1 ring-primary-500":"border-transparent hover:border-primary-500/50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-light-bg dark:bg-dark-bg flex items-center justify-center",children:i.jsx(rn,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-light-text dark:text-dark-text",children:f.userName}),i.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:["Submitted ",new Date(f.updatedAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted mb-1",children:"Task"}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-2",children:f.instructions})]}),i.jsx(W,{variant:"warning",className:"mt-2",children:"Needs Review"})]},f._id))]}),i.jsx("div",{className:"glass p-6 rounded-xl h-fit sticky top-24",children:t?(()=>{const f=u.find(g=>g._id===t);return f?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-b border-light-border dark:border-dark-border pb-4",children:[i.jsxs("h3",{className:"font-bold text-xl text-light-text dark:text-dark-text mb-1",children:["Reviewing ",f.userName,"'s Work"]}),i.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["Original Task: ",f.instructions]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Submission:"}),i.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-light-text dark:text-dark-text whitespace-pre-wrap",children:f.submissionContent})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-light-border dark:border-dark-border",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grade / Score (Optional)"}),i.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),placeholder:"e.g. A+, 95/100, Passed",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Feedback (Optional)"}),i.jsx("textarea",{value:a,onChange:g=>o(g.target.value),placeholder:"Great work! Just one thing...",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border min-h-[100px]"})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsxs($,{className:"flex-1 bg-red-500 hover:bg-red-600 text-white",onClick:()=>h("rejected"),disabled:l,children:[i.jsx(En,{className:"w-4 h-4 mr-2"}),"Reject"]}),i.jsxs($,{className:"flex-1 bg-green-500 hover:bg-green-600 text-white",onClick:()=>h("approved"),disabled:l,children:[i.jsx(Es,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]})]}):null})():i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-light-muted dark:text-dark-muted py-12",children:[i.jsx(Hr,{className:"w-12 h-12 mb-4 opacity-50"}),i.jsx("p",{children:"Select a submission to review"})]})})]})]})}function WE(){const{user:e}=Z(),t=Y(D.users.claimSuperAdmin),[r,n]=b.useState("idle"),[s,a]=b.useState(""),o=async()=>{if(e){n("loading");try{await t({userId:e._id}),n("success"),setTimeout(()=>{window.location.href="/admin"},2e3)}catch(l){n("error"),a(l.message||"Failed to claim super admin.")}}};return e?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsx(z,{className:"max-w-md w-full bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border",children:i.jsxs(q,{className:"p-8 text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_zcvetszcvetszcve%20(1).png",alt:"Baptizo",className:"h-20 w-auto rounded-3xl shadow-2xl"})}),i.jsx("div",{className:"mx-auto w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:i.jsx(ds,{className:"w-6 h-6 text-primary-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-2",children:"Super Admin Setup"}),i.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Initialize the system by claiming the first Super Admin role. This is a one-time setup step."})]}),r==="idle"&&i.jsx($,{variant:"primary",size:"lg",className:"w-full",onClick:o,children:"Claim Super Admin Role"}),r==="loading"&&i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}),r==="success"&&i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[i.jsx(Ui,{className:"w-6 h-6"}),i.jsx("p",{className:"font-medium",children:"Success! Redirecting..."})]}),r==="error"&&i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[i.jsx(mv,{className:"w-6 h-6"}),i.jsx("p",{className:"font-medium",children:s}),i.jsx($,{variant:"outline",size:"sm",onClick:()=>n("idle"),className:"mt-2",children:"Try Again"})]})]})})}):i.jsx("div",{className:"p-8 text-center",children:"Please login first."})}function HE({isOpen:e,onClose:t,responseId:r,userName:n,content:s}){const{user:a}=Z(),o=Y(D.responses.gradeResponse),[l,c]=b.useState(0),[u,d]=b.useState(""),[h,f]=b.useState(!1),g=async y=>{if(y.preventDefault(),!(!a||a.role!=="admin"&&a.role!=="super_admin")){f(!0);try{await o({adminId:a._id,responseId:r,grade:l,feedback:u.trim()}),t()}catch(v){console.error("Failed to grade response:",v),alert("Failed to save grade. Please try again.")}finally{f(!1)}}};return i.jsx(Rs,{isOpen:e,onClose:t,title:`Grade Response from ${n}`,children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text border border-light-border dark:border-dark-border max-h-40 overflow-y-auto",children:i.jsx("p",{className:"whitespace-pre-wrap",children:s})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Score (0-100)"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:l,onChange:y=>c(parseInt(y.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),i.jsx("input",{type:"number",min:"0",max:"100",value:l,onChange:y=>c(Math.min(100,Math.max(0,parseInt(y.target.value)||0))),className:"w-16 p-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-center font-bold"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Feedback (Optional)"}),i.jsx("textarea",{value:u,onChange:y=>d(y.target.value),placeholder:"Great job! Next time try to...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx($,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),i.jsxs($,{type:"submit",variant:"primary",disabled:h,className:"flex items-center gap-2",children:[i.jsx(il,{className:"w-4 h-4"}),h?"Saving...":"Save Grade"]})]})]})})}function QE(){const{user:e,isLoading:t}=Z(),r=e&&(e.role==="admin"||e.role==="super_admin"),n=X(D.responses.getPendingResponses,r?{adminId:e._id}:"skip"),[s,a]=b.useState(null);return t?i.jsx("div",{className:"p-8 text-center text-light-muted",children:"Loading..."}):!e||e.role!=="admin"&&e.role!=="super_admin"?i.jsx(mr,{to:"/feed",replace:!0}):i.jsxs("div",{className:"min-h-screen py-8",children:[i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Official Response Reviews"}),i.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Review and grade responses to Official Posts."})]}),i.jsx("div",{className:"grid gap-6",children:n&&n.length>0?n.map(o=>i.jsx(z,{glass:!0,className:"hover:border-primary-500/50 transition-colors",children:i.jsx(q,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(W,{variant:"outline",className:"text-xs",children:o.postTitle}),i.jsx("span",{className:"text-xs text-light-muted",children:new Date(o._creationTime||0).toLocaleDateString()})]})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg text-light-text dark:text-dark-text mb-1",children:o.userName}),i.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text whitespace-pre-wrap",children:o.content})]})]}),i.jsx("div",{className:"flex flex-col justify-center items-end gap-2 md:w-48 border-t md:border-t-0 md:border-l border-light-border dark:border-dark-border pt-4 md:pt-0 md:pl-6",children:i.jsxs($,{variant:"primary",onClick:()=>a({_id:o._id,userName:o.userName,content:o.content}),className:"w-full flex items-center justify-center gap-2",children:[i.jsx(Ui,{className:"w-4 h-4"}),"Grade"]})})]})})},o._id)):i.jsx(z,{glass:!0,children:i.jsxs(q,{className:"p-12 text-center text-light-muted flex flex-col items-center gap-4",children:[i.jsx(al,{className:"w-12 h-12 text-light-muted opacity-50"}),i.jsx("p",{children:"No pending responses to review."})]})})})]}),s&&i.jsx(HE,{isOpen:!!s,onClose:()=>a(null),responseId:s._id,userName:s.userName,content:s.content})]})}function GE(){const{user:e,isLoading:t}=Z(),[r,n]=b.useState(null),[s,a]=b.useState(new Set),[o,l]=b.useState(new Set),[c,u]=b.useState(new Set),[d,h]=b.useState(!1),f=Y(D.responses.markResponseAsPaid),g=X(D.posts.getPosts,(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"?{}:"skip"),y=X(D.responses.getResponsesByPost,r&&(e!=null&&e._id)?{postId:r,adminId:e._id}:"skip");if(t)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return i.jsx(mr,{to:"/feed",replace:!0});const v=(g==null?void 0:g.filter(m=>m.authorId===e._id))||[],w=v.find(m=>m._id===r),p=m=>{a(k=>{const j=new Set(k);return j.has(m)?j.delete(m):j.add(m),j})},x=m=>{l(k=>{const j=new Set(k);return j.has(m)?j.delete(m):j.add(m),j})};return i.jsxs("div",{className:"min-h-screen py-8",children:[i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Response Rewards"}),i.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View responders by position and manage rewards"})]}),i.jsx(z,{glass:!0,className:"mb-8",children:i.jsxs(q,{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Select Your Post"}),i.jsx("div",{className:"md:hidden",children:i.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text",children:[i.jsx("span",{className:"truncate",children:w?`[${w.category}] ${w.content.substring(0,40)}...`:"Choose a post..."}),i.jsx(Eo,{className:"w-4 h-4 text-light-muted"})]})}),i.jsx("div",{className:"hidden md:block",children:i.jsxs("select",{value:r||"",onChange:m=>n(m.target.value),className:"w-full px-4 py-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"Choose a post..."}),v.map(m=>i.jsxs("option",{value:m._id,children:["[",m.category,"] ",m.content.substring(0,60),m.content.length>60?"...":""," ","(",new Date(m.createdAt).toLocaleDateString(),")"]},m._id))]})}),v.length===0&&i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-2",children:"You haven't created any posts yet."})]})}),w&&y&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Responses"}),i.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:y.length})]}),i.jsx(Ve,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),i.jsx("p",{className:"text-2xl font-bold text-green-500",children:y.filter(m=>m.grade!==void 0).length})]}),i.jsx(il,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending"}),i.jsx("p",{className:"text-2xl font-bold text-orange-500",children:y.filter(m=>m.grade===void 0).length})]}),i.jsx(us,{className:"w-8 h-8 text-orange-500 opacity-20"})]})})})]}),i.jsx("div",{className:"space-y-4",children:r?y&&y.length>0?y.map(m=>{const k=s.has(m.position),j=o.has(m.position);return i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ie,{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`w-12 h-12 rounded-full text-white flex items-center justify-center text-lg font-bold shadow-lg ${m.position===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":m.position===2?"bg-gradient-to-br from-gray-300 to-gray-500":m.position===3?"bg-gradient-to-br from-amber-600 to-amber-800":"bg-gradient-to-br from-primary-500 to-secondary-500"}`,children:["#",m.position]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-light-text dark:text-dark-text",children:m.user.name}),i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted font-normal",children:new Date(m.createdAt).toLocaleString()})]})]}),m.grade!==void 0&&i.jsxs(W,{variant:"primary",children:["Grade: ",m.grade,"/100"]})]})}),i.jsx(q,{children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3 flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5 text-accent-500"}),"Payment Information"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cl,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),i.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:m.user.email})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vh,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),i.jsx("span",{className:"text-sm text-light-text dark:text-dark-text font-mono",children:wh(m.user.phone)})]}),i.jsx(W,{variant:"default",className:"text-[10px] md:text-xs",children:m.user.network})]}),i.jsx("div",{className:"pt-2 border-t border-light-border dark:border-dark-border",children:m.user.bankName?i.jsxs("div",{className:"space-y-2 bg-light-bg dark:bg-dark-bg p-3 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Bank"}),i.jsx("p",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:m.user.bankName})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Number"}),i.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[i.jsx("p",{className:"text-sm font-mono text-light-text dark:text-dark-text truncate",children:k?m.user.accountNumber:Nh(m.user.accountNumber||"")}),i.jsx("button",{onClick:()=>p(m.position),className:"flex-shrink-0 p-1 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:k?i.jsx(xh,{className:"w-4 h-4"}):i.jsx(yh,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Name"}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:m.user.accountName})]})]}):i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"No banking info provided"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Response Content"}),i.jsxs("button",{onClick:()=>x(m.position),className:"text-primary-500 hover:text-primary-600 transition-colors flex items-center gap-1 text-sm",children:[j?"Collapse":"Expand",i.jsx(Eo,{className:`w-4 h-4 transition-transform ${j?"rotate-180":""}`})]})]}),i.jsx("div",{className:`bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text ${j?"":"line-clamp-4"}`,children:m.content}),m.feedback&&i.jsxs("div",{className:"pt-2 border-t border-light-border dark:border-dark-border",children:[i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Admin Feedback"}),i.jsxs("p",{className:"text-sm text-light-text dark:text-dark-text italic",children:['"',m.feedback,'"']})]})]}),i.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:m.rewardStatus==="paid"?i.jsx("div",{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:i.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium flex items-center justify-center gap-2",children:[i.jsx(Es,{className:"w-4 h-4"}),"Reward Paid ",m.rewardPaidAt&&`on ${new Date(m.rewardPaidAt).toLocaleDateString()}`]})}):i.jsxs($,{onClick:async()=>{if(e){u(N=>new Set(N).add(m._id));try{await f({responseId:m._id,adminId:e._id})}catch(N){console.error("Failed to mark as paid:",N),alert("Failed to mark as paid")}finally{u(N=>{const S=new Set(N);return S.delete(m._id),S})}}},variant:"primary",className:"w-full flex items-center justify-center gap-2",disabled:c.has(m._id),children:[i.jsx(us,{className:"w-4 h-4"}),c.has(m._id)?"Processing...":"Mark as Paid"]})})]})})]},m._id)}):i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-12 text-center text-light-muted",children:i.jsx("p",{children:"No responses yet for this post"})})}):i.jsx(z,{glass:!0,children:i.jsxs(q,{className:"p-12 text-center text-light-muted",children:[i.jsx(Ve,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),i.jsx("p",{children:"Select a post above to view responses and manage rewards"})]})})})]}),i.jsx(Rs,{isOpen:d,onClose:()=>h(!1),title:"Select a Post",children:i.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto p-1",children:[v.map(m=>i.jsxs("button",{onClick:()=>{n(m._id),h(!1)},className:`w-full text-left p-4 rounded-xl border-2 transition-all ${r===m._id?"border-primary-500 bg-primary-50/50 dark:bg-primary-900/10":"border-light-border dark:border-dark-border hover:border-primary-500"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(W,{variant:m.category==="Ancient Culture"?"primary":"secondary",children:m.category}),i.jsx("span",{className:"text-xs text-light-muted",children:new Date(m.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-2",children:m.content})]},m._id)),v.length===0&&i.jsx("p",{className:"text-center py-8 text-light-muted",children:"No posts found."})]})})]})}function KE(){const{user:e,isLoading:t}=Z(),r=X(D.responses.getMyResponses,e!=null&&e._id?{userId:e._id}:"skip");return t?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Responses"}),i.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View all your responses and grades"})]}),r&&r.length>0&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:r.length})]}),i.jsx(Hr,{className:"w-8 h-8 text-primary-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),i.jsx("p",{className:"text-2xl font-bold text-green-500",children:r.filter(n=>n.grade!==void 0).length})]}),i.jsx(il,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),i.jsx(z,{glass:!0,children:i.jsx(q,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Avg Grade"}),i.jsx("p",{className:"text-2xl font-bold text-accent-500",children:r.filter(n=>n.grade!==void 0).length>0?Math.round(r.filter(n=>n.grade!==void 0).reduce((n,s)=>n+(s.grade||0),0)/r.filter(n=>n.grade!==void 0).length):0})]}),i.jsx(Ve,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})})]}),i.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(n=>{const s=n.grade?n.grade>=80?"text-green-500":n.grade>=50?"text-yellow-500":"text-red-500":"text-light-muted dark:text-dark-muted";return i.jsxs(z,{glass:!0,children:[i.jsx(Ee,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Ie,{className:"text-lg mb-2",children:n.postTitle}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-light-muted dark:text-dark-muted",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(gh,{className:"w-4 h-4"}),new Date(n.createdAt).toLocaleDateString()]}),i.jsx(W,{variant:"default",children:n.category})]})]}),n.grade!==void 0&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:`text-3xl font-bold ${s}`,children:n.grade}),i.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"/ 100"})]})]})}),i.jsx(q,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2",children:"Your Response"}),i.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text",children:n.content})]}),n.feedback&&i.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[i.jsx(ol,{className:"w-4 h-4 text-accent-500"}),"Admin Feedback"]}),i.jsxs("div",{className:"bg-accent-50 dark:bg-accent-900/20 p-3 rounded-lg text-sm text-light-text dark:text-dark-text italic border-l-4 border-accent-500",children:['"',n.feedback,'"']})]}),n.grade===void 0&&i.jsx("div",{className:"text-center p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800",children:i.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:" Waiting for admin to grade"})}),n.rewardStatus==="paid"&&i.jsxs(R.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"text-center p-4 rounded-xl bg-gradient-to-r from-green-500/10 via-green-500/20 to-green-500/10 border border-green-500/30 shadow-lg shadow-green-500/10",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 font-bold uppercase tracking-tight",children:[i.jsx(Ve,{className:"w-5 h-5 animate-bounce"}),i.jsx("span",{children:"Official Reward Paid!"}),i.jsx(Ve,{className:"w-5 h-5 animate-bounce"})]}),i.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"Check your bank account/wallet for the transfer."})]})]})})]},n._id)}):i.jsx(z,{glass:!0,children:i.jsxs(q,{className:"p-12 text-center text-light-muted",children:[i.jsx(Hr,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),i.jsx("p",{className:"mb-2",children:"You haven't submitted any responses yet"}),i.jsx("p",{className:"text-sm",children:'Look for admin posts with "Official Response" enabled and submit your answers!'})]})})})]})}):i.jsx(mr,{to:"/login",replace:!0})}function YE(){const e=X(D.responses.getLeaderboard);return e?i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Monthly Leaderboard"}),i.jsxs("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:["Top responders for ",new Date().toLocaleString("default",{month:"long",year:"numeric"})]})]}),i.jsx("div",{className:"space-y-4",children:e.length===0?i.jsx(z,{glass:!0,children:i.jsxs(q,{className:"p-8 text-center",children:[i.jsx(Ve,{className:"w-16 h-16 text-primary-200 mx-auto mb-4"}),i.jsx("p",{className:"text-lg text-light-muted",children:"No graded responses yet this month."}),i.jsx("p",{className:"text-sm text-light-muted",children:"Be the first to respond to an Official Post!"})]})}):e.map((t,r)=>i.jsx(XE,{entry:t,rank:r+1},t.userId))})]})}):i.jsx("div",{className:"p-8 text-center text-light-muted",children:"Loading leaderboard..."})}function XE({entry:e,rank:t}){let r=null,n="bg-light-card dark:bg-dark-card";return t===1?(r=i.jsx(Ve,{className:"w-6 h-6 text-yellow-500"}),n="bg-yellow-50/50 dark:bg-yellow-900/10 border-yellow-200 dark:border-yellow-800"):t===2?(r=i.jsx(Ou,{className:"w-6 h-6 text-gray-400"}),n="bg-gray-50/50 dark:bg-gray-900/10 border-gray-200 dark:border-gray-800"):t===3&&(r=i.jsx(Ou,{className:"w-6 h-6 text-orange-400"}),n="bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800"),i.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl border transition-all hover:scale-[1.01] ${n}`,children:[i.jsx("div",{className:"flex-shrink-0 w-12 text-center font-bold text-xl text-light-muted dark:text-dark-muted flex justify-center",children:r||i.jsxs("span",{children:["#",t]})}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600",children:e.avatarUrl?i.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-lg",children:e.name[0]})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text truncate",children:e.name}),i.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:[e.responsesCount," graded response",e.responsesCount!==1?"s":""]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.totalScore}),i.jsx("div",{className:"text-xs text-light-muted uppercase tracking-wider font-medium",children:"Points"})]})]})}function JE(){var a,o,l;const{postId:e}=ky(),t=X(D.posts.getPost,{postId:e}),r=X(D.responses.getPostResponses,{postId:e});if(!t||!r)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const n=r.slice(0,5),s=r.slice(5,10);return i.jsx("div",{className:"min-h-screen py-8",children:i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[i.jsx(Nt,{}),i.jsxs("div",{className:"mb-8 p-6 glass rounded-2xl border border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-transparent",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Qr,{src:(a=t.author)==null?void 0:a.avatarUrl,alt:((o=t.author)==null?void 0:o.name)||"Admin",size:"sm"}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-bold text-light-text dark:text-dark-text",children:(l=t.author)==null?void 0:l.name}),i.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted flex items-center gap-1",children:[i.jsx(gh,{className:"w-3 h-3"}),Fn(t.createdAt,{addSuffix:!0})]})]})]}),i.jsxs("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base whitespace-pre-wrap italic opacity-80",children:['"',t.content,'"']})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[i.jsx(Hr,{className:"w-6 h-6 text-primary-500"}),"Official Responses"]}),i.jsxs(W,{variant:"primary",className:"px-3 py-1",children:[r.length," Total"]})]}),i.jsxs("div",{className:"space-y-8",children:[n.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold uppercase tracking-wider text-xs",children:[i.jsx(Ve,{className:"w-4 h-4"}),"Top Tier Responders (1-5)"]}),i.jsx("div",{className:"grid gap-4",children:n.map((c,u)=>i.jsx(Fp,{response:c,rank:u+1,tier:"gold"},c._id))})]}),s.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-secondary-600 dark:text-secondary-400 font-bold uppercase tracking-wider text-xs",children:[i.jsx(Ou,{className:"w-4 h-4"}),"Second Tier Responders (6-10)"]}),i.jsx("div",{className:"grid gap-4",children:s.map((c,u)=>i.jsx(Fp,{response:c,rank:u+6,tier:"silver"},c._id))})]}),r.length===0&&i.jsxs("div",{className:"text-center py-12 glass rounded-xl border-dashed border-2 border-light-border dark:border-dark-border",children:[i.jsx(Hr,{className:"w-12 h-12 text-light-muted mx-auto mb-4 opacity-30"}),i.jsx("p",{className:"text-light-muted",children:"No responses yet for this post."})]})]})]})})}function Fp({response:e,rank:t,tier:r}){const n=r==="gold";return i.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:`flex flex-col md:flex-row gap-4 p-5 rounded-2xl border transition-all ${n?"bg-primary-500/5 border-primary-500/30":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx(Qr,{src:e.userAvatar,alt:e.userName,size:"md"}),i.jsxs("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg ${n?"bg-primary-500":"bg-secondary-500"}`,children:["#",t]})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text",children:e.userName}),i.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:Fn(e.createdAt,{addSuffix:!0})})]}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text leading-relaxed",children:e.content}),e.grade!==void 0&&i.jsxs("div",{className:"pt-3 flex flex-wrap gap-2 items-center",children:[i.jsxs(W,{variant:e.grade>=70?"success":"primary",className:"text-[10px] font-bold uppercase transition-all hover:scale-105",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&i.jsxs(W,{variant:"warning",className:"text-[10px] flex items-center gap-1 animate-pulse",children:[i.jsx(Ve,{className:"w-3 h-3"}),"Awarded"]}),e.feedback&&i.jsxs("div",{className:"w-full mt-2 p-3 rounded-lg bg-light-bg dark:bg-dark-bg/50 border border-light-border dark:border-dark-border/50 italic text-xs text-light-muted",children:['Admin feedback: "',e.feedback,'"']})]})]})]})})}function hc(){return i.jsxs("div",{className:"flex gap-3 animate-pulse",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-light-border dark:bg-dark-border"}),i.jsxs("div",{className:"flex-1 bg-light-card dark:bg-dark-card rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-4 w-24 bg-light-border dark:bg-dark-border rounded"}),i.jsx("div",{className:"h-3 w-16 bg-light-border dark:bg-dark-border rounded"})]}),i.jsx("div",{className:"h-3 w-full bg-light-border dark:bg-dark-border rounded"}),i.jsx("div",{className:"h-3 w-3/4 bg-light-border dark:bg-dark-border rounded"})]})]})}function ZE({postId:e}){const{user:t}=Z(),[r,n]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState(null),c=X(D.comments.getComments,{postId:e}),u=X(D.comments.getCommentSettings,{}),d=Y(D.comments.createComment),h=async(v,w)=>{v.preventDefault();const p=r;if(!(!t||!p.trim()||s)){a(!0);try{await d({postId:e,authorId:t._id,content:p.trim(),parentId:w}),n(""),l(null)}catch(x){console.error("Failed to create comment:",x),alert(x instanceof Error?x.message:"Failed to post comment")}finally{a(!1)}}},g=(()=>{if(!c)return[];const v=[],w=new Map;return c.forEach(p=>{w.set(p._id,{...p,replies:[]})}),c.forEach(p=>{if(p.parentId){const x=w.get(p.parentId);x&&x.replies.push(w.get(p._id))}else v.push(w.get(p._id))}),v})(),y=({comment:v,isReply:w=!1})=>{var p,x,m,k,j,N;return i.jsxs("div",{className:`flex gap-3 ${w?"ml-10 mt-2":""}`,children:[i.jsx(Qr,{src:(p=v.author)==null?void 0:p.avatarUrl,alt:((x=v.author)==null?void 0:x.name)||"User",size:"sm"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold text-sm text-light-text dark:text-dark-text",children:((m=v.author)==null?void 0:m.name)||"Unknown User"}),((k=v.author)==null?void 0:k.role)==="admin"?i.jsxs(W,{variant:"primary",className:"text-xs flex items-center gap-1",children:[i.jsx(ds,{className:"w-3 h-3"}),"Admin"]}):i.jsxs(W,{variant:"default",className:"text-xs flex items-center gap-1",children:[i.jsx(rn,{className:"w-3 h-3"}),"Member"]}),i.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:Fn(v.createdAt,{addSuffix:!0})})]}),i.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:v.content})]}),!w&&t&&i.jsx("button",{onClick:()=>l(o===v._id?null:v._id),className:"text-xs text-light-muted dark:text-dark-muted hover:text-primary-500 mt-1 ml-2 font-medium",children:"Reply"}),o===v._id&&i.jsxs("form",{onSubmit:S=>h(S,v._id),className:"mt-2 flex gap-2",children:[i.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),placeholder:`Reply to ${(j=v.author)==null?void 0:j.name}...`,className:"flex-1 px-3 py-1.5 text-sm rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500",autoFocus:!0}),i.jsx("button",{type:"submit",disabled:!r.trim()||s,className:"px-3 py-1.5 rounded-lg bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium",children:"Reply"})]}),((N=v.replies)==null?void 0:N.length)>0&&i.jsx("div",{className:"space-y-2 mt-2",children:v.replies.map(S=>i.jsx(y,{comment:S,isReply:!0},S._id))})]})]})};return u===void 0||u===!1?i.jsx("div",{className:"mt-4 p-4 rounded-lg bg-light-card dark:bg-dark-card text-center",children:i.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Comments are currently disabled"})}):i.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border space-y-4",children:[t&&i.jsxs("form",{onSubmit:v=>h(v),className:"flex items-start gap-2 md:gap-3",children:[i.jsx("div",{className:"mt-1 flex-shrink-0",children:i.jsx(Qr,{src:t.avatarUrl,alt:t.name,size:"sm"})}),i.jsxs("div",{className:"flex-1 min-w-0 relative",children:[i.jsx("textarea",{value:o?"":r,onChange:v=>{l(null),n(v.target.value)},placeholder:"Write a comment...",className:"w-full px-4 py-2.5 pr-12 rounded-2xl border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none overflow-hidden min-h-[44px] max-h-32 text-sm md:text-base transition-all",disabled:s,rows:1,onInput:v=>{const w=v.target;w.style.height="auto",w.style.height=`${w.scrollHeight}px`}}),i.jsx("button",{type:"submit",disabled:!o&&!r.trim()||s,className:"absolute right-1.5 bottom-1.5 p-2 rounded-xl bg-primary-500 hover:bg-primary-600 text-white transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center shadow-lg shadow-primary-500/20 active:scale-95",children:i.jsx(vv,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),c?g.length>0?i.jsx("div",{className:"space-y-4",children:g.map(v=>i.jsx(y,{comment:v},v._id))}):i.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:i.jsx("p",{children:"No comments yet. Be the first to share your thoughts!"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx(hc,{}),i.jsx(hc,{}),i.jsx(hc,{})]})]})}function e5(){var y,v,w,p,x;const{postId:e}=ky(),{user:t}=Z(),r=X(D.posts.getPost,{postId:e}),n=Y(D.posts.likePost),[s,a]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState((r==null?void 0:r.likeCount)||0);if(b.useState(()=>{r&&h(r.likeCount)}),!r)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const f=async()=>{if(!t||o)return;const m=!c;u(m),h(k=>m?k+1:k-1),l(!0);try{await n({userId:t._id,postId:r._id})}catch(k){u(!m),h(j=>m?j-1:j+1),console.error("Failed to like post:",k)}finally{l(!1)}},g=r.content.length>250;return i.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[i.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:i.jsx(Nt,{})}),i.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[i.jsxs("div",{className:"lg:sticky lg:top-24 space-y-4",children:[r.imageUrl?i.jsx(R.div,{layoutId:`post-image-${r._id}`,className:"rounded-2xl overflow-hidden glass border border-light-border dark:border-dark-border shadow-2xl",children:i.jsx("img",{src:r.imageUrl,alt:"Post",className:"w-full h-auto max-h-[70vh] object-contain bg-black/5"})}):r.videoUrl?i.jsx("div",{className:"rounded-2xl overflow-hidden bg-black shadow-2xl",children:i.jsx("video",{src:r.videoUrl,controls:!0,className:"w-full max-h-[70vh]"})}):i.jsx("div",{className:"aspect-square flex items-center justify-center glass rounded-2xl border border-dashed border-light-border dark:border-dark-border opacity-50",children:i.jsx("p",{className:"text-light-muted",children:"No visual media"})}),i.jsxs("div",{className:"hidden lg:block p-6 glass rounded-2xl border border-light-border dark:border-dark-border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{onClick:f,className:`flex items-center gap-2 transition-all duration-300 ${c?"text-red-500":"text-light-text dark:text-dark-text hover:text-red-500"}`,children:[i.jsx(ll,{className:`w-6 h-6 transition-all duration-300 ${c?"fill-red-500 text-red-500 scale-110":""}`}),i.jsxs("span",{className:"font-bold",children:[d," Likes"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-light-muted",children:[i.jsx(qi,{className:"w-6 h-6"}),i.jsxs("span",{className:"font-bold",children:[r.commentCount," Comments"]})]})]}),i.jsx("button",{className:"p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:i.jsx(bv,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"h-px bg-light-border dark:bg-dark-border mb-4"}),i.jsxs("p",{className:"text-xs text-light-muted flex items-center gap-2",children:[i.jsx(gh,{className:"w-3 h-3"}),"Posted on ",new Date(r.createdAt).toLocaleDateString(void 0,{dateStyle:"long"})," at ",new Date(r.createdAt).toLocaleTimeString(void 0,{timeStyle:"short"})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-2xl border border-light-border dark:border-dark-border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qr,{src:(y=r.author)==null?void 0:y.avatarUrl,alt:((v=r.author)==null?void 0:v.name)||"User",size:"md"}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:[(w=r.author)==null?void 0:w.name,((p=r.author)==null?void 0:p.role)==="admin"&&i.jsx(ds,{className:"w-4 h-4 text-primary-500"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(W,{variant:"outline",className:"text-[10px]",children:r.category}),i.jsx("span",{className:"text-xs text-light-muted",children:Fn(r.createdAt,{addSuffix:!0})})]})]})]}),((x=r.author)==null?void 0:x.role)==="admin"?i.jsx(W,{variant:"primary",className:"hidden sm:flex",children:"Official"}):i.jsx(W,{variant:"default",className:"hidden sm:flex",children:"Member"})]}),i.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:i.jsx(rn,{className:"w-20 h-20"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx(pr,{initial:!1,children:i.jsx(R.p,{initial:{opacity:0},animate:{opacity:1},className:`text-light-text dark:text-dark-text leading-relaxed text-base md:text-lg ${!s&&g?"line-clamp-[6]":""}`,children:r.content},s?"expanded":"collapsed")}),g&&i.jsx("button",{onClick:()=>a(!s),className:"mt-4 flex items-center gap-1 text-primary-500 font-bold hover:underline transition-all",children:s?i.jsxs(i.Fragment,{children:["Show Less ",i.jsx(gv,{className:"w-4 h-4"})]}):i.jsxs(i.Fragment,{children:["Read Full Message ",i.jsx(Eo,{className:"w-4 h-4"})]})})]})]}),i.jsxs("div",{className:"p-4 md:p-6 glass rounded-2xl border border-light-border dark:border-dark-border min-h-[400px]",children:[i.jsxs("h3",{className:"text-xl font-bold text-gradient mb-6 flex items-center gap-2",children:[i.jsx(qi,{className:"w-6 h-6 text-primary-500"}),"Community Discussion"]}),i.jsx(ZE,{postId:r._id})]})]})]})})]})}function t5(){const[e,t]=b.useState(0),[r,n]=b.useState(!1);b.useEffect(()=>{const o=()=>{const l=document.documentElement.scrollHeight-window.innerHeight,c=window.pageYOffset,u=c/l*100;t(u),n(c>300)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return i.jsx(pr,{children:r&&i.jsxs("div",{className:"fixed bottom-24 right-4 md:right-6 z-50 flex flex-col gap-2 md:gap-3",children:[i.jsxs(R.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:s,className:"p-2 md:p-3 rounded-full glass border border-primary-500/30 text-primary-500 shadow-lg hover:bg-primary-500 hover:text-white transition-all group relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx(gv,{className:"w-5 h-5 md:w-6 md:h-6"})]}),i.jsxs("div",{className:"relative p-0.5 md:p-1",children:[i.jsxs("svg",{className:"w-10 h-10 md:w-12 md:h-12 transform -rotate-90",children:[i.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"3",fill:"transparent",className:"text-light-border dark:text-dark-border opacity-30 md:hidden"}),i.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-light-border dark:text-dark-border opacity-30 hidden md:block"}),i.jsx(R.circle,{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:"113.1",animate:{strokeDashoffset:113.1-113.1*e/100},className:"text-primary-500 md:hidden",strokeLinecap:"round"}),i.jsx(R.circle,{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:"125.66",animate:{strokeDashoffset:125.66-125.66*e/100},className:"text-primary-500 hidden md:block",strokeLinecap:"round"})]}),i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] md:text-[10px] font-bold text-primary-500",children:[Math.round(e),"%"]})]}),i.jsxs(R.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:a,className:"p-2 md:p-3 rounded-full glass border border-primary-500/30 text-primary-500 shadow-lg hover:bg-primary-500 hover:text-white transition-all group relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx(Eo,{className:"w-5 h-5 md:w-6 md:h-6"})]})]})})}const r5=()=>{};var Vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},n5=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[r++];t[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[r++],o=e[r++],l=e[r++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const a=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(f=64)),n.push(r[d],r[h],r[f],r[g])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):n5(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const a=r[e.charAt(s++)],l=s<e.length?r[e.charAt(s)]:0;++s;const u=s<e.length?r[e.charAt(s)]:64;++s;const h=s<e.length?r[e.charAt(s)]:64;if(++s,a==null||l==null||u==null||h==null)throw new s5;const f=a<<2|l>>4;if(n.push(f),u!==64){const g=l<<4&240|u>>2;if(n.push(g),h!==64){const y=u<<6&192|h;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i5=function(e){const t=Lv(e);return Ov.encodeByteArray(t,!0)},Fv=function(e){return i5(e).replace(/\./g,"")},a5=function(e){try{return Ov.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=()=>o5().__FIREBASE_DEFAULTS__,c5=()=>{if(typeof process>"u"||typeof Vp>"u")return;const e=Vp.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},u5=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&a5(e[1]);return t&&JSON.parse(t)},d5=()=>{try{return r5()||l5()||c5()||u5()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Vv=()=>{var e;return(e=d5())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function Bv(){try{return typeof indexedDB=="object"}catch{return!1}}function $v(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;t(((a=s.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}function f5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="FirebaseError";class _s extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=m5,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,a=this.errors[t],o=a?p5(a,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new _s(s,l,n)}}function p5(e,t){return e.replace(g5,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const g5=/\{\$([^}]+)}/g;function Bu(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const a=e[s],o=t[s];if(Bp(a)&&Bp(o)){if(!Bu(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Bp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(e){return e&&e._delegate?e._delegate:e}class Gr{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new h5;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v5(t))try{this.getOrInitializeService({instanceIdentifier:dn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(t=dn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=dn){return this.instances.has(t)}getOptions(t=dn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(s)}return s}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&t(a,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:y5(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=dn){return this.component?this.component.multipleInstances?t:dn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y5(e){return e===dn?void 0:e}function v5(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new x5(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(oe||(oe={}));const w5={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},k5=oe.INFO,j5={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},N5=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=j5[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class S5{constructor(t){this.name=t,this._logLevel=k5,this._logHandler=N5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w5[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}}const C5=(e,t)=>t.some(r=>e instanceof r);let $p,zp;function T5(){return $p||($p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P5(){return zp||(zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,$u=new WeakMap,Uv=new WeakMap,fc=new WeakMap,Th=new WeakMap;function A5(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(sr(e.result)),s()},o=()=>{n(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&zv.set(r,e)}).catch(()=>{}),Th.set(t,e),t}function E5(e){if($u.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});$u.set(e,t)}let zu={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return $u.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Uv.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return sr(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function I5(e){zu=e(zu)}function R5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(mc(this),t,...r);return Uv.set(n,t.sort?t.sort():[t]),sr(n)}:P5().includes(e)?function(...t){return e.apply(mc(this),t),sr(zv.get(this))}:function(...t){return sr(e.apply(mc(this),t))}}function _5(e){return typeof e=="function"?R5(e):(e instanceof IDBTransaction&&E5(e),C5(e,T5())?new Proxy(e,zu):e)}function sr(e){if(e instanceof IDBRequest)return A5(e);if(fc.has(e))return fc.get(e);const t=_5(e);return t!==e&&(fc.set(e,t),Th.set(t,e)),t}const mc=e=>Th.get(e);function dl(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(e,t),l=sr(o);return n&&o.addEventListener("upgradeneeded",c=>{n(sr(o.result),c.oldVersion,c.newVersion,sr(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function pc(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),sr(r).then(()=>{})}const M5=["get","getKey","getAll","getAllKeys","count"],D5=["put","add","delete","clear"],gc=new Map;function Up(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gc.get(t))return gc.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=D5.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||M5.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return gc.set(t,a),a}I5(e=>({...e,get:(t,r,n)=>Up(t,r)||e.get(t,r,n),has:(t,r)=>!!Up(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(O5(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function O5(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Uu="@firebase/app",qp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new S5("@firebase/app"),F5="@firebase/app-compat",V5="@firebase/analytics-compat",B5="@firebase/analytics",$5="@firebase/app-check-compat",z5="@firebase/app-check",U5="@firebase/auth",q5="@firebase/auth-compat",W5="@firebase/database",H5="@firebase/data-connect",Q5="@firebase/database-compat",G5="@firebase/functions",K5="@firebase/functions-compat",Y5="@firebase/installations",X5="@firebase/installations-compat",J5="@firebase/messaging",Z5="@firebase/messaging-compat",e4="@firebase/performance",t4="@firebase/performance-compat",r4="@firebase/remote-config",n4="@firebase/remote-config-compat",s4="@firebase/storage",i4="@firebase/storage-compat",a4="@firebase/firestore",o4="@firebase/ai",l4="@firebase/firestore-compat",c4="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="[DEFAULT]",u4={[Uu]:"fire-core",[F5]:"fire-core-compat",[B5]:"fire-analytics",[V5]:"fire-analytics-compat",[z5]:"fire-app-check",[$5]:"fire-app-check-compat",[U5]:"fire-auth",[q5]:"fire-auth-compat",[W5]:"fire-rtdb",[H5]:"fire-data-connect",[Q5]:"fire-rtdb-compat",[G5]:"fire-fn",[K5]:"fire-fn-compat",[Y5]:"fire-iid",[X5]:"fire-iid-compat",[J5]:"fire-fcm",[Z5]:"fire-fcm-compat",[e4]:"fire-perf",[t4]:"fire-perf-compat",[r4]:"fire-rc",[n4]:"fire-rc-compat",[s4]:"fire-gcs",[i4]:"fire-gcs-compat",[a4]:"fire-fst",[l4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[c4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,d4=new Map,Wu=new Map;function Wp(e,t){try{e.container.addComponent(t)}catch(r){dr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function In(e){const t=e.name;if(Wu.has(t))return dr.debug(`There were multiple attempts to register component ${t}.`),!1;Wu.set(t,e);for(const r of Ro.values())Wp(r,e);for(const r of d4.values())Wp(r,e);return!0}function Ph(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new ul("app","Firebase",h4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}function qv(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:qu,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Br.create("bad-app-name",{appName:String(s)});if(r||(r=Vv()),!r)throw Br.create("no-options");const a=Ro.get(s);if(a){if(Bu(r,a.options)&&Bu(n,a.config))return a;throw Br.create("duplicate-app",{appName:s})}const o=new b5(s);for(const c of Wu.values())o.addComponent(c);const l=new f4(r,n,o);return Ro.set(s,l),l}function m4(e=qu){const t=Ro.get(e);if(!t&&e===qu&&Vv())return qv();if(!t)throw Br.create("no-app",{appName:e});return t}function $r(e,t,r){let n=u4[e]??e;r&&(n+=`-${r}`);const s=n.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${n}" with version "${t}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dr.warn(o.join(" "));return}In(new Gr(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebase-heartbeat-database",g4=1,Hi="firebase-heartbeat-store";let xc=null;function Wv(){return xc||(xc=dl(p4,g4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hi)}catch(r){console.warn(r)}}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),xc}async function x4(e){try{const r=(await Wv()).transaction(Hi),n=await r.objectStore(Hi).get(Hv(e));return await r.done,n}catch(t){if(t instanceof _s)dr.warn(t.message);else{const r=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dr.warn(r.message)}}}async function Hp(e,t){try{const n=(await Wv()).transaction(Hi,"readwrite");await n.objectStore(Hi).put(t,Hv(e)),await n.done}catch(r){if(r instanceof _s)dr.warn(r.message);else{const n=Br.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});dr.warn(n.message)}}}function Hv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1024,v4=30;class b4{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new k4(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Qp();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>v4){const o=j4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){dr.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Qp(),{heartbeatsToSend:n,unsentEntries:s}=w4(this._heartbeatsCache.heartbeats),a=Fv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return dr.warn(r),""}}}function Qp(){return new Date().toISOString().substring(0,10)}function w4(e,t=y4){const r=[];let n=e.slice();for(const s of e){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),Gp(r)>t){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Gp(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class k4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bv()?$v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await x4(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Hp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Hp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function Gp(e){return Fv(JSON.stringify({version:2,heartbeats:e})).length}function j4(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(e){In(new Gr("platform-logger",t=>new L5(t),"PRIVATE")),In(new Gr("heartbeat",t=>new b4(t),"PRIVATE")),$r(Uu,qp,e),$r(Uu,qp,"esm2020"),$r("fire-js","")}N4("");var S4="firebase",C4="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(S4,C4,"app");const Qv="@firebase/installations",Ah="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=1e4,Kv=`w:${Ah}`,Yv="FIS_v2",T4="https://firebaseinstallations.googleapis.com/v1",P4=60*60*1e3,A4="installations",E4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rn=new ul(A4,E4,I4);function Xv(e){return e instanceof _s&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv({projectId:e}){return`${T4}/projects/${e}/installations`}function Zv(e){return{token:e.token,requestStatus:2,expiresIn:_4(e.expiresIn),creationTime:Date.now()}}async function eb(e,t){const n=(await t.json()).error;return Rn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function tb({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function R4(e,{refreshToken:t}){const r=tb(e);return r.append("Authorization",M4(t)),r}async function rb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function _4(e){return Number(e.replace("s","000"))}function M4(e){return`${Yv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Jv(e),s=tb(e),a=t.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:r,authVersion:Yv,appId:e.appId,sdkVersion:Kv},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await rb(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:Zv(u.authToken)}}else throw await eb("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^[cdef][\w-]{21}$/,Hu="";function F4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=V4(e);return O4.test(r)?r:Hu}catch{return Hu}}function V4(e){return L4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new Map;function ib(e,t){const r=hl(e);ab(r,t),B4(r,t)}function ab(e,t){const r=sb.get(e);if(r)for(const n of r)n(t)}function B4(e,t){const r=$4();r&&r.postMessage({key:e,fid:t}),z4()}let yn=null;function $4(){return!yn&&"BroadcastChannel"in self&&(yn=new BroadcastChannel("[Firebase] FID Change"),yn.onmessage=e=>{ab(e.data.key,e.data.fid)}),yn}function z4(){sb.size===0&&yn&&(yn.close(),yn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="firebase-installations-database",q4=1,_n="firebase-installations-store";let yc=null;function Eh(){return yc||(yc=dl(U4,q4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(_n)}}})),yc}async function _o(e,t){const r=hl(e),s=(await Eh()).transaction(_n,"readwrite"),a=s.objectStore(_n),o=await a.get(r);return await a.put(t,r),await s.done,(!o||o.fid!==t.fid)&&ib(e,t.fid),t}async function ob(e){const t=hl(e),n=(await Eh()).transaction(_n,"readwrite");await n.objectStore(_n).delete(t),await n.done}async function fl(e,t){const r=hl(e),s=(await Eh()).transaction(_n,"readwrite"),a=s.objectStore(_n),o=await a.get(r),l=t(o);return l===void 0?await a.delete(r):await a.put(l,r),await s.done,l&&(!o||o.fid!==l.fid)&&ib(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(e){let t;const r=await fl(e.appConfig,n=>{const s=W4(n),a=H4(e,s);return t=a.registrationPromise,a.installationEntry});return r.fid===Hu?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function W4(e){const t=e||{fid:F4(),registrationStatus:0};return lb(t)}function H4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Rn.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Q4(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:G4(e)}:{installationEntry:t}}async function Q4(e,t){try{const r=await D4(e,t);return _o(e.appConfig,r)}catch(r){throw Xv(r)&&r.customData.serverCode===409?await ob(e.appConfig):await _o(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function G4(e){let t=await Kp(e.appConfig);for(;t.registrationStatus===1;)await nb(100),t=await Kp(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ih(e);return n||r}return t}function Kp(e){return fl(e,t=>{if(!t)throw Rn.create("installation-not-found");return lb(t)})}function lb(e){return K4(e)?{fid:e.fid,registrationStatus:0}:e}function K4(e){return e.registrationStatus===1&&e.registrationTime+Gv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4({appConfig:e,heartbeatServiceProvider:t},r){const n=X4(e,r),s=R4(e,r),a=t.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:Kv,appId:e.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await rb(()=>fetch(n,l));if(c.ok){const u=await c.json();return Zv(u)}else throw await eb("Generate Auth Token",c)}function X4(e,{fid:t}){return`${Jv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(e,t=!1){let r;const n=await fl(e.appConfig,a=>{if(!cb(a))throw Rn.create("not-registered");const o=a.authToken;if(!t&&eI(o))return a;if(o.requestStatus===1)return r=J4(e,t),a;{if(!navigator.onLine)throw Rn.create("app-offline");const l=rI(a);return r=Z4(e,l),l}});return r?await r:n.authToken}async function J4(e,t){let r=await Yp(e.appConfig);for(;r.authToken.requestStatus===1;)await nb(100),r=await Yp(e.appConfig);const n=r.authToken;return n.requestStatus===0?Rh(e,t):n}function Yp(e){return fl(e,t=>{if(!cb(t))throw Rn.create("not-registered");const r=t.authToken;return nI(r)?{...t,authToken:{requestStatus:0}}:t})}async function Z4(e,t){try{const r=await Y4(e,t),n={...t,authToken:r};return await _o(e.appConfig,n),r}catch(r){if(Xv(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await ob(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await _o(e.appConfig,n)}throw r}}function cb(e){return e!==void 0&&e.registrationStatus===2}function eI(e){return e.requestStatus===2&&!tI(e)}function tI(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+P4}function rI(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function nI(e){return e.requestStatus===1&&e.requestTime+Gv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(e){const t=e,{installationEntry:r,registrationPromise:n}=await Ih(t);return n?n.catch(console.error):Rh(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(e,t=!1){const r=e;return await aI(r),(await Rh(r,t)).token}async function aI(e){const{registrationPromise:t}=await Ih(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e){if(!e||!e.options)throw vc("App Configuration");if(!e.name)throw vc("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw vc(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function vc(e){return Rn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="installations",lI="installations-internal",cI=e=>{const t=e.getProvider("app").getImmediate(),r=oI(t),n=Ph(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},uI=e=>{const t=e.getProvider("app").getImmediate(),r=Ph(t,ub).getImmediate();return{getId:()=>sI(r),getToken:s=>iI(r,s)}};function dI(){In(new Gr(ub,cI,"PUBLIC")),In(new Gr(lI,uI,"PRIVATE"))}dI();$r(Qv,Ah);$r(Qv,Ah,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="/firebase-messaging-sw.js",fI="/firebase-cloud-messaging-push-scope",db="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mI="https://fcmregistrations.googleapis.com/v1",hb="google.c.a.c_id",pI="google.c.a.c_l",gI="google.c.a.ts",xI="google.c.a.e",Xp=1e4;var Jp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Jp||(Jp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Qi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Qi||(Qi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yI(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="fcm_token_details_db",vI=5,Zp="fcm_token_object_Store";async function bI(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(bc))return null;let t=null;return(await dl(bc,vI,{upgrade:async(n,s,a,o)=>{if(s<2||!n.objectStoreNames.contains(Zp))return;const l=o.objectStore(Zp),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Gt(u.vapidKey)}}}else if(s===3){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gt(u.auth),p256dh:Gt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gt(u.vapidKey)}}}else if(s===4){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gt(u.auth),p256dh:Gt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gt(u.vapidKey)}}}}}})).close(),await pc(bc),await pc("fcm_vapid_details_db"),await pc("undefined"),wI(t)?t:null}function wI(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firebase-messaging-database",jI=1,Gi="firebase-messaging-store";let wc=null;function fb(){return wc||(wc=dl(kI,jI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Gi)}}})),wc}async function NI(e){const t=mb(e),n=await(await fb()).transaction(Gi).objectStore(Gi).get(t);if(n)return n;{const s=await bI(e.appConfig.senderId);if(s)return await _h(e,s),s}}async function _h(e,t){const r=mb(e),s=(await fb()).transaction(Gi,"readwrite");return await s.objectStore(Gi).put(t,r),await s.done,t}function mb({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Be=new ul("messaging","Messaging",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(e,t){const r=await Dh(e),n=pb(t),s={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(Mh(e.appConfig),s)).json()}catch(o){throw Be.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Be.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw Be.create("token-subscribe-no-token");return a.token}async function TI(e,t){const r=await Dh(e),n=pb(t.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${Mh(e.appConfig)}/${t.token}`,s)).json()}catch(o){throw Be.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Be.create("token-update-failed",{errorInfo:o})}if(!a.token)throw Be.create("token-update-no-token");return a.token}async function PI(e,t){const n={method:"DELETE",headers:await Dh(e)};try{const a=await(await fetch(`${Mh(e.appConfig)}/${t}`,n)).json();if(a.error){const o=a.error.message;throw Be.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Be.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Mh({projectId:e}){return`${mI}/projects/${e}/registrations`}async function Dh({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function pb({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const s={web:{endpoint:r,auth:t,p256dh:e}};return n!==db&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=7*24*60*60*1e3;async function EI(e){const t=await RI(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Gt(t.getKey("auth")),p256dh:Gt(t.getKey("p256dh"))},n=await NI(e.firebaseDependencies);if(n){if(_I(n.subscriptionOptions,r))return Date.now()>=n.createTime+AI?II(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await PI(e.firebaseDependencies,n.token)}catch(s){console.warn(s)}return eg(e.firebaseDependencies,r)}else return eg(e.firebaseDependencies,r)}async function II(e,t){try{const r=await TI(e.firebaseDependencies,t),n={...t,token:r,createTime:Date.now()};return await _h(e.firebaseDependencies,n),r}catch(r){throw r}}async function eg(e,t){const n={token:await CI(e,t),createTime:Date.now(),subscriptionOptions:t};return await _h(e,n),n.token}async function RI(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yI(t)})}function _I(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,s=t.auth===e.auth,a=t.p256dh===e.p256dh;return r&&n&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return MI(t,e),DI(t,e),LI(t,e),t}function MI(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const s=t.notification.image;s&&(e.notification.image=s);const a=t.notification.icon;a&&(e.notification.icon=a)}function DI(e,t){t.data&&(e.data=t.data)}function LI(e,t){var s,a,o,l;if(!t.fcmOptions&&!((s=t.notification)!=null&&s.click_action))return;e.fcmOptions={};const r=((a=t.fcmOptions)==null?void 0:a.link)??((o=t.notification)==null?void 0:o.click_action);r&&(e.fcmOptions.link=r);const n=(l=t.fcmOptions)==null?void 0:l.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e){return typeof e=="object"&&!!e&&hb in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e){if(!e||!e.options)throw kc("App Configuration Object");if(!e.name)throw kc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw kc(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function kc(e){return Be.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=FI(t);this.firebaseDependencies={app:t,appConfig:s,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(e){try{e.swRegistration=await navigator.serviceWorker.register(hI,{scope:fI}),e.swRegistration.update().catch(()=>{}),await $I(e.swRegistration)}catch(t){throw Be.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function $I(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${Xp} ms`)),Xp),s=e.installing||e.waiting;e.active?(clearTimeout(n),t()):s?s.onstatechange=a=>{var o;((o=a.target)==null?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(e,t){if(!t&&!e.swRegistration&&await BI(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Be.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=db)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(e,t){if(!navigator)throw Be.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Be.create("permission-blocked");return await UI(e,t==null?void 0:t.vapidKey),await zI(e,t==null?void 0:t.serviceWorkerRegistration),EI(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(e,t,r){const n=WI(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[hb],message_name:r[pI],message_time:r[gI],message_device_time:Math.floor(Date.now()/1e3)})}function WI(e){switch(e){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Qi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(tg(r)):e.onMessageHandler.next(tg(r)));const n=r.data;OI(n)&&n[xI]==="1"&&await qI(e,r.messageType,n)}const rg="@firebase/messaging",ng="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=e=>{const t=new VI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>HI(t,r)),t},GI=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>gb(t,n)}};function KI(){In(new Gr("messaging",QI,"PUBLIC")),In(new Gr("messaging-internal",GI,"PRIVATE")),$r(rg,ng),$r(rg,ng,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(){try{await $v()}catch{return!1}return typeof window<"u"&&Bv()&&f5()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(e,t){if(!navigator)throw Be.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(e=m4()){return YI().then(t=>{if(!t)throw Be.create("unsupported-browser")},t=>{throw Be.create("indexed-db-unsupported")}),Ph(Ch(e),"messaging").getImmediate()}async function ZI(e,t){return e=Ch(e),gb(e,t)}function eR(e,t){return e=Ch(e),XI(e,t)}KI();const tR={apiKey:"AIzaSyD_zaEB4r9OdxRhqjh_3knPThewK0Xr98I",authDomain:"baptizo-community.firebaseapp.com",projectId:"baptizo-community",storageBucket:"baptizo-community.firebasestorage.app",messagingSenderId:"781281083216",appId:"1:781281083216:web:4236621528ef828ab03655",measurementId:"G-7LD94T1B5D"},rR=qv(tR),jc=typeof window<"u"?JI(rR):null,nR="BGwc3-C9heX7WHfc8hJwJ08smI0rWbqoyoOXN1IoaHN33auBdJ7GIr82XZKUdl5MW9XZyElzyxIuMQA_J-xWhEE";function sR(){const{user:e}=Z(),t=Y(D.users.updateFcmToken),[r,n]=b.useState(typeof window<"u"?Notification.permission:"default");return b.useEffect(()=>{if(!e||!jc)return;(async()=>{try{const o=await Notification.requestPermission();if(n(o),o==="granted"){const l=await ZI(jc,{vapidKey:nR});l&&(console.log("FCM Token:",l),await t({userId:e._id,fcmToken:l}))}}catch(o){console.error("Error setting up notifications:",o)}})();const a=eR(jc,o=>{console.log("Foreground message received:",o),o.notification&&new Notification(o.notification.title||"New Notification",{body:o.notification.body,icon:o.notification.image||"/logo192.png"})});return()=>a()},[e,t]),{permissionStatus:r}}const iR=new hN("https://perceptive-kudu-144.convex.cloud");function aR(){const e=Zr(),[t,r]=ir.useState(!0);if(sR(),ir.useEffect(()=>{const c=setTimeout(()=>r(!1),2e3);return()=>clearTimeout(c)},[]),t)return i.jsx(Sh,{});const n=["/feed","/ancient-culture","/wisdom-now","/profile","/admin","/notifications","/tasks","/leaderboard","/admin/reward-responses","/my-responses","/admin/responses","/post"],s=!n.some(c=>e.pathname.startsWith(c)),a=n.some(c=>e.pathname.startsWith(c)),l=["/feed","/ancient-culture","/wisdom-now","/notifications","/tasks","/admin/tasks","/leaderboard"].some(c=>e.pathname.startsWith(c));return i.jsxs("div",{className:"flex flex-col min-h-screen",children:[i.jsx(WP,{}),l&&i.jsx(GP,{}),i.jsx("main",{className:`flex-1 pt-16 md:pt-20 ${a?"pb-20 md:pb-0":""}`,children:i.jsxs(L1,{children:[i.jsx(ve,{path:"/",element:i.jsx(KP,{})}),i.jsx(ve,{path:"/login",element:i.jsx(XP,{})}),i.jsx(ve,{path:"/register",element:i.jsx(rA,{})}),i.jsx(ve,{path:"/feed",element:i.jsx(TE,{})}),i.jsx(ve,{path:"/ancient-culture",element:i.jsx(AE,{})}),i.jsx(ve,{path:"/wisdom-now",element:i.jsx(EE,{})}),i.jsx(ve,{path:"/profile",element:i.jsx(OE,{})}),i.jsx(ve,{path:"/admin",element:i.jsx(BE,{})}),i.jsx(ve,{path:"/admin/rewards",element:i.jsx($E,{})}),i.jsx(ve,{path:"/admin/tasks",element:i.jsx(qE,{})}),i.jsx(ve,{path:"/admin/responses",element:i.jsx(QE,{})}),i.jsx(ve,{path:"/admin/reward-responses",element:i.jsx(GE,{})}),i.jsx(ve,{path:"/my-responses",element:i.jsx(KE,{})}),i.jsx(ve,{path:"/tasks",element:i.jsx(UE,{})}),i.jsx(ve,{path:"/leaderboard",element:i.jsx(YE,{})}),i.jsx(ve,{path:"/notifications",element:i.jsx(zE,{})}),i.jsx(ve,{path:"/setup",element:i.jsx(WE,{})}),i.jsx(ve,{path:"/post/:postId/responses",element:i.jsx(JE,{})}),i.jsx(ve,{path:"/post/:postId",element:i.jsx(e5,{})})]})}),s&&i.jsx(HP,{}),a&&i.jsx(QP,{}),i.jsx(t5,{})]})}function oR(){return i.jsx(mN,{client:iR,children:i.jsx(wN,{children:i.jsx(NN,{children:i.jsx(U1,{children:i.jsx(aR,{})})})})})}Nc.createRoot(document.getElementById("root")).render(i.jsx(ir.StrictMode,{children:i.jsx(oR,{})}));
//# sourceMappingURL=index-3PThOjp6.js.map
