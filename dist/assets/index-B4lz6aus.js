function rk(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function sk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tg={exports:{}},Hl={},Pg={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=Symbol.for("react.element"),ak=Symbol.for("react.portal"),nk=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),ok=Symbol.for("react.profiler"),lk=Symbol.for("react.provider"),dk=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),uk=Symbol.for("react.suspense"),mk=Symbol.for("react.memo"),hk=Symbol.for("react.lazy"),rx=Symbol.iterator;function xk(e){return e===null||typeof e!="object"?null:(e=rx&&e[rx]||e["@@iterator"],typeof e=="function"?e:null)}var Ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ig=Object.assign,Mg={};function kn(e,t,s){this.props=e,this.context=t,this.refs=Mg,this.updater=s||Ag}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _g(){}_g.prototype=kn.prototype;function dm(e,t,s){this.props=e,this.context=t,this.refs=Mg,this.updater=s||Ag}var cm=dm.prototype=new _g;cm.constructor=dm;Ig(cm,kn.prototype);cm.isPureReactComponent=!0;var sx=Array.isArray,Eg=Object.prototype.hasOwnProperty,um={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function Dg(e,t,s){var a,n={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Eg.call(t,a)&&!Rg.hasOwnProperty(a)&&(n[a]=t[a]);var l=arguments.length-2;if(l===1)n.children=s;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];n.children=d}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)n[a]===void 0&&(n[a]=l[a]);return{$$typeof:Yi,type:e,key:i,ref:o,props:n,_owner:um.current}}function pk(e,t){return{$$typeof:Yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yi}function fk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var ax=/\/+/g;function Md(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fk(""+e.key):t.toString(36)}function Oo(e,t,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yi:case ak:o=!0}}if(o)return o=e,n=n(o),e=a===""?"."+Md(o,0):a,sx(n)?(s="",e!=null&&(s=e.replace(ax,"$&/")+"/"),Oo(n,t,s,"",function(c){return c})):n!=null&&(mm(n)&&(n=pk(n,s+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(ax,"$&/")+"/")+e)),t.push(n)),1;if(o=0,a=a===""?".":a+":",sx(e))for(var l=0;l<e.length;l++){i=e[l];var d=a+Md(i,l);o+=Oo(i,t,s,d,n)}else if(d=xk(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=a+Md(i,l++),o+=Oo(i,t,s,d,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function co(e,t,s){if(e==null)return e;var a=[],n=0;return Oo(e,a,"","",function(i){return t.call(s,i,n++)}),a}function gk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},Fo={transition:null},bk={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Fo,ReactCurrentOwner:um};function Lg(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:co,forEach:function(e,t,s){co(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return co(e,function(){t++}),t},toArray:function(e){return co(e,function(t){return t})||[]},only:function(e){if(!mm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=kn;ne.Fragment=nk;ne.Profiler=ok;ne.PureComponent=dm;ne.StrictMode=ik;ne.Suspense=uk;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bk;ne.act=Lg;ne.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Ig({},e.props),n=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=um.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Eg.call(t,d)&&!Rg.hasOwnProperty(d)&&(a[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)a.children=s;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:Yi,type:e.type,key:n,ref:i,props:a,_owner:o}};ne.createContext=function(e){return e={$$typeof:dk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lk,_context:e},e.Consumer=e};ne.createElement=Dg;ne.createFactory=function(e){var t=Dg.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:ck,render:e}};ne.isValidElement=mm;ne.lazy=function(e){return{$$typeof:hk,_payload:{_status:-1,_result:e},_init:gk}};ne.memo=function(e,t){return{$$typeof:mk,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Fo.transition;Fo.transition={};try{e()}finally{Fo.transition=t}};ne.unstable_act=Lg;ne.useCallback=function(e,t){return kt.current.useCallback(e,t)};ne.useContext=function(e){return kt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return kt.current.useEffect(e,t)};ne.useId=function(){return kt.current.useId()};ne.useImperativeHandle=function(e,t,s){return kt.current.useImperativeHandle(e,t,s)};ne.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return kt.current.useMemo(e,t)};ne.useReducer=function(e,t,s){return kt.current.useReducer(e,t,s)};ne.useRef=function(e){return kt.current.useRef(e)};ne.useState=function(e){return kt.current.useState(e)};ne.useSyncExternalStore=function(e,t,s){return kt.current.useSyncExternalStore(e,t,s)};ne.useTransition=function(){return kt.current.useTransition()};ne.version="18.3.1";Pg.exports=ne;var g=Pg.exports;const Pr=sk(g),yk=rk({__proto__:null,default:Pr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=g,jk=Symbol.for("react.element"),kk=Symbol.for("react.fragment"),wk=Object.prototype.hasOwnProperty,Nk=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sk={key:!0,ref:!0,__self:!0,__source:!0};function Og(e,t,s){var a,n={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)wk.call(t,a)&&!Sk.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:jk,type:e,key:i,ref:o,props:n,_owner:Nk.current}}Hl.Fragment=kk;Hl.jsx=Og;Hl.jsxs=Og;Tg.exports=Hl;var r=Tg.exports,Bc={},Fg={exports:{}},Qt={},Bg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,B){var W=F.length;F.push(B);e:for(;0<W;){var Q=W-1>>>1,ce=F[Q];if(0<n(ce,B))F[Q]=B,F[W]=ce,W=Q;else break e}}function s(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var B=F[0],W=F.pop();if(W!==B){F[0]=W;e:for(var Q=0,ce=F.length,pt=ce>>>1;Q<pt;){var J=2*(Q+1)-1,le=F[J],fe=J+1,or=F[fe];if(0>n(le,W))fe<ce&&0>n(or,le)?(F[Q]=or,F[fe]=W,Q=fe):(F[Q]=le,F[J]=W,Q=J);else if(fe<ce&&0>n(or,W))F[Q]=or,F[fe]=W,Q=fe;else break e}}return B}function n(F,B){var W=F.sortIndex-B.sortIndex;return W!==0?W:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],c=[],u=1,m=null,h=3,x=!1,b=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(F){for(var B=s(c);B!==null;){if(B.callback===null)a(c);else if(B.startTime<=F)a(c),B.sortIndex=B.expirationTime,t(d,B);else break;B=s(c)}}function k(F){if(v=!1,j(F),!b)if(s(d)!==null)b=!0,V(w);else{var B=s(c);B!==null&&re(k,B.startTime-F)}}function w(F,B){b=!1,v&&(v=!1,p(T),T=-1),x=!0;var W=h;try{for(j(B),m=s(d);m!==null&&(!(m.expirationTime>B)||F&&!H());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,h=m.priorityLevel;var ce=Q(m.expirationTime<=B);B=e.unstable_now(),typeof ce=="function"?m.callback=ce:m===s(d)&&a(d),j(B)}else a(d);m=s(d)}if(m!==null)var pt=!0;else{var J=s(c);J!==null&&re(k,J.startTime-B),pt=!1}return pt}finally{m=null,h=W,x=!1}}var C=!1,N=null,T=-1,L=5,A=-1;function H(){return!(e.unstable_now()-A<L)}function _(){if(N!==null){var F=e.unstable_now();A=F;var B=!0;try{B=N(!0,F)}finally{B?X():(C=!1,N=null)}}else C=!1}var X;if(typeof f=="function")X=function(){f(_)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,E=oe.port2;oe.port1.onmessage=_,X=function(){E.postMessage(null)}}else X=function(){y(_,0)};function V(F){N=F,C||(C=!0,X())}function re(F,B){T=y(function(){F(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,V(w))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return F()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=h;h=F;try{return B()}finally{h=W}},e.unstable_scheduleCallback=function(F,B,W){var Q=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Q+W:Q):W=Q,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=W+ce,F={id:u++,callback:B,priorityLevel:F,startTime:W,expirationTime:ce,sortIndex:-1},W>Q?(F.sortIndex=W,t(c,F),s(d)===null&&F===s(c)&&(v?(p(T),T=-1):v=!0,re(k,W-Q))):(F.sortIndex=ce,t(d,F),b||x||(b=!0,V(w))),F},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(F){var B=h;return function(){var W=h;h=B;try{return F.apply(this,arguments)}finally{h=W}}}})(Ug);Bg.exports=Ug;var Ck=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=g,$t=Ck;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vg=new Set,fi={};function Sa(e,t){cn(e,t),cn(e+"Capture",t)}function cn(e,t){for(fi[e]=t,e=0;e<t.length;e++)Vg.add(t[e])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=Object.prototype.hasOwnProperty,Pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nx={},ix={};function Ak(e){return Uc.call(ix,e)?!0:Uc.call(nx,e)?!1:Pk.test(e)?ix[e]=!0:(nx[e]=!0,!1)}function Ik(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mk(e,t,s,a){if(t===null||typeof t>"u"||Ik(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,s,a,n,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function xm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hm,xm);et[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hm,xm);et[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hm,xm);et[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pm(e,t,s,a){var n=et.hasOwnProperty(t)?et[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mk(t,s,n,a)&&(s=null),a||n===null?Ak(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var Zr=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),Oa=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),Vc=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),zg=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),$c=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),qg=Symbol.for("react.offscreen"),ox=Symbol.iterator;function Rn(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,_d;function Gn(e){if(_d===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);_d=t&&t[1]||""}return`
`+_d+e}var Ed=!1;function Rd(e,t){if(!e||Ed)return"";Ed=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),i=a.stack.split(`
`),o=n.length-1,l=i.length-1;1<=o&&0<=l&&n[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==i[l]){var d=`
`+n[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{Ed=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Gn(e):""}function _k(e){switch(e.tag){case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 2:case 15:return e=Rd(e.type,!1),e;case 11:return e=Rd(e.type.render,!1),e;case 1:return e=Rd(e.type,!0),e;default:return""}}function qc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fa:return"Fragment";case Oa:return"Portal";case Vc:return"Profiler";case fm:return"StrictMode";case $c:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zg:return(e.displayName||"Context")+".Consumer";case $g:return(e._context.displayName||"Context")+".Provider";case gm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bm:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}function Ek(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qc(t);case 8:return t===fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rk(e){var t=Wg(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mo(e){e._valueTracker||(e._valueTracker=Rk(e))}function Hg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Wg(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wc(e,t){var s=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function lx(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=Is(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qg(e,t){t=t.checked,t!=null&&pm(e,"checked",t,!1)}function Hc(e,t){Qg(e,t);var s=Is(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qc(e,t.type,s):t.hasOwnProperty("defaultValue")&&Qc(e,t.type,Is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dx(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Qc(e,t,s){(t!=="number"||tl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Kn=Array.isArray;function en(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Is(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Gc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cx(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(U(92));if(Kn(s)){if(1<s.length)throw Error(U(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Is(s)}}function Gg(e,t){var s=Is(t.value),a=Is(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function ux(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ho,Yg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dk=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(e){Dk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]})});function Xg(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ei.hasOwnProperty(e)&&ei[e]?(""+t).trim():t+"px"}function Jg(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=Xg(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var Lk=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yc(e,t){if(t){if(Lk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Xc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function ym(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zc=null,tn=null,rn=null;function mx(e){if(e=Zi(e)){if(typeof Zc!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Xl(t),Zc(e.stateNode,e.type,t))}}function Zg(e){tn?rn?rn.push(e):rn=[e]:tn=e}function e0(){if(tn){var e=tn,t=rn;if(rn=tn=null,mx(e),t)for(e=0;e<t.length;e++)mx(t[e])}}function t0(e,t){return e(t)}function r0(){}var Dd=!1;function s0(e,t,s){if(Dd)return e(t,s);Dd=!0;try{return t0(e,t,s)}finally{Dd=!1,(tn!==null||rn!==null)&&(r0(),e0())}}function bi(e,t){var s=e.stateNode;if(s===null)return null;var a=Xl(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(U(231,t,typeof s));return s}var eu=!1;if(Wr)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{eu=!1}function Ok(e,t,s,a,n,i,o,l,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(u){this.onError(u)}}var ti=!1,rl=null,sl=!1,tu=null,Fk={onError:function(e){ti=!0,rl=e}};function Bk(e,t,s,a,n,i,o,l,d){ti=!1,rl=null,Ok.apply(Fk,arguments)}function Uk(e,t,s,a,n,i,o,l,d){if(Bk.apply(this,arguments),ti){if(ti){var c=rl;ti=!1,rl=null}else throw Error(U(198));sl||(sl=!0,tu=c)}}function Ca(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function a0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hx(e){if(Ca(e)!==e)throw Error(U(188))}function Vk(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error(U(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return hx(n),e;if(i===a)return hx(n),t;i=i.sibling}throw Error(U(188))}if(s.return!==a.return)s=n,a=i;else{for(var o=!1,l=n.child;l;){if(l===s){o=!0,s=n,a=i;break}if(l===a){o=!0,a=n,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,a=n;break}if(l===a){o=!0,a=i,s=n;break}l=l.sibling}if(!o)throw Error(U(189))}}if(s.alternate!==a)throw Error(U(190))}if(s.tag!==3)throw Error(U(188));return s.stateNode.current===s?e:t}function n0(e){return e=Vk(e),e!==null?i0(e):null}function i0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i0(e);if(t!==null)return t;e=e.sibling}return null}var o0=$t.unstable_scheduleCallback,xx=$t.unstable_cancelCallback,$k=$t.unstable_shouldYield,zk=$t.unstable_requestPaint,Oe=$t.unstable_now,qk=$t.unstable_getCurrentPriorityLevel,vm=$t.unstable_ImmediatePriority,l0=$t.unstable_UserBlockingPriority,al=$t.unstable_NormalPriority,Wk=$t.unstable_LowPriority,d0=$t.unstable_IdlePriority,Ql=null,Sr=null;function Hk(e){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Ql,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Kk,Qk=Math.log,Gk=Math.LN2;function Kk(e){return e>>>=0,e===0?32:31-(Qk(e)/Gk|0)|0}var xo=64,po=4194304;function Yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nl(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~n;l!==0?a=Yn(l):(i&=o,i!==0&&(a=Yn(i)))}else o=s&~n,o!==0?a=Yn(o):i!==0&&(a=Yn(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-mr(t),n=1<<s,a|=e[s],t&=~n;return a}function Yk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xk(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mr(i),l=1<<o,d=n[o];d===-1?(!(l&s)||l&a)&&(n[o]=Yk(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c0(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function Ld(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Xi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=s}function Jk(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-mr(s),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function jm(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-mr(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var be=0;function u0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m0,km,h0,x0,p0,su=!1,fo=[],gs=null,bs=null,ys=null,yi=new Map,vi=new Map,cs=[],Zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(e,t){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":yi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(t.pointerId)}}function Ln(e,t,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Zi(t),t!==null&&km(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function ew(e,t,s,a,n){switch(t){case"focusin":return gs=Ln(gs,e,t,s,a,n),!0;case"dragenter":return bs=Ln(bs,e,t,s,a,n),!0;case"mouseover":return ys=Ln(ys,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return yi.set(i,Ln(yi.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,vi.set(i,Ln(vi.get(i)||null,e,t,s,a,n)),!0}return!1}function f0(e){var t=ra(e.target);if(t!==null){var s=Ca(t);if(s!==null){if(t=s.tag,t===13){if(t=a0(s),t!==null){e.blockedOn=t,p0(e.priority,function(){h0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=au(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Jc=a,s.target.dispatchEvent(a),Jc=null}else return t=Zi(s),t!==null&&km(t),e.blockedOn=s,!1;t.shift()}return!0}function fx(e,t,s){Bo(e)&&s.delete(t)}function tw(){su=!1,gs!==null&&Bo(gs)&&(gs=null),bs!==null&&Bo(bs)&&(bs=null),ys!==null&&Bo(ys)&&(ys=null),yi.forEach(fx),vi.forEach(fx)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,tw)))}function ji(e){function t(n){return On(n,e)}if(0<fo.length){On(fo[0],e);for(var s=1;s<fo.length;s++){var a=fo[s];a.blockedOn===e&&(a.blockedOn=null)}}for(gs!==null&&On(gs,e),bs!==null&&On(bs,e),ys!==null&&On(ys,e),yi.forEach(t),vi.forEach(t),s=0;s<cs.length;s++)a=cs[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<cs.length&&(s=cs[0],s.blockedOn===null);)f0(s),s.blockedOn===null&&cs.shift()}var sn=Zr.ReactCurrentBatchConfig,il=!0;function rw(e,t,s,a){var n=be,i=sn.transition;sn.transition=null;try{be=1,wm(e,t,s,a)}finally{be=n,sn.transition=i}}function sw(e,t,s,a){var n=be,i=sn.transition;sn.transition=null;try{be=4,wm(e,t,s,a)}finally{be=n,sn.transition=i}}function wm(e,t,s,a){if(il){var n=au(e,t,s,a);if(n===null)Hd(e,t,a,ol,s),px(e,a);else if(ew(n,e,t,s,a))a.stopPropagation();else if(px(e,a),t&4&&-1<Zk.indexOf(e)){for(;n!==null;){var i=Zi(n);if(i!==null&&m0(i),i=au(e,t,s,a),i===null&&Hd(e,t,a,ol,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else Hd(e,t,a,null,s)}}var ol=null;function au(e,t,s,a){if(ol=null,e=ym(a),e=ra(e),e!==null)if(t=Ca(e),t===null)e=null;else if(s=t.tag,s===13){if(e=a0(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ol=e,null}function g0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qk()){case vm:return 1;case l0:return 4;case al:case Wk:return 16;case d0:return 536870912;default:return 16}default:return 16}}var ms=null,Nm=null,Uo=null;function b0(){if(Uo)return Uo;var e,t=Nm,s=t.length,a,n="value"in ms?ms.value:ms.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var o=s-e;for(a=1;a<=o&&t[s-a]===n[i-a];a++);return Uo=n.slice(e,1<a?1-a:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function gx(){return!1}function Gt(e){function t(s,a,n,i,o){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?go:gx,this.isPropagationStopped=gx,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sm=Gt(wn),Ji=Re({},wn,{view:0,detail:0}),aw=Gt(Ji),Od,Fd,Fn,Gl=Re({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(Od=e.screenX-Fn.screenX,Fd=e.screenY-Fn.screenY):Fd=Od=0,Fn=e),Od)},movementY:function(e){return"movementY"in e?e.movementY:Fd}}),bx=Gt(Gl),nw=Re({},Gl,{dataTransfer:0}),iw=Gt(nw),ow=Re({},Ji,{relatedTarget:0}),Bd=Gt(ow),lw=Re({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),dw=Gt(lw),cw=Re({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uw=Gt(cw),mw=Re({},wn,{data:0}),yx=Gt(mw),hw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pw[e])?!!t[e]:!1}function Cm(){return fw}var gw=Re({},Ji,{key:function(e){if(e.key){var t=hw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bw=Gt(gw),yw=Re({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=Gt(yw),vw=Re({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),jw=Gt(vw),kw=Re({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ww=Gt(kw),Nw=Re({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sw=Gt(Nw),Cw=[9,13,27,32],Tm=Wr&&"CompositionEvent"in window,ri=null;Wr&&"documentMode"in document&&(ri=document.documentMode);var Tw=Wr&&"TextEvent"in window&&!ri,y0=Wr&&(!Tm||ri&&8<ri&&11>=ri),jx=" ",kx=!1;function v0(e,t){switch(e){case"keyup":return Cw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function Pw(e,t){switch(e){case"compositionend":return j0(t);case"keypress":return t.which!==32?null:(kx=!0,jx);case"textInput":return e=t.data,e===jx&&kx?null:e;default:return null}}function Aw(e,t){if(Ba)return e==="compositionend"||!Tm&&v0(e,t)?(e=b0(),Uo=Nm=ms=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y0&&t.locale!=="ko"?null:t.data;default:return null}}var Iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iw[e.type]:t==="textarea"}function k0(e,t,s,a){Zg(a),t=ll(t,"onChange"),0<t.length&&(s=new Sm("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var si=null,ki=null;function Mw(e){E0(e,0)}function Kl(e){var t=$a(e);if(Hg(t))return e}function _w(e,t){if(e==="change")return t}var w0=!1;if(Wr){var Ud;if(Wr){var Vd="oninput"in document;if(!Vd){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),Vd=typeof Nx.oninput=="function"}Ud=Vd}else Ud=!1;w0=Ud&&(!document.documentMode||9<document.documentMode)}function Sx(){si&&(si.detachEvent("onpropertychange",N0),ki=si=null)}function N0(e){if(e.propertyName==="value"&&Kl(ki)){var t=[];k0(t,ki,e,ym(e)),s0(Mw,t)}}function Ew(e,t,s){e==="focusin"?(Sx(),si=t,ki=s,si.attachEvent("onpropertychange",N0)):e==="focusout"&&Sx()}function Rw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kl(ki)}function Dw(e,t){if(e==="click")return Kl(t)}function Lw(e,t){if(e==="input"||e==="change")return Kl(t)}function Ow(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:Ow;function wi(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!Uc.call(t,n)||!fr(e[n],t[n]))return!1}return!0}function Cx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tx(e,t){var s=Cx(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cx(s)}}function S0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C0(){for(var e=window,t=tl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=tl(e.document)}return t}function Pm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fw(e){var t=C0(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&S0(s.ownerDocument.documentElement,s)){if(a!==null&&Pm(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=Tx(s,i);var o=Tx(s,a);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bw=Wr&&"documentMode"in document&&11>=document.documentMode,Ua=null,nu=null,ai=null,iu=!1;function Px(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;iu||Ua==null||Ua!==tl(a)||(a=Ua,"selectionStart"in a&&Pm(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ai&&wi(ai,a)||(ai=a,a=ll(nu,"onSelect"),0<a.length&&(t=new Sm("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Ua)))}function bo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Va={animationend:bo("Animation","AnimationEnd"),animationiteration:bo("Animation","AnimationIteration"),animationstart:bo("Animation","AnimationStart"),transitionend:bo("Transition","TransitionEnd")},$d={},T0={};Wr&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Yl(e){if($d[e])return $d[e];if(!Va[e])return e;var t=Va[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in T0)return $d[e]=t[s];return e}var P0=Yl("animationend"),A0=Yl("animationiteration"),I0=Yl("animationstart"),M0=Yl("transitionend"),_0=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(e,t){_0.set(e,t),Sa(t,[e])}for(var zd=0;zd<Ax.length;zd++){var qd=Ax[zd],Uw=qd.toLowerCase(),Vw=qd[0].toUpperCase()+qd.slice(1);Bs(Uw,"on"+Vw)}Bs(P0,"onAnimationEnd");Bs(A0,"onAnimationIteration");Bs(I0,"onAnimationStart");Bs("dblclick","onDoubleClick");Bs("focusin","onFocus");Bs("focusout","onBlur");Bs(M0,"onTransitionEnd");cn("onMouseEnter",["mouseout","mouseover"]);cn("onMouseLeave",["mouseout","mouseover"]);cn("onPointerEnter",["pointerout","pointerover"]);cn("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function Ix(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Uk(a,t,void 0,e),e.currentTarget=null}function E0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],d=l.instance,c=l.currentTarget;if(l=l.listener,d!==i&&n.isPropagationStopped())break e;Ix(n,l,c),i=d}else for(o=0;o<a.length;o++){if(l=a[o],d=l.instance,c=l.currentTarget,l=l.listener,d!==i&&n.isPropagationStopped())break e;Ix(n,l,c),i=d}}}if(sl)throw e=tu,sl=!1,tu=null,e}function Ne(e,t){var s=t[uu];s===void 0&&(s=t[uu]=new Set);var a=e+"__bubble";s.has(a)||(R0(t,e,2,!1),s.add(a))}function Wd(e,t,s){var a=0;t&&(a|=4),R0(s,e,a,t)}var yo="_reactListening"+Math.random().toString(36).slice(2);function Ni(e){if(!e[yo]){e[yo]=!0,Vg.forEach(function(s){s!=="selectionchange"&&($w.has(s)||Wd(s,!1,e),Wd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yo]||(t[yo]=!0,Wd("selectionchange",!1,t))}}function R0(e,t,s,a){switch(g0(t)){case 1:var n=rw;break;case 4:n=sw;break;default:n=wm}s=n.bind(null,t,s,e),n=void 0,!eu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Hd(e,t,s,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===n||d.nodeType===8&&d.parentNode===n))return;o=o.return}for(;l!==null;){if(o=ra(l),o===null)return;if(d=o.tag,d===5||d===6){a=i=o;continue e}l=l.parentNode}}a=a.return}s0(function(){var c=i,u=ym(s),m=[];e:{var h=_0.get(e);if(h!==void 0){var x=Sm,b=e;switch(e){case"keypress":if(Vo(s)===0)break e;case"keydown":case"keyup":x=bw;break;case"focusin":b="focus",x=Bd;break;case"focusout":b="blur",x=Bd;break;case"beforeblur":case"afterblur":x=Bd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=jw;break;case P0:case A0:case I0:x=dw;break;case M0:x=ww;break;case"scroll":x=aw;break;case"wheel":x=Sw;break;case"copy":case"cut":case"paste":x=uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=vx}var v=(t&4)!==0,y=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var f=c,j;f!==null;){j=f;var k=j.stateNode;if(j.tag===5&&k!==null&&(j=k,p!==null&&(k=bi(f,p),k!=null&&v.push(Si(f,k,j)))),y)break;f=f.return}0<v.length&&(h=new x(h,b,null,s,u),m.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&s!==Jc&&(b=s.relatedTarget||s.fromElement)&&(ra(b)||b[Hr]))break e;if((x||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,x?(b=s.relatedTarget||s.toElement,x=c,b=b?ra(b):null,b!==null&&(y=Ca(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=c),x!==b)){if(v=bx,k="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=vx,k="onPointerLeave",p="onPointerEnter",f="pointer"),y=x==null?h:$a(x),j=b==null?h:$a(b),h=new v(k,f+"leave",x,s,u),h.target=y,h.relatedTarget=j,k=null,ra(u)===c&&(v=new v(p,f+"enter",b,s,u),v.target=j,v.relatedTarget=y,k=v),y=k,x&&b)t:{for(v=x,p=b,f=0,j=v;j;j=Ea(j))f++;for(j=0,k=p;k;k=Ea(k))j++;for(;0<f-j;)v=Ea(v),f--;for(;0<j-f;)p=Ea(p),j--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=Ea(v),p=Ea(p)}v=null}else v=null;x!==null&&Mx(m,h,x,v,!1),b!==null&&y!==null&&Mx(m,y,b,v,!0)}}e:{if(h=c?$a(c):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var w=_w;else if(wx(h))if(w0)w=Lw;else{w=Rw;var C=Ew}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=Dw);if(w&&(w=w(e,c))){k0(m,w,s,u);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Qc(h,"number",h.value)}switch(C=c?$a(c):window,e){case"focusin":(wx(C)||C.contentEditable==="true")&&(Ua=C,nu=c,ai=null);break;case"focusout":ai=nu=Ua=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Px(m,s,u);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":Px(m,s,u)}var N;if(Tm)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ba?v0(e,s)&&(T="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(T="onCompositionStart");T&&(y0&&s.locale!=="ko"&&(Ba||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ba&&(N=b0()):(ms=u,Nm="value"in ms?ms.value:ms.textContent,Ba=!0)),C=ll(c,T),0<C.length&&(T=new yx(T,e,null,s,u),m.push({event:T,listeners:C}),N?T.data=N:(N=j0(s),N!==null&&(T.data=N)))),(N=Tw?Pw(e,s):Aw(e,s))&&(c=ll(c,"onBeforeInput"),0<c.length&&(u=new yx("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:c}),u.data=N))}E0(m,t)})}function Si(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ll(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=bi(e,s),i!=null&&a.unshift(Si(e,i,n)),i=bi(e,t),i!=null&&a.push(Si(e,i,n))),e=e.return}return a}function Ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mx(e,t,s,a,n){for(var i=t._reactName,o=[];s!==null&&s!==a;){var l=s,d=l.alternate,c=l.stateNode;if(d!==null&&d===a)break;l.tag===5&&c!==null&&(l=c,n?(d=bi(s,i),d!=null&&o.unshift(Si(s,d,l))):n||(d=bi(s,i),d!=null&&o.push(Si(s,d,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var zw=/\r\n?/g,qw=/\u0000|\uFFFD/g;function _x(e){return(typeof e=="string"?e:""+e).replace(zw,`
`).replace(qw,"")}function vo(e,t,s){if(t=_x(t),_x(e)!==t&&s)throw Error(U(425))}function dl(){}var ou=null,lu=null;function du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,Ex=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ex<"u"?function(e){return Ex.resolve(null).then(e).catch(Qw)}:cu;function Qw(e){setTimeout(function(){throw e})}function Qd(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),ji(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);ji(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),wr="__reactFiber$"+Nn,Ci="__reactProps$"+Nn,Hr="__reactContainer$"+Nn,uu="__reactEvents$"+Nn,Gw="__reactListeners$"+Nn,Kw="__reactHandles$"+Nn;function ra(e){var t=e[wr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Hr]||s[wr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Rx(e);e!==null;){if(s=e[wr])return s;e=Rx(e)}return t}e=s,s=e.parentNode}return null}function Zi(e){return e=e[wr]||e[Hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $a(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Xl(e){return e[Ci]||null}var mu=[],za=-1;function Us(e){return{current:e}}function Ce(e){0>za||(e.current=mu[za],mu[za]=null,za--)}function je(e,t){za++,mu[za]=e.current,e.current=t}var Ms={},ct=Us(Ms),At=Us(!1),ma=Ms;function un(e,t){var s=e.type.contextTypes;if(!s)return Ms;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function It(e){return e=e.childContextTypes,e!=null}function cl(){Ce(At),Ce(ct)}function Dx(e,t,s){if(ct.current!==Ms)throw Error(U(168));je(ct,t),je(At,s)}function D0(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(U(108,Ek(e)||"Unknown",n));return Re({},s,a)}function ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ms,ma=ct.current,je(ct,e),je(At,At.current),!0}function Lx(e,t,s){var a=e.stateNode;if(!a)throw Error(U(169));s?(e=D0(e,t,ma),a.__reactInternalMemoizedMergedChildContext=e,Ce(At),Ce(ct),je(ct,e)):Ce(At),je(At,s)}var Lr=null,Jl=!1,Gd=!1;function L0(e){Lr===null?Lr=[e]:Lr.push(e)}function Yw(e){Jl=!0,L0(e)}function Vs(){if(!Gd&&Lr!==null){Gd=!0;var e=0,t=be;try{var s=Lr;for(be=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Lr=null,Jl=!1}catch(n){throw Lr!==null&&(Lr=Lr.slice(e+1)),o0(vm,Vs),n}finally{be=t,Gd=!1}}return null}var qa=[],Wa=0,ml=null,hl=0,er=[],tr=0,ha=null,Fr=1,Br="";function Ks(e,t){qa[Wa++]=hl,qa[Wa++]=ml,ml=e,hl=t}function O0(e,t,s){er[tr++]=Fr,er[tr++]=Br,er[tr++]=ha,ha=e;var a=Fr;e=Br;var n=32-mr(a)-1;a&=~(1<<n),s+=1;var i=32-mr(t)+n;if(30<i){var o=n-n%5;i=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Fr=1<<32-mr(t)+n|s<<n|a,Br=i+e}else Fr=1<<i|s<<n|a,Br=e}function Am(e){e.return!==null&&(Ks(e,1),O0(e,1,0))}function Im(e){for(;e===ml;)ml=qa[--Wa],qa[Wa]=null,hl=qa[--Wa],qa[Wa]=null;for(;e===ha;)ha=er[--tr],er[tr]=null,Br=er[--tr],er[tr]=null,Fr=er[--tr],er[tr]=null}var Bt=null,Ft=null,Pe=!1,ur=null;function F0(e,t){var s=sr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Ox(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ft=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ha!==null?{id:Fr,overflow:Br}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=sr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Bt=e,Ft=null,!0):!1;default:return!1}}function hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xu(e){if(Pe){var t=Ft;if(t){var s=t;if(!Ox(e,t)){if(hu(e))throw Error(U(418));t=vs(s.nextSibling);var a=Bt;t&&Ox(e,t)?F0(a,s):(e.flags=e.flags&-4097|2,Pe=!1,Bt=e)}}else{if(hu(e))throw Error(U(418));e.flags=e.flags&-4097|2,Pe=!1,Bt=e}}}function Fx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function jo(e){if(e!==Bt)return!1;if(!Pe)return Fx(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!du(e.type,e.memoizedProps)),t&&(t=Ft)){if(hu(e))throw B0(),Error(U(418));for(;t;)F0(e,t),t=vs(t.nextSibling)}if(Fx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ft=vs(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=Bt?vs(e.stateNode.nextSibling):null;return!0}function B0(){for(var e=Ft;e;)e=vs(e.nextSibling)}function mn(){Ft=Bt=null,Pe=!1}function Mm(e){ur===null?ur=[e]:ur.push(e)}var Xw=Zr.ReactCurrentBatchConfig;function Bn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(U(309));var a=s.stateNode}if(!a)throw Error(U(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=n.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!s._owner)throw Error(U(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bx(e){var t=e._init;return t(e._payload)}function U0(e){function t(p,f){if(e){var j=p.deletions;j===null?(p.deletions=[f],p.flags|=16):j.push(f)}}function s(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function a(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function n(p,f){return p=Ns(p,f),p.index=0,p.sibling=null,p}function i(p,f,j){return p.index=j,e?(j=p.alternate,j!==null?(j=j.index,j<f?(p.flags|=2,f):j):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,j,k){return f===null||f.tag!==6?(f=tc(j,p.mode,k),f.return=p,f):(f=n(f,j),f.return=p,f)}function d(p,f,j,k){var w=j.type;return w===Fa?u(p,f,j.props.children,k,j.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===os&&Bx(w)===f.type)?(k=n(f,j.props),k.ref=Bn(p,f,j),k.return=p,k):(k=Go(j.type,j.key,j.props,null,p.mode,k),k.ref=Bn(p,f,j),k.return=p,k)}function c(p,f,j,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==j.containerInfo||f.stateNode.implementation!==j.implementation?(f=rc(j,p.mode,k),f.return=p,f):(f=n(f,j.children||[]),f.return=p,f)}function u(p,f,j,k,w){return f===null||f.tag!==7?(f=da(j,p.mode,k,w),f.return=p,f):(f=n(f,j),f.return=p,f)}function m(p,f,j){if(typeof f=="string"&&f!==""||typeof f=="number")return f=tc(""+f,p.mode,j),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case uo:return j=Go(f.type,f.key,f.props,null,p.mode,j),j.ref=Bn(p,null,f),j.return=p,j;case Oa:return f=rc(f,p.mode,j),f.return=p,f;case os:var k=f._init;return m(p,k(f._payload),j)}if(Kn(f)||Rn(f))return f=da(f,p.mode,j,null),f.return=p,f;ko(p,f)}return null}function h(p,f,j,k){var w=f!==null?f.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(p,f,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uo:return j.key===w?d(p,f,j,k):null;case Oa:return j.key===w?c(p,f,j,k):null;case os:return w=j._init,h(p,f,w(j._payload),k)}if(Kn(j)||Rn(j))return w!==null?null:u(p,f,j,k,null);ko(p,j)}return null}function x(p,f,j,k,w){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(j)||null,l(f,p,""+k,w);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case uo:return p=p.get(k.key===null?j:k.key)||null,d(f,p,k,w);case Oa:return p=p.get(k.key===null?j:k.key)||null,c(f,p,k,w);case os:var C=k._init;return x(p,f,j,C(k._payload),w)}if(Kn(k)||Rn(k))return p=p.get(j)||null,u(f,p,k,w,null);ko(f,k)}return null}function b(p,f,j,k){for(var w=null,C=null,N=f,T=f=0,L=null;N!==null&&T<j.length;T++){N.index>T?(L=N,N=null):L=N.sibling;var A=h(p,N,j[T],k);if(A===null){N===null&&(N=L);break}e&&N&&A.alternate===null&&t(p,N),f=i(A,f,T),C===null?w=A:C.sibling=A,C=A,N=L}if(T===j.length)return s(p,N),Pe&&Ks(p,T),w;if(N===null){for(;T<j.length;T++)N=m(p,j[T],k),N!==null&&(f=i(N,f,T),C===null?w=N:C.sibling=N,C=N);return Pe&&Ks(p,T),w}for(N=a(p,N);T<j.length;T++)L=x(N,p,T,j[T],k),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?T:L.key),f=i(L,f,T),C===null?w=L:C.sibling=L,C=L);return e&&N.forEach(function(H){return t(p,H)}),Pe&&Ks(p,T),w}function v(p,f,j,k){var w=Rn(j);if(typeof w!="function")throw Error(U(150));if(j=w.call(j),j==null)throw Error(U(151));for(var C=w=null,N=f,T=f=0,L=null,A=j.next();N!==null&&!A.done;T++,A=j.next()){N.index>T?(L=N,N=null):L=N.sibling;var H=h(p,N,A.value,k);if(H===null){N===null&&(N=L);break}e&&N&&H.alternate===null&&t(p,N),f=i(H,f,T),C===null?w=H:C.sibling=H,C=H,N=L}if(A.done)return s(p,N),Pe&&Ks(p,T),w;if(N===null){for(;!A.done;T++,A=j.next())A=m(p,A.value,k),A!==null&&(f=i(A,f,T),C===null?w=A:C.sibling=A,C=A);return Pe&&Ks(p,T),w}for(N=a(p,N);!A.done;T++,A=j.next())A=x(N,p,T,A.value,k),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?T:A.key),f=i(A,f,T),C===null?w=A:C.sibling=A,C=A);return e&&N.forEach(function(_){return t(p,_)}),Pe&&Ks(p,T),w}function y(p,f,j,k){if(typeof j=="object"&&j!==null&&j.type===Fa&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case uo:e:{for(var w=j.key,C=f;C!==null;){if(C.key===w){if(w=j.type,w===Fa){if(C.tag===7){s(p,C.sibling),f=n(C,j.props.children),f.return=p,p=f;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===os&&Bx(w)===C.type){s(p,C.sibling),f=n(C,j.props),f.ref=Bn(p,C,j),f.return=p,p=f;break e}s(p,C);break}else t(p,C);C=C.sibling}j.type===Fa?(f=da(j.props.children,p.mode,k,j.key),f.return=p,p=f):(k=Go(j.type,j.key,j.props,null,p.mode,k),k.ref=Bn(p,f,j),k.return=p,p=k)}return o(p);case Oa:e:{for(C=j.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===j.containerInfo&&f.stateNode.implementation===j.implementation){s(p,f.sibling),f=n(f,j.children||[]),f.return=p,p=f;break e}else{s(p,f);break}else t(p,f);f=f.sibling}f=rc(j,p.mode,k),f.return=p,p=f}return o(p);case os:return C=j._init,y(p,f,C(j._payload),k)}if(Kn(j))return b(p,f,j,k);if(Rn(j))return v(p,f,j,k);ko(p,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,f!==null&&f.tag===6?(s(p,f.sibling),f=n(f,j),f.return=p,p=f):(s(p,f),f=tc(j,p.mode,k),f.return=p,p=f),o(p)):s(p,f)}return y}var hn=U0(!0),V0=U0(!1),xl=Us(null),pl=null,Ha=null,_m=null;function Em(){_m=Ha=pl=null}function Rm(e){var t=xl.current;Ce(xl),e._currentValue=t}function pu(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function an(e,t){pl=e,_m=Ha=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function nr(e){var t=e._currentValue;if(_m!==e)if(e={context:e,memoizedValue:t,next:null},Ha===null){if(pl===null)throw Error(U(308));Ha=e,pl.dependencies={lanes:0,firstContext:e}}else Ha=Ha.next=e;return t}var sa=null;function Dm(e){sa===null?sa=[e]:sa.push(e)}function $0(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,Dm(t)):(s.next=n.next,n.next=s),t.interleaved=s,Qr(e,a)}function Qr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ls=!1;function Lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,me&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Qr(e,s)}return n=a.interleaved,n===null?(t.next=t,Dm(a)):(t.next=n.next,n.next=t),a.interleaved=t,Qr(e,s)}function $o(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,jm(e,s)}}function Ux(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function fl(e,t,s,a){var n=e.updateQueue;ls=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var d=l,c=d.next;d.next=null,o===null?i=c:o.next=c,o=d;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=n.baseState;o=0,u=c=d=null,l=i;do{var h=l.lane,x=l.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(h=t,x=s,v.tag){case 1:if(b=v.payload,typeof b=="function"){m=b.call(x,m,h);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(x,m,h):b,h==null)break e;m=Re({},m,h);break e;case 2:ls=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=n.effects,h===null?n.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=x,d=m):u=u.next=x,o|=h;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;h=l,l=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);if(u===null&&(d=m),n.baseState=d,n.firstBaseUpdate=c,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);pa|=o,e.lanes=o,e.memoizedState=m}}function Vx(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(U(191,n));n.call(a)}}}var eo={},Cr=Us(eo),Ti=Us(eo),Pi=Us(eo);function aa(e){if(e===eo)throw Error(U(174));return e}function Om(e,t){switch(je(Pi,t),je(Ti,e),je(Cr,eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kc(t,e)}Ce(Cr),je(Cr,t)}function xn(){Ce(Cr),Ce(Ti),Ce(Pi)}function q0(e){aa(Pi.current);var t=aa(Cr.current),s=Kc(t,e.type);t!==s&&(je(Ti,e),je(Cr,s))}function Fm(e){Ti.current===e&&(Ce(Cr),Ce(Ti))}var Ae=Us(0);function gl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kd=[];function Bm(){for(var e=0;e<Kd.length;e++)Kd[e]._workInProgressVersionPrimary=null;Kd.length=0}var zo=Zr.ReactCurrentDispatcher,Yd=Zr.ReactCurrentBatchConfig,xa=0,Ee=null,We=null,Ge=null,bl=!1,ni=!1,Ai=0,Jw=0;function st(){throw Error(U(321))}function Um(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!fr(e[s],t[s]))return!1;return!0}function Vm(e,t,s,a,n,i){if(xa=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zo.current=e===null||e.memoizedState===null?rN:sN,e=s(a,n),ni){i=0;do{if(ni=!1,Ai=0,25<=i)throw Error(U(301));i+=1,Ge=We=null,t.updateQueue=null,zo.current=aN,e=s(a,n)}while(ni)}if(zo.current=yl,t=We!==null&&We.next!==null,xa=0,Ge=We=Ee=null,bl=!1,t)throw Error(U(300));return e}function $m(){var e=Ai!==0;return Ai=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ee.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function ir(){if(We===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ge===null?Ee.memoizedState:Ge.next;if(t!==null)Ge=t,We=e;else{if(e===null)throw Error(U(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ge===null?Ee.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Ii(e,t){return typeof t=="function"?t(e):t}function Xd(e){var t=ir(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var a=We,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var l=o=null,d=null,c=i;do{var u=c.lane;if((xa&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(l=d=m,o=a):d=d.next=m,Ee.lanes|=u,pa|=u}c=c.next}while(c!==null&&c!==i);d===null?o=a:d.next=l,fr(a,t.memoizedState)||(Tt=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=d,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,Ee.lanes|=i,pa|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Jd(e){var t=ir(),s=t.queue;if(s===null)throw Error(U(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);fr(i,t.memoizedState)||(Tt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function W0(){}function H0(e,t){var s=Ee,a=ir(),n=t(),i=!fr(a.memoizedState,n);if(i&&(a.memoizedState=n,Tt=!0),a=a.queue,zm(K0.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||Ge!==null&&Ge.memoizedState.tag&1){if(s.flags|=2048,Mi(9,G0.bind(null,s,a,n,t),void 0,null),Ke===null)throw Error(U(349));xa&30||Q0(s,t,n)}return n}function Q0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function G0(e,t,s,a){t.value=s,t.getSnapshot=a,Y0(t)&&X0(e)}function K0(e,t,s){return s(function(){Y0(t)&&X0(e)})}function Y0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!fr(e,s)}catch{return!0}}function X0(e){var t=Qr(e,1);t!==null&&hr(t,e,1,-1)}function $x(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=tN.bind(null,Ee,e),[t.memoizedState,e]}function Mi(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function J0(){return ir().memoizedState}function qo(e,t,s,a){var n=kr();Ee.flags|=e,n.memoizedState=Mi(1|t,s,void 0,a===void 0?null:a)}function Zl(e,t,s,a){var n=ir();a=a===void 0?null:a;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,a!==null&&Um(a,o.deps)){n.memoizedState=Mi(t,s,i,a);return}}Ee.flags|=e,n.memoizedState=Mi(1|t,s,i,a)}function zx(e,t){return qo(8390656,8,e,t)}function zm(e,t){return Zl(2048,8,e,t)}function Z0(e,t){return Zl(4,2,e,t)}function eb(e,t){return Zl(4,4,e,t)}function tb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rb(e,t,s){return s=s!=null?s.concat([e]):null,Zl(4,4,tb.bind(null,t,e),s)}function qm(){}function sb(e,t){var s=ir();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Um(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function ab(e,t){var s=ir();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Um(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function nb(e,t,s){return xa&21?(fr(s,t)||(s=c0(),Ee.lanes|=s,pa|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=s)}function Zw(e,t){var s=be;be=s!==0&&4>s?s:4,e(!0);var a=Yd.transition;Yd.transition={};try{e(!1),t()}finally{be=s,Yd.transition=a}}function ib(){return ir().memoizedState}function eN(e,t,s){var a=ws(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},ob(e))lb(t,s);else if(s=$0(e,t,s,a),s!==null){var n=jt();hr(s,e,a,n),db(s,t,a)}}function tN(e,t,s){var a=ws(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(ob(e))lb(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(n.hasEagerState=!0,n.eagerState=l,fr(l,o)){var d=t.interleaved;d===null?(n.next=n,Dm(t)):(n.next=d.next,d.next=n),t.interleaved=n;return}}catch{}finally{}s=$0(e,t,n,a),s!==null&&(n=jt(),hr(s,e,a,n),db(s,t,a))}}function ob(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function lb(e,t){ni=bl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function db(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,jm(e,s)}}var yl={readContext:nr,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},rN={readContext:nr,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:nr,useEffect:zx,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,qo(4194308,4,tb.bind(null,t,e),s)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var s=kr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=kr();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=eN.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:$x,useDebugValue:qm,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=$x(!1),t=e[0];return e=Zw.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Ee,n=kr();if(Pe){if(s===void 0)throw Error(U(407));s=s()}else{if(s=t(),Ke===null)throw Error(U(349));xa&30||Q0(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,zx(K0.bind(null,a,i,e),[e]),a.flags|=2048,Mi(9,G0.bind(null,a,i,s,t),void 0,null),s},useId:function(){var e=kr(),t=Ke.identifierPrefix;if(Pe){var s=Br,a=Fr;s=(a&~(1<<32-mr(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ai++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Jw++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sN={readContext:nr,useCallback:sb,useContext:nr,useEffect:zm,useImperativeHandle:rb,useInsertionEffect:Z0,useLayoutEffect:eb,useMemo:ab,useReducer:Xd,useRef:J0,useState:function(){return Xd(Ii)},useDebugValue:qm,useDeferredValue:function(e){var t=ir();return nb(t,We.memoizedState,e)},useTransition:function(){var e=Xd(Ii)[0],t=ir().memoizedState;return[e,t]},useMutableSource:W0,useSyncExternalStore:H0,useId:ib,unstable_isNewReconciler:!1},aN={readContext:nr,useCallback:sb,useContext:nr,useEffect:zm,useImperativeHandle:rb,useInsertionEffect:Z0,useLayoutEffect:eb,useMemo:ab,useReducer:Jd,useRef:J0,useState:function(){return Jd(Ii)},useDebugValue:qm,useDeferredValue:function(e){var t=ir();return We===null?t.memoizedState=e:nb(t,We.memoizedState,e)},useTransition:function(){var e=Jd(Ii)[0],t=ir().memoizedState;return[e,t]},useMutableSource:W0,useSyncExternalStore:H0,useId:ib,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function fu(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Re({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ed={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=jt(),n=ws(e),i=Vr(a,n);i.payload=t,s!=null&&(i.callback=s),t=js(e,i,n),t!==null&&(hr(t,e,n,a),$o(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=jt(),n=ws(e),i=Vr(a,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=js(e,i,n),t!==null&&(hr(t,e,n,a),$o(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=jt(),a=ws(e),n=Vr(s,a);n.tag=2,t!=null&&(n.callback=t),t=js(e,n,a),t!==null&&(hr(t,e,a,s),$o(t,e,a))}};function qx(e,t,s,a,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!wi(s,a)||!wi(n,i):!0}function cb(e,t,s){var a=!1,n=Ms,i=t.contextType;return typeof i=="object"&&i!==null?i=nr(i):(n=It(t)?ma:ct.current,a=t.contextTypes,i=(a=a!=null)?un(e,n):Ms),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ed,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wx(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&ed.enqueueReplaceState(t,t.state,null)}function gu(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Lm(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=nr(i):(i=It(t)?ma:ct.current,n.context=un(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fu(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&ed.enqueueReplaceState(n,n.state,null),fl(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var s="",a=t;do s+=_k(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Zd(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function bu(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var nN=typeof WeakMap=="function"?WeakMap:Map;function ub(e,t,s){s=Vr(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){jl||(jl=!0,Pu=a),bu(e,t)},s}function mb(e,t,s){s=Vr(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){bu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){bu(e,t),typeof a!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function Hx(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new nN;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=yN.bind(null,e,t,s),t.then(e,e))}function Qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gx(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Vr(-1,1),t.tag=2,js(s,t,1))),s.lanes|=1),e)}var iN=Zr.ReactCurrentOwner,Tt=!1;function bt(e,t,s,a){t.child=e===null?V0(t,null,s,a):hn(t,e.child,s,a)}function Kx(e,t,s,a,n){s=s.render;var i=t.ref;return an(t,n),a=Vm(e,t,s,a,i,n),s=$m(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Gr(e,t,n)):(Pe&&s&&Am(t),t.flags|=1,bt(e,t,a,n),t.child)}function Yx(e,t,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!Jm(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,hb(e,t,i,a,n)):(e=Go(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:wi,s(o,a)&&e.ref===t.ref)return Gr(e,t,n)}return t.flags|=1,e=Ns(i,a),e.ref=t.ref,e.return=t,t.child=e}function hb(e,t,s,a,n){if(e!==null){var i=e.memoizedProps;if(wi(i,a)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,Gr(e,t,n)}return yu(e,t,s,a,n)}function xb(e,t,s){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ga,Ot),Ot|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Ga,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,je(Ga,Ot),Ot|=a}else i!==null?(a=i.baseLanes|s,t.memoizedState=null):a=s,je(Ga,Ot),Ot|=a;return bt(e,t,n,s),t.child}function pb(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function yu(e,t,s,a,n){var i=It(s)?ma:ct.current;return i=un(t,i),an(t,n),s=Vm(e,t,s,a,i,n),a=$m(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Gr(e,t,n)):(Pe&&a&&Am(t),t.flags|=1,bt(e,t,s,n),t.child)}function Xx(e,t,s,a,n){if(It(s)){var i=!0;ul(t)}else i=!1;if(an(t,n),t.stateNode===null)Wo(e,t),cb(t,s,a),gu(t,s,a,n),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,c=s.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=It(s)?ma:ct.current,c=un(t,c));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||d!==c)&&Wx(t,o,a,c),ls=!1;var h=t.memoizedState;o.state=h,fl(t,a,o,n),d=t.memoizedState,l!==a||h!==d||At.current||ls?(typeof u=="function"&&(fu(t,s,u,a),d=t.memoizedState),(l=ls||qx(t,s,l,a,h,d,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=d),o.props=a,o.state=d,o.context=c,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,z0(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:dr(t.type,l),o.props=c,m=t.pendingProps,h=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=nr(d):(d=It(s)?ma:ct.current,d=un(t,d));var x=s.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==d)&&Wx(t,o,a,d),ls=!1,h=t.memoizedState,o.state=h,fl(t,a,o,n);var b=t.memoizedState;l!==m||h!==b||At.current||ls?(typeof x=="function"&&(fu(t,s,x,a),b=t.memoizedState),(c=ls||qx(t,s,c,a,h,b,d)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,b,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,b,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=b),o.props=a,o.state=b,o.context=d,a=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return vu(e,t,s,a,i,n)}function vu(e,t,s,a,n,i){pb(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&Lx(t,s,!1),Gr(e,t,i);a=t.stateNode,iN.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,l,i)):bt(e,t,l,i),t.memoizedState=a.state,n&&Lx(t,s,!0),t.child}function fb(e){var t=e.stateNode;t.pendingContext?Dx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dx(e,t.context,!1),Om(e,t.containerInfo)}function Jx(e,t,s,a,n){return mn(),Mm(n),t.flags|=256,bt(e,t,s,a),t.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function gb(e,t,s){var a=t.pendingProps,n=Ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),je(Ae,n&1),e===null)return xu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sd(o,a,0,null),e=da(e,a,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ku(s),t.memoizedState=ju,e):Wm(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return oN(e,t,o,a,l,n,s);if(i){i=a.fallback,o=t.mode,n=e.child,l=n.sibling;var d={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=d,t.deletions=null):(a=Ns(n,d),a.subtreeFlags=n.subtreeFlags&14680064),l!==null?i=Ns(l,i):(i=da(i,o,s,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?ku(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=ju,a}return i=e.child,e=i.sibling,a=Ns(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Wm(e,t){return t=sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wo(e,t,s,a){return a!==null&&Mm(a),hn(t,e.child,null,s),e=Wm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oN(e,t,s,a,n,i,o){if(s)return t.flags&256?(t.flags&=-257,a=Zd(Error(U(422))),wo(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=sd({mode:"visible",children:a.children},n,0,null),i=da(i,n,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&hn(t,e.child,null,o),t.child.memoizedState=ku(o),t.memoizedState=ju,i);if(!(t.mode&1))return wo(e,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(U(419)),a=Zd(i,a,void 0),wo(e,t,o,a)}if(l=(o&e.childLanes)!==0,Tt||l){if(a=Ke,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Qr(e,n),hr(a,e,n,-1))}return Xm(),a=Zd(Error(U(421))),wo(e,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=vN.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Ft=vs(n.nextSibling),Bt=t,Pe=!0,ur=null,e!==null&&(er[tr++]=Fr,er[tr++]=Br,er[tr++]=ha,Fr=e.id,Br=e.overflow,ha=t),t=Wm(t,a.children),t.flags|=4096,t)}function Zx(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),pu(e.return,t,s)}function ec(e,t,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function bb(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(bt(e,t,a.children,s),a=Ae.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zx(e,s,t);else if(e.tag===19)Zx(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(je(Ae,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&gl(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),ec(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&gl(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}ec(t,!0,s,null,i);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,s=Ns(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ns(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function lN(e,t,s){switch(t.tag){case 3:fb(t),mn();break;case 5:q0(t);break;case 1:It(t.type)&&ul(t);break;case 4:Om(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;je(xl,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(je(Ae,Ae.current&1),t.flags|=128,null):s&t.child.childLanes?gb(e,t,s):(je(Ae,Ae.current&1),e=Gr(e,t,s),e!==null?e.sibling:null);je(Ae,Ae.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return bb(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),je(Ae,Ae.current),a)break;return null;case 22:case 23:return t.lanes=0,xb(e,t,s)}return Gr(e,t,s)}var yb,wu,vb,jb;yb=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};wu=function(){};vb=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,aa(Cr.current);var i=null;switch(s){case"input":n=Wc(e,n),a=Wc(e,a),i=[];break;case"select":n=Re({},n,{value:void 0}),a=Re({},a,{value:void 0}),i=[];break;case"textarea":n=Gc(e,n),a=Gc(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=dl)}Yc(s,a);var o;s=null;for(c in n)if(!a.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var l=n[c];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in a){var d=a[c];if(l=n!=null?n[c]:void 0,a.hasOwnProperty(c)&&d!==l&&(d!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(i||(i=[]),i.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fi.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Ne("scroll",e),i||l===d||(i=[])):(i=i||[]).push(c,d))}s&&(i=i||[]).push("style",s);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};jb=function(e,t,s,a){s!==a&&(t.flags|=4)};function Un(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function dN(e,t,s){var a=t.pendingProps;switch(Im(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return It(t.type)&&cl(),at(t),null;case 3:return a=t.stateNode,xn(),Ce(At),Ce(ct),Bm(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ur!==null&&(Mu(ur),ur=null))),wu(e,t),at(t),null;case 5:Fm(t);var n=aa(Pi.current);if(s=t.type,e!==null&&t.stateNode!=null)vb(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(U(166));return at(t),null}if(e=aa(Cr.current),jo(t)){a=t.stateNode,s=t.type;var i=t.memoizedProps;switch(a[wr]=t,a[Ci]=i,e=(t.mode&1)!==0,s){case"dialog":Ne("cancel",a),Ne("close",a);break;case"iframe":case"object":case"embed":Ne("load",a);break;case"video":case"audio":for(n=0;n<Xn.length;n++)Ne(Xn[n],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"details":Ne("toggle",a);break;case"input":lx(a,i),Ne("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",a);break;case"textarea":cx(a,i),Ne("invalid",a)}Yc(s,i),n=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&vo(a.textContent,l,e),n=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vo(a.textContent,l,e),n=["children",""+l]):fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",a)}switch(s){case"input":mo(a),dx(a,i,!0);break;case"textarea":mo(a),ux(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=dl)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kg(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),s==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[wr]=t,e[Ci]=a,yb(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xc(s,a),s){case"dialog":Ne("cancel",e),Ne("close",e),n=a;break;case"iframe":case"object":case"embed":Ne("load",e),n=a;break;case"video":case"audio":for(n=0;n<Xn.length;n++)Ne(Xn[n],e);n=a;break;case"source":Ne("error",e),n=a;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),n=a;break;case"details":Ne("toggle",e),n=a;break;case"input":lx(e,a),n=Wc(e,a),Ne("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Re({},a,{value:void 0}),Ne("invalid",e);break;case"textarea":cx(e,a),n=Gc(e,a),Ne("invalid",e);break;default:n=a}Yc(s,n),l=n;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?Jg(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Yg(e,d)):i==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&gi(e,d):typeof d=="number"&&gi(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ne("scroll",e):d!=null&&pm(e,i,d,o))}switch(s){case"input":mo(e),dx(e,a,!1);break;case"textarea":mo(e),ux(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Is(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?en(e,!!a.multiple,i,!1):a.defaultValue!=null&&en(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=dl)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)jb(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(U(166));if(s=aa(Pi.current),aa(Cr.current),jo(t)){if(a=t.stateNode,s=t.memoizedProps,a[wr]=t,(i=a.nodeValue!==s)&&(e=Bt,e!==null))switch(e.tag){case 3:vo(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vo(a.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[wr]=t,t.stateNode=a}return at(t),null;case 13:if(Ce(Ae),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Ft!==null&&t.mode&1&&!(t.flags&128))B0(),mn(),t.flags|=98560,i=!1;else if(i=jo(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[wr]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),i=!1}else ur!==null&&(Mu(ur),ur=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?He===0&&(He=3):Xm())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return xn(),wu(e,t),e===null&&Ni(t.stateNode.containerInfo),at(t),null;case 10:return Rm(t.type._context),at(t),null;case 17:return It(t.type)&&cl(),at(t),null;case 19:if(Ce(Ae),i=t.memoizedState,i===null)return at(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Un(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=gl(e),o!==null){for(t.flags|=128,Un(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)i=s,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return je(Ae,Ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&Oe()>fn&&(t.flags|=128,a=!0,Un(i,!1),t.lanes=4194304)}else{if(!a)if(e=gl(o),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Un(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return at(t),null}else 2*Oe()-i.renderingStartTime>fn&&s!==1073741824&&(t.flags|=128,a=!0,Un(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Oe(),t.sibling=null,s=Ae.current,je(Ae,a?s&1|2:s&1),t):(at(t),null);case 22:case 23:return Ym(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ot&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function cN(e,t){switch(Im(t),t.tag){case 1:return It(t.type)&&cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(),Ce(At),Ce(ct),Bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fm(t),null;case 13:if(Ce(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ae),null;case 4:return xn(),null;case 10:return Rm(t.type._context),null;case 22:case 23:return Ym(),null;case 24:return null;default:return null}}var No=!1,it=!1,uN=typeof WeakSet=="function"?WeakSet:Set,G=null;function Qa(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){De(e,t,a)}else s.current=null}function Nu(e,t,s){try{s()}catch(a){De(e,t,a)}}var ep=!1;function mN(e,t){if(ou=il,e=C0(),Pm(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,d=-1,c=0,u=0,m=e,h=null;t:for(;;){for(var x;m!==s||n!==0&&m.nodeType!==3||(l=o+n),m!==i||a!==0&&m.nodeType!==3||(d=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)h=m,m=x;for(;;){if(m===e)break t;if(h===s&&++c===n&&(l=o),h===i&&++u===a&&(d=o),(x=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=x}s=l===-1||d===-1?null:{start:l,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(lu={focusedElem:e,selectionRange:s},il=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,y=b.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:dr(t.type,v),y);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(k){De(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return b=ep,ep=!1,b}function ii(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Nu(t,s,i)}n=n.next}while(n!==a)}}function td(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function Su(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function kb(e){var t=e.alternate;t!==null&&(e.alternate=null,kb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wr],delete t[Ci],delete t[uu],delete t[Gw],delete t[Kw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wb(e){return e.tag===5||e.tag===3||e.tag===4}function tp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=dl));else if(a!==4&&(e=e.child,e!==null))for(Cu(e,t,s),e=e.sibling;e!==null;)Cu(e,t,s),e=e.sibling}function Tu(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Tu(e,t,s),e=e.sibling;e!==null;)Tu(e,t,s),e=e.sibling}var Xe=null,cr=!1;function rs(e,t,s){for(s=s.child;s!==null;)Nb(e,t,s),s=s.sibling}function Nb(e,t,s){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Ql,s)}catch{}switch(s.tag){case 5:it||Qa(s,t);case 6:var a=Xe,n=cr;Xe=null,rs(e,t,s),Xe=a,cr=n,Xe!==null&&(cr?(e=Xe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Xe.removeChild(s.stateNode));break;case 18:Xe!==null&&(cr?(e=Xe,s=s.stateNode,e.nodeType===8?Qd(e.parentNode,s):e.nodeType===1&&Qd(e,s),ji(e)):Qd(Xe,s.stateNode));break;case 4:a=Xe,n=cr,Xe=s.stateNode.containerInfo,cr=!0,rs(e,t,s),Xe=a,cr=n;break;case 0:case 11:case 14:case 15:if(!it&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nu(s,t,o),n=n.next}while(n!==a)}rs(e,t,s);break;case 1:if(!it&&(Qa(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(l){De(s,t,l)}rs(e,t,s);break;case 21:rs(e,t,s);break;case 22:s.mode&1?(it=(a=it)||s.memoizedState!==null,rs(e,t,s),it=a):rs(e,t,s);break;default:rs(e,t,s)}}function rp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new uN),t.forEach(function(a){var n=jN.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function lr(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,cr=!1;break e;case 3:Xe=l.stateNode.containerInfo,cr=!0;break e;case 4:Xe=l.stateNode.containerInfo,cr=!0;break e}l=l.return}if(Xe===null)throw Error(U(160));Nb(i,o,n),Xe=null,cr=!1;var d=n.alternate;d!==null&&(d.return=null),n.return=null}catch(c){De(n,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sb(t,e),t=t.sibling}function Sb(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lr(t,e),yr(e),a&4){try{ii(3,e,e.return),td(3,e)}catch(v){De(e,e.return,v)}try{ii(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:lr(t,e),yr(e),a&512&&s!==null&&Qa(s,s.return);break;case 5:if(lr(t,e),yr(e),a&512&&s!==null&&Qa(s,s.return),e.flags&32){var n=e.stateNode;try{gi(n,"")}catch(v){De(e,e.return,v)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Qg(n,i),Xc(l,o);var c=Xc(l,i);for(o=0;o<d.length;o+=2){var u=d[o],m=d[o+1];u==="style"?Jg(n,m):u==="dangerouslySetInnerHTML"?Yg(n,m):u==="children"?gi(n,m):pm(n,u,m,c)}switch(l){case"input":Hc(n,i);break;case"textarea":Gg(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?en(n,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?en(n,!!i.multiple,i.defaultValue,!0):en(n,!!i.multiple,i.multiple?[]:"",!1))}n[Ci]=i}catch(v){De(e,e.return,v)}}break;case 6:if(lr(t,e),yr(e),a&4){if(e.stateNode===null)throw Error(U(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(v){De(e,e.return,v)}}break;case 3:if(lr(t,e),yr(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:lr(t,e),yr(e);break;case 13:lr(t,e),yr(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Gm=Oe())),a&4&&rp(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(it=(c=it)||u,lr(t,e),it=c):lr(t,e),yr(e),a&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(m=G=u;G!==null;){switch(h=G,x=h.child,h.tag){case 0:case 11:case 14:case 15:ii(4,h,h.return);break;case 1:Qa(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){a=h,s=h.return;try{t=a,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){De(a,s,v)}}break;case 5:Qa(h,h.return);break;case 22:if(h.memoizedState!==null){ap(m);continue}}x!==null?(x.return=h,G=x):ap(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,c?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Xg("display",o))}catch(v){De(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(v){De(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:lr(t,e),yr(e),a&4&&rp(e);break;case 21:break;default:lr(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(wb(s)){var a=s;break e}s=s.return}throw Error(U(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(gi(n,""),a.flags&=-33);var i=tp(e);Tu(e,i,n);break;case 3:case 4:var o=a.stateNode.containerInfo,l=tp(e);Cu(e,l,o);break;default:throw Error(U(161))}}catch(d){De(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hN(e,t,s){G=e,Cb(e)}function Cb(e,t,s){for(var a=(e.mode&1)!==0;G!==null;){var n=G,i=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||No;if(!o){var l=n.alternate,d=l!==null&&l.memoizedState!==null||it;l=No;var c=it;if(No=o,(it=d)&&!c)for(G=n;G!==null;)o=G,d=o.child,o.tag===22&&o.memoizedState!==null?np(n):d!==null?(d.return=o,G=d):np(n);for(;i!==null;)G=i,Cb(i),i=i.sibling;G=n,No=l,it=c}sp(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,G=i):sp(e)}}function sp(e){for(;G!==null;){var t=G;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||td(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!it)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:dr(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vx(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Vx(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&ji(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}it||t.flags&512&&Su(t)}catch(h){De(t,t.return,h)}}if(t===e){G=null;break}if(s=t.sibling,s!==null){s.return=t.return,G=s;break}G=t.return}}function ap(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}function np(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{td(4,t)}catch(d){De(t,s,d)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(d){De(t,n,d)}}var i=t.return;try{Su(t)}catch(d){De(t,i,d)}break;case 5:var o=t.return;try{Su(t)}catch(d){De(t,o,d)}}}catch(d){De(t,t.return,d)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var xN=Math.ceil,vl=Zr.ReactCurrentDispatcher,Hm=Zr.ReactCurrentOwner,ar=Zr.ReactCurrentBatchConfig,me=0,Ke=null,$e=null,Ze=0,Ot=0,Ga=Us(0),He=0,_i=null,pa=0,rd=0,Qm=0,oi=null,Ct=null,Gm=0,fn=1/0,Rr=null,jl=!1,Pu=null,ks=null,So=!1,hs=null,kl=0,li=0,Au=null,Ho=-1,Qo=0;function jt(){return me&6?Oe():Ho!==-1?Ho:Ho=Oe()}function ws(e){return e.mode&1?me&2&&Ze!==0?Ze&-Ze:Xw.transition!==null?(Qo===0&&(Qo=c0()),Qo):(e=be,e!==0||(e=window.event,e=e===void 0?16:g0(e.type)),e):1}function hr(e,t,s,a){if(50<li)throw li=0,Au=null,Error(U(185));Xi(e,s,a),(!(me&2)||e!==Ke)&&(e===Ke&&(!(me&2)&&(rd|=s),He===4&&us(e,Ze)),Mt(e,a),s===1&&me===0&&!(t.mode&1)&&(fn=Oe()+500,Jl&&Vs()))}function Mt(e,t){var s=e.callbackNode;Xk(e,t);var a=nl(e,e===Ke?Ze:0);if(a===0)s!==null&&xx(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&xx(s),t===1)e.tag===0?Yw(ip.bind(null,e)):L0(ip.bind(null,e)),Hw(function(){!(me&6)&&Vs()}),s=null;else{switch(u0(a)){case 1:s=vm;break;case 4:s=l0;break;case 16:s=al;break;case 536870912:s=d0;break;default:s=al}s=Rb(s,Tb.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Tb(e,t){if(Ho=-1,Qo=0,me&6)throw Error(U(327));var s=e.callbackNode;if(nn()&&e.callbackNode!==s)return null;var a=nl(e,e===Ke?Ze:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=wl(e,a);else{t=a;var n=me;me|=2;var i=Ab();(Ke!==e||Ze!==t)&&(Rr=null,fn=Oe()+500,la(e,t));do try{gN();break}catch(l){Pb(e,l)}while(!0);Em(),vl.current=i,me=n,$e!==null?t=0:(Ke=null,Ze=0,t=He)}if(t!==0){if(t===2&&(n=ru(e),n!==0&&(a=n,t=Iu(e,n))),t===1)throw s=_i,la(e,0),us(e,a),Mt(e,Oe()),s;if(t===6)us(e,a);else{if(n=e.current.alternate,!(a&30)&&!pN(n)&&(t=wl(e,a),t===2&&(i=ru(e),i!==0&&(a=i,t=Iu(e,i))),t===1))throw s=_i,la(e,0),us(e,a),Mt(e,Oe()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(U(345));case 2:Ys(e,Ct,Rr);break;case 3:if(us(e,a),(a&130023424)===a&&(t=Gm+500-Oe(),10<t)){if(nl(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){jt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=cu(Ys.bind(null,e,Ct,Rr),t);break}Ys(e,Ct,Rr);break;case 4:if(us(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var o=31-mr(a);i=1<<o,o=t[o],o>n&&(n=o),a&=~i}if(a=n,a=Oe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*xN(a/1960))-a,10<a){e.timeoutHandle=cu(Ys.bind(null,e,Ct,Rr),a);break}Ys(e,Ct,Rr);break;case 5:Ys(e,Ct,Rr);break;default:throw Error(U(329))}}}return Mt(e,Oe()),e.callbackNode===s?Tb.bind(null,e):null}function Iu(e,t){var s=oi;return e.current.memoizedState.isDehydrated&&(la(e,t).flags|=256),e=wl(e,t),e!==2&&(t=Ct,Ct=s,t!==null&&Mu(t)),e}function Mu(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function pN(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!fr(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~Qm,t&=~rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-mr(t),a=1<<s;e[s]=-1,t&=~a}}function ip(e){if(me&6)throw Error(U(327));nn();var t=nl(e,0);if(!(t&1))return Mt(e,Oe()),null;var s=wl(e,t);if(e.tag!==0&&s===2){var a=ru(e);a!==0&&(t=a,s=Iu(e,a))}if(s===1)throw s=_i,la(e,0),us(e,t),Mt(e,Oe()),s;if(s===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,Ct,Rr),Mt(e,Oe()),null}function Km(e,t){var s=me;me|=1;try{return e(t)}finally{me=s,me===0&&(fn=Oe()+500,Jl&&Vs())}}function fa(e){hs!==null&&hs.tag===0&&!(me&6)&&nn();var t=me;me|=1;var s=ar.transition,a=be;try{if(ar.transition=null,be=1,e)return e()}finally{be=a,ar.transition=s,me=t,!(me&6)&&Vs()}}function Ym(){Ot=Ga.current,Ce(Ga)}function la(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ww(s)),$e!==null)for(s=$e.return;s!==null;){var a=s;switch(Im(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&cl();break;case 3:xn(),Ce(At),Ce(ct),Bm();break;case 5:Fm(a);break;case 4:xn();break;case 13:Ce(Ae);break;case 19:Ce(Ae);break;case 10:Rm(a.type._context);break;case 22:case 23:Ym()}s=s.return}if(Ke=e,$e=e=Ns(e.current,null),Ze=Ot=t,He=0,_i=null,Qm=rd=pa=0,Ct=oi=null,sa!==null){for(t=0;t<sa.length;t++)if(s=sa[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var o=i.next;i.next=n,a.next=o}s.pending=a}sa=null}return e}function Pb(e,t){do{var s=$e;try{if(Em(),zo.current=yl,bl){for(var a=Ee.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}bl=!1}if(xa=0,Ge=We=Ee=null,ni=!1,Ai=0,Hm.current=null,s===null||s.return===null){He=1,_i=t,$e=null;break}e:{var i=e,o=s.return,l=s,d=t;if(t=Ze,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Qx(o);if(x!==null){x.flags&=-257,Gx(x,o,l,i,t),x.mode&1&&Hx(i,c,t),t=x,d=c;var b=t.updateQueue;if(b===null){var v=new Set;v.add(d),t.updateQueue=v}else b.add(d);break e}else{if(!(t&1)){Hx(i,c,t),Xm();break e}d=Error(U(426))}}else if(Pe&&l.mode&1){var y=Qx(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Gx(y,o,l,i,t),Mm(pn(d,l));break e}}i=d=pn(d,l),He!==4&&(He=2),oi===null?oi=[i]:oi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=ub(i,d,t);Ux(i,p);break e;case 1:l=d;var f=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ks===null||!ks.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=mb(i,l,t);Ux(i,k);break e}}i=i.return}while(i!==null)}Mb(s)}catch(w){t=w,$e===s&&s!==null&&($e=s=s.return);continue}break}while(!0)}function Ab(){var e=vl.current;return vl.current=yl,e===null?yl:e}function Xm(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(pa&268435455)&&!(rd&268435455)||us(Ke,Ze)}function wl(e,t){var s=me;me|=2;var a=Ab();(Ke!==e||Ze!==t)&&(Rr=null,la(e,t));do try{fN();break}catch(n){Pb(e,n)}while(!0);if(Em(),me=s,vl.current=a,$e!==null)throw Error(U(261));return Ke=null,Ze=0,He}function fN(){for(;$e!==null;)Ib($e)}function gN(){for(;$e!==null&&!$k();)Ib($e)}function Ib(e){var t=Eb(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?Mb(e):$e=t,Hm.current=null}function Mb(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=cN(s,t),s!==null){s.flags&=32767,$e=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,$e=null;return}}else if(s=dN(s,t,Ot),s!==null){$e=s;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);He===0&&(He=5)}function Ys(e,t,s){var a=be,n=ar.transition;try{ar.transition=null,be=1,bN(e,t,s,a)}finally{ar.transition=n,be=a}return null}function bN(e,t,s,a){do nn();while(hs!==null);if(me&6)throw Error(U(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(Jk(e,i),e===Ke&&($e=Ke=null,Ze=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||So||(So=!0,Rb(al,function(){return nn(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=ar.transition,ar.transition=null;var o=be;be=1;var l=me;me|=4,Hm.current=null,mN(e,s),Sb(s,e),Fw(lu),il=!!ou,lu=ou=null,e.current=s,hN(s),zk(),me=l,be=o,ar.transition=i}else e.current=s;if(So&&(So=!1,hs=e,kl=n),i=e.pendingLanes,i===0&&(ks=null),Hk(s.stateNode),Mt(e,Oe()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(jl)throw jl=!1,e=Pu,Pu=null,e;return kl&1&&e.tag!==0&&nn(),i=e.pendingLanes,i&1?e===Au?li++:(li=0,Au=e):li=0,Vs(),null}function nn(){if(hs!==null){var e=u0(kl),t=ar.transition,s=be;try{if(ar.transition=null,be=16>e?16:e,hs===null)var a=!1;else{if(e=hs,hs=null,kl=0,me&6)throw Error(U(331));var n=me;for(me|=4,G=e.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var c=l[d];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:ii(8,u,i)}var m=u.child;if(m!==null)m.return=u,G=m;else for(;G!==null;){u=G;var h=u.sibling,x=u.return;if(kb(u),u===c){G=null;break}if(h!==null){h.return=x,G=h;break}G=x}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ii(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,G=p;break e}G=i.return}}var f=e.current;for(G=f;G!==null;){o=G;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,G=j;else e:for(o=f;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:td(9,l)}}catch(w){De(l,l.return,w)}if(l===o){G=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,G=k;break e}G=l.return}}if(me=n,Vs(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Ql,e)}catch{}a=!0}return a}finally{be=s,ar.transition=t}}return!1}function op(e,t,s){t=pn(s,t),t=ub(e,t,1),e=js(e,t,1),t=jt(),e!==null&&(Xi(e,1,t),Mt(e,t))}function De(e,t,s){if(e.tag===3)op(e,e,s);else for(;t!==null;){if(t.tag===3){op(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ks===null||!ks.has(a))){e=pn(s,e),e=mb(t,e,1),t=js(t,e,1),e=jt(),t!==null&&(Xi(t,1,e),Mt(t,e));break}}t=t.return}}function yN(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&s,Ke===e&&(Ze&s)===s&&(He===4||He===3&&(Ze&130023424)===Ze&&500>Oe()-Gm?la(e,0):Qm|=s),Mt(e,t)}function _b(e,t){t===0&&(e.mode&1?(t=po,po<<=1,!(po&130023424)&&(po=4194304)):t=1);var s=jt();e=Qr(e,t),e!==null&&(Xi(e,t,s),Mt(e,s))}function vN(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),_b(e,s)}function jN(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(U(314))}a!==null&&a.delete(t),_b(e,s)}var Eb;Eb=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Tt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Tt=!1,lN(e,t,s);Tt=!!(e.flags&131072)}else Tt=!1,Pe&&t.flags&1048576&&O0(t,hl,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wo(e,t),e=t.pendingProps;var n=un(t,ct.current);an(t,s),n=Vm(null,t,a,e,n,s);var i=$m();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(a)?(i=!0,ul(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Lm(t),n.updater=ed,t.stateNode=n,n._reactInternals=t,gu(t,a,e,s),t=vu(null,t,a,!0,i,s)):(t.tag=0,Pe&&i&&Am(t),bt(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=wN(a),e=dr(a,e),n){case 0:t=yu(null,t,a,e,s);break e;case 1:t=Xx(null,t,a,e,s);break e;case 11:t=Kx(null,t,a,e,s);break e;case 14:t=Yx(null,t,a,dr(a.type,e),s);break e}throw Error(U(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:dr(a,n),yu(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:dr(a,n),Xx(e,t,a,n,s);case 3:e:{if(fb(t),e===null)throw Error(U(387));a=t.pendingProps,i=t.memoizedState,n=i.element,z0(e,t),fl(t,a,null,s);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=pn(Error(U(423)),t),t=Jx(e,t,a,s,n);break e}else if(a!==n){n=pn(Error(U(424)),t),t=Jx(e,t,a,s,n);break e}else for(Ft=vs(t.stateNode.containerInfo.firstChild),Bt=t,Pe=!0,ur=null,s=V0(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(mn(),a===n){t=Gr(e,t,s);break e}bt(e,t,a,s)}t=t.child}return t;case 5:return q0(t),e===null&&xu(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,o=n.children,du(a,n)?o=null:i!==null&&du(a,i)&&(t.flags|=32),pb(e,t),bt(e,t,o,s),t.child;case 6:return e===null&&xu(t),null;case 13:return gb(e,t,s);case 4:return Om(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=hn(t,null,a,s):bt(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:dr(a,n),Kx(e,t,a,n,s);case 7:return bt(e,t,t.pendingProps,s),t.child;case 8:return bt(e,t,t.pendingProps.children,s),t.child;case 12:return bt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,je(xl,a._currentValue),a._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===n.children&&!At.current){t=Gr(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===a){if(i.tag===1){d=Vr(-1,s&-s),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),pu(i.return,s,t),l.lanes|=s;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),pu(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bt(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,an(t,s),n=nr(n),a=a(n),t.flags|=1,bt(e,t,a,s),t.child;case 14:return a=t.type,n=dr(a,t.pendingProps),n=dr(a.type,n),Yx(e,t,a,n,s);case 15:return hb(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:dr(a,n),Wo(e,t),t.tag=1,It(a)?(e=!0,ul(t)):e=!1,an(t,s),cb(t,a,n),gu(t,a,n,s),vu(null,t,a,!0,e,s);case 19:return bb(e,t,s);case 22:return xb(e,t,s)}throw Error(U(156,t.tag))};function Rb(e,t){return o0(e,t)}function kN(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,s,a){return new kN(e,t,s,a)}function Jm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wN(e){if(typeof e=="function")return Jm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gm)return 11;if(e===bm)return 14}return 2}function Ns(e,t){var s=e.alternate;return s===null?(s=sr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Go(e,t,s,a,n,i){var o=2;if(a=e,typeof e=="function")Jm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fa:return da(s.children,n,i,t);case fm:o=8,n|=8;break;case Vc:return e=sr(12,s,t,n|2),e.elementType=Vc,e.lanes=i,e;case $c:return e=sr(13,s,t,n),e.elementType=$c,e.lanes=i,e;case zc:return e=sr(19,s,t,n),e.elementType=zc,e.lanes=i,e;case qg:return sd(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $g:o=10;break e;case zg:o=9;break e;case gm:o=11;break e;case bm:o=14;break e;case os:o=16,a=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=sr(o,s,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function da(e,t,s,a){return e=sr(7,e,a,t),e.lanes=s,e}function sd(e,t,s,a){return e=sr(22,e,a,t),e.elementType=qg,e.lanes=s,e.stateNode={isHidden:!1},e}function tc(e,t,s){return e=sr(6,e,null,t),e.lanes=s,e}function rc(e,t,s){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NN(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Zm(e,t,s,a,n,i,o,l,d){return e=new NN(e,t,s,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(i),e}function SN(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oa,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function Db(e){if(!e)return Ms;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var s=e.type;if(It(s))return D0(e,s,t)}return t}function Lb(e,t,s,a,n,i,o,l,d){return e=Zm(s,a,!0,e,n,i,o,l,d),e.context=Db(null),s=e.current,a=jt(),n=ws(s),i=Vr(a,n),i.callback=t??null,js(s,i,n),e.current.lanes=n,Xi(e,n,a),Mt(e,a),e}function ad(e,t,s,a){var n=t.current,i=jt(),o=ws(n);return s=Db(s),t.context===null?t.context=s:t.pendingContext=s,t=Vr(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=js(n,t,o),e!==null&&(hr(e,n,o,i),$o(e,n,o)),o}function Nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function eh(e,t){lp(e,t),(e=e.alternate)&&lp(e,t)}function CN(){return null}var Ob=typeof reportError=="function"?reportError:function(e){console.error(e)};function th(e){this._internalRoot=e}nd.prototype.render=th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));ad(e,t,null,null)};nd.prototype.unmount=th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fa(function(){ad(null,e,null,null)}),t[Hr]=null}};function nd(e){this._internalRoot=e}nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=x0();e={blockedOn:null,target:e,priority:t};for(var s=0;s<cs.length&&t!==0&&t<cs[s].priority;s++);cs.splice(s,0,e),s===0&&f0(e)}};function rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dp(){}function TN(e,t,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var c=Nl(o);i.call(c)}}var o=Lb(t,a,e,0,null,!1,!1,"",dp);return e._reactRootContainer=o,e[Hr]=o.current,Ni(e.nodeType===8?e.parentNode:e),fa(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var l=a;a=function(){var c=Nl(d);l.call(c)}}var d=Zm(e,0,!1,null,null,!1,!1,"",dp);return e._reactRootContainer=d,e[Hr]=d.current,Ni(e.nodeType===8?e.parentNode:e),fa(function(){ad(t,d,s,a)}),d}function od(e,t,s,a,n){var i=s._reactRootContainer;if(i){var o=i;if(typeof n=="function"){var l=n;n=function(){var d=Nl(o);l.call(d)}}ad(t,o,e,n)}else o=TN(s,t,e,n,a);return Nl(o)}m0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Yn(t.pendingLanes);s!==0&&(jm(t,s|1),Mt(t,Oe()),!(me&6)&&(fn=Oe()+500,Vs()))}break;case 13:fa(function(){var a=Qr(e,1);if(a!==null){var n=jt();hr(a,e,1,n)}}),eh(e,1)}};km=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var s=jt();hr(t,e,134217728,s)}eh(e,134217728)}};h0=function(e){if(e.tag===13){var t=ws(e),s=Qr(e,t);if(s!==null){var a=jt();hr(s,e,t,a)}eh(e,t)}};x0=function(){return be};p0=function(e,t){var s=be;try{return be=e,t()}finally{be=s}};Zc=function(e,t,s){switch(t){case"input":if(Hc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=Xl(a);if(!n)throw Error(U(90));Hg(a),Hc(a,n)}}}break;case"textarea":Gg(e,s);break;case"select":t=s.value,t!=null&&en(e,!!s.multiple,t,!1)}};t0=Km;r0=fa;var PN={usingClientEntryPoint:!1,Events:[Zi,$a,Xl,Zg,e0,Km]},Vn={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AN={bundleType:Vn.bundleType,version:Vn.version,rendererPackageName:Vn.rendererPackageName,rendererConfig:Vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n0(e),e===null?null:e.stateNode},findFiberByHostInstance:Vn.findFiberByHostInstance||CN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Ql=Co.inject(AN),Sr=Co}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PN;Qt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rh(t))throw Error(U(200));return SN(e,t,null,s)};Qt.createRoot=function(e,t){if(!rh(e))throw Error(U(299));var s=!1,a="",n=Ob;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Zm(e,1,!1,null,null,s,!1,a,n),e[Hr]=t.current,Ni(e.nodeType===8?e.parentNode:e),new th(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=n0(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return fa(e)};Qt.hydrate=function(e,t,s){if(!id(t))throw Error(U(200));return od(null,e,t,!0,s)};Qt.hydrateRoot=function(e,t,s){if(!rh(e))throw Error(U(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",o=Ob;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=Lb(t,null,e,1,s??null,n,!1,i,o),e[Hr]=t.current,Ni(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new nd(t)};Qt.render=function(e,t,s){if(!id(t))throw Error(U(200));return od(null,e,t,!1,s)};Qt.unmountComponentAtNode=function(e){if(!id(e))throw Error(U(40));return e._reactRootContainer?(fa(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[Hr]=null})}),!0):!1};Qt.unstable_batchedUpdates=Km;Qt.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!id(s))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return od(e,t,s,!1,a)};Qt.version="18.3.1-next-f1338f8080-20240426";function Fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fb)}catch(e){console.error(e)}}Fb(),Fg.exports=Qt;var Bb=Fg.exports,cp=Bb;Bc.createRoot=cp.createRoot,Bc.hydrateRoot=cp.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ei.apply(this,arguments)}var xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xs||(xs={}));const up="popstate";function IN(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:l}=a.location;return _u("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Sl(n)}return _N(t,s,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MN(){return Math.random().toString(36).substr(2,8)}function mp(e,t){return{usr:e.state,key:e.key,idx:t}}function _u(e,t,s,a){return s===void 0&&(s=null),Ei({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sn(t):t,{state:s,key:t&&t.key||a||MN()})}function Sl(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Sn(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function _N(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,l=xs.Pop,d=null,c=u();c==null&&(c=0,o.replaceState(Ei({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=xs.Pop;let y=u(),p=y==null?null:y-c;c=y,d&&d({action:l,location:v.location,delta:p})}function h(y,p){l=xs.Push;let f=_u(v.location,y,p);c=u()+1;let j=mp(f,c),k=v.createHref(f);try{o.pushState(j,"",k)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(k)}i&&d&&d({action:l,location:v.location,delta:1})}function x(y,p){l=xs.Replace;let f=_u(v.location,y,p);c=u();let j=mp(f,c),k=v.createHref(f);o.replaceState(j,"",k),i&&d&&d({action:l,location:v.location,delta:0})}function b(y){let p=n.location.origin!=="null"?n.location.origin:n.location.href,f=typeof y=="string"?y:Sl(y);return f=f.replace(/ $/,"%20"),Be(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return l},get location(){return e(n,o)},listen(y){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(up,m),d=y,()=>{n.removeEventListener(up,m),d=null}},createHref(y){return t(n,y)},createURL:b,encodeLocation(y){let p=b(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:x,go(y){return o.go(y)}};return v}var hp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hp||(hp={}));function EN(e,t,s){return s===void 0&&(s="/"),RN(e,t,s)}function RN(e,t,s,a){let n=typeof t=="string"?Sn(t):t,i=ah(n.pathname||"/",s);if(i==null)return null;let o=Ub(e);DN(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let c=QN(i);l=qN(o[d],c)}return l}function Ub(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(Be(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let c=Ss([a,d.relativePath]),u=s.concat(d);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ub(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:$N(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))n(i,o);else for(let d of Vb(i.path))n(i,o,d)}),t}function Vb(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=Vb(a.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),n&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function DN(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:zN(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const LN=/^:[\w-]+$/,ON=3,FN=2,BN=1,UN=10,VN=-2,xp=e=>e==="*";function $N(e,t){let s=e.split("/"),a=s.length;return s.some(xp)&&(a+=VN),t&&(a+=FN),s.filter(n=>!xp(n)).reduce((n,i)=>n+(LN.test(i)?ON:i===""?BN:UN),a)}function zN(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function qN(e,t,s){let{routesMeta:a}=e,n={},i="/",o=[];for(let l=0;l<a.length;++l){let d=a[l],c=l===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=WN({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),h=d.route;if(!m)return null;Object.assign(n,m.params),o.push({params:n,pathname:Ss([i,m.pathname]),pathnameBase:JN(Ss([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Ss([i,m.pathnameBase]))}return o}function WN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=HN(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((c,u,m)=>{let{paramName:h,isOptional:x}=u;if(h==="*"){let v=l[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[m];return x&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function HN(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),sh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function QN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ah(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}const GN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KN=e=>GN.test(e);function YN(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Sn(e):e,i;if(s)if(KN(s))i=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),sh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?i=pp(s.substring(1),"/"):i=pp(s,t)}else i=t;return{pathname:i,search:ZN(a),hash:e1(n)}}function pp(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function sc(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XN(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function nh(e,t){let s=XN(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function ih(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Sn(e):(n=Ei({},e),Be(!n.pathname||!n.pathname.includes("?"),sc("?","pathname","search",n)),Be(!n.pathname||!n.pathname.includes("#"),sc("#","pathname","hash",n)),Be(!n.search||!n.search.includes("#"),sc("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=s;else{let m=t.length-1;if(!a&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;n.pathname=h.join("/")}l=m>=0?t[m]:"/"}let d=YN(n,l),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Ss=e=>e.join("/").replace(/\/\/+/g,"/"),JN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $b=["post","put","patch","delete"];new Set($b);const r1=["get",...$b];new Set(r1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ri.apply(this,arguments)}const oh=g.createContext(null),s1=g.createContext(null),$s=g.createContext(null),ld=g.createContext(null),es=g.createContext({outlet:null,matches:[],isDataRoute:!1}),zb=g.createContext(null);function a1(e,t){let{relative:s}=t===void 0?{}:t;Cn()||Be(!1);let{basename:a,navigator:n}=g.useContext($s),{hash:i,pathname:o,search:l}=Wb(e,{relative:s}),d=o;return a!=="/"&&(d=o==="/"?a:Ss([a,o])),n.createHref({pathname:d,search:l,hash:i})}function Cn(){return g.useContext(ld)!=null}function xt(){return Cn()||Be(!1),g.useContext(ld).location}function qb(e){g.useContext($s).static||g.useLayoutEffect(e)}function ie(){let{isDataRoute:e}=g.useContext(es);return e?g1():n1()}function n1(){Cn()||Be(!1);let e=g.useContext(oh),{basename:t,future:s,navigator:a}=g.useContext($s),{matches:n}=g.useContext(es),{pathname:i}=xt(),o=JSON.stringify(nh(n,s.v7_relativeSplatPath)),l=g.useRef(!1);return qb(()=>{l.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){a.go(c);return}let m=ih(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ss([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,o,i,e])}function Ta(){let{matches:e}=g.useContext(es),t=e[e.length-1];return t?t.params:{}}function Wb(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=g.useContext($s),{matches:n}=g.useContext(es),{pathname:i}=xt(),o=JSON.stringify(nh(n,a.v7_relativeSplatPath));return g.useMemo(()=>ih(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function i1(e,t){return o1(e,t)}function o1(e,t,s,a){Cn()||Be(!1);let{navigator:n}=g.useContext($s),{matches:i}=g.useContext(es),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let c=xt(),u;if(t){var m;let y=typeof t=="string"?Sn(t):t;d==="/"||(m=y.pathname)!=null&&m.startsWith(d)||Be(!1),u=y}else u=c;let h=u.pathname||"/",x=h;if(d!=="/"){let y=d.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=EN(e,{pathname:x}),v=m1(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ss([d,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:Ss([d,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,s,a);return t&&v?g.createElement(ld.Provider,{value:{location:Ri({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xs.Pop}},v):v}function l1(){let e=f1(),t=t1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),s?g.createElement("pre",{style:n},s):null,null)}const d1=g.createElement(l1,null);class c1 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(es.Provider,{value:this.props.routeContext},g.createElement(zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u1(e){let{routeContext:t,match:s,children:a}=e,n=g.useContext(oh);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(es.Provider,{value:t},a)}function m1(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(n=s)==null?void 0:n.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Be(!1),o=o.slice(0,Math.min(o.length,u+1))}let d=!1,c=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:h,errors:x}=s,b=m.route.loader&&h[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){d=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let x,b=!1,v=null,y=null;s&&(x=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||d1,d&&(c<0&&h===0?(b1("route-fallback"),b=!0,y=null):c===h&&(b=!0,y=m.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),f=()=>{let j;return x?j=v:b?j=y:m.route.Component?j=g.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,g.createElement(u1,{match:m,routeContext:{outlet:u,matches:p,isDataRoute:s!=null},children:j})};return s&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?g.createElement(c1,{location:s.location,revalidation:s.revalidation,component:v,error:x,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var Hb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hb||{}),Qb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qb||{});function h1(e){let t=g.useContext(oh);return t||Be(!1),t}function x1(e){let t=g.useContext(s1);return t||Be(!1),t}function p1(e){let t=g.useContext(es);return t||Be(!1),t}function Gb(e){let t=p1(),s=t.matches[t.matches.length-1];return s.route.id||Be(!1),s.route.id}function f1(){var e;let t=g.useContext(zb),s=x1(),a=Gb();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function g1(){let{router:e}=h1(Hb.UseNavigateStable),t=Gb(Qb.UseNavigateStable),s=g.useRef(!1);return qb(()=>{s.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Ri({fromRouteId:t},i)))},[e,t])}const fp={};function b1(e,t,s){fp[e]||(fp[e]=!0)}function y1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Te(e){let{to:t,replace:s,state:a,relative:n}=e;Cn()||Be(!1);let{future:i,static:o}=g.useContext($s),{matches:l}=g.useContext(es),{pathname:d}=xt(),c=ie(),u=ih(t,nh(l,i.v7_relativeSplatPath),d,n==="path"),m=JSON.stringify(u);return g.useEffect(()=>c(JSON.parse(m),{replace:s,state:a,relative:n}),[c,m,n,s,a]),null}function Z(e){Be(!1)}function v1(e){let{basename:t="/",children:s=null,location:a,navigationType:n=xs.Pop,navigator:i,static:o=!1,future:l}=e;Cn()&&Be(!1);let d=t.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:d,navigator:i,static:o,future:Ri({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof a=="string"&&(a=Sn(a));let{pathname:u="/",search:m="",hash:h="",state:x=null,key:b="default"}=a,v=g.useMemo(()=>{let y=ah(u,d);return y==null?null:{location:{pathname:y,search:m,hash:h,state:x,key:b},navigationType:n}},[d,u,m,h,x,b,n]);return v==null?null:g.createElement($s.Provider,{value:c},g.createElement(ld.Provider,{children:s,value:v}))}function ac(e){let{children:t,location:s}=e;return i1(Eu(t),s)}new Promise(()=>{});function Eu(e,t){t===void 0&&(t=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let i=[...t,n];if(a.type===g.Fragment){s.push.apply(s,Eu(a.props.children,i));return}a.type!==Z&&Be(!1),!a.props.index||!a.props.children||Be(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Eu(a.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ru.apply(this,arguments)}function j1(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function k1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function w1(e,t){return e.button===0&&(!t||t==="_self")&&!k1(e)}function Du(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function N1(e,t){let s=Du(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(i=>{s.append(n,i)})}),s}const S1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C1="6";try{window.__reactRouterVersion=C1}catch{}const T1="startTransition",gp=yk[T1];function P1(e){let{basename:t,children:s,future:a,window:n}=e,i=g.useRef();i.current==null&&(i.current=IN({window:n,v5Compat:!0}));let o=i.current,[l,d]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=a||{},u=g.useCallback(m=>{c&&gp?gp(()=>d(m)):d(m)},[d,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.useEffect(()=>y1(a),[a]),g.createElement(v1,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:a})}const A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=g.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:l,target:d,to:c,preventScrollReset:u,viewTransition:m}=t,h=j1(t,S1),{basename:x}=g.useContext($s),b,v=!1;if(typeof c=="string"&&I1.test(c)&&(b=c,A1))try{let j=new URL(window.location.href),k=c.startsWith("//")?new URL(j.protocol+c):new URL(c),w=ah(k.pathname,x);k.origin===j.origin&&w!=null?c=w+k.search+k.hash:v=!0}catch{}let y=a1(c,{relative:n}),p=M1(c,{replace:o,state:l,target:d,preventScrollReset:u,relative:n,viewTransition:m});function f(j){a&&a(j),j.defaultPrevented||p(j)}return g.createElement("a",Ru({},h,{href:b||y,onClick:v||i?a:f,ref:s,target:d}))});var bp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bp||(bp={}));var yp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yp||(yp={}));function M1(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=ie(),c=xt(),u=Wb(e,{relative:o});return g.useCallback(m=>{if(w1(m,s)){m.preventDefault();let h=a!==void 0?a:Sl(c)===Sl(u);d(e,{replace:h,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[c,d,u,a,n,s,e,i,o,l])}function _1(e){let t=g.useRef(Du(e)),s=g.useRef(!1),a=xt(),n=g.useMemo(()=>N1(a.search,s.current?null:t.current),[a.search]),i=ie(),o=g.useCallback((l,d)=>{const c=Du(typeof l=="function"?l(n):l);s.current=!0,i("?"+c,d)},[i,n]);return[n,o]}var Nr=[],Zt=[],E1=Uint8Array,nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ra=0,R1=nc.length;Ra<R1;++Ra)Nr[Ra]=nc[Ra],Zt[nc.charCodeAt(Ra)]=Ra;Zt[45]=62;Zt[95]=63;function D1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.indexOf("=");s===-1&&(s=t);var a=s===t?0:4-s%4;return[s,a]}function L1(e,t,s){return(t+s)*3/4-s}function Di(e){var t,s=D1(e),a=s[0],n=s[1],i=new E1(L1(e,a,n)),o=0,l=n>0?a-4:a,d;for(d=0;d<l;d+=4)t=Zt[e.charCodeAt(d)]<<18|Zt[e.charCodeAt(d+1)]<<12|Zt[e.charCodeAt(d+2)]<<6|Zt[e.charCodeAt(d+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return n===2&&(t=Zt[e.charCodeAt(d)]<<2|Zt[e.charCodeAt(d+1)]>>4,i[o++]=t&255),n===1&&(t=Zt[e.charCodeAt(d)]<<10|Zt[e.charCodeAt(d+1)]<<4|Zt[e.charCodeAt(d+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function O1(e){return Nr[e>>18&63]+Nr[e>>12&63]+Nr[e>>6&63]+Nr[e&63]}function F1(e,t,s){for(var a,n=[],i=t;i<s;i+=3)a=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),n.push(O1(a));return n.join("")}function Li(e){for(var t,s=e.length,a=s%3,n=[],i=16383,o=0,l=s-a;o<l;o+=i)n.push(F1(e,o,o+i>l?l:o+i));return a===1?(t=e[s-1],n.push(Nr[t>>2]+Nr[t<<4&63]+"==")):a===2&&(t=(e[s-2]<<8)+e[s-1],n.push(Nr[t>>10]+Nr[t>>4&63]+Nr[t<<2&63]+"=")),n.join("")}function Or(e){if(e===void 0)return{};if(!Kb(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function B1(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Kb(e){var n;const t=typeof e=="object",s=Object.getPrototypeOf(e),a=s===null||s===Object.prototype||((n=s==null?void 0:s.constructor)==null?void 0:n.name)==="Object";return t&&a}const Yb=!0,gn=BigInt("-9223372036854775808"),lh=BigInt("9223372036854775807"),Lu=BigInt("0"),U1=BigInt("8"),V1=BigInt("256");function Xb(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function $1(e){e<Lu&&(e-=gn+gn);let t=e.toString(16);t.length%2===1&&(t="0"+t);const s=new Uint8Array(new ArrayBuffer(8));let a=0;for(const n of t.match(/.{2}/g).reverse())s.set([parseInt(n,16)],a++),e>>=U1;return Li(s)}function z1(e){const t=Di(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let s=Lu,a=Lu;for(const n of t)s+=BigInt(n)*V1**a,a++;return s>lh&&(s+=gn+gn),s}function q1(e){if(e<gn||lh<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Li(new Uint8Array(t))}function W1(e){const t=Di(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const H1=DataView.prototype.setBigInt64?q1:$1,Q1=DataView.prototype.getBigInt64?W1:z1,vp=1024;function Jb(e){if(e.length>vp)throw new Error(`Field name ${e} exceeds maximum field name length ${vp}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const s=e.charCodeAt(t);if(s<32||s>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function bn(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(a=>bn(a));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const a=t[0][0];if(a==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Di(e.$bytes).buffer}if(a==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return Q1(e.$integer)}if(a==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const n=Di(e.$float);if(n.byteLength!==8)throw new Error(`Received ${n.byteLength} bytes, expected 8 for $float`);const o=new DataView(n.buffer).getFloat64(0,Yb);if(!Xb(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(a==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(a==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const s={};for(const[a,n]of Object.entries(e))Jb(a),s[a]=bn(n);return s}const jp=16384;function di(e){const t=JSON.stringify(e,(s,a)=>a===void 0?"undefined":typeof a=="bigint"?`${a.toString()}n`:a);if(t.length>jp){const s="[...truncated]";let a=jp-s.length;const n=t.codePointAt(a-1);return n!==void 0&&n>65535&&(a-=1),t.substring(0,a)+s}return t}function Ou(e,t,s,a){var o;if(e===void 0){const l=s&&` (present at path ${s} in original object ${di(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<gn||lh<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:H1(e)}}if(typeof e=="number")if(Xb(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,Yb),{$float:Li(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Li(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,d)=>Ou(l,t,s+`[${d}]`));if(e instanceof Set)throw new Error(ic(s,"Set",[...e],t));if(e instanceof Map)throw new Error(ic(s,"Map",[...e],t));if(!Kb(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,d=l?`${l} `:"";throw new Error(ic(s,d,e,t))}const n={},i=Object.entries(e);i.sort(([l,d],[c,u])=>l===c?0:l<c?-1:1);for(const[l,d]of i)d!==void 0&&(Jb(l),n[l]=Ou(d,t,s+`.${l}`));return n}function ic(e,t,s,a){return e?`${t}${di(s)} is not a supported Convex type (present at path ${e} in original object ${di(a)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${di(s)} is not a supported Convex type.`}function Ut(e){return Ou(e,e,"")}var G1=Object.defineProperty,K1=(e,t,s)=>t in e?G1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,oc=(e,t,s)=>K1(e,typeof t!="symbol"?t+"":t,s),kp,wp;const Y1=Symbol.for("ConvexError");class Cl extends(wp=Error,kp=Y1,wp){constructor(t){super(typeof t=="string"?t:di(t)),oc(this,"name","ConvexError"),oc(this,"data"),oc(this,kp,!0),this.data=t}}const Zb=()=>Array.from({length:4},()=>0);Zb();Zb();const Np="1.30.0";var X1=Object.defineProperty,J1=(e,t,s)=>t in e?X1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Sp=(e,t,s)=>J1(e,typeof t!="symbol"?t+"":t,s);const Z1="color:rgb(0, 145, 255)";function ey(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class ty{constructor(t){Sp(this,"_onLogLineFuncs"),Sp(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let s=Math.random().toString(36).substring(2,15);for(let a=0;a<10&&this._onLogLineFuncs[s]!==void 0;a++)s=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[s]=t,()=>{delete this._onLogLineFuncs[s]}}logVerbose(...t){if(this._verbose)for(const s of Object.values(this._onLogLineFuncs))s("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const s of Object.values(this._onLogLineFuncs))s("info",...t)}warn(...t){for(const s of Object.values(this._onLogLineFuncs))s("warn",...t)}error(...t){for(const s of Object.values(this._onLogLineFuncs))s("error",...t)}}function ry(e){const t=new ty(e);return t.addLogLineListener((s,...a)=>{switch(s){case"debug":console.debug(...a);break;case"info":console.log(...a);break;case"warn":console.warn(...a);break;case"error":console.error(...a);break;default:console.log(...a)}}),t}function sy(e){return new ty(e)}function Tl(e,t,s,a,n){const i=ey(s);if(typeof n=="object"&&(n=`ConvexError ${JSON.stringify(n.errorData,null,2)}`),t==="info"){const o=n.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${i}(${a})] Could not parse console.log`);return}const l=n.slice(1,o[0].length-2),d=n.slice(o[0].length);e.log(`%c[CONVEX ${i}(${a})] [${l}]`,Z1,d)}else e.error(`[CONVEX ${i}(${a})] ${n}`)}function e2(e,t){const s=`[CONVEX FATAL ERROR] ${t}`;return e.error(s),new Error(s)}function Ka(e,t,s){return`[CONVEX ${ey(e)}(${t})] ${s.errorMessage}
  Called by client`}function Fu(e,t){return t.data=e.errorData,t}function ga(e){const t=e.split(":");let s,a;return t.length===1?(s=t[0],a="default"):(s=t.slice(0,t.length-1).join(":"),a=t[t.length-1]),s.endsWith(".js")&&(s=s.slice(0,-3)),`${s}:${a}`}function ca(e,t){return JSON.stringify({udfPath:ga(e),args:Ut(t)})}function Cp(e,t,s){const{initialNumItems:a,id:n}=s;return JSON.stringify({type:"paginated",udfPath:ga(e),args:Ut(t),options:Ut({initialNumItems:a,id:n})})}var t2=Object.defineProperty,r2=(e,t,s)=>t in e?t2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,vr=(e,t,s)=>r2(e,typeof t!="symbol"?t+"":t,s);class s2{constructor(){vr(this,"nextQueryId"),vr(this,"querySetVersion"),vr(this,"querySet"),vr(this,"queryIdToToken"),vr(this,"identityVersion"),vr(this,"auth"),vr(this,"outstandingQueriesOlderThanRestart"),vr(this,"outstandingAuthOlderThanRestart"),vr(this,"paused"),vr(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,s,a,n){const i=ga(t),o=ca(i,s),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const d=this.nextQueryId++,c={id:d,canonicalizedUdfPath:i,args:s,numSubscribers:1,journal:a,componentPath:n};this.querySet.set(o,c),this.queryIdToToken.set(d,o);const u=this.querySetVersion,m=this.querySetVersion+1,h={type:"Add",queryId:d,udfPath:i,args:[Ut(s)],journal:a,componentPath:n};return this.paused?this.pendingQuerySetModifications.set(d,h):this.querySetVersion=m,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:u,newVersion:m,modifications:[h]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const s of t.modifications)switch(s.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(s.queryId);const a=s.journal;if(a!==void 0){const n=this.queryIdToToken.get(s.queryId);n!==void 0&&(this.querySet.get(n).journal=a)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(s.queryId);break}default:throw new Error(`Invalid modification ${s.type}`)}}queryId(t,s){const a=ga(t),n=ca(a,s),i=this.querySet.get(n);return i!==void 0?i.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const s=this.identityVersion;return this.paused||(this.identityVersion=s+1),{type:"Authenticate",baseVersion:s,...this.auth}}setAdminAuth(t,s){const a={tokenType:"Admin",value:t,impersonating:s};this.auth=a;const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...a}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var s;return((s=this.auth)==null?void 0:s.value)!==t}queryPath(t){const s=this.queryIdToToken.get(t);return s?this.querySet.get(s).canonicalizedUdfPath:null}queryArgs(t){const s=this.queryIdToToken.get(t);return s?this.querySet.get(s).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var s;return(s=this.querySet.get(t))==null?void 0:s.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const s=[];for(const i of this.querySet.values()){const o={type:"Add",queryId:i.id,udfPath:i.canonicalizedUdfPath,args:[Ut(i.args)],journal:i.journal,componentPath:i.componentPath};s.push(o),t.has(i.id)||this.outstandingQueriesOlderThanRestart.add(i.id)}this.querySetVersion=1;const a={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:s};if(!this.auth)return this.identityVersion=0,[a,void 0];this.outstandingAuthOlderThanRestart=!0;const n={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[a,n]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,s=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,s]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const s=this.querySet.get(t);if(s.numSubscribers>1)return s.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(s.id),this.outstandingQueriesOlderThanRestart.delete(s.id);const a=this.querySetVersion,n=this.querySetVersion+1,i={type:"Remove",queryId:s.id};return this.paused?this.pendingQuerySetModifications.has(s.id)?this.pendingQuerySetModifications.delete(s.id):this.pendingQuerySetModifications.set(s.id,i):this.querySetVersion=n,{type:"ModifyQuerySet",baseVersion:a,newVersion:n,modifications:[i]}}}}var a2=Object.defineProperty,n2=(e,t,s)=>t in e?a2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,To=(e,t,s)=>n2(e,typeof t!="symbol"?t+"":t,s);class i2{constructor(t,s){this.logger=t,this.markConnectionStateDirty=s,To(this,"inflightRequests"),To(this,"requestsOlderThanRestart"),To(this,"inflightMutationsCount",0),To(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,s){const a=new Promise(n=>{const i=s?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:i,requestedAt:new Date,onResult:n}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),a}onResponse(t){const s=this.inflightRequests.get(t.requestId);if(s===void 0||s.status.status==="Completed")return null;const a=s.message.type==="Mutation"?"mutation":"action",n=s.message.udfPath;for(const d of t.logLines)Tl(this.logger,"info",a,n,d);const i=s.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:bn(t.result)},l=()=>i.onResult(o);else{const d=t.result,{errorData:c}=t;Tl(this.logger,"error",a,n,d),o={success:!1,errorMessage:d,errorData:c!==void 0?bn(c):void 0,logLines:t.logLines},l=()=>i.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),s.message.type==="Action"?this.inflightActionsCount--:s.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(s.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const s=new Map;for(const[a,n]of this.inflightRequests.entries()){const i=n.status;i.status==="Completed"&&i.ts.lessThanOrEqual(t)&&(i.onResolve(),s.set(a,i.result),n.message.type==="Mutation"?this.inflightMutationsCount--:n.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(a),this.requestsOlderThanRestart.delete(a))}return s.size>0&&this.markConnectionStateDirty(),s}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[s,a]of this.inflightRequests){if(a.status.status==="NotSent"){a.status.status="Requested",t.push(a.message);continue}if(a.message.type==="Mutation")t.push(a.message);else if(a.message.type==="Action"){if(this.inflightRequests.delete(s),this.requestsOlderThanRestart.delete(s),this.inflightActionsCount--,a.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");a.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,s]of this.inflightRequests)if(s.status.status==="NotSent"){s.status.status="Requested",t.push(s.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const s of this.inflightRequests.values())s.status.status!=="Completed"&&s.status.requestedAt.getTime()<t&&(t=s.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Oi=Symbol.for("functionName"),ay=Symbol.for("toReferencePath");function o2(e){return e[ay]??null}function l2(e){return e.startsWith("function://")}function d2(e){let t;if(typeof e=="string")l2(e)?t={functionHandle:e}:t={name:e};else if(e[Oi])t={name:e[Oi]};else{const s=o2(e);if(!s)throw new Error(`${e} is not a functionReference`);t={reference:s}}return t}function Je(e){const t=d2(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const s=e[Oi];if(!s)throw new Error(`${e} is not a functionReference`);return s}function ny(e){return{[Oi]:e}}function iy(e=[]){const t={get(s,a){if(typeof a=="string"){const n=[...e,a];return iy(n)}else if(a===Oi){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const n=e.slice(0,-1).join("/"),i=e[e.length-1];return i==="default"?n:n+":"+i}else return a===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const c2=iy();var u2=Object.defineProperty,m2=(e,t,s)=>t in e?u2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pl=(e,t,s)=>m2(e,typeof t!="symbol"?t+"":t,s);class Fi{constructor(t){Pl(this,"queryResults"),Pl(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...s){const a=Or(s[0]),n=Je(t),i=this.queryResults.get(ca(n,a));if(i!==void 0)return Fi.queryValue(i.result)}getAllQueries(t){const s=[],a=Je(t);for(const n of this.queryResults.values())n.udfPath===ga(a)&&s.push({args:n.args,value:Fi.queryValue(n.result)});return s}setQuery(t,s,a){const n=Or(s),i=Je(t),o=ca(i,n);let l;a===void 0?l=void 0:l={success:!0,value:a,logLines:[]};const d={udfPath:i,args:n,result:l};this.queryResults.set(o,d),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class h2{constructor(){Pl(this,"queryResults"),Pl(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,s){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!s.has(o.mutationId));const a=this.queryResults;this.queryResults=new Map(t);const n=new Fi(this.queryResults);for(const o of this.optimisticUpdates)o.update(n);const i=[];for(const[o,l]of this.queryResults){const d=a.get(o);(d===void 0||d.result!==l.result)&&i.push(o)}return i}applyOptimisticUpdate(t,s){this.optimisticUpdates.push({update:t,mutationId:s});const a=new Fi(this.queryResults);return t(a),a.modifiedQueries}rawQueryResult(t){const s=this.queryResults.get(t);if(s!==void 0)return s.result}queryResult(t){const s=this.queryResults.get(t);if(s===void 0)return;const a=s.result;if(a!==void 0){if(a.success)return a.value;throw a.errorData!==void 0?Fu(a,new Cl(Ka("query",s.udfPath,a))):new Error(Ka("query",s.udfPath,a))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var a;const s=this.queryResults.get(t);return(a=s==null?void 0:s.result)==null?void 0:a.logLines}}var x2=Object.defineProperty,p2=(e,t,s)=>t in e?x2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,lc=(e,t,s)=>p2(e,typeof t!="symbol"?t+"":t,s);class St{constructor(t,s){lc(this,"low"),lc(this,"high"),lc(this,"__isUnsignedLong__"),this.low=t|0,this.high=s|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new St(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,s=this.low;return[s&255,s>>>8&255,s>>>16&255,s>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?Tp:t>=f2?g2:new St(t%ci|0,t/ci|0)}toString(){return(BigInt(this.high)*BigInt(ci)+BigInt(this.low)).toString()}equals(t){return St.isLong(t)||(t=St.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return St.isLong(t)||(t=St.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?St.fromNumber(t):new St(t.low,t.high)}}const Tp=new St(0,0),Pp=65536,ci=Pp*Pp,f2=ci*ci,g2=new St(-1,-1);var b2=Object.defineProperty,y2=(e,t,s)=>t in e?b2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Po=(e,t,s)=>y2(e,typeof t!="symbol"?t+"":t,s);class Ap{constructor(t,s){Po(this,"version"),Po(this,"remoteQuerySet"),Po(this,"queryPath"),Po(this,"logger"),this.version={querySet:0,ts:St.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=s}transition(t){const s=t.startVersion;if(this.version.querySet!==s.querySet||this.version.ts.notEquals(s.ts)||this.version.identity!==s.identity)throw new Error(`Invalid start version: ${s.ts.toString()}:${s.querySet}:${s.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const a of t.modifications)switch(a.type){case"QueryUpdated":{const n=this.queryPath(a.queryId);if(n)for(const o of a.logLines)Tl(this.logger,"info","query",n,o);const i=bn(a.value??null);this.remoteQuerySet.set(a.queryId,{success:!0,value:i,logLines:a.logLines});break}case"QueryFailed":{const n=this.queryPath(a.queryId);if(n)for(const o of a.logLines)Tl(this.logger,"info","query",n,o);const{errorData:i}=a;this.remoteQuerySet.set(a.queryId,{success:!1,errorMessage:a.errorMessage,errorData:i!==void 0?bn(i):void 0,logLines:a.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(a.queryId);break}default:throw new Error(`Invalid modification ${a.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function dc(e){const t=Di(e);return St.fromBytesLE(Array.from(t))}function v2(e){const t=new Uint8Array(e.toBytesLE());return Li(t)}function Ip(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:dc(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:dc(e.startVersion.ts)},endVersion:{...e.endVersion,ts:dc(e.endVersion.ts)}}}}function j2(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:v2(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var k2=Object.defineProperty,w2=(e,t,s)=>t in e?k2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ye=(e,t,s)=>w2(e,typeof t!="symbol"?t+"":t,s);const N2=1e3,S2=1001,C2=1005,T2=4040;let Ko;function Yo(){return Ko===void 0&&(Ko=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ko+performance.now())}function Mp(){return`t=${Math.round((Yo()-Ko)/100)/10}s`}const oy={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function P2(e){if(e===void 0)return"Unknown";for(const t of Object.keys(oy))if(e.startsWith(t))return t;return"Unknown"}class A2{constructor(t,s,a,n,i,o){this.markConnectionStateDirty=i,this.debug=o,Ye(this,"socket"),Ye(this,"connectionCount"),Ye(this,"_hasEverConnected",!1),Ye(this,"lastCloseReason"),Ye(this,"transitionChunkBuffer",null),Ye(this,"defaultInitialBackoff"),Ye(this,"maxBackoff"),Ye(this,"retries"),Ye(this,"serverInactivityThreshold"),Ye(this,"reconnectDueToServerInactivityTimeout"),Ye(this,"uri"),Ye(this,"onOpen"),Ye(this,"onResume"),Ye(this,"onMessage"),Ye(this,"webSocketConstructor"),Ye(this,"logger"),Ye(this,"onServerDisconnectError"),this.webSocketConstructor=a,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=s.onOpen,this.onResume=s.onResume,this.onMessage=s.onMessage,this.onServerDisconnectError=s.onServerDisconnectError,this.logger=n,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const s=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${s}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const s=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const a=Ip(JSON.parse(s));if(a.type!=="Transition")throw new Error(`Expected Transition, got ${a.type} after assembling chunks`);return a}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Yo()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Mp(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Mp())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=s=>{this.transitionChunkBuffer=null;const a=s.message;a&&this.logger.log(`WebSocket error message: ${a}`)},t.onmessage=s=>{this.resetServerInactivityTimeout();const a=s.data.length;let n=Ip(JSON.parse(s.data));if(this._logVerbose(`received ws message with type ${n.type}`),n.type==="Ping")return;if(n.type==="TransitionChunk"){const o=this.assembleTransition(n);if(!o)return;n=o,this._logVerbose(`assembled full ws message of type ${n.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${n.type} while buffering TransitionChunks`)),n.type==="Transition"&&this.reportLargeTransition({messageLength:a,transition:n}),this.onMessage(n).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=s=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=s.reason||`closed with code ${s.code}`),s.code!==N2&&s.code!==S2&&s.code!==C2&&s.code!==T2){let n=`WebSocket closed with code ${s.code}`;s.reason&&(n+=`: ${s.reason}`),this.logger.log(n),this.onServerDisconnectError&&s.reason&&this.onServerDisconnectError(n)}const a=P2(s.reason);this.scheduleReconnect(a)}}socketState(){return this.socket.state}sendMessage(t){const s={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const a=j2(t),n=JSON.stringify(a);let i=!1;try{this.socket.ws.send(n),i=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${i?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(s)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(s)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const s=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(s)}ms`),setTimeout(()=>this.connect(),s)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=s=>{this._logVerbose("Ignoring message received after close")},new Promise(s=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),s()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=a=>{this._logVerbose("Ignoring message received after close")};const s=new Promise(a=>{t.onclose=()=>{a()}});return t.close(),s}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Yo()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const a=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:oy[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const n=Math.min(a,this.maxBackoff),i=n*(Math.random()-.5);return n+i}reportLargeTransition({transition:t,messageLength:s}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const a=Yo()-t.clientClockSkew-t.serverTs/1e6,n=`${Math.round(a)}ms`,i=`${Math.round(s/1e4)/100}MB`,o=s/(a/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${i} transition in ${n} at ${l}`),s>2e7?this.logger.log(`received query results totaling more that 20MB (${i}) which will take a long time to download on slower connections`):a>2e4&&this.logger.log(`received query results totaling ${i} which took more than 20s to arrive (${n})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:a,messageLength:s}})}}function I2(){return M2()}function M2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Jn extends Error{}Jn.prototype.name="InvalidTokenError";function _2(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let a=s.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function E2(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return _2(t)}catch{return atob(t)}}function ly(e,t){if(typeof e!="string")throw new Jn("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,a=e.split(".")[s];if(typeof a!="string")throw new Jn(`Invalid token specified: missing part #${s+1}`);let n;try{n=E2(a)}catch(i){throw new Jn(`Invalid token specified: invalid base64 for part #${s+1} (${i.message})`)}try{return JSON.parse(n)}catch(i){throw new Jn(`Invalid token specified: invalid json for part #${s+1} (${i.message})`)}}var R2=Object.defineProperty,D2=(e,t,s)=>t in e?R2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Yt=(e,t,s)=>D2(e,typeof t!="symbol"?t+"":t,s);const L2=20*24*60*60*1e3,_p=2;class O2{constructor(t,s,a){Yt(this,"authState",{state:"noAuth"}),Yt(this,"configVersion",0),Yt(this,"syncState"),Yt(this,"authenticate"),Yt(this,"stopSocket"),Yt(this,"tryRestartSocket"),Yt(this,"pauseSocket"),Yt(this,"resumeSocket"),Yt(this,"clearAuth"),Yt(this,"logger"),Yt(this,"refreshTokenLeewaySeconds"),Yt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=s.authenticate,this.stopSocket=s.stopSocket,this.tryRestartSocket=s.tryRestartSocket,this.pauseSocket=s.pauseSocket,this.resumeSocket=s.resumeSocket,this.clearAuth=s.clearAuth,this.logger=a.logger,this.refreshTokenLeewaySeconds=a.refreshTokenLeewaySeconds}async setConfig(t,s){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const a=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});a.isFromOutdatedConfig||(a.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:s},hasRetried:!1}),this.authenticate(a.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:s}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:s}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(s+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=_p){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${_p-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const s=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});s.isFromOutdatedConfig||(s.value&&this.syncState.isNewAuth(s.value)?(this.authenticate(s.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:s.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const s=this.decodeToken(t);if(!s){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:a,exp:n}=s;if(!a||!n){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const i=n-a;if(i<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(L2,(i-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${i}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,s){const a=++this.configVersion;this._logVerbose(`fetching token with config version ${a}`);const n=await t(s);return this.configVersion!==a?(this._logVerbose(`stale config version, expected ${a}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:n}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const s=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(s)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return ly(t)}catch(s){return this._logVerbose(`Error decoding token: ${s instanceof Error?s.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const F2=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function B2(e,t){const s={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:s})}function U2(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function V2(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const s of F2){const a=performance.getEntriesByName(s).filter(n=>n.entryType==="mark").filter(n=>n.detail.sessionId===e);t.push(...a)}return t.map(U2)}var $2=Object.defineProperty,z2=(e,t,s)=>t in e?$2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ue=(e,t,s)=>z2(e,typeof t!="symbol"?t+"":t,s);class q2{constructor(t,s,a){if(Ue(this,"address"),Ue(this,"state"),Ue(this,"requestManager"),Ue(this,"webSocketManager"),Ue(this,"authenticationManager"),Ue(this,"remoteQuerySet"),Ue(this,"optimisticQueryResults"),Ue(this,"_transitionHandlerCounter",0),Ue(this,"_nextRequestId"),Ue(this,"_onTransitionFns",new Map),Ue(this,"_sessionId"),Ue(this,"firstMessageReceived",!1),Ue(this,"debug"),Ue(this,"logger"),Ue(this,"maxObservedTimestamp"),Ue(this,"connectionStateSubscribers",new Map),Ue(this,"nextConnectionStateSubscriberId",0),Ue(this,"_lastPublishedConnectionState"),Ue(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const x=this.connectionState();if(JSON.stringify(x)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=x;for(const b of this.connectionStateSubscribers.values())b(x)}})}),Ue(this,"mark",x=>{this.debug&&B2(x,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(a==null?void 0:a.skipConvexDeploymentUrlCheck)!==!0&&B1(t),a={...a};const n=a.authRefreshTokenLeewaySeconds??2;let i=a.webSocketConstructor;if(!i&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");i=i||WebSocket,this.debug=a.reportDebugInfoToConvex??!1,this.address=t,this.logger=a.logger===!1?sy({verbose:a.verbose??!1}):a.logger!==!0&&a.logger?a.logger:ry({verbose:a.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),d=t.substring(0,o);let c;if(d==="http")c="ws";else if(d==="https")c="wss";else throw new Error(`Unknown parent protocol ${d}`);const u=`${c}://${l}/api/${Np}/sync`;this.state=new s2,this.remoteQuerySet=new Ap(x=>this.state.queryPath(x),this.logger),this.requestManager=new i2(this.logger,this.markConnectionStateDirty);const m=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new O2(this.state,{authenticate:x=>{const b=this.state.setAuth(x);return this.webSocketManager.sendMessage(b),b.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:m,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:n}),this.optimisticQueryResults=new h2,this.addOnTransitionHandler(x=>{s(x.queries.map(b=>b.token))}),this._nextRequestId=0,this._sessionId=I2();const{unsavedChangesWarning:h}=a;if(typeof window>"u"||typeof window.addEventListener>"u"){if(h===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else h!==!1&&window.addEventListener("beforeunload",x=>{if(this.requestManager.hasIncompleteRequests()){x.preventDefault();const b="Are you sure you want to leave? Your changes may not be saved.";return(x||window.event).returnValue=b,b}});this.webSocketManager=new A2(u,{onOpen:x=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...x,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const b=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Ap(p=>this.state.queryPath(p),this.logger);const[v,y]=this.state.restart(b);y&&this.webSocketManager.sendMessage(y),this.webSocketManager.sendMessage(v);for(const p of this.requestManager.restart())this.webSocketManager.sendMessage(p)},onResume:()=>{const[x,b]=this.state.resume();b&&this.webSocketManager.sendMessage(b),x&&this.webSocketManager.sendMessage(x);for(const v of this.requestManager.resume())this.webSocketManager.sendMessage(v)},onMessage:x=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),x.type){case"Transition":{this.observedTimestamp(x.endVersion.ts),this.authenticationManager.onTransition(x),this.remoteQuerySet.transition(x),this.state.transition(x);const b=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(b);break}case"MutationResponse":{x.success&&this.observedTimestamp(x.ts);const b=this.requestManager.onResponse(x);b!==null&&this.notifyOnQueryResultChanges(new Map([[b.requestId,b.result]]));break}case"ActionResponse":{this.requestManager.onResponse(x);break}case"AuthError":{this.authenticationManager.onAuthError(x);break}case"FatalError":{const b=e2(this.logger,x.error);throw this.webSocketManager.terminate(),b}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:a.onServerDisconnectError},i,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),a.expectAuth&&m()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const s=this.remoteQuerySet.remoteQueryResults(),a=new Map;for(const[i,o]of s){const l=this.state.queryToken(i);if(l!==null){const d={result:o,udfPath:this.state.queryPath(i),args:this.state.queryArgs(i)};a.set(l,d)}}const n=this.optimisticQueryResults.ingestQueryResultsFromServer(a,new Set(t.keys()));this.handleTransition({queries:n.map(i=>{const o=this.optimisticQueryResults.rawQueryResult(i);return{token:i,modification:{kind:"Updated",result:o}}}),reflectedMutations:Array.from(t).map(([i,o])=>({requestId:i,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const s of this._onTransitionFns.values())s(t)}addOnTransitionHandler(t){const s=this._transitionHandlerCounter++;return this._onTransitionFns.set(s,t),()=>this._onTransitionFns.delete(s)}getCurrentAuthClaims(){const t=this.state.getAuth();let s={};if(t&&t.tokenType==="User")try{s=t?ly(t.value):{}}catch{s={}}else return;return{token:t.value,decoded:s}}setAuth(t,s){this.authenticationManager.setConfig(t,s)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,s){const a=this.state.setAdminAuth(t,s);this.webSocketManager.sendMessage(a)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,s,a){const n=Or(s),{modification:i,queryToken:o,unsubscribe:l}=this.state.subscribe(t,n,a==null?void 0:a.journal,a==null?void 0:a.componentPath);return i!==null&&this.webSocketManager.sendMessage(i),{queryToken:o,unsubscribe:()=>{const d=l();d&&this.webSocketManager.sendMessage(d)}}}localQueryResult(t,s){const a=Or(s),n=ca(t,a);return this.optimisticQueryResults.queryResult(n)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,s){const a=Or(s),n=ca(t,a);return this.optimisticQueryResults.queryLogs(n)}queryJournal(t,s){const a=Or(s),n=ca(t,a);return this.state.queryJournal(n)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const s=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(s,t),()=>{this.connectionStateSubscribers.delete(s)}}async mutation(t,s,a){const n=await this.mutationInternal(t,s,a);if(!n.success)throw n.errorData!==void 0?Fu(n,new Cl(Ka("mutation",t,n))):new Error(Ka("mutation",t,n));return n.value}async mutationInternal(t,s,a,n){const{mutationPromise:i}=this.enqueueMutation(t,s,a,n);return i}enqueueMutation(t,s,a,n){const i=Or(s);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,a!==void 0){const u=a.optimisticUpdate;if(u!==void 0){const m=b=>{u(b,i)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},x=this.optimisticQueryResults.applyOptimisticUpdate(m,o).map(b=>{const v=this.localQueryResultByToken(b);return{token:b,modification:{kind:"Updated",result:v===void 0?void 0:{success:!0,value:v,logLines:[]}}}});this.handleTransition({queries:x,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:n,args:[Ut(i)]},d=this.webSocketManager.sendMessage(l),c=this.requestManager.request(l,d);return{requestId:o,mutationPromise:c}}async action(t,s){const a=await this.actionInternal(t,s);if(!a.success)throw a.errorData!==void 0?Fu(a,new Cl(Ka("action",t,a))):new Error(Ka("action",t,a));return a.value}async actionInternal(t,s,a){const n=Or(s),i=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:i,udfPath:t,componentPath:a,args:[Ut(n)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=V2(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const s=`${this.address}/api/debug_event`;fetch(s,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Np}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(a=>{a.ok||this.logger.warn("Analytics request failed with response:",a.body)}).catch(a=>{this.logger.warn("Analytics response failed with error:",a)})}}function cc(e){if(typeof e!="object"||e===null||!Array.isArray(e.page)||typeof e.isDone!="boolean"||typeof e.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${e==null?void 0:e.toString()}`);return e}var W2=Object.defineProperty,H2=(e,t,s)=>t in e?W2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ep=(e,t,s)=>H2(e,typeof t!="symbol"?t+"":t,s);class Q2{constructor(t,s){this.client=t,this.onTransition=s,Ep(this,"paginatedQuerySet",new Map),Ep(this,"lastTransitionTs"),this.lastTransitionTs=St.fromNumber(0),this.client.addOnTransitionHandler(a=>this.onBaseTransition(a))}subscribe(t,s,a){const n=ga(t),i=Cp(n,s,a),o=()=>this.removePaginatedQuerySubscriber(i),l=this.paginatedQuerySet.get(i);return l?(l.numSubscribers+=1,{paginatedQueryToken:i,unsubscribe:o}):(this.paginatedQuerySet.set(i,{token:i,canonicalizedUdfPath:n,args:s,numSubscribers:1,options:{initialNumItems:a.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:a.id}),this.addPageToPaginatedQuery(i,null,a.initialNumItems),{paginatedQueryToken:i,unsubscribe:o})}localQueryResult(t,s,a){const n=ga(t),i=Cp(n,s,a);return this.localQueryResultByToken(i)}localQueryResultByToken(t){const s=this.paginatedQuerySet.get(t);if(!s)return;const a=this.activePageQueryTokens(s);if(a.length===0)return{results:[],status:"LoadingFirstPage",loadMore:d=>this.loadMoreOfPaginatedQuery(t,d)};let n=[],i=!1,o=!1;for(const d of a){const c=this.client.localQueryResultByToken(d);if(c===void 0){i=!0,o=!1;continue}const u=cc(c);n=n.concat(u.page),o=!!u.isDone}let l;return i?l=n.length===0?"LoadingFirstPage":"LoadingMore":o?l="Exhausted":l="CanLoadMore",{results:n,status:l,loadMore:d=>this.loadMoreOfPaginatedQuery(t,d)}}onBaseTransition(t){const s=t.queries.map(o=>o.token),a=this.queriesContainingTokens(s);let n=[];a.length>0&&(this.processPaginatedQuerySplits(a,o=>this.client.localQueryResultByToken(o)),n=a.map(o=>({token:o,modification:{kind:"Updated",result:this.localQueryResultByToken(o)}})));const i={...t,paginatedQueries:n};this.onTransition(i)}loadMoreOfPaginatedQuery(t,s){this.mustGetPaginatedQuery(t);const a=this.queryTokenForLastPageOfPaginatedQuery(t),n=this.client.localQueryResultByToken(a);if(!n)return!1;const i=cc(n);if(i.isDone)return!1;this.addPageToPaginatedQuery(t,i.continueCursor,s);const o={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:t,modification:{kind:"Updated",result:this.localQueryResultByToken(t)}}]};return this.onTransition(o),!0}queriesContainingTokens(t){if(t.length===0)return[];const s=[],a=new Set(t);for(const[n,i]of this.paginatedQuerySet)for(const o of this.allQueryTokens(i))if(a.has(o)){s.push(n);break}return s}processPaginatedQuerySplits(t,s){for(const a of t){const n=this.mustGetPaginatedQuery(a),{ongoingSplits:i,pageKeyToQuery:o,pageKeys:l}=n;for(const[d,[c,u]]of i)s(o.get(c).queryToken)!==void 0&&s(o.get(u).queryToken)!==void 0&&this.completePaginatedQuerySplit(n,d,c,u);for(const d of l){if(i.has(d))continue;const c=o.get(d).queryToken,u=s(c);if(!u)continue;const m=cc(u);m.splitCursor&&(m.pageStatus==="SplitRecommended"||m.pageStatus==="SplitRequired"||m.page.length>n.options.initialNumItems*2)&&this.splitPaginatedQueryPage(n,d,m.splitCursor,m.continueCursor)}}}splitPaginatedQueryPage(t,s,a,n){const i=t.nextPageKey++,o=t.nextPageKey++,l={cursor:n,numItems:t.options.initialNumItems,id:t.id},d=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:null,endCursor:a}});t.pageKeyToQuery.set(i,d);const c=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:a,endCursor:n}});t.pageKeyToQuery.set(o,c),t.ongoingSplits.set(s,[i,o])}addPageToPaginatedQuery(t,s,a){const n=this.mustGetPaginatedQuery(t),i=n.nextPageKey++,o={cursor:s,numItems:a,id:n.id},l={...n.args,paginationOpts:o},d=this.client.subscribe(n.canonicalizedUdfPath,l);return n.pageKeys.push(i),n.pageKeyToQuery.set(i,d),d}removePaginatedQuerySubscriber(t){const s=this.paginatedQuerySet.get(t);if(s&&(s.numSubscribers-=1,!(s.numSubscribers>0))){for(const a of s.pageKeyToQuery.values())a.unsubscribe();this.paginatedQuerySet.delete(t)}}completePaginatedQuerySplit(t,s,a,n){const i=t.pageKeyToQuery.get(s);t.pageKeyToQuery.delete(s);const o=t.pageKeys.indexOf(s);t.pageKeys.splice(o,1,a,n),t.ongoingSplits.delete(s),i.unsubscribe()}activePageQueryTokens(t){return t.pageKeys.map(s=>t.pageKeyToQuery.get(s).queryToken)}allQueryTokens(t){return Array.from(t.pageKeyToQuery.values()).map(s=>s.queryToken)}queryTokenForLastPageOfPaginatedQuery(t){const s=this.mustGetPaginatedQuery(t),a=s.pageKeys[s.pageKeys.length-1];if(a===void 0)throw new Error(`No pages for paginated query ${t}`);return s.pageKeyToQuery.get(a).queryToken}mustGetPaginatedQuery(t){const s=this.paginatedQuerySet.get(t);if(!s)throw new Error("paginated query no longer exists for token "+t);return s}}function G2({getCurrentValue:e,subscribe:t}){const[s,a]=g.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let n=s.value;return(s.getCurrentValue!==e||s.subscribe!==t)&&(n=e(),a({getCurrentValue:e,subscribe:t,value:n})),g.useEffect(()=>{let i=!1;const o=()=>{i||a(d=>{if(d.getCurrentValue!==e||d.subscribe!==t)return d;const c=e();return d.value===c?d:{...d,value:c}})},l=t(o);return o(),()=>{i=!0,l()}},[e,t]),n}var K2=Object.defineProperty,Y2=(e,t,s)=>t in e?K2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,_r=(e,t,s)=>Y2(e,typeof t!="symbol"?t+"":t,s);const X2=5e3;if(typeof Pr>"u")throw new Error("Required dependency 'react' not found");function dy(e,t,s){function a(n){return e5(n),t.mutation(e,n,{optimisticUpdate:s})}return a.withOptimisticUpdate=function(i){if(s!==void 0)throw new Error(`Already specified optimistic update for mutation ${Je(e)}`);return dy(e,t,i)},a}class J2{constructor(t,s){if(_r(this,"address"),_r(this,"cachedSync"),_r(this,"cachedPaginatedQueryClient"),_r(this,"listeners"),_r(this,"options"),_r(this,"closed",!1),_r(this,"_logger"),_r(this,"adminAuth"),_r(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(s==null?void 0:s.logger)===!1?sy({verbose:(s==null?void 0:s.verbose)??!1}):(s==null?void 0:s.logger)!==!0&&(s!=null&&s.logger)?s.logger:ry({verbose:(s==null?void 0:s.verbose)??!1}),this.options={...s,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new q2(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new Q2(this.cachedSync,t=>this.handleTransition(t)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(t,s){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,s??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,s){if(this.adminAuth=t,this.fakeUserIdentity=s,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,s)}watchQuery(t,...s){const[a,n]=s,i=Je(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:d}=this.sync.subscribe(i,a,n),c=this.listeners.get(l);return c!==void 0?c.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const u=this.listeners.get(l);u.delete(o),u.size===0&&this.listeners.delete(l),d()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(i,a)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(i,a)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(i,a)}}}prewarmQuery(t){const s=t.extendSubscriptionFor??X2,n=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(n,s)}watchPaginatedQuery(t,s,a){const n=Je(t);return{onUpdate:i=>{const{paginatedQueryToken:o,unsubscribe:l}=this.paginatedQueryClient.subscribe(n,s||{},a),d=this.listeners.get(o);return d!==void 0?d.add(i):this.listeners.set(o,new Set([i])),()=>{if(this.closed)return;const c=this.listeners.get(o);c.delete(i),c.size===0&&this.listeners.delete(o),l()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(n,s,a)}}mutation(t,...s){const[a,n]=s,i=Je(t);return this.sync.mutation(i,a,n)}action(t,...s){const a=Je(t);return this.sync.action(a,...s)}query(t,...s){const a=this.watchQuery(t,...s),n=a.localQueryResult();return n!==void 0?Promise.resolve(n):new Promise((i,o)=>{const l=a.onUpdate(()=>{l();try{i(a.localQueryResult())}catch(d){o(d)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}handleTransition(t){const s=t.queries.map(n=>n.token),a=t.paginatedQueries.map(n=>n.token);this.transition([...s,...a])}transition(t){for(const s of t){const a=this.listeners.get(s);if(a)for(const n of a)n()}}}const dh=Pr.createContext(void 0);function cy(){return g.useContext(dh)}const Z2=({client:e,children:t})=>Pr.createElement(dh.Provider,{value:e},t);function D(e,...t){const s=t[0]==="skip",a=t[0]==="skip"?{}:Or(t[0]),n=typeof e=="string"?ny(e):e,i=Je(n),o=g.useMemo(()=>s?{}:{query:{query:n,args:a}},[JSON.stringify(Ut(a)),i,s]),d=uy(o).query;if(d instanceof Error)throw d;return d}function $(e){const t=typeof e=="string"?ny(e):e,s=g.useContext(dh);if(s===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return g.useMemo(()=>dy(t,s),[s,Je(t)])}function e5(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var t5=Object.defineProperty,r5=(e,t,s)=>t in e?t5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,uc=(e,t,s)=>r5(e,typeof t!="symbol"?t+"":t,s);class s5{constructor(t){uc(this,"createWatch"),uc(this,"queries"),uc(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const s of Object.keys(t)){const{query:a,args:n,paginationOptions:i}=t[s];if(Je(a),this.queries[s]===void 0)this.addQuery(s,a,n,i?{paginationOptions:i}:{});else{const o=this.queries[s];(Je(a)!==Je(o.query)||JSON.stringify(Ut(n))!==JSON.stringify(Ut(o.args))||JSON.stringify(i)!==JSON.stringify(o.paginationOptions))&&(this.removeQuery(s),this.addQuery(s,a,n,i?{paginationOptions:i}:{}))}}for(const s of Object.keys(this.queries))t[s]===void 0&&this.removeQuery(s)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const s={};for(const a of Object.keys(t)){const{query:n,args:i}=t[a],o=t[a].paginationOptions;Je(n);const l=this.createWatch(n,i,o?{paginationOptions:o}:{});let d;try{d=l.localQueryResult()}catch(c){if(c instanceof Error)d=c;else throw c}s[a]=d}return s}setCreateWatch(t){this.createWatch=t;for(const s of Object.keys(this.queries)){const{query:a,args:n,watch:i,paginationOptions:o}=this.queries[s],l="journal"in i?i.journal():void 0;this.removeQuery(s),this.addQuery(s,a,n,{...l?{journal:l}:[],...o?{paginationOptions:o}:{}})}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,s,a,{paginationOptions:n,journal:i}){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(s,a,{...i?{journal:i}:[],...n?{paginationOptions:n}:{}}),l=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:s,args:a,watch:o,unsubscribe:l,...n?{paginationOptions:n}:{}}}removeQuery(t){const s=this.queries[t];if(s===void 0)throw new Error(`No query found with identifier ${t}.`);s.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function uy(e){const t=cy();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const s=g.useMemo(()=>(a,n,{journal:i,paginationOptions:o})=>o?t.watchPaginatedQuery(a,n,o):t.watchQuery(a,n,i?{journal:i}:{}),[t]);return a5(e,s)}function a5(e,t){const[s]=g.useState(()=>new s5(t));s.createWatch!==t&&s.setCreateWatch(t),g.useEffect(()=>()=>s.destroy(),[s]);const a=g.useMemo(()=>({getCurrentValue:()=>s.getLocalResults(e),subscribe:n=>(s.setQueries(e),s.subscribe(n))}),[s,e]);return G2(a)}const n5=(e,t,s)=>a=>{const n={...a.queries},i=a.nextPageKey,o=a.nextPageKey+1,l=a.nextPageKey+2;n[i]={query:a.query,args:{...a.args,paginationOpts:{...a.queries[e].args.paginationOpts,endCursor:t}}},n[o]={query:a.query,args:{...a.args,paginationOpts:{...a.queries[e].args.paginationOpts,cursor:t,endCursor:s}}};const d={...a.ongoingSplits};return d[e]=[i,o],{...a,nextPageKey:l,queries:n,ongoingSplits:d}},i5=e=>t=>{const s=t.ongoingSplits[e];if(s===void 0)return t;const a={...t.queries};delete a[e];const n={...t.ongoingSplits};delete n[e];let i=t.pageKeys.slice();const o=t.pageKeys.findIndex(l=>l===e);return o>=0&&(i=[...t.pageKeys.slice(0,o),...s,...t.pageKeys.slice(o+1)]),{...t,queries:a,pageKeys:i,ongoingSplits:n}};function o5(e,t,s){const{user:a}=c5(e,t,s);return a}const l5=Symbol("includePageKeys"),d5=Symbol("page");function c5(e,t,s){if(typeof(s==null?void 0:s.initialNumItems)!="number"||s.initialNumItems<0)throw new Error(`\`options.initialNumItems\` must be a positive number. Received \`${s==null?void 0:s.initialNumItems}\`.`);const a=t==="skip",n=a?{}:t,i=Je(e),o=g.useMemo(()=>()=>{const p=u5();return{query:e,args:n,id:p,nextPageKey:1,pageKeys:a?[]:[0],queries:a?{}:{0:{query:e,args:{...n,paginationOpts:{numItems:s.initialNumItems,cursor:null,id:p}}}},ongoingSplits:{},skip:a}},[JSON.stringify(Ut(n)),i,s.initialNumItems,a]),[l,d]=g.useState(o);let c=l;(Je(e)!==Je(l.query)||JSON.stringify(Ut(n))!==JSON.stringify(Ut(l.args))||a!==l.skip)&&(c=o(),d(c));const m=cy().logger,h=uy(c.queries),x=s[l5]??!1,[b,v]=g.useMemo(()=>{var j,k;let p;const f=[];for(const w of c.pageKeys){if(p=h[w],p===void 0)break;if(p instanceof Error){if(p.message.includes("InvalidCursor")||p instanceof Cl&&typeof p.data=="object"&&((j=p.data)==null?void 0:j.isConvexSystemError)===!0&&((k=p.data)==null?void 0:k.paginationError)==="InvalidCursor")return m.warn("usePaginatedQuery hit error, resetting pagination state: "+p.message),d(o),[[],void 0];throw p}const C=c.ongoingSplits[w];if(C!==void 0?h[C[0]]!==void 0&&h[C[1]]!==void 0&&d(i5(w)):p.splitCursor&&(p.pageStatus==="SplitRecommended"||p.pageStatus==="SplitRequired"||p.page.length>s.initialNumItems*2)&&d(n5(w,p.splitCursor,p.continueCursor)),p.pageStatus==="SplitRequired")return[f,void 0];f.push(...x?p.page.map(N=>({...N,[d5]:w.toString()})):p.page)}return[f,p]},[h,c.pageKeys,c.ongoingSplits,s.initialNumItems,o,m,x]),y=g.useMemo(()=>{if(v===void 0)return c.nextPageKey===1?{status:"LoadingFirstPage",isLoading:!0,loadMore:j=>{}}:{status:"LoadingMore",isLoading:!0,loadMore:j=>{}};if(v.isDone)return{status:"Exhausted",isLoading:!1,loadMore:j=>{}};const p=v.continueCursor;let f=!1;return{status:"CanLoadMore",isLoading:!1,loadMore:j=>{f||(f=!0,d(k=>{const w=[...k.pageKeys,k.nextPageKey],C={...k.queries};return C[k.nextPageKey]={query:k.query,args:{...k.args,paginationOpts:{numItems:j,cursor:p,id:k.id}}},{...k,nextPageKey:k.nextPageKey+1,pageKeys:w,queries:C}}))}}},[v,c.nextPageKey]);return{user:{results:b,...y},internal:{state:c}}}let Rp=0;function u5(){return Rp++,Rp}const my=g.createContext(void 0);function m5({children:e}){const[t,s]=g.useState(()=>{const i=localStorage.getItem("baptizo-theme");return i==="dark"||i==="light"?i:"light"});g.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("baptizo-theme",t)},[t]);const a=()=>{s(i=>i==="light"?"dark":"light")},n=i=>{s(i)};return r.jsx(my.Provider,{value:{theme:t,toggleTheme:a,setTheme:n},children:e})}function dd(){const e=g.useContext(my);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function hy(e,t){const s={get(a,n){if(typeof n=="string"){const i=[...t,n];return hy(e,i)}else if(n===ay){if(t.length<1){const i=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${i}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},s)}const h5=()=>hy("components",[]),S=c2;h5();const xy=g.createContext(void 0),Ao="baptizo-auth-user";function x5({children:e}){const[t,s]=g.useState(null),[a,n]=g.useState(!0);g.useEffect(()=>{const c=localStorage.getItem(Ao);if(c)try{const u=JSON.parse(c);s(u)}catch(u){console.error("Failed to parse stored user:",u),localStorage.removeItem(Ao)}n(!1)},[]);const i=D(S.users.getUser,t!=null&&t._id?{userId:t._id}:"skip");g.useEffect(()=>{if(i&&t&&(i.role!==t.role||i.name!==t.name||i.avatarUrl!==t.avatarUrl||i.coverImageUrl!==t.coverImageUrl)){const c={...t,...i};console.log("Syncing fresh user data from DB:",c),s(c)}},[i,t]),g.useEffect(()=>{t?localStorage.setItem(Ao,JSON.stringify(t)):localStorage.removeItem(Ao)},[t]);const o=c=>{s(c)},l=()=>{s(null)},d=c=>{t&&s({...t,...c})};return r.jsx(xy.Provider,{value:{user:t,isLoading:a,login:o,logout:l,updateUser:d},children:e})}function p5(){const e=g.useContext(xy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const s=g.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:d,...c},u)=>g.createElement("svg",{ref:u,...f5,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${g5(e)}`,l].join(" "),...c},[...t.map(([m,h])=>g.createElement(m,h)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=O("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=O("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=O("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=O("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=O("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=O("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=O("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=O("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=O("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=O("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=O("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=O("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=O("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=O("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=O("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=O("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=O("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=O("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=O("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=O("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=O("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=O("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=O("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=O("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=O("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=O("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=O("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=O("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=O("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=O("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=O("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=O("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=O("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=O("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=O("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=O("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=O("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=O("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=O("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=O("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=O("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=O("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=O("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=O("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=O("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=O("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=O("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=O("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=O("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=O("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=O("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=O("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=O("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=O("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=O("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=O("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=O("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=O("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=O("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=O("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=O("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=O("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=O("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=O("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=O("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Sy=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),fd=g.createContext({}),gd=g.createContext(null),bd=typeof document<"u",fh=bd?g.useLayoutEffect:g.useEffect,Cy=g.createContext({strict:!1}),gh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),H5="framerAppearId",Ty="data-"+gh(H5);function Q5(e,t,s,a){const{visualElement:n}=g.useContext(fd),i=g.useContext(Cy),o=g.useContext(gd),l=g.useContext(Sy).reducedMotion,d=g.useRef();a=a||i.renderer,!d.current&&a&&(d.current=a(e,{visualState:t,parent:n,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=d.current;g.useInsertionEffect(()=>{c&&c.update(s,o)});const u=g.useRef(!!(s[Ty]&&!window.HandoffComplete));return fh(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Ya(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function G5(e,t,s){return g.useCallback(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Ya(s)&&(s.current=a))},[t])}function $i(e){return typeof e=="string"||Array.isArray(e)}function yd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yh=["initial",...bh];function vd(e){return yd(e.animate)||yh.some(t=>$i(e[t]))}function Py(e){return!!(vd(e)||e.variants)}function K5(e,t){if(vd(e)){const{initial:s,animate:a}=e;return{initial:s===!1||$i(s)?s:void 0,animate:$i(a)?a:void 0}}return e.inherit!==!1?t:{}}function Y5(e){const{initial:t,animate:s}=K5(e,g.useContext(fd));return g.useMemo(()=>({initial:t,animate:s}),[Lp(t),Lp(s)])}function Lp(e){return Array.isArray(e)?e.join(" "):e}const Op={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zi={};for(const e in Op)zi[e]={isEnabled:t=>Op[e].some(s=>!!t[s])};function X5(e){for(const t in e)zi[t]={...zi[t],...e[t]}}const vh=g.createContext({}),Ay=g.createContext({}),J5=Symbol.for("motionComponentSymbol");function Z5({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:a,Component:n}){e&&X5(e);function i(l,d){let c;const u={...g.useContext(Sy),...l,layoutId:e4(l)},{isStatic:m}=u,h=Y5(l),x=a(l,m);if(!m&&bd){h.visualElement=Q5(n,x,u,t);const b=g.useContext(Ay),v=g.useContext(Cy).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,e,b))}return g.createElement(fd.Provider,{value:h},c&&h.visualElement?g.createElement(c,{visualElement:h.visualElement,...u}):null,s(n,l,G5(x,h.visualElement,d),x,m,h.visualElement))}const o=g.forwardRef(i);return o[J5]=n,o}function e4({layoutId:e}){const t=g.useContext(vh).id;return t&&e!==void 0?t+"-"+e:e}function t4(e){function t(a,n={}){return Z5(e(a,n))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(a,n)=>(s.has(n)||s.set(n,t(n)),s.get(n))})}const r4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jh(e){return typeof e!="string"||e.includes("-")?!1:!!(r4.indexOf(e)>-1||/[A-Z]/.test(e))}const Rl={};function s4(e){Object.assign(Rl,e)}const ao=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pa=new Set(ao);function Iy(e,{layout:t,layoutId:s}){return Pa.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Rl[e]||e==="opacity")}const Et=e=>!!(e&&e.getVelocity),a4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n4=ao.length;function i4(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},a,n){let i="";for(let o=0;o<n4;o++){const l=ao[o];if(e[l]!==void 0){const d=a4[l]||l;i+=`${d}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,a?"":i):s&&a&&(i="none"),i}const My=e=>t=>typeof t=="string"&&t.startsWith(e),_y=My("--"),$u=My("var(--"),o4=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,l4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ds=(e,t,s)=>Math.min(Math.max(s,e),t),Aa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mi={...Aa,transform:e=>Ds(0,1,e)},Io={...Aa,default:1},hi=e=>Math.round(e*1e5)/1e5,jd=/(-)?([\d]*\.?[\d])+/g,Ey=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,d4=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function no(e){return typeof e=="string"}const io=e=>({test:t=>no(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),is=io("deg"),Tr=io("%"),te=io("px"),c4=io("vh"),u4=io("vw"),Fp={...Tr,parse:e=>Tr.parse(e)/100,transform:e=>Tr.transform(e*100)},Bp={...Aa,transform:Math.round},Ry={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:is,rotateX:is,rotateY:is,rotateZ:is,scale:Io,scaleX:Io,scaleY:Io,scaleZ:Io,skew:is,skewX:is,skewY:is,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:mi,originX:Fp,originY:Fp,originZ:te,zIndex:Bp,fillOpacity:mi,strokeOpacity:mi,numOctaves:Bp};function kh(e,t,s,a){const{style:n,vars:i,transform:o,transformOrigin:l}=e;let d=!1,c=!1,u=!0;for(const m in t){const h=t[m];if(_y(m)){i[m]=h;continue}const x=Ry[m],b=l4(h,x);if(Pa.has(m)){if(d=!0,o[m]=b,!u)continue;h!==(x.default||0)&&(u=!1)}else m.startsWith("origin")?(c=!0,l[m]=b):n[m]=b}if(t.transform||(d||a?n.transform=i4(e.transform,s,u,a):n.transform&&(n.transform="none")),c){const{originX:m="50%",originY:h="50%",originZ:x=0}=l;n.transformOrigin=`${m} ${h} ${x}`}}const wh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dy(e,t,s){for(const a in t)!Et(t[a])&&!Iy(a,s)&&(e[a]=t[a])}function m4({transformTemplate:e},t,s){return g.useMemo(()=>{const a=wh();return kh(a,t,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[t])}function h4(e,t,s){const a=e.style||{},n={};return Dy(n,a,e),Object.assign(n,m4(e,t,s)),e.transformValues?e.transformValues(n):n}function x4(e,t,s){const a={},n=h4(e,t,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const p4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||p4.has(e)}let Ly=e=>!Dl(e);function f4(e){e&&(Ly=t=>t.startsWith("on")?!Dl(t):e(t))}try{f4(require("@emotion/is-prop-valid").default)}catch{}function g4(e,t,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(Ly(n)||s===!0&&Dl(n)||!t&&!Dl(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}function Up(e,t,s){return typeof e=="string"?e:te.transform(t+s*e)}function b4(e,t,s){const a=Up(t,e.x,e.width),n=Up(s,e.y,e.height);return`${a} ${n}`}const y4={offset:"stroke-dashoffset",array:"stroke-dasharray"},v4={offset:"strokeDashoffset",array:"strokeDasharray"};function j4(e,t,s=1,a=0,n=!0){e.pathLength=1;const i=n?y4:v4;e[i.offset]=te.transform(-a);const o=te.transform(t),l=te.transform(s);e[i.array]=`${o} ${l}`}function Nh(e,{attrX:t,attrY:s,attrScale:a,originX:n,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...c},u,m,h){if(kh(e,c,u,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:b,dimensions:v}=e;x.transform&&(v&&(b.transform=x.transform),delete x.transform),v&&(n!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=b4(v,n!==void 0?n:.5,i!==void 0?i:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),a!==void 0&&(x.scale=a),o!==void 0&&j4(x,o,l,d,!1)}const Oy=()=>({...wh(),attrs:{}}),Sh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function k4(e,t,s,a){const n=g.useMemo(()=>{const i=Oy();return Nh(i,t,{enableHardwareAcceleration:!1},Sh(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Dy(i,e.style,e),n.style={...i,...n.style}}return n}function w4(e=!1){return(s,a,n,{latestValues:i},o)=>{const d=(jh(s)?k4:x4)(a,i,o,s),u={...g4(a,typeof s=="string",e),...d,ref:n},{children:m}=a,h=g.useMemo(()=>Et(m)?m.get():m,[m]);return g.createElement(s,{...u,children:h})}}function Fy(e,{style:t,vars:s},a,n){Object.assign(e.style,t,n&&n.getProjectionStyles(a));for(const i in s)e.style.setProperty(i,s[i])}const By=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uy(e,t,s,a){Fy(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(By.has(n)?n:gh(n),t.attrs[n])}function Ch(e,t){const{style:s}=e,a={};for(const n in s)(Et(s[n])||t.style&&Et(t.style[n])||Iy(n,e))&&(a[n]=s[n]);return a}function Vy(e,t){const s=Ch(e,t);for(const a in e)if(Et(e[a])||Et(t[a])){const n=ao.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=e[a]}return s}function Th(e,t,s,a={},n={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,a,n)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,a,n)),t}function $y(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ll=e=>Array.isArray(e),N4=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),S4=e=>Ll(e)?e[e.length-1]||0:e;function Jo(e){const t=Et(e)?e.get():e;return N4(t)?t.toValue():t}function C4({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},a,n,i){const o={latestValues:T4(a,n,i,e),renderState:t()};return s&&(o.mount=l=>s(a,l,o)),o}const zy=e=>(t,s)=>{const a=g.useContext(fd),n=g.useContext(gd),i=()=>C4(e,t,a,n);return s?i():$y(i)};function T4(e,t,s,a){const n={},i=a(e,{});for(const h in i)n[h]=Jo(i[h]);let{initial:o,animate:l}=e;const d=vd(e),c=Py(e);t&&c&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const m=u?l:o;return m&&typeof m!="boolean"&&!yd(m)&&(Array.isArray(m)?m:[m]).forEach(x=>{const b=Th(e,x);if(!b)return;const{transitionEnd:v,transition:y,...p}=b;for(const f in p){let j=p[f];if(Array.isArray(j)){const k=u?j.length-1:0;j=j[k]}j!==null&&(n[f]=j)}for(const f in v)n[f]=v[f]}),n}const Fe=e=>e;class Vp{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function P4(e){let t=new Vp,s=new Vp,a=0,n=!1,i=!1;const o=new WeakSet,l={schedule:(d,c=!1,u=!1)=>{const m=u&&n,h=m?t:s;return c&&o.add(d),h.add(d)&&m&&n&&(a=t.order.length),d},cancel:d=>{s.remove(d),o.delete(d)},process:d=>{if(n){i=!0;return}if(n=!0,[t,s]=[s,t],s.clear(),a=t.order.length,a)for(let c=0;c<a;c++){const u=t.order[c];u(d),o.has(u)&&(l.schedule(u),e())}n=!1,i&&(i=!1,l.process(d))}};return l}const Mo=["prepare","read","update","preRender","render","postRender"],A4=40;function I4(e,t){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=Mo.reduce((m,h)=>(m[h]=P4(()=>s=!0),m),{}),o=m=>i[m].process(n),l=()=>{const m=performance.now();s=!1,n.delta=a?1e3/60:Math.max(Math.min(m-n.timestamp,A4),1),n.timestamp=m,n.isProcessing=!0,Mo.forEach(o),n.isProcessing=!1,s&&t&&(a=!1,e(l))},d=()=>{s=!0,a=!0,n.isProcessing||e(l)};return{schedule:Mo.reduce((m,h)=>{const x=i[h];return m[h]=(b,v=!1,y=!1)=>(s||d(),x.schedule(b,v,y)),m},{}),cancel:m=>Mo.forEach(h=>i[h].cancel(m)),state:n,steps:i}}const{schedule:ke,cancel:Xr,state:nt,steps:mc}=I4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fe,!0),M4={useVisualState:zy({scrapeMotionValuesFromProps:Vy,createRenderState:Oy,onMount:(e,t,{renderState:s,latestValues:a})=>{ke.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{Nh(s,a,{enableHardwareAcceleration:!1},Sh(t.tagName),e.transformTemplate),Uy(t,s)})}})},_4={useVisualState:zy({scrapeMotionValuesFromProps:Ch,createRenderState:wh})};function E4(e,{forwardMotionProps:t=!1},s,a){return{...jh(e)?M4:_4,preloadedFeatures:s,useRender:w4(t),createVisualElement:a,Component:e}}function Ur(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}const qy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kd(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const R4=e=>t=>qy(t)&&e(t,kd(t));function $r(e,t,s,a){return Ur(e,t,R4(s),a)}const D4=(e,t)=>s=>t(e(s)),Ts=(...e)=>e.reduce(D4);function Wy(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const $p=Wy("dragHorizontal"),zp=Wy("dragVertical");function Hy(e){let t=!1;if(e==="y")t=zp();else if(e==="x")t=$p();else{const s=$p(),a=zp();s&&a?t=()=>{s(),a()}:(s&&s(),a&&a())}return t}function Qy(){const e=Hy(!0);return e?(e(),!1):!0}class Hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function qp(e,t){const s="pointer"+(t?"enter":"leave"),a="onHover"+(t?"Start":"End"),n=(i,o)=>{if(i.pointerType==="touch"||Qy())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[a]&&ke.update(()=>l[a](i,o))};return $r(e.current,s,n,{passive:!e.getProps()[a]})}class L4 extends Hs{mount(){this.unmount=Ts(qp(this.node,!0),qp(this.node,!1))}unmount(){}}class O4 extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ts(Ur(this.node.current,"focus",()=>this.onFocus()),Ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Gy=(e,t)=>t?e===t?!0:Gy(e,t.parentElement):!1;function hc(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,kd(s))}class F4 extends Hs{constructor(){super(...arguments),this.removeStartListeners=Fe,this.removeEndListeners=Fe,this.removeAccessibleListeners=Fe,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=$r(window,"pointerup",(l,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:m}=this.node.getProps();ke.update(()=>{!m&&!Gy(this.node.current,l.target)?u&&u(l,d):c&&c(l,d)})},{passive:!(a.onTap||a.onPointerUp)}),o=$r(window,"pointercancel",(l,d)=>this.cancelPress(l,d),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Ts(i,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||hc("up",(d,c)=>{const{onTap:u}=this.node.getProps();u&&ke.update(()=>u(d,c))})};this.removeEndListeners(),this.removeEndListeners=Ur(this.node.current,"keyup",o),hc("down",(l,d)=>{this.startPress(l,d)})},s=Ur(this.node.current,"keydown",t),a=()=>{this.isPressing&&hc("cancel",(i,o)=>this.cancelPress(i,o))},n=Ur(this.node.current,"blur",a);this.removeAccessibleListeners=Ts(s,n)}}startPress(t,s){this.isPressing=!0;const{onTapStart:a,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&ke.update(()=>a(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Qy()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&ke.update(()=>a(t,s))}mount(){const t=this.node.getProps(),s=$r(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),a=Ur(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ts(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zu=new WeakMap,xc=new WeakMap,B4=e=>{const t=zu.get(e.target);t&&t(e)},U4=e=>{e.forEach(B4)};function V4({root:e,...t}){const s=e||document;xc.has(s)||xc.set(s,{});const a=xc.get(s),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(U4,{root:e,...t})),a[n]}function $4(e,t,s){const a=V4(t);return zu.set(e,s),a.observe(e),()=>{zu.delete(e),a.unobserve(e)}}const z4={some:0,all:1};class q4 extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:z4[n]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=c?u:m;h&&h(d)};return $4(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(W4(t,s))&&this.startObserver()}unmount(){}}function W4({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const H4={inView:{Feature:q4},tap:{Feature:F4},focus:{Feature:O4},hover:{Feature:L4}};function Ky(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}function Q4(e){const t={};return e.values.forEach((s,a)=>t[a]=s.get()),t}function G4(e){const t={};return e.values.forEach((s,a)=>t[a]=s.getVelocity()),t}function wd(e,t,s){const a=e.getProps();return Th(a,t,s!==void 0?s:a.custom,Q4(e),G4(e))}let Ph=Fe;const ua=e=>e*1e3,zr=e=>e/1e3,K4={current:!1},Yy=e=>Array.isArray(e)&&typeof e[0]=="number";function Xy(e){return!!(!e||typeof e=="string"&&Jy[e]||Yy(e)||Array.isArray(e)&&e.every(Xy))}const Zn=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,Jy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zn([0,.65,.55,1]),circOut:Zn([.55,0,1,.45]),backIn:Zn([.31,.01,.66,-.59]),backOut:Zn([.33,1.53,.69,.99])};function Zy(e){if(e)return Yy(e)?Zn(e):Array.isArray(e)?e.map(Zy):Jy[e]}function Y4(e,t,s,{delay:a=0,duration:n,repeat:i=0,repeatType:o="loop",ease:l,times:d}={}){const c={[t]:s};d&&(c.offset=d);const u=Zy(l);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function X4(e,{repeat:t,repeatType:s="loop"}){const a=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[a]}const ev=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,J4=1e-7,Z4=12;function eS(e,t,s,a,n){let i,o,l=0;do o=t+(s-t)/2,i=ev(o,a,n)-e,i>0?s=o:t=o;while(Math.abs(i)>J4&&++l<Z4);return o}function oo(e,t,s,a){if(e===t&&s===a)return Fe;const n=i=>eS(i,0,1,e,s);return i=>i===0||i===1?i:ev(n(i),t,a)}const tS=oo(.42,0,1,1),rS=oo(0,0,.58,1),tv=oo(.42,0,.58,1),sS=e=>Array.isArray(e)&&typeof e[0]!="number",rv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sv=e=>t=>1-e(1-t),Ah=e=>1-Math.sin(Math.acos(e)),av=sv(Ah),aS=rv(Ah),nv=oo(.33,1.53,.69,.99),Ih=sv(nv),nS=rv(Ih),iS=e=>(e*=2)<1?.5*Ih(e):.5*(2-Math.pow(2,-10*(e-1))),oS={linear:Fe,easeIn:tS,easeInOut:tv,easeOut:rS,circIn:Ah,circInOut:aS,circOut:av,backIn:Ih,backInOut:nS,backOut:nv,anticipate:iS},Wp=e=>{if(Array.isArray(e)){Ph(e.length===4);const[t,s,a,n]=e;return oo(t,s,a,n)}else if(typeof e=="string")return oS[e];return e},Mh=(e,t)=>s=>!!(no(s)&&d4.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),iv=(e,t,s)=>a=>{if(!no(a))return a;const[n,i,o,l]=a.match(jd);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lS=e=>Ds(0,255,e),pc={...Aa,transform:e=>Math.round(lS(e))},na={test:Mh("rgb","red"),parse:iv("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+pc.transform(e)+", "+pc.transform(t)+", "+pc.transform(s)+", "+hi(mi.transform(a))+")"};function dS(e){let t="",s="",a="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const qu={test:Mh("#"),parse:dS,transform:na.transform},Xa={test:Mh("hsl","hue"),parse:iv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Tr.transform(hi(t))+", "+Tr.transform(hi(s))+", "+hi(mi.transform(a))+")"},gt={test:e=>na.test(e)||qu.test(e)||Xa.test(e),parse:e=>na.test(e)?na.parse(e):Xa.test(e)?Xa.parse(e):qu.parse(e),transform:e=>no(e)?e:e.hasOwnProperty("red")?na.transform(e):Xa.transform(e)},Me=(e,t,s)=>-s*e+s*t+e;function fc(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function cS({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let n=0,i=0,o=0;if(!t)n=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,d=2*s-l;n=fc(d,l,e+1/3),i=fc(d,l,e),o=fc(d,l,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}const gc=(e,t,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(t*t-a)+a))},uS=[qu,na,Xa],mS=e=>uS.find(t=>t.test(e));function Hp(e){const t=mS(e);let s=t.parse(e);return t===Xa&&(s=cS(s)),s}const ov=(e,t)=>{const s=Hp(e),a=Hp(t),n={...s};return i=>(n.red=gc(s.red,a.red,i),n.green=gc(s.green,a.green,i),n.blue=gc(s.blue,a.blue,i),n.alpha=Me(s.alpha,a.alpha,i),na.transform(n))};function hS(e){var t,s;return isNaN(e)&&no(e)&&(((t=e.match(jd))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Ey))===null||s===void 0?void 0:s.length)||0)>0}const lv={regex:o4,countKey:"Vars",token:"${v}",parse:Fe},dv={regex:Ey,countKey:"Colors",token:"${c}",parse:gt.parse},cv={regex:jd,countKey:"Numbers",token:"${n}",parse:Aa.parse};function bc(e,{regex:t,countKey:s,token:a,parse:n}){const i=e.tokenised.match(t);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(t,a),e.values.push(...i.map(n)))}function Ol(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&bc(s,lv),bc(s,dv),bc(s,cv),s}function uv(e){return Ol(e).values}function mv(e){const{values:t,numColors:s,numVars:a,tokenised:n}=Ol(e),i=t.length;return o=>{let l=n;for(let d=0;d<i;d++)d<a?l=l.replace(lv.token,o[d]):d<a+s?l=l.replace(dv.token,gt.transform(o[d])):l=l.replace(cv.token,hi(o[d]));return l}}const xS=e=>typeof e=="number"?0:e;function pS(e){const t=uv(e);return mv(e)(t.map(xS))}const Ls={test:hS,parse:uv,createTransformer:mv,getAnimatableNone:pS},hv=(e,t)=>s=>`${s>0?t:e}`;function xv(e,t){return typeof e=="number"?s=>Me(e,t,s):gt.test(e)?ov(e,t):e.startsWith("var(")?hv(e,t):fv(e,t)}const pv=(e,t)=>{const s=[...e],a=s.length,n=e.map((i,o)=>xv(i,t[o]));return i=>{for(let o=0;o<a;o++)s[o]=n[o](i);return s}},fS=(e,t)=>{const s={...e,...t},a={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(a[n]=xv(e[n],t[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}},fv=(e,t)=>{const s=Ls.createTransformer(t),a=Ol(e),n=Ol(t);return a.numVars===n.numVars&&a.numColors===n.numColors&&a.numNumbers>=n.numNumbers?Ts(pv(a.values,n.values),s):hv(e,t)},qi=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a},Qp=(e,t)=>s=>Me(e,t,s);function gS(e){return typeof e=="number"?Qp:typeof e=="string"?gt.test(e)?ov:fv:Array.isArray(e)?pv:typeof e=="object"?fS:Qp}function bS(e,t,s){const a=[],n=s||gS(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=n(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Fe:t;l=Ts(d,l)}a.push(l)}return a}function gv(e,t,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(Ph(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bS(t,a,n),l=o.length,d=c=>{let u=0;if(l>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const m=qi(e[u],e[u+1],c);return o[u](m)};return s?c=>d(Ds(e[0],e[i-1],c)):d}function yS(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const n=qi(0,t,a);e.push(Me(s,1,n))}}function vS(e){const t=[0];return yS(t,e.length-1),t}function jS(e,t){return e.map(s=>s*t)}function kS(e,t){return e.map(()=>t||tv).splice(0,e.length-1)}function Fl({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const n=sS(a)?a.map(Wp):Wp(a),i={done:!1,value:t[0]},o=jS(s&&s.length===t.length?s:vS(t),e),l=gv(o,t,{ease:Array.isArray(n)?n:kS(t,n)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}function bv(e,t){return t?e*(1e3/t):0}const wS=5;function yv(e,t,s){const a=Math.max(t-wS,0);return bv(s-e(a),t-a)}const yc=.001,NS=.01,SS=10,CS=.05,TS=1;function PS({duration:e=800,bounce:t=.25,velocity:s=0,mass:a=1}){let n,i,o=1-t;o=Ds(CS,TS,o),e=Ds(NS,SS,zr(e)),o<1?(n=c=>{const u=c*o,m=u*e,h=u-s,x=Wu(c,o),b=Math.exp(-m);return yc-h/x*b},i=c=>{const m=c*o*e,h=m*s+s,x=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-m),v=Wu(Math.pow(c,2),o);return(-n(c)+yc>0?-1:1)*((h-x)*b)/v}):(n=c=>{const u=Math.exp(-c*e),m=(c-s)*e+1;return-yc+u*m},i=c=>{const u=Math.exp(-c*e),m=(s-c)*(e*e);return u*m});const l=5/e,d=IS(n,i,l);if(e=ua(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*a;return{stiffness:c,damping:o*2*Math.sqrt(a*c),duration:e}}}const AS=12;function IS(e,t,s){let a=s;for(let n=1;n<AS;n++)a=a-e(a)/t(a);return a}function Wu(e,t){return e*Math.sqrt(1-t*t)}const MS=["duration","bounce"],_S=["stiffness","damping","mass"];function Gp(e,t){return t.some(s=>e[s]!==void 0)}function ES(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Gp(e,_S)&&Gp(e,MS)){const s=PS(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function vv({keyframes:e,restDelta:t,restSpeed:s,...a}){const n=e[0],i=e[e.length-1],o={done:!1,value:n},{stiffness:l,damping:d,mass:c,duration:u,velocity:m,isResolvedFromDuration:h}=ES({...a,velocity:-zr(a.velocity||0)}),x=m||0,b=d/(2*Math.sqrt(l*c)),v=i-n,y=zr(Math.sqrt(l/c)),p=Math.abs(v)<5;s||(s=p?.01:2),t||(t=p?.005:.5);let f;if(b<1){const j=Wu(y,b);f=k=>{const w=Math.exp(-b*y*k);return i-w*((x+b*y*v)/j*Math.sin(j*k)+v*Math.cos(j*k))}}else if(b===1)f=j=>i-Math.exp(-y*j)*(v+(x+y*v)*j);else{const j=y*Math.sqrt(b*b-1);f=k=>{const w=Math.exp(-b*y*k),C=Math.min(j*k,300);return i-w*((x+b*y*v)*Math.sinh(C)+j*v*Math.cosh(C))/j}}return{calculatedDuration:h&&u||null,next:j=>{const k=f(j);if(h)o.done=j>=u;else{let w=x;j!==0&&(b<1?w=yv(f,j,k):w=0);const C=Math.abs(w)<=s,N=Math.abs(i-k)<=t;o.done=C&&N}return o.value=o.done?i:k,o}}}function Kp({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:c=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},x=T=>l!==void 0&&T<l||d!==void 0&&T>d,b=T=>l===void 0?d:d===void 0||Math.abs(l-T)<Math.abs(d-T)?l:d;let v=s*t;const y=m+v,p=o===void 0?y:o(y);p!==y&&(v=p-m);const f=T=>-v*Math.exp(-T/a),j=T=>p+f(T),k=T=>{const L=f(T),A=j(T);h.done=Math.abs(L)<=c,h.value=h.done?p:A};let w,C;const N=T=>{x(h.value)&&(w=T,C=vv({keyframes:[h.value,b(h.value)],velocity:yv(j,T,h.value),damping:n,stiffness:i,restDelta:c,restSpeed:u}))};return N(0),{calculatedDuration:null,next:T=>{let L=!1;return!C&&w===void 0&&(L=!0,k(T),N(T)),w!==void 0&&T>w?C.next(T-w):(!L&&k(T),h)}}}const RS=e=>{const t=({timestamp:s})=>e(s);return{start:()=>ke.update(t,!0),stop:()=>Xr(t),now:()=>nt.isProcessing?nt.timestamp:performance.now()}},Yp=2e4;function Xp(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<Yp;)t+=s,a=e.next(t);return t>=Yp?1/0:t}const DS={decay:Kp,inertia:Kp,tween:Fl,keyframes:Fl,spring:vv};function Bl({autoplay:e=!0,delay:t=0,driver:s=RS,keyframes:a,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:d,onStop:c,onComplete:u,onUpdate:m,...h}){let x=1,b=!1,v,y;const p=()=>{y=new Promise(Q=>{v=Q})};p();let f;const j=DS[n]||Fl;let k;j!==Fl&&typeof a[0]!="number"&&(k=gv([0,100],a,{clamp:!1}),a=[0,100]);const w=j({...h,keyframes:a});let C;l==="mirror"&&(C=j({...h,keyframes:[...a].reverse(),velocity:-(h.velocity||0)}));let N="idle",T=null,L=null,A=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=Xp(w));const{calculatedDuration:H}=w;let _=1/0,X=1/0;H!==null&&(_=H+o,X=_*(i+1)-o);let oe=0;const E=Q=>{if(L===null)return;x>0&&(L=Math.min(L,Q)),x<0&&(L=Math.min(Q-X/x,L)),T!==null?oe=T:oe=Math.round(Q-L)*x;const ce=oe-t*(x>=0?1:-1),pt=x>=0?ce<0:ce>X;oe=Math.max(ce,0),N==="finished"&&T===null&&(oe=X);let J=oe,le=w;if(i){const Qs=Math.min(oe,X)/_;let Dt=Math.floor(Qs),Lt=Qs%1;!Lt&&Qs>=1&&(Lt=1),Lt===1&&Dt--,Dt=Math.min(Dt,i+1),!!(Dt%2)&&(l==="reverse"?(Lt=1-Lt,o&&(Lt-=o/_)):l==="mirror"&&(le=C)),J=Ds(0,1,Lt)*_}const fe=pt?{done:!1,value:a[0]}:le.next(J);k&&(fe.value=k(fe.value));let{done:or}=fe;!pt&&H!==null&&(or=x>=0?oe>=X:oe<=0);const Ma=T===null&&(N==="finished"||N==="running"&&or);return m&&m(fe.value),Ma&&F(),fe},V=()=>{f&&f.stop(),f=void 0},re=()=>{N="idle",V(),v(),p(),L=A=null},F=()=>{N="finished",u&&u(),V(),v()},B=()=>{if(b)return;f||(f=s(E));const Q=f.now();d&&d(),T!==null?L=Q-T:(!L||N==="finished")&&(L=Q),N==="finished"&&p(),A=L,T=null,N="running",f.start()};e&&B();const W={then(Q,ce){return y.then(Q,ce)},get time(){return zr(oe)},set time(Q){Q=ua(Q),oe=Q,T!==null||!f||x===0?T=Q:L=f.now()-Q/x},get duration(){const Q=w.calculatedDuration===null?Xp(w):w.calculatedDuration;return zr(Q)},get speed(){return x},set speed(Q){Q===x||!f||(x=Q,W.time=zr(oe))},get state(){return N},play:B,pause:()=>{N="paused",T=oe},stop:()=>{b=!0,N!=="idle"&&(N="idle",c&&c(),re())},cancel:()=>{A!==null&&E(A),re()},complete:()=>{N="finished"},sample:Q=>(L=0,E(Q))};return W}function LS(e){let t;return()=>(t===void 0&&(t=e()),t)}const OS=LS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_o=10,BS=2e4,US=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Xy(t.ease);function VS(e,t,{onUpdate:s,onComplete:a,...n}){if(!(OS()&&FS.has(t)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let o=!1,l,d,c=!1;const u=()=>{d=new Promise(j=>{l=j})};u();let{keyframes:m,duration:h=300,ease:x,times:b}=n;if(US(t,n)){const j=Bl({...n,repeat:0,delay:0});let k={done:!1,value:m[0]};const w=[];let C=0;for(;!k.done&&C<BS;)k=j.sample(C),w.push(k.value),C+=_o;b=void 0,m=w,h=C-_o,x="linear"}const v=Y4(e.owner.current,t,m,{...n,duration:h,ease:x,times:b}),y=()=>{c=!1,v.cancel()},p=()=>{c=!0,ke.update(y),l(),u()};return v.onfinish=()=>{c||(e.set(X4(m,n)),a&&a(),p())},{then(j,k){return d.then(j,k)},attachTimeline(j){return v.timeline=j,v.onfinish=null,Fe},get time(){return zr(v.currentTime||0)},set time(j){v.currentTime=ua(j)},get speed(){return v.playbackRate},set speed(j){v.playbackRate=j},get duration(){return zr(h)},play:()=>{o||(v.play(),Xr(y))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:j}=v;if(j){const k=Bl({...n,autoplay:!1});e.setWithVelocity(k.sample(j-_o).value,k.sample(j).value,_o)}p()},complete:()=>{c||v.finish()},cancel:p}}function $S({keyframes:e,delay:t,onUpdate:s,onComplete:a}){const n=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:Fe,pause:Fe,stop:Fe,then:i=>(i(),Promise.resolve()),cancel:Fe,complete:Fe});return t?Bl({keyframes:[0,1],duration:0,delay:t,onComplete:n}):n()}const zS={type:"spring",stiffness:500,damping:25,restSpeed:10},qS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WS={type:"keyframes",duration:.8},HS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QS=(e,{keyframes:t})=>t.length>2?WS:Pa.has(e)?e.startsWith("scale")?qS(t[1]):zS:HS,Hu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ls.test(t)||t==="0")&&!t.startsWith("url(")),GS=new Set(["brightness","contrast","saturate","opacity"]);function KS(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(jd)||[];if(!a)return e;const n=s.replace(a,"");let i=GS.has(t)?1:0;return a!==s&&(i*=100),t+"("+i+n+")"}const YS=/([a-z-]*)\(.*?\)/g,Qu={...Ls,getAnimatableNone:e=>{const t=e.match(YS);return t?t.map(KS).join(" "):e}},XS={...Ry,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:Qu,WebkitFilter:Qu},_h=e=>XS[e];function jv(e,t){let s=_h(e);return s!==Qu&&(s=Ls),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const kv=e=>/^0[^.\s]+$/.test(e);function JS(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||kv(e)}function ZS(e,t,s,a){const n=Hu(t,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const o=a.from!==void 0?a.from:e.get();let l;const d=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),JS(i[c])&&d.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(l=i[c]);if(n&&d.length&&l)for(let c=0;c<d.length;c++){const u=d[c];i[u]=jv(t,l)}return i}function eC({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}function Eh(e,t){return e[t]||e.default||e}const tC={skipAnimations:!1},Rh=(e,t,s,a={})=>n=>{const i=Eh(a,e)||{},o=i.delay||a.delay||0;let{elapsed:l=0}=a;l=l-ua(o);const d=ZS(t,e,s,i),c=d[0],u=d[d.length-1],m=Hu(e,c),h=Hu(e,u);let x={keyframes:d,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{t.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{n(),i.onComplete&&i.onComplete()}};if(eC(i)||(x={...x,...QS(e,x)}),x.duration&&(x.duration=ua(x.duration)),x.repeatDelay&&(x.repeatDelay=ua(x.repeatDelay)),!m||!h||K4.current||i.type===!1||tC.skipAnimations)return $S(x);if(!a.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const b=VS(t,e,x);if(b)return b}return Bl(x)};function Ul(e){return!!(Et(e)&&e.add)}const wv=e=>/^\-?\d*\.?\d+$/.test(e);function Dh(e,t){e.indexOf(t)===-1&&e.push(t)}function Lh(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Oh{constructor(){this.subscriptions=[]}add(t){return Dh(this.subscriptions,t),()=>Lh(this.subscriptions,t)}notify(t,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,a);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rC=e=>!isNaN(parseFloat(e));class sC{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,n=!0)=>{this.prev=this.current,this.current=a;const{delta:i,timestamp:o}=nt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rC(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Oh);const a=this.events[t].add(s);return t==="change"?()=>{a(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,a){this.set(s),this.prev=t,this.timeDelta=a}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vn(e,t){return new sC(e,t)}const Nv=e=>t=>t.test(e),aC={test:e=>e==="auto",parse:e=>e},Sv=[Aa,te,Tr,is,u4,c4,aC],$n=e=>Sv.find(Nv(e)),nC=[...Sv,gt,Ls],iC=e=>nC.find(Nv(e));function oC(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,vn(s))}function lC(e,t){const s=wd(e,t);let{transitionEnd:a={},transition:n={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...a};for(const o in i){const l=S4(i[o]);oC(e,o,l)}}function dC(e,t,s){var a,n;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const d=i[l],c=t[d];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(n=(a=s[d])!==null&&a!==void 0?a:e.readValue(d))!==null&&n!==void 0?n:t[d]),u!=null&&(typeof u=="string"&&(wv(u)||kv(u))?u=parseFloat(u):!iC(u)&&Ls.test(c)&&(u=jv(d,c)),e.addValue(d,vn(u,{owner:e})),s[d]===void 0&&(s[d]=u),u!==null&&e.setBaseTarget(d,u))}}function cC(e,t){return t?(t[e]||t.default||t).from:void 0}function uC(e,t,s){const a={};for(const n in e){const i=cC(n,t);if(i!==void 0)a[n]=i;else{const o=s.getValue(n);o&&(a[n]=o.get())}}return a}function mC({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function hC(e,t){const s=e.get();if(Array.isArray(t)){for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}else return s!==t}function Cv(e,t,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const d=e.getValue("willChange");a&&(i=a);const c=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in l){const h=e.getValue(m),x=l[m];if(!h||x===void 0||u&&mC(u,m))continue;const b={delay:s,elapsed:0,...Eh(i||{},m)};if(window.HandoffAppearAnimations){const p=e.getProps()[Ty];if(p){const f=window.HandoffAppearAnimations(p,m,h,ke);f!==null&&(b.elapsed=f,b.isHandoff=!0)}}let v=!b.isHandoff&&!hC(h,x);if(b.type==="spring"&&(h.getVelocity()||b.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(Rh(m,h,x,e.shouldReduceMotion&&Pa.has(m)?{type:!1}:b));const y=h.animation;Ul(d)&&(d.add(m),y.then(()=>d.remove(m))),c.push(y)}return o&&Promise.all(c).then(()=>{o&&lC(e,o)}),c}function Gu(e,t,s={}){const a=wd(e,t,s.custom);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(Cv(e,a,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:m}=n;return xC(e,t,c+d,u,m,s)}:()=>Promise.resolve(),{when:l}=n;if(l){const[d,c]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>c())}else return Promise.all([i(),o(s.delay)])}function xC(e,t,s=0,a=0,n=1,i){const o=[],l=(e.variantChildren.size-1)*a,d=n===1?(c=0)=>c*a:(c=0)=>l-c*a;return Array.from(e.variantChildren).sort(pC).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Gu(c,t,{...i,delay:s+d(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function pC(e,t){return e.sortNodePosition(t)}function fC(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>Gu(e,i,s));a=Promise.all(n)}else if(typeof t=="string")a=Gu(e,t,s);else{const n=typeof t=="function"?wd(e,t,s.custom):t;a=Promise.all(Cv(e,n,s))}return a.then(()=>e.notify("AnimationComplete",t))}const gC=[...bh].reverse(),bC=bh.length;function yC(e){return t=>Promise.all(t.map(({animation:s,options:a})=>fC(e,s,a)))}function vC(e){let t=yC(e);const s=kC();let a=!0;const n=(d,c)=>{const u=wd(e,c);if(u){const{transition:m,transitionEnd:h,...x}=u;d={...d,...x,...h}}return d};function i(d){t=d(e)}function o(d,c){const u=e.getProps(),m=e.getVariantContext(!0)||{},h=[],x=new Set;let b={},v=1/0;for(let p=0;p<bC;p++){const f=gC[p],j=s[f],k=u[f]!==void 0?u[f]:m[f],w=$i(k),C=f===c?j.isActive:null;C===!1&&(v=p);let N=k===m[f]&&k!==u[f]&&w;if(N&&a&&e.manuallyAnimateOnMount&&(N=!1),j.protectedKeys={...b},!j.isActive&&C===null||!k&&!j.prevProp||yd(k)||typeof k=="boolean")continue;let L=jC(j.prevProp,k)||f===c&&j.isActive&&!N&&w||p>v&&w,A=!1;const H=Array.isArray(k)?k:[k];let _=H.reduce(n,{});C===!1&&(_={});const{prevResolvedValues:X={}}=j,oe={...X,..._},E=V=>{L=!0,x.has(V)&&(A=!0,x.delete(V)),j.needsAnimating[V]=!0};for(const V in oe){const re=_[V],F=X[V];if(b.hasOwnProperty(V))continue;let B=!1;Ll(re)&&Ll(F)?B=!Ky(re,F):B=re!==F,B?re!==void 0?E(V):x.add(V):re!==void 0&&x.has(V)?E(V):j.protectedKeys[V]=!0}j.prevProp=k,j.prevResolvedValues=_,j.isActive&&(b={...b,..._}),a&&e.blockInitialAnimation&&(L=!1),L&&(!N||A)&&h.push(...H.map(V=>({animation:V,options:{type:f,...d}})))}if(x.size){const p={};x.forEach(f=>{const j=e.getBaseTarget(f);j!==void 0&&(p[f]=j)}),h.push({animation:p})}let y=!!h.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),a=!1,y?t(h):Promise.resolve()}function l(d,c,u){var m;if(s[d].isActive===c)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(d,c)}),s[d].isActive=c;const h=o(u,d);for(const x in s)s[x].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s}}function jC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ky(t,e):!1}function Gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kC(){return{animate:Gs(!0),whileInView:Gs(),whileHover:Gs(),whileTap:Gs(),whileDrag:Gs(),whileFocus:Gs(),exit:Gs()}}class wC extends Hs{constructor(t){super(t),t.animationState||(t.animationState=vC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),yd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let NC=0;class SC extends Hs{constructor(){super(...arguments),this.id=NC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t,{custom:a??this.node.getProps().custom});s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const CC={animation:{Feature:wC},exit:{Feature:SC}},Jp=(e,t)=>Math.abs(e-t);function TC(e,t){const s=Jp(e.x,t.x),a=Jp(e.y,t.y);return Math.sqrt(s**2+a**2)}class Tv{constructor(t,s,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=jc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,x=TC(m.offset,{x:0,y:0})>=3;if(!h&&!x)return;const{point:b}=m,{timestamp:v}=nt;this.history.push({...b,timestamp:v});const{onStart:y,onMove:p}=this.handlers;h||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=vc(h,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=jc(m.type==="pointercancel"?this.lastMoveEventInfo:vc(h,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,y),b&&b(m,y)},!qy(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.contextWindow=n||window;const o=kd(t),l=vc(o,this.transformPagePoint),{point:d}=l,{timestamp:c}=nt;this.history=[{...d,timestamp:c}];const{onSessionStart:u}=s;u&&u(t,jc(l,this.history)),this.removeListeners=Ts($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function vc(e,t){return t?{point:t(e.point)}:e}function Zp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jc({point:e},t){return{point:e,delta:Zp(e,Pv(t)),offset:Zp(e,PC(t)),velocity:AC(t,.1)}}function PC(e){return e[0]}function Pv(e){return e[e.length-1]}function AC(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=Pv(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>ua(t)));)s--;if(!a)return{x:0,y:0};const i=zr(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wt(e){return e.max-e.min}function Ku(e,t=0,s=.01){return Math.abs(e-t)<=s}function ef(e,t,s,a=.5){e.origin=a,e.originPoint=Me(t.min,t.max,e.origin),e.scale=Wt(s)/Wt(t),(Ku(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Me(s.min,s.max,e.origin)-e.originPoint,(Ku(e.translate)||isNaN(e.translate))&&(e.translate=0)}function xi(e,t,s,a){ef(e.x,t.x,s.x,a?a.originX:void 0),ef(e.y,t.y,s.y,a?a.originY:void 0)}function tf(e,t,s){e.min=s.min+t.min,e.max=e.min+Wt(t)}function IC(e,t,s){tf(e.x,t.x,s.x),tf(e.y,t.y,s.y)}function rf(e,t,s){e.min=t.min-s.min,e.max=e.min+Wt(t)}function pi(e,t,s){rf(e.x,t.x,s.x),rf(e.y,t.y,s.y)}function MC(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?Me(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?Me(s,e,a.max):Math.min(e,s)),e}function sf(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function _C(e,{top:t,left:s,bottom:a,right:n}){return{x:sf(e.x,s,n),y:sf(e.y,t,a)}}function af(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function EC(e,t){return{x:af(e.x,t.x),y:af(e.y,t.y)}}function RC(e,t){let s=.5;const a=Wt(e),n=Wt(t);return n>a?s=qi(t.min,t.max-a,e.min):a>n&&(s=qi(e.min,e.max-n,t.min)),Ds(0,1,s)}function DC(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Yu=.35;function LC(e=Yu){return e===!1?e=0:e===!0&&(e=Yu),{x:nf(e,"left","right"),y:nf(e,"top","bottom")}}function nf(e,t,s){return{min:of(e,t),max:of(e,s)}}function of(e,t){return typeof e=="number"?e:e[t]||0}const lf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:lf(),y:lf()}),df=()=>({min:0,max:0}),Ve=()=>({x:df(),y:df()});function Jt(e){return[e("x"),e("y")]}function Av({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function OC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FC(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function kc(e){return e===void 0||e===1}function Xu({scale:e,scaleX:t,scaleY:s}){return!kc(e)||!kc(t)||!kc(s)}function Xs(e){return Xu(e)||Iv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Iv(e){return cf(e.x)||cf(e.y)}function cf(e){return e&&e!=="0%"}function Vl(e,t,s){const a=e-s,n=t*a;return s+n}function uf(e,t,s,a,n){return n!==void 0&&(e=Vl(e,n,a)),Vl(e,s,a)+t}function Ju(e,t=0,s=1,a,n){e.min=uf(e.min,t,s,a,n),e.max=uf(e.max,t,s,a,n)}function Mv(e,{x:t,y:s}){Ju(e.x,t.translate,t.scale,t.originPoint),Ju(e.y,s.translate,s.scale,s.originPoint)}function BC(e,t,s,a=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,o;for(let l=0;l<n;l++){i=s[l],o=i.projectionDelta;const d=i.instance;d&&d.style&&d.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Za(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Mv(e,o)),a&&Xs(i.latestValues)&&Za(e,i.latestValues))}t.x=mf(t.x),t.y=mf(t.y)}function mf(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ds(e,t){e.min=e.min+t,e.max=e.max+t}function hf(e,t,[s,a,n]){const i=t[n]!==void 0?t[n]:.5,o=Me(e.min,e.max,i);Ju(e,t[s],t[a],o,t.scale)}const UC=["x","scaleX","originX"],VC=["y","scaleY","originY"];function Za(e,t){hf(e.x,t,UC),hf(e.y,t,VC)}function _v(e,t){return Av(FC(e.getBoundingClientRect(),t))}function $C(e,t,s){const a=_v(e,s),{scroll:n}=t;return n&&(ds(a.x,n.offset.x),ds(a.y,n.offset.y)),a}const Ev=({current:e})=>e?e.ownerDocument.defaultView:null,zC=new WeakMap;class qC{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(kd(u,"page").point)},i=(u,m)=>{const{drag:h,dragPropagation:x,onDragStart:b}=this.getProps();if(h&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hy(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(y=>{let p=this.getAxisMotionValue(y).get()||0;if(Tr.test(p)){const{projection:f}=this.visualElement;if(f&&f.layout){const j=f.layout.layoutBox[y];j&&(p=Wt(j)*(parseFloat(p)/100))}}this.originPoint[y]=p}),b&&ke.update(()=>b(u,m),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:x,onDirectionLock:b,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=m;if(x&&this.currentDirection===null){this.currentDirection=WC(y),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),v&&v(u,m)},l=(u,m)=>this.stop(u,m),d=()=>Jt(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Tv(t,{onSessionStart:n,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Ev(this.visualElement)})}stop(t,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&ke.update(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:n}=this.getProps();if(!a||!Eo(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=MC(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&Ya(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=_C(n.layoutBox,s):this.constraints=!1,this.elastic=LC(a),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Jt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=DC(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Ya(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=$C(a,n.root,this.visualElement.getTransformPagePoint());let o=EC(n.layout.layoutBox,i);if(s){const l=s(OC(o));this.hasMutatedConstraints=!!l,l&&(o=Av(l))}return o}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=Jt(u=>{if(!Eo(u,s,this.currentDirection))return;let m=d&&d[u]||{};o&&(m={min:0,max:0});const h=n?200:1e6,x=n?40:1e7,b={type:"inertia",velocity:a?t[u]:0,bounceStiffness:h,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,b)});return Promise.all(c).then(l)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return a.start(Rh(t,a,0,s))}stopAnimation(){Jt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Jt(s=>{const{drag:a}=this.getProps();if(!Eo(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];i.set(t[s]-Me(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Ya(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Jt(o=>{const l=this.getAxisMotionValue(o);if(l){const d=l.get();n[o]=RC({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Jt(o=>{if(!Eo(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:c}=this.constraints[o];l.set(Me(d,c,n[o]))})}addListeners(){if(!this.visualElement.current)return;zC.set(this.visualElement,this);const t=this.visualElement.current,s=$r(t,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();Ya(d)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),a();const o=Ur(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Jt(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=d[u].translate,m.set(m.get()+d[u].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=Yu,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Eo(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function WC(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class HC extends Hs{constructor(t){super(t),this.removeGroupControls=Fe,this.removeListeners=Fe,this.controls=new qC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fe}unmount(){this.removeGroupControls(),this.removeListeners()}}const xf=e=>(t,s)=>{e&&ke.update(()=>e(t,s))};class QC extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Fe}onPointerDown(t){this.session=new Tv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ev(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:xf(t),onStart:xf(s),onMove:a,onEnd:(i,o)=>{delete this.session,n&&ke.update(()=>n(i,o))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GC(){const e=g.useContext(gd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,n=g.useId();return g.useEffect(()=>a(n),[]),!t&&s?[!1,()=>s&&s(n)]:[!0]}const Zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const s=pf(e,t.target.x),a=pf(e,t.target.y);return`${s}% ${a}%`}},KC={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,n=Ls.parse(e);if(n.length>5)return a;const i=Ls.createTransformer(e),o=typeof n[0]!="number"?1:0,l=s.x.scale*t.x,d=s.y.scale*t.y;n[0+o]/=l,n[1+o]/=d;const c=Me(l,d,.5);return typeof n[2+o]=="number"&&(n[2+o]/=c),typeof n[3+o]=="number"&&(n[3+o]/=c),i(n)}};class YC extends Pr.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;s4(XC),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,o=a.projection;return o&&(o.isPresent=i,n||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ke.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Rv(e){const[t,s]=GC(),a=g.useContext(vh);return Pr.createElement(YC,{...e,layoutGroup:a,switchLayoutGroup:g.useContext(Ay),isPresent:t,safeToRemove:s})}const XC={borderRadius:{...zn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zn,borderTopRightRadius:zn,borderBottomLeftRadius:zn,borderBottomRightRadius:zn,boxShadow:KC},Dv=["TopLeft","TopRight","BottomLeft","BottomRight"],JC=Dv.length,ff=e=>typeof e=="string"?parseFloat(e):e,gf=e=>typeof e=="number"||te.test(e);function ZC(e,t,s,a,n,i){n?(e.opacity=Me(0,s.opacity!==void 0?s.opacity:1,e3(a)),e.opacityExit=Me(t.opacity!==void 0?t.opacity:1,0,t3(a))):i&&(e.opacity=Me(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let o=0;o<JC;o++){const l=`border${Dv[o]}Radius`;let d=bf(t,l),c=bf(s,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||gf(d)===gf(c)?(e[l]=Math.max(Me(ff(d),ff(c),a),0),(Tr.test(c)||Tr.test(d))&&(e[l]+="%")):e[l]=c}(t.rotate||s.rotate)&&(e.rotate=Me(t.rotate||0,s.rotate||0,a))}function bf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const e3=Lv(0,.5,av),t3=Lv(.5,.95,Fe);function Lv(e,t,s){return a=>a<e?0:a>t?1:s(qi(e,t,a))}function yf(e,t){e.min=t.min,e.max=t.max}function Xt(e,t){yf(e.x,t.x),yf(e.y,t.y)}function vf(e,t,s,a,n){return e-=t,e=Vl(e,1/s,a),n!==void 0&&(e=Vl(e,1/n,a)),e}function r3(e,t=0,s=1,a=.5,n,i=e,o=e){if(Tr.test(t)&&(t=parseFloat(t),t=Me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Me(i.min,i.max,a);e===i&&(l-=t),e.min=vf(e.min,t,s,l,n),e.max=vf(e.max,t,s,l,n)}function jf(e,t,[s,a,n],i,o){r3(e,t[s],t[a],t[n],t.scale,i,o)}const s3=["x","scaleX","originX"],a3=["y","scaleY","originY"];function kf(e,t,s,a){jf(e.x,t,s3,s?s.x:void 0,a?a.x:void 0),jf(e.y,t,a3,s?s.y:void 0,a?a.y:void 0)}function wf(e){return e.translate===0&&e.scale===1}function Ov(e){return wf(e.x)&&wf(e.y)}function n3(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Fv(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Nf(e){return Wt(e.x)/Wt(e.y)}class i3{constructor(){this.members=[]}add(t){Dh(this.members,t),t.scheduleRender()}remove(t){if(Lh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sf(e,t,s){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y;if((n||i)&&(a=`translate3d(${n}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:d,rotateX:c,rotateY:u}=s;d&&(a+=`rotate(${d}deg) `),c&&(a+=`rotateX(${c}deg) `),u&&(a+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(a+=`scale(${o}, ${l})`),a||"none"}const o3=(e,t)=>e.depth-t.depth;class l3{constructor(){this.children=[],this.isDirty=!1}add(t){Dh(this.children,t),this.isDirty=!0}remove(t){Lh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o3),this.isDirty=!1,this.children.forEach(t)}}function d3(e,t){const s=performance.now(),a=({timestamp:n})=>{const i=n-s;i>=t&&(Xr(a),e(i-t))};return ke.read(a,!0),()=>Xr(a)}function c3(e){window.MotionDebug&&window.MotionDebug.record(e)}function u3(e){return e instanceof SVGElement&&e.tagName!=="svg"}function m3(e,t,s){const a=Et(e)?e:vn(e);return a.start(Rh("",a,t,s)),a.animation}const Cf=["","X","Y","Z"],h3={visibility:"hidden"},Tf=1e3;let x3=0;const Js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Bv({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},l=t==null?void 0:t()){this.id=x3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Js.totalNodes=Js.resolvedTargetDeltas=Js.recalculatedProjection=0,this.nodes.forEach(g3),this.nodes.forEach(k3),this.nodes.forEach(w3),this.nodes.forEach(b3),c3(Js)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new l3)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Oh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=u3(o),this.instance=o;const{layoutId:d,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||d)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=d3(h,250),Zo.hasAnimatedSinceResize&&(Zo.hasAnimatedSinceResize=!1,this.nodes.forEach(Af))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&u&&(d||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||P3,{onLayoutAnimationStart:y,onLayoutAnimationComplete:p}=u.getProps(),f=!this.targetLayout||!Fv(this.targetLayout,b)||x,j=!h&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||h&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,j);const k={...Eh(v,"layout"),onPlay:y,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||Af(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pf);return}this.isUpdating||this.nodes.forEach(v3),this.isUpdating=!1,this.nodes.forEach(j3),this.nodes.forEach(p3),this.nodes.forEach(f3),this.clearAllSnapshots();const l=performance.now();nt.delta=Ds(0,1e3/60,l-nt.timestamp),nt.timestamp=l,nt.isProcessing=!0,mc.update.process(nt),mc.preRender.process(nt),mc.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(y3),this.sharedNodes.forEach(S3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Ov(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(l||Xs(this.latestValues)||u)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),A3(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ve();const l=o.measureViewportBox(),{scroll:d}=this.root;return d&&(ds(l.x,d.offset.x),ds(l.y,d.offset.y)),l}removeElementScroll(o){const l=Ve();Xt(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:u,options:m}=c;if(c!==this.root&&u&&m.layoutScroll){if(u.isRoot){Xt(l,o);const{scroll:h}=this.root;h&&(ds(l.x,-h.offset.x),ds(l.y,-h.offset.y))}ds(l.x,u.offset.x),ds(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const d=Ve();Xt(d,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Za(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xs(u.latestValues)&&Za(d,u.latestValues)}return Xs(this.latestValues)&&Za(d,this.latestValues),d}removeTransform(o){const l=Ve();Xt(l,o);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!Xs(c.latestValues))continue;Xu(c.latestValues)&&c.updateSnapshot();const u=Ve(),m=c.measurePageBox();Xt(u,m),kf(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xs(this.latestValues)&&kf(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),pi(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),Mv(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),pi(this.relativeTargetOrigin,this.target,x.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xu(this.parent.latestValues)||Iv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Xt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,x=this.treeScale.y;BC(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=Ja(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja());const v=this.projectionTransform;xi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=Sf(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},m=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ve(),x=d?d.source:void 0,b=this.layout?this.layout.source:void 0,v=x!==b,y=this.getStack(),p=!y||y.members.length<=1,f=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(T3));this.animationProgress=0;let j;this.mixTargetDelta=k=>{const w=k/1e3;If(m.x,o.x,w),If(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C3(this.relativeTarget,this.relativeTargetOrigin,h,w),j&&n3(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ve()),Xt(j,this.relativeTarget)),v&&(this.animationValues=u,ZC(u,c,this.latestValues,w,f,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{Zo.hasAnimatedSinceResize=!0,this.currentAnimation=m3(0,Tf,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=o;if(!(!l||!d||!c)){if(this!==o&&this.layout&&c&&Uv(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||Ve();const m=Wt(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const h=Wt(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+h}Xt(l,d),Za(l,u),xi(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new i3),this.sharedNodes.get(o).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(l=!0),!l)return;const c={};for(let u=0;u<Cf.length;u++){const m="rotate"+Cf[u];d[m]&&(c[m]=d[m],o.setStaticValue(m,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return h3;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Jo(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Jo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xs(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=Sf(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x,y:b}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,m.animationValues?c.opacity=m===this?(d=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Rl){if(h[v]===void 0)continue;const{correct:y,applyTo:p}=Rl[v],f=c.transform==="none"?h[v]:y(h[v],m);if(p){const j=p.length;for(let k=0;k<j;k++)c[p[k]]=f}else c[v]=f}return this.options.layoutId&&(c.pointerEvents=m===this?Jo(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Pf),this.root.sharedNodes.clear()}}}function p3(e){e.updateLayout()}function f3(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,o=s.source!==e.layout.source;i==="size"?Jt(m=>{const h=o?s.measuredBox[m]:s.layoutBox[m],x=Wt(h);h.min=a[m].min,h.max=h.min+x}):Uv(i,s.layoutBox,a)&&Jt(m=>{const h=o?s.measuredBox[m]:s.layoutBox[m],x=Wt(a[m]);h.max=h.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+x)});const l=Ja();xi(l,a,s.layoutBox);const d=Ja();o?xi(d,e.applyTransform(n,!0),s.measuredBox):xi(d,a,s.layoutBox);const c=!Ov(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:x}=m;if(h&&x){const b=Ve();pi(b,s.layoutBox,h.layoutBox);const v=Ve();pi(v,a,x.layoutBox),Fv(b,v)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function g3(e){Js.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function b3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y3(e){e.clearSnapshot()}function Pf(e){e.clearMeasurements()}function v3(e){e.isLayoutDirty=!1}function j3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Af(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function k3(e){e.resolveTargetDelta()}function w3(e){e.calcProjection()}function N3(e){e.resetRotation()}function S3(e){e.removeLeadSnapshot()}function If(e,t,s){e.translate=Me(t.translate,0,s),e.scale=Me(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Mf(e,t,s,a){e.min=Me(t.min,s.min,a),e.max=Me(t.max,s.max,a)}function C3(e,t,s,a){Mf(e.x,t.x,s.x,a),Mf(e.y,t.y,s.y,a)}function T3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P3={duration:.45,ease:[.4,0,.1,1]},_f=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Ef=_f("applewebkit/")&&!_f("chrome/")?Math.round:Fe;function Rf(e){e.min=Ef(e.min),e.max=Ef(e.max)}function A3(e){Rf(e.x),Rf(e.y)}function Uv(e,t,s){return e==="position"||e==="preserve-aspect"&&!Ku(Nf(t),Nf(s),.2)}const I3=Bv({attachResizeListener:(e,t)=>Ur(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wc={current:void 0},Vv=Bv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wc.current){const e=new I3({});e.mount(window),e.setOptions({layoutScroll:!0}),wc.current=e}return wc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),M3={pan:{Feature:QC},drag:{Feature:HC,ProjectionNode:Vv,MeasureLayout:Rv}},_3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function E3(e){const t=_3.exec(e);if(!t)return[,];const[,s,a]=t;return[s,a]}function Zu(e,t,s=1){const[a,n]=E3(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return wv(o)?parseFloat(o):o}else return $u(n)?Zu(n,t,s+1):n}function R3(e,{...t},s){const a=e.current;if(!(a instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(n=>{const i=n.get();if(!$u(i))return;const o=Zu(i,a);o&&n.set(o)});for(const n in t){const i=t[n];if(!$u(i))continue;const o=Zu(i,a);o&&(t[n]=o,s||(s={}),s[n]===void 0&&(s[n]=i))}return{target:t,transitionEnd:s}}const D3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$v=e=>D3.has(e),L3=e=>Object.keys(e).some($v),Df=e=>e===Aa||e===te,Lf=(e,t)=>parseFloat(e.split(", ")[t]),Of=(e,t)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const n=a.match(/^matrix3d\((.+)\)$/);if(n)return Lf(n[1],t);{const i=a.match(/^matrix\((.+)\)$/);return i?Lf(i[1],e):0}},O3=new Set(["x","y","z"]),F3=ao.filter(e=>!O3.has(e));function B3(e){const t=[];return F3.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const jn={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Of(4,13),y:Of(5,14)};jn.translateX=jn.x;jn.translateY=jn.y;const U3=(e,t,s)=>{const a=t.measureViewportBox(),n=t.current,i=getComputedStyle(n),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(c=>{l[c]=jn[c](a,i)}),t.render();const d=t.measureViewportBox();return s.forEach(c=>{const u=t.getValue(c);u&&u.jump(l[c]),e[c]=jn[c](d,i)}),e},V3=(e,t,s={},a={})=>{t={...t},a={...a};const n=Object.keys(t).filter($v);let i=[],o=!1;const l=[];if(n.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let u=s[d],m=$n(u);const h=t[d];let x;if(Ll(h)){const b=h.length,v=h[0]===null?1:0;u=h[v],m=$n(u);for(let y=v;y<b&&h[y]!==null;y++)x?Ph($n(h[y])===x):x=$n(h[y])}else x=$n(h);if(m!==x)if(Df(m)&&Df(x)){const b=c.get();typeof b=="string"&&c.set(parseFloat(b)),typeof h=="string"?t[d]=parseFloat(h):Array.isArray(h)&&x===te&&(t[d]=h.map(parseFloat))}else m!=null&&m.transform&&(x!=null&&x.transform)&&(u===0||h===0)?u===0?c.set(x.transform(u)):t[d]=m.transform(h):(o||(i=B3(e),o=!0),l.push(d),a[d]=a[d]!==void 0?a[d]:t[d],c.jump(h))}),l.length){const d=l.indexOf("height")>=0?window.pageYOffset:null,c=U3(t,e,l);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),bd&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:a}}else return{target:t,transitionEnd:a}};function $3(e,t,s,a){return L3(t)?V3(e,t,s,a):{target:t,transitionEnd:a}}const z3=(e,t,s,a)=>{const n=R3(e,t,a);return t=n.target,a=n.transitionEnd,$3(e,t,s,a)},em={current:null},zv={current:!1};function q3(){if(zv.current=!0,!!bd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>em.current=e.matches;e.addListener(t),t()}else em.current=!1}function W3(e,t,s){const{willChange:a}=t;for(const n in t){const i=t[n],o=s[n];if(Et(i))e.addValue(n,i),Ul(a)&&a.add(n);else if(Et(o))e.addValue(n,vn(i,{owner:e})),Ul(a)&&a.remove(n);else if(o!==i)if(e.hasValue(n)){const l=e.getValue(n);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(n);e.addValue(n,vn(l!==void 0?l:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Ff=new WeakMap,qv=Object.keys(zi),H3=qv.length,Bf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Q3=yh.length;class G3{constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:n,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:d}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.isControllingVariants=vd(s),this.isVariantNode=Py(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const h=u[m];l[m]!==void 0&&Et(h)&&(h.set(l[m],!1),Ul(c)&&c.add(m))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,Ff.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),zv.current||q3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:em.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ff.delete(this.current),this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const a=Pa.has(t),n=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},a,n,i){let o,l;for(let d=0;d<H3;d++){const c=qv[d],{isEnabled:u,Feature:m,ProjectionNode:h,MeasureLayout:x}=zi[c];h&&(o=h),u(s)&&(!this.features[c]&&m&&(this.features[c]=new m(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:u,dragConstraints:m,layoutScroll:h,layoutRoot:x}=s;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!u||m&&Ya(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:x})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Bf.length;a++){const n=Bf[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i=t["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=W3(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<Q3;a++){const n=yh[a],i=this.props[n];($i(i)||i===!1)&&(s[n]=i)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=vn(s,{owner:this}),this.addValue(t,a)),a}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:a}=this.props,n=typeof a=="string"||typeof a=="object"?(s=Th(this.props,a))===null||s===void 0?void 0:s[t]:void 0;if(a&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Et(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Oh),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Wv extends G3{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...a},{transformValues:n},i){let o=uC(a,t||{},this);if(n&&(s&&(s=n(s)),a&&(a=n(a)),o&&(o=n(o))),i){dC(this,a,o);const l=z3(this,a,o,s);s=l.transitionEnd,a=l.target}return{transition:t,transitionEnd:s,...a}}}function K3(e){return window.getComputedStyle(e)}class Y3 extends Wv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(Pa.has(s)){const a=_h(s);return a&&a.default||0}else{const a=K3(t),n=(_y(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:s}){return _v(t,s)}build(t,s,a,n){kh(t,s,a,n.transformTemplate)}scrapeMotionValuesFromProps(t,s){return Ch(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,a,n){Fy(t,s,a,n)}}class X3 extends Wv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Pa.has(s)){const a=_h(s);return a&&a.default||0}return s=By.has(s)?s:gh(s),t.getAttribute(s)}measureInstanceViewportBox(){return Ve()}scrapeMotionValuesFromProps(t,s){return Vy(t,s)}build(t,s,a,n){Nh(t,s,a,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,a,n){Uy(t,s,a,n)}mount(t){this.isSVGTag=Sh(t.tagName),super.mount(t)}}const J3=(e,t)=>jh(e)?new X3(t,{enableHardwareAcceleration:!1}):new Y3(t,{enableHardwareAcceleration:!0}),Z3={layout:{ProjectionNode:Vv,MeasureLayout:Rv}},eT={...CC,...H4,...M3,...Z3},P=t4((e,t)=>E4(e,t,eT,J3));function Hv(){const e=g.useRef(!1);return fh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function tT(){const e=Hv(),[t,s]=g.useState(0),a=g.useCallback(()=>{e.current&&s(t+1)},[t]);return[g.useCallback(()=>ke.postRender(a),[a]),t]}class rT extends g.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sT({children:e,isPresent:t}){const s=g.useId(),a=g.useRef(null),n=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:d}=n.current;if(t||!a.current||!i||!o)return;a.current.dataset.motionPopId=s;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),g.createElement(rT,{isPresent:t,childRef:a,sizeRef:n},g.cloneElement(e,{ref:a}))}const Nc=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:o})=>{const l=$y(aT),d=g.useId(),c=g.useMemo(()=>({id:d,initial:t,isPresent:s,custom:n,onExitComplete:u=>{l.set(u,!0);for(const m of l.values())if(!m)return;a&&a()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[s]);return g.useMemo(()=>{l.forEach((u,m)=>l.set(m,!1))},[s]),g.useEffect(()=>{!s&&!l.size&&a&&a()},[s]),o==="popLayout"&&(e=g.createElement(sT,{isPresent:s},e)),g.createElement(gd.Provider,{value:c},e)};function aT(){return new Map}function nT(e){return g.useEffect(()=>()=>e(),[])}const Zs=e=>e.key||"";function iT(e,t){e.forEach(s=>{const a=Zs(s);t.set(a,s)})}function oT(e){const t=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&t.push(s)}),t}const ae=({children:e,custom:t,initial:s=!0,onExitComplete:a,exitBeforeEnter:n,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=g.useContext(vh).forceRender||tT()[0],d=Hv(),c=oT(e);let u=c;const m=g.useRef(new Map).current,h=g.useRef(u),x=g.useRef(new Map).current,b=g.useRef(!0);if(fh(()=>{b.current=!1,iT(c,x),h.current=u}),nT(()=>{b.current=!0,x.clear(),m.clear()}),b.current)return g.createElement(g.Fragment,null,u.map(f=>g.createElement(Nc,{key:Zs(f),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:o},f)));u=[...u];const v=h.current.map(Zs),y=c.map(Zs),p=v.length;for(let f=0;f<p;f++){const j=v[f];y.indexOf(j)===-1&&!m.has(j)&&m.set(j,void 0)}return o==="wait"&&m.size&&(u=[]),m.forEach((f,j)=>{if(y.indexOf(j)!==-1)return;const k=x.get(j);if(!k)return;const w=v.indexOf(j);let C=f;if(!C){const N=()=>{m.delete(j);const T=Array.from(x.keys()).filter(L=>!y.includes(L));if(T.forEach(L=>x.delete(L)),h.current=c.filter(L=>{const A=Zs(L);return A===j||T.includes(A)}),!m.size){if(d.current===!1)return;l(),a&&a()}};C=g.createElement(Nc,{key:Zs(k),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:i,mode:o},k),m.set(j,C)}u.splice(w,0,C)}),u=u.map(f=>{const j=f.key;return m.has(j)?f:g.createElement(Nc,{key:Zs(f),isPresent:!0,presenceAffectsLayout:i,mode:o},f)}),g.createElement(g.Fragment,null,m.size?u:u.map(f=>g.cloneElement(f)))},Qv=g.createContext(void 0);function lT({children:e}){const[t,s]=g.useState([]),a=(l,d)=>{const c=Math.random().toString(36).substr(2,9);s(u=>[...u,{id:c,type:l,message:d}]),setTimeout(()=>{s(u=>u.filter(m=>m.id!==c))},4e3)},n=l=>{s(d=>d.filter(c=>c.id!==l))},i=l=>{switch(l){case"success":return r.jsx(zt,{className:"w-5 h-5"});case"error":return r.jsx(Yr,{className:"w-5 h-5"});case"warning":return r.jsx(gr,{className:"w-5 h-5"});case"info":return r.jsx(vy,{className:"w-5 h-5"})}},o=l=>{switch(l){case"success":return"bg-emerald-500/10 border-emerald-500/30 text-emerald-500";case"error":return"bg-rose-500/10 border-rose-500/30 text-rose-500";case"warning":return"bg-amber-500/10 border-amber-500/30 text-amber-500";case"info":return"bg-blue-500/10 border-blue-500/30 text-blue-500"}};return r.jsxs(Qv.Provider,{value:{showToast:a},children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2",children:r.jsx(ae,{children:t.map(l=>r.jsxs(P.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:`flex items-center gap-3 px-4 py-3 rounded-xl border backdrop-blur-sm shadow-lg min-w-[300px] ${o(l.type)}`,children:[i(l.type),r.jsx("p",{className:"flex-1 text-sm font-medium",children:l.message}),r.jsx("button",{onClick:()=>n(l.id),className:"hover:opacity-70 transition-opacity",children:r.jsx(Le,{className:"w-4 h-4"})})]},l.id))})})]})}function Ia(){const e=g.useContext(Qv);if(!e)throw new Error("useToast must be used within ToastProvider");return e}const Y=p5;function Gv(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Gv(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function dT(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Gv(e))&&(a&&(a+=" "),a+=t);return a}const Fh="-",cT=e=>{const t=mT(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(Fh);return l[0]===""&&l.length!==1&&l.shift(),Kv(l,t)||uT(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},Kv=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),n=a?Kv(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(Fh);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Uf=/^\[(.+)\]$/,uT=e=>{if(Uf.test(e)){const t=Uf.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},mT=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return xT(Object.entries(e.classGroups),s).forEach(([i,o])=>{tm(o,a,i,t)}),a},tm=(e,t,s,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:Vf(t,n);i.classGroupId=s;return}if(typeof n=="function"){if(hT(n)){tm(n(a),t,s,a);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{tm(o,Vf(t,i),s,a)})})},Vf=(e,t)=>{let s=e;return t.split(Fh).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},hT=e=>e.isThemeGetter,xT=(e,t)=>t?e.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,n]}):e,pT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},Yv="!",fT=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,n=t[0],i=t.length,o=l=>{const d=[];let c=0,u=0,m;for(let y=0;y<l.length;y++){let p=l[y];if(c===0){if(p===n&&(a||l.slice(y,y+i)===t)){d.push(l.slice(u,y)),u=y+i;continue}if(p==="/"){m=y;continue}}p==="["?c++:p==="]"&&c--}const h=d.length===0?l:l.substring(u),x=h.startsWith(Yv),b=x?h.substring(1):h,v=m&&m>u?m-u:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:o}):o},gT=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},bT=e=>({cache:pT(e.cacheSize),parseClassName:fT(e),...cT(e)}),yT=/\s+/,vT=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=e.trim().split(yT);let l="";for(let d=o.length-1;d>=0;d-=1){const c=o[d],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:x}=s(c);let b=!!x,v=a(b?h.substring(0,x):h);if(!v){if(!b){l=c+(l.length>0?" "+l:l);continue}if(v=a(h),!v){l=c+(l.length>0?" "+l:l);continue}b=!1}const y=gT(u).join(":"),p=m?y+Yv:y,f=p+v;if(i.includes(f))continue;i.push(f);const j=n(v,b);for(let k=0;k<j.length;++k){const w=j[k];i.push(p+w)}l=c+(l.length>0?" "+l:l)}return l};function jT(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Xv(t))&&(a&&(a+=" "),a+=s);return a}const Xv=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=Xv(e[a]))&&(s&&(s+=" "),s+=t);return s};function kT(e,...t){let s,a,n,i=o;function o(d){const c=t.reduce((u,m)=>m(u),e());return s=bT(c),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const c=a(d);if(c)return c;const u=vT(d,s);return n(d,u),u}return function(){return i(jT.apply(null,arguments))}}const we=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Jv=/^\[(?:([a-z-]+):)?(.+)\]$/i,wT=/^\d+\/\d+$/,NT=new Set(["px","full","screen"]),ST=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Er=e=>on(e)||NT.has(e)||wT.test(e),ss=e=>Pn(e,"length",OT),on=e=>!!e&&!Number.isNaN(Number(e)),Sc=e=>Pn(e,"number",on),qn=e=>!!e&&Number.isInteger(Number(e)),IT=e=>e.endsWith("%")&&on(e.slice(0,-1)),se=e=>Jv.test(e),as=e=>ST.test(e),MT=new Set(["length","size","percentage"]),_T=e=>Pn(e,MT,Zv),ET=e=>Pn(e,"position",Zv),RT=new Set(["image","url"]),DT=e=>Pn(e,RT,BT),LT=e=>Pn(e,"",FT),Wn=()=>!0,Pn=(e,t,s)=>{const a=Jv.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},OT=e=>CT.test(e)&&!TT.test(e),Zv=()=>!1,FT=e=>PT.test(e),BT=e=>AT.test(e),UT=()=>{const e=we("colors"),t=we("spacing"),s=we("blur"),a=we("brightness"),n=we("borderColor"),i=we("borderRadius"),o=we("borderSpacing"),l=we("borderWidth"),d=we("contrast"),c=we("grayscale"),u=we("hueRotate"),m=we("invert"),h=we("gap"),x=we("gradientColorStops"),b=we("gradientColorStopPositions"),v=we("inset"),y=we("margin"),p=we("opacity"),f=we("padding"),j=we("saturate"),k=we("scale"),w=we("sepia"),C=we("skew"),N=we("space"),T=we("translate"),L=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",se,t],_=()=>[se,t],X=()=>["",Er,ss],oe=()=>["auto",on,se],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",se],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[on,se];return{cacheSize:500,separator:":",theme:{colors:[Wn],spacing:[Er,ss],blur:["none","",as,se],brightness:Q(),borderColor:[e],borderRadius:["none","","full",as,se],borderSpacing:_(),borderWidth:X(),contrast:Q(),grayscale:B(),hueRotate:Q(),invert:B(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[IT,ss],inset:H(),margin:H(),opacity:Q(),padding:_(),saturate:Q(),scale:Q(),sepia:B(),skew:Q(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[as]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),se]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qn,se]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",qn,se]}],"grid-cols":[{"grid-cols":[Wn]}],"col-start-end":[{col:["auto",{span:["full",qn,se]},se]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[Wn]}],"row-start-end":[{row:["auto",{span:[qn,se]},se]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[as]},as]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",as,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sc]}],"font-family":[{font:[Wn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",on,Sc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Er,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Er,ss]}],"underline-offset":[{"underline-offset":["auto",Er,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),ET]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_T]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:V()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Er,se]}],"outline-w":[{outline:[Er,ss]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Er,ss]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",as,LT]}],"shadow-color":[{shadow:[Wn]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",as,se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[qn,se]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Er,ss,Sc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VT=kT(UT);function K(...e){return VT(dT(e))}function I({variant:e="primary",size:t="md",children:s,isLoading:a=!1,className:n,disabled:i,...o}){const l="inline-flex items-center justify-center font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2",d={primary:"bg-primary-700 hover:bg-primary-800 text-white focus:ring-primary-700",secondary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-600",ghost:"bg-transparent hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text focus:ring-primary-700",outline:"border-2 border-primary-700 text-primary-700 hover:bg-primary-50 dark:hover:bg-primary-950 focus:ring-primary-700",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",icon:"p-2"};return r.jsx(P.button,{whileHover:{scale:i||a?1:1.02},whileTap:{scale:i||a?1:.98},className:K(l,d[e],c[t],n),disabled:i||a,...o,children:a?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):s})}function ej(){const e=D(S.users.getTickerData),[t,s]=g.useState(0);if(g.useEffect(()=>{if(!(e!=null&&e.recentUsers)||e.recentUsers.length===0)return;const n=setInterval(()=>{s(i=>(i+2)%e.recentUsers.length)},4e3);return()=>clearInterval(n)},[e]),!e)return r.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px] animate-pulse",children:[r.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[r.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-1 rounded-full w-5 h-5"}),r.jsxs("div",{className:"flex flex-col gap-1 leading-none",children:[r.jsx("div",{className:"h-2 w-12 bg-light-bg dark:bg-dark-bg rounded"}),r.jsx("div",{className:"h-3 w-8 bg-light-bg dark:bg-dark-bg rounded"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-light-bg dark:bg-dark-bg"}),r.jsx("div",{className:"h-2 w-12 bg-light-bg dark:bg-dark-bg rounded"})]})]});const a=[e.recentUsers[t%e.recentUsers.length],e.recentUsers[(t+1)%e.recentUsers.length]].filter(Boolean);return r.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px]",children:[r.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[r.jsx("div",{className:"bg-primary-500/10 p-1 rounded-full",children:r.jsx(Ie,{className:"w-3 h-3 text-primary-500"})}),r.jsxs("div",{className:"flex flex-col leading-none",children:[r.jsx("span",{className:"text-[9px] uppercase font-bold text-light-muted dark:text-dark-muted",children:"Community"}),r.jsx("span",{className:"text-xs font-black text-light-text dark:text-dark-text font-display",children:e.totalCount.toLocaleString()})]})]}),r.jsx("div",{className:"flex-1 relative h-7 overflow-hidden",children:r.jsx(ae,{mode:"popLayout",children:r.jsx(P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 flex items-center gap-2",children:a.map(n=>r.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[90px]",children:[r.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 p-[1px] flex-shrink-0",children:r.jsx("div",{className:"w-full h-full rounded-full bg-light-bg dark:bg-dark-bg overflow-hidden",children:n.avatarUrl?r.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-[8px] font-bold bg-light-muted/10",children:n.name.charAt(0)})})}),r.jsx("span",{className:"text-[10px] font-medium text-light-text dark:text-dark-text truncate",children:n.name.split(" ")[0]})]},n._id))},t)})})]})}function $T({isOpen:e,onClose:t}){const{user:s,logout:a}=Y(),{theme:n,toggleTheme:i}=dd(),o=ie(),l=D(S.stats.getBadgeCounts,s!=null&&s._id?{userId:s._id}:"skip"),d=$(S.users.updateLastViewed),c=async(m,h)=>{h&&s&&await d({userId:s._id,field:h}),t(),o(m)},u=()=>{a(),t(),o("/")};return r.jsx(ae,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 md:hidden"}),r.jsx(P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 bottom-0 left-0 w-[85%] max-w-[320px] bg-light-bg dark:bg-dark-bg z-[60] shadow-2xl overflow-y-auto green-scrollbar",children:r.jsxs("div",{className:"flex flex-col h-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs(ee,{to:"/",onClick:t,className:"flex items-center gap-2",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-8 w-auto"}),r.jsx("span",{className:"text-xl font-bold font-display text-gradient",children:"Baptizo"})]}),r.jsx("button",{onClick:t,className:"p-2 -mr-2 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text transition-colors",children:r.jsx(Le,{className:"w-6 h-6"})})]}),s&&r.jsxs("div",{className:"mb-8 p-4 rounded-2xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-lg overflow-hidden shrink-0",children:s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full object-cover"}):s.name[0]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text truncate",children:s.name}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted truncate",children:s.email})]})]}),r.jsx(ee,{to:"/profile",onClick:t,children:r.jsx(I,{variant:"outline",size:"sm",className:"w-full rounded-xl text-xs h-8",children:"View Profile"})})]}),r.jsx("nav",{className:"space-y-2 flex-1",children:s?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>c("/feed"),className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(yy,{className:"w-5 h-5 text-primary-500"}),"Feed"]}),r.jsxs("button",{onClick:()=>c("/teachings"),className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(zs,{className:"w-5 h-5 text-secondary-500"}),"Teachings"]}),r.jsxs("button",{onClick:()=>c("/chat"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vt,{className:"w-5 h-5 text-blue-500"}),"Messages"]}),((l==null?void 0:l.messages)||0)>0&&r.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full",children:l==null?void 0:l.messages})]}),r.jsxs("button",{onClick:()=>c("/banking","lastViewedBanking"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(so,{className:"w-5 h-5 text-emerald-500"}),"Banking"]}),((l==null?void 0:l.banking)||0)>0&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]"})]}),r.jsxs("button",{onClick:()=>c("/leaderboard","lastViewedLeaderboard"),className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ye,{className:"w-5 h-5 text-amber-500"}),"Leaderboard"]}),((l==null?void 0:l.leaderboard)||0)>0&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]"})]}),r.jsxs(ee,{to:"/saved-posts",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(ch,{className:"w-5 h-5 text-purple-500"}),"Saved Posts"]}),r.jsxs(ee,{to:"/diamond-challenge",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(pr,{className:"w-5 h-5 text-cyan-500"}),"Diamond Challenge"]}),(s.role==="admin"||s.role==="super_admin")&&r.jsxs(ee,{to:"/admin",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-primary-500/10 text-primary-500 transition-colors font-bold mt-4",children:[r.jsx(ya,{className:"w-5 h-5"}),"Admin Dashboard"]}),s.role==="board_member"&&r.jsxs(ee,{to:"/board",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-secondary-500/10 text-secondary-500 transition-colors font-bold mt-4",children:[r.jsx(ya,{className:"w-5 h-5"}),"Board Dashboard"]}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsx(ej,{})})]}):r.jsxs(r.Fragment,{children:[r.jsx(ee,{to:"/login",onClick:t,className:"block mb-4",children:r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[r.jsx(ot,{className:"w-5 h-5"}),"Login"]})}),r.jsx(ee,{to:"/register",onClick:t,className:"block",children:r.jsx(I,{className:"w-full font-bold",children:"Get Started"})})]})}),r.jsxs("div",{className:"pt-6 border-t border-light-border dark:border-dark-border mt-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:"Appearance"}),r.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text",children:n==="dark"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pd,{className:"w-5 h-5 text-yellow-500"}),r.jsx("span",{className:"text-xs",children:"Dark"})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(md,{className:"w-5 h-5 text-slate-700"}),r.jsx("span",{className:"text-xs",children:"Light"})]})})]}),s&&r.jsxs("button",{onClick:u,className:"w-full p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center gap-2 font-bold",children:[r.jsx(jy,{className:"w-5 h-5"}),"Logout"]})]})]})})]})})}function $f(){const{user:e}=Y(),t=ie();if(!(e!=null&&e._id))return null;const s=D(S.notifications.getUnreadCount,{userId:e._id})||0;return r.jsxs(P.button,{whileTap:{scale:.9},onClick:()=>t("/notifications"),className:"p-2 md:p-3 relative text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",title:"Notifications",children:[r.jsx(ui,{className:"w-6 h-6 md:w-6 md:h-6"}),(s??0)>0&&r.jsx("span",{className:"absolute top-0.5 right-0.5 md:top-2 md:right-2 bg-green-500 text-white text-[10px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full border-2 border-light-bg dark:border-dark-bg",children:s>9?"9+":s})]})}function zT(){const{user:e,logout:t}=Y(),{theme:s,toggleTheme:a}=dd(),n=ie(),i=xt(),[o,l]=g.useState(!1),d=D(S.stats.getBadgeCounts,e!=null&&e._id?{userId:e._id}:"skip"),c=i.pathname==="/"||i.pathname==="/feed"||i.pathname==="/login"||i.pathname==="/register",u=()=>{t(),n("/")};return r.jsxs(r.Fragment,{children:[r.jsx("header",{className:`fixed ${c?"top-2 md:top-0":"top-0"} left-0 right-0 z-40 ${c?"px-3 md:px-0":"px-0"} transition-all duration-300`,children:r.jsx("div",{className:`mx-auto ${c?"max-w-7xl md:max-w-full relative":"w-full"}`,children:r.jsx("div",{className:`${c?"glass rounded-2xl md:rounded-b-3xl md:rounded-t-none border border-light-border/50 dark:border-dark-border/50 overflow-hidden":"bg-light-bg/95 dark:bg-dark-bg/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border md:glass md:rounded-b-3xl md:border md:border-light-border/50 md:dark:border-dark-border/50"} md:overflow-hidden`,children:r.jsxs("div",{className:"px-4 md:px-12 h-14 md:h-20 flex items-center justify-between",children:[r.jsxs("div",{className:"md:hidden flex items-center justify-between w-full",children:[r.jsxs("button",{onClick:()=>l(!0),className:"p-2 -ml-2 text-light-text dark:text-dark-text hover:text-primary-500 transition-colors relative",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),d&&(d.messages>0||d.banking>0||d.leaderboard>0)&&r.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)] border border-light-bg dark:border-dark-bg"})]}),e?r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>n("/search"),className:"p-2 text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",children:r.jsx(tt,{className:"w-6 h-6"})}),r.jsx($f,{})]}):c&&r.jsx(ee,{to:"/",className:"flex items-center",children:r.jsx("span",{className:"text-xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-2 w-full",children:[r.jsx(ee,{to:"/",state:{manual:!0},className:"flex items-center space-x-2 mr-auto",children:r.jsxs(P.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-8 md:h-12 w-auto"}),r.jsx("span",{className:"text-xl md:text-3xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})]})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:e?r.jsxs(r.Fragment,{children:[r.jsx(ee,{to:"/feed",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Feed"}),r.jsx(ee,{to:"/teachings",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Teachings"}),r.jsx(ee,{to:"/profile",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Profile"}),e.role==="admin"||e.role==="super_admin"?r.jsxs(ee,{to:"/admin",className:"px-4 py-2 rounded-xl bg-primary-500/10 text-primary-500 hover:bg-primary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5"}),"Admin"]}):null,e.role==="board_member"&&r.jsxs(ee,{to:"/board",className:"px-4 py-2 rounded-xl bg-secondary-500/10 text-secondary-500 hover:bg-secondary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5"}),"Board"]})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ee,{to:"/login",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Login"}),r.jsx(ee,{to:"/register",children:r.jsx(I,{size:"lg",className:"font-bold px-8",children:"Get Started"})})]})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-2 md:space-x-4 ml-auto",children:[e&&r.jsxs(r.Fragment,{children:[r.jsx(P.button,{whileTap:{scale:.9},onClick:()=>n("/search"),className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border",title:"Search Members",children:r.jsx(tt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-500"})}),r.jsx($f,{})]}),r.jsx(P.button,{whileTap:{scale:.9},onClick:a,className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border",children:s==="dark"?r.jsx(pd,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-500"}):r.jsx(md,{className:"w-5 h-5 md:w-6 md:h-6 text-slate-700"})}),e&&r.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-1.5 rounded-xl bg-light-card/30 dark:bg-dark-card/30 border border-light-border/20 dark:border-dark-border/20 shadow-inner",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold overflow-hidden",children:e.avatarUrl?r.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-full h-full object-cover"}):e.name[0]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text pr-2 leading-none",children:e.name}),(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")&&r.jsx("span",{className:"text-[9px] font-bold text-secondary-500 tracking-wide mt-0.5",children:e.role==="board_member"?"BOARD MEMBER":e.role.replace("_"," ").toUpperCase()})]})]}),r.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:r.jsx(jy,{className:"w-5 h-5"})})]})]})]})]})})})}),r.jsx($T,{isOpen:o,onClose:()=>l(!1)})]})}function qT(){const e=new Date().getFullYear(),t={platform:[{label:"Feed",path:"/feed"},{label:"Ancient Culture",path:"/ancient-culture"},{label:"Wisdom of The Now",path:"/wisdom-now"},{label:"Leaderboard",path:"/leaderboard"}],community:[{label:"About Baptizo",path:"/about"},{label:"Our Mission",path:"/about"},{label:"Privacy Policy",path:"/privacy"},{label:"Terms of Service",path:"/terms"}],support:[{label:"Contact Us",path:"/contact"},{label:"FAQ",path:"/faq"},{label:"Community Guidelines",path:"/guidelines"}]},s=[{icon:z5,href:"https://x.com/innotechglobal",label:"Twitter"},{icon:A5,href:"https://www.instagram.com/photizo_foundation?utm_source=qr&igsh=ZncwOTVpcXM1d3Vv",label:"Instagram"},{icon:W5,href:"https://www.youtube.com/@innotechglobal",label:"YouTube"},{icon:P5,href:"https://www.github.com/vincobond/",label:"GitHub"}];return r.jsx("footer",{className:"relative mt-auto pt-24 pb-12 overflow-hidden bg-gray-100 dark:bg-gray-950",children:r.jsxs("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ee,{to:"/",className:"flex items-center gap-3",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-10 md:h-12 w-auto"}),r.jsx("span",{className:"text-2xl font-black text-gradient font-display",children:"Baptizo"})]}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed font-medium",children:"A professional sanctuary for digital spiritual exploration. Bridging ancient wisdom with modern consciousness."}),r.jsx("div",{className:"flex items-center gap-4",children:s.map(a=>r.jsx(P.a,{href:a.href,whileHover:{y:-4},className:"p-3 bg-white dark:bg-gray-900 border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted hover:text-primary-700 hover:border-primary-700 transition-all","aria-label":a.label,children:r.jsx(a.icon,{className:"w-5 h-5"})},a.label))})]}),Object.entries(t).map(([a,n])=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h4",{className:"text-sm font-black uppercase tracking-[0.2em] text-light-text dark:text-dark-text",children:a}),r.jsx("ul",{className:"space-y-4",children:n.map(i=>r.jsx("li",{children:r.jsxs(ee,{to:i.path,className:"text-light-muted dark:text-dark-muted hover:text-primary-700 dark:hover:text-primary-400 transition-all font-medium flex items-center group",children:[i.label,r.jsx(py,{className:"w-4 h-4 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})},i.label))})]},a))]}),r.jsxs("div",{className:"pt-12 border-t border-light-border dark:border-dark-border flex flex-col md:flex-row items-center justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-light-muted dark:text-dark-muted font-medium",children:[r.jsx("span",{children:"Built with"}),r.jsx(qs,{className:"w-4 h-4 text-red-500 fill-red-500"}),r.jsx("span",{children:"for the Global Community"})]}),r.jsxs("div",{className:"flex items-center gap-8 text-xs font-bold text-light-muted/60 dark:text-dark-muted/60",children:[r.jsxs("p",{children:[" ",e," Baptizo Inc. All rights reserved."]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mh,{className:"w-3 h-3"}),r.jsx("span",{children:"v2.0 Premium"})]})]})]})]})})}function WT(){const e=xt(),{user:t}=Y(),s=D(S.stats.getBadgeCounts,t!=null&&t._id?{userId:t._id}:"skip"),a=n=>!!(n==="/feed"&&e.pathname==="/feed"||n!=="/feed"&&e.pathname.startsWith(n));return r.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-light-border dark:border-dark-border glass pb-safe",children:r.jsxs("div",{className:"flex items-center justify-around h-16 px-2",children:[r.jsxs(ee,{to:"/feed",className:K("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/feed")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative",children:r.jsx(yy,{className:K("w-5 h-5 md:w-6 md:h-6",a("/feed")&&"fill-primary-500/20")})}),r.jsx("span",{className:K("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/feed")?"opacity-100":"opacity-70"),children:"Feed"})]}),r.jsxs(ee,{to:"/chat",className:K("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/chat")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsxs("div",{className:"relative",children:[r.jsx(vt,{className:K("w-5 h-5 md:w-6 md:h-6",a("/chat")&&"fill-primary-500/20")}),((s==null?void 0:s.messages)||0)>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-[9px] font-bold h-4 min-w-[16px] px-0.5 flex items-center justify-center rounded-full border border-white dark:border-[#1A1A1A] z-10 animate-bounce",children:((s==null?void 0:s.messages)||0)>9?"9+":s==null?void 0:s.messages})]}),r.jsx("span",{className:K("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/chat")?"opacity-100":"opacity-70"),children:"Chat"})]}),t&&r.jsxs(ee,{to:"/create-post",className:K("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/create-post")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative p-1",children:r.jsx(L5,{className:K("w-6 h-6 md:w-8 md:h-8 text-primary-500 fill-primary-500/10")})}),r.jsx("span",{className:K("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/create-post")?"opacity-100 font-bold":"opacity-70"),children:"Post"})]}),r.jsxs(ee,{to:"/banking",className:K("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/banking")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative",children:r.jsx(so,{className:K("w-5 h-5 md:w-6 md:h-6",a("/banking")&&"fill-primary-500/20")})}),r.jsx("span",{className:K("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/banking")?"opacity-100":"opacity-70"),children:"Banking"})]}),r.jsxs(ee,{to:"/profile",className:K("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",a("/profile")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[r.jsx("div",{className:"relative",children:r.jsx(ot,{className:K("w-5 h-5 md:w-6 md:h-6",a("/profile")&&"fill-primary-500/20")})}),r.jsx("span",{className:K("text-[10px] font-semibold mt-1 truncate w-full text-center",a("/profile")?"opacity-100":"opacity-70"),children:"Profile"})]})]})})}function M({children:e,className:t,glass:s=!1,hover:a=!1,onClick:n}){const i=P.div;return r.jsx(i,{onClick:n,whileHover:a?{y:-4,transition:{duration:.2}}:void 0,className:K("p-6 transition-all duration-200",s?"glass":"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",a&&"cursor-pointer",t),children:e})}function xe({children:e,className:t}){return r.jsx("div",{className:K("mb-4",t),children:e})}function pe({children:e,className:t}){return r.jsx("h3",{className:K("text-xl font-semibold text-light-text dark:text-dark-text",t),children:e})}function R({children:e,className:t}){return r.jsx("div",{className:K("text-light-text dark:text-dark-text",t),children:e})}function q({children:e,variant:t="default",className:s,animate:a=!1}){const n={default:"bg-light-border dark:bg-dark-border text-light-text dark:text-dark-text",primary:"bg-primary-100 dark:bg-primary-950 text-primary-800 dark:text-primary-300 border border-primary-200 dark:border-primary-800",secondary:"bg-secondary-100 dark:bg-secondary-950 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-800",success:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800",danger:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",outline:"bg-transparent border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted"},i=a?P.span:"span",o=a?{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}}:{};return r.jsx(i,{...o,className:K("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n[t],s),children:e})}function HT(){const{user:e}=Y(),t=ie();g.useEffect(()=>{e&&t("/feed",{replace:!0})},[e,t]);const s=[{icon:zs,title:"Ancient Culture",subtitle:"Prophetic Wisdom",description:"Dive deep into prophetic wisdom and systems from the Old Testament. Understand the foundations of spiritual authority.",image:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/ancient-culture.png?updatedAt=1766305387425",color:"from-primary-500 to-primary-700"},{icon:Ws,title:"Wisdom of The Now",subtitle:"Modern Insights",description:"Explore spiritual identity and insights from the New Testament. Discover your place in the modern spiritual landscape.",image:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/wisdom-now.png?updatedAt=1766305387356",color:"from-secondary-500 to-secondary-700"}],a=[{icon:Ie,title:"Vibrant Community",description:"Connect with a global network of believers seeking deeper truth."},{icon:ye,title:"Real Impact",description:"Earn recognition and rewards for active participation and growth."},{icon:yt,title:"Guided Path",description:"Structured learning paths designed for progressive spiritual maturity."}];return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg selection:bg-primary-700/20 relative overflow-hidden",children:[r.jsx("section",{className:"relative min-h-[90vh] flex items-center pt-24 md:pt-0",children:r.jsxs("div",{className:"w-full relative z-10",children:[r.jsxs("div",{className:"grid lg:grid-cols-2 gap-0 items-center",children:[r.jsx("div",{className:"max-w-[90rem] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},className:"text-center lg:text-left py-12",children:[r.jsx(q,{variant:"primary",className:"mb-4 px-2 py-0.5 text-[8px] md:text-[9px] uppercase tracking-wider font-medium font-display",children:"The Pinnacle of Spiritual Growth"}),r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black font-display leading-[1.1] md:leading-tight mb-6 text-light-text dark:text-dark-text",children:["Elevate Your ",r.jsx("br",{}),"Spirituality"]}),r.jsx("p",{className:"hidden lg:block text-xl md:text-2xl text-light-muted dark:text-dark-muted mb-10 leading-relaxed max-w-2xl",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),r.jsx("div",{className:"hidden lg:flex flex-col sm:flex-row items-center gap-6",children:e?r.jsx(ee,{to:"/feed",children:r.jsxs(I,{size:"lg",className:"h-14 px-10 text-lg group",children:["Enter the Feed",r.jsx(yt,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}):r.jsxs(r.Fragment,{children:[r.jsx(ee,{to:"/register",children:r.jsx(I,{size:"lg",className:"h-14 px-10 text-lg",children:"Start Your Journey"})}),r.jsx(ee,{to:"/login",children:r.jsx(I,{size:"lg",variant:"outline",className:"h-14 px-10 text-lg border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})}),r.jsx("div",{className:"relative mt-12 lg:mt-0 w-full h-full",children:r.jsx(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1.2,ease:"easeOut"},className:"w-full h-full",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(6).png",alt:"Spiritual Community",className:"w-full h-[500px] md:h-[600px] lg:h-[90vh] object-cover"})})})]}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:hidden mt-12 text-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("p",{className:"text-base sm:text-lg text-light-muted dark:text-dark-muted mb-8 leading-relaxed px-2 font-medium",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),r.jsx("div",{className:"flex flex-col gap-4 px-6 sm:px-20",children:e?r.jsx(ee,{to:"/feed",children:r.jsxs(I,{size:"lg",className:"h-14 w-full text-lg",children:["Enter the Feed",r.jsx(yt,{className:"w-5 h-5 ml-2"})]})}):r.jsxs(r.Fragment,{children:[r.jsx(ee,{to:"/register",children:r.jsx(I,{size:"lg",className:"h-14 w-full text-lg",children:"Start Your Journey"})}),r.jsx(ee,{to:"/login",children:r.jsx(I,{size:"lg",variant:"outline",className:"h-14 w-full text-lg border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})]})}),r.jsx("section",{className:"py-24 md:py-32 relative bg-white dark:bg-dark-bg",children:r.jsxs("div",{className:"max-w-[90rem] mx-auto px-4",children:[r.jsx("div",{className:"text-left mb-16 md:mb-24",children:r.jsxs(P.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-black font-display mb-6 tracking-tight text-left",children:"Explore Our Core Pillars"}),r.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted max-w-2xl font-medium",children:"We bridge the gap between ancient foundations and contemporary applications."})]})}),r.jsx("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12",children:s.map((n,i)=>r.jsx(P.div,{initial:{opacity:0,x:i%2===0?-40:40},whileInView:{opacity:1,x:0},transition:{delay:i*.2,duration:.8},viewport:{once:!0},className:"group relative",children:r.jsxs(M,{className:"overflow-hidden border border-light-border dark:border-dark-border h-full flex flex-col bg-light-card dark:bg-dark-card",children:[r.jsxs("div",{className:"relative h-64 md:h-80 overflow-hidden",children:[r.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-6 left-6",children:r.jsx(q,{className:"bg-white/10 backdrop-blur-xl border-white/20 text-white px-4 py-2 font-bold uppercase tracking-wider text-[10px]",children:n.subtitle})})]}),r.jsxs("div",{className:"p-8 md:p-12 flex-1 flex flex-col bg-gray-100 dark:bg-gray-900",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-700 flex items-center justify-center mb-8",children:r.jsx(n.icon,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-2xl md:text-3xl font-black font-display mb-4 tracking-tight",children:n.title}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg md:text-xl mb-10 leading-relaxed font-medium",children:n.description}),r.jsxs(ee,{to:"/register",className:"mt-auto group/btn inline-flex items-center gap-3 text-primary-700 dark:text-primary-400 font-black text-lg",children:["Explore Deeply ",r.jsx(yt,{className:"w-6 h-6 transform group-hover/btn:translate-x-2 transition-transform"})]})]})]})},n.title))})]})}),r.jsx("section",{className:"py-24 relative overflow-hidden bg-primary-950 dark:bg-black",children:r.jsx("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:r.jsx("div",{className:"grid md:grid-cols-3 gap-12 lg:gap-20",children:a.map((n,i)=>r.jsx(P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:i*.2},viewport:{once:!0},className:"group",children:r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400 mb-8 transform group-hover:scale-110 group-hover:rotate-3 transition-all",children:r.jsx(n.icon,{className:"w-8 h-8"})}),r.jsx("h4",{className:"text-xl md:text-2xl font-black font-display mb-4 tracking-tight text-white dark:text-white",children:n.title}),r.jsx("p",{className:"text-gray-300 dark:text-gray-300 text-lg leading-relaxed font-medium",children:n.description})]})},n.title))})})}),r.jsx("section",{className:"py-24 md:py-32 relative overflow-hidden",children:r.jsx("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:r.jsxs(P.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"relative z-10 p-8 md:p-12 max-w-7xl mx-auto text-center bg-gray-100 dark:bg-gray-900 border border-light-border dark:border-dark-border",children:[r.jsx(q,{variant:"primary",className:"mb-6 px-6 py-2 text-xs md:text-sm uppercase tracking-[0.2em] font-black font-display",children:"Unleash Your Potential"}),r.jsxs("h2",{className:"text-2xl md:text-4xl font-black font-display mb-6 tracking-tight leading-[1.1]",children:["Ready for a ",r.jsx("br",{}),"Higher Experience?"]}),r.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted mb-8 max-w-2xl mx-auto leading-relaxed font-medium",children:"Join thousands of believers who have unlocked deeper spiritual dimensions through Baptizo."}),!e&&r.jsx("div",{children:r.jsx(ee,{to:"/register",children:r.jsx(I,{size:"lg",className:"h-12 md:h-14 px-8 md:px-12 text-base md:text-lg font-black hover:scale-105 active:scale-95 transition-all",children:"Create Your Free Account"})})})]})})})]})}const de=g.forwardRef(({label:e,error:t,icon:s,className:a,...n},i)=>r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),r.jsxs("div",{className:"relative",children:[s&&r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-light-muted dark:text-dark-muted",children:s}),r.jsx("input",{ref:i,className:K("w-full px-4 py-2.5 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg","border-light-border dark:border-dark-border","text-light-text dark:text-dark-text","placeholder:text-light-muted dark:placeholder:text-dark-muted","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-red-500 focus:ring-red-500",s&&"pl-10",a),...n})]}),t&&r.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:t})]}));de.displayName="Input";function QT(){var m;const e=ie(),t=xt(),{login:s}=Y(),a=$(S.auth.loginUser),[n,i]=g.useState({email:"",password:""}),[o,l]=g.useState({}),[d,c]=g.useState(!1),u=async h=>{var x,b;h.preventDefault(),l({}),c(!0);try{const v=await a({email:n.email.toLowerCase().trim(),password:n.password});if(v!=null&&v.success&&(v!=null&&v.user)){s(v.user);const y=((b=(x=t.state)==null?void 0:x.from)==null?void 0:b.pathname)||"/feed";e(y,{replace:!0})}else l({general:"Invalid email or password"})}catch{l({general:"Login failed. Please try again."})}finally{c(!1)}};return r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:r.jsxs(M,{glass:!0,children:[r.jsxs(xe,{className:"pt-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),r.jsx(pe,{className:"text-center text-3xl",children:"Welcome Back"}),r.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Sign in to continue to Baptizo Community"})]}),r.jsx(R,{children:r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.general&&r.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:o.general})}),r.jsx(de,{label:"Email",type:"email",value:n.email,onChange:h=>i({...n,email:h.target.value}),icon:r.jsx(Kr,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),r.jsx(de,{label:"Password",type:"password",value:n.password,onChange:h=>i({...n,password:h.target.value}),icon:r.jsx(rr,{className:"w-5 h-5"}),placeholder:"",required:!0}),r.jsx(I,{type:"submit",variant:"primary",className:"w-full",isLoading:d,children:"Sign In"}),r.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Don't have an account?"," ",r.jsx(ee,{to:"/register",state:{from:(m=t.state)==null?void 0:m.from},className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign Up"})]})]})})]})})}function GT(){return r.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsx(QT,{})})}function tj(e){const s=e.replace(/\D/g,"").substring(0,4),a=["0703","0706","0803","0806","0810","0813","0814","0816","0903","0906","07025","07026","0704"],n=["0705","0805","0807","0811","0815","0905"],i=["0701","0708","0802","0808","0812","0901","0902","0904","0907"],o=["0809","0817","0818","0909","0908"];return a.some(l=>s.startsWith(l))?"MTN":n.some(l=>s.startsWith(l))?"Glo":i.some(l=>s.startsWith(l))?"Airtel":o.some(l=>s.startsWith(l))?"9Mobile":"Unknown"}function KT(e){const t=e.replace(/\D/g,"");return t.length===11?`${t.substring(0,4)} ${t.substring(4,7)} ${t.substring(7)}`:e}function YT(){return"https://chat.whatsapp.com/YOUR_GROUP_CODE"}function XT(){const e=YT();window.open(e,"_blank")}function JT(){var C;const e=ie(),t=xt(),{login:s}=Y(),a=$(S.auth.registerUser),[n,i]=g.useState(1),[o,l]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",whatsappConfirm:!1,profession:""}),[d,c]=g.useState(""),[u,m]=g.useState({}),[h,x]=g.useState(!1),b=N=>{l({...o,phone:N});const T=tj(N);c(T)},v=()=>{const N={};return o.name||(N.name="Full name is required"),o.email||(N.email="Email is required"),o.password||(N.password="Password is required"),o.password.length<6&&(N.password="Password must be at least 6 characters"),o.password!==o.confirmPassword&&(N.confirmPassword="Passwords do not match"),m(N),Object.keys(N).length===0},y=()=>{const N={};return o.phone||(N.phone="Phone number is required"),(d==="Unknown"||!d)&&(N.phone="Valid network (MTN, Glo, Airtel, 9Mobile) required"),o.profession||(N.profession="Profession is required"),o.whatsappConfirm||(N.whatsappConfirm="Please confirm WhatsApp availability"),m(N),Object.keys(N).length===0},p=()=>{n===1&&v()&&i(2)},f=()=>{n===2&&i(1)},j=async N=>{if(N.preventDefault(),!!y()){x(!0);try{const T=await a({email:o.email.toLowerCase().trim(),password:o.password,name:o.name.trim(),phone:o.phone.trim(),network:d,profession:o.profession.trim()});T!=null&&T.success&&(T!=null&&T.user)?(s(T.user),i(3)):m({general:(T==null?void 0:T.error)||"Registration failed"})}catch(T){const A=(T.message||T.toString()).replace("Uncaught Error: ","");m({general:A})}finally{x(!1)}}},k=()=>{XT(),setTimeout(()=>{var T,L;const N=((L=(T=t.state)==null?void 0:T.from)==null?void 0:L.pathname)||"/feed";e(N,{replace:!0})},1e3)},w={enter:N=>({x:N>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:N=>({x:N<0?50:-50,opacity:0})};return n===3?r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white/90 dark:bg-black/90 backdrop-blur-xl",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),r.jsxs(P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",duration:.8},className:"relative w-full max-w-lg bg-white/80 dark:bg-[#151515]/80 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-2xl rounded-3xl p-8 md:p-12 text-center",children:[r.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-24 h-24 mx-auto mb-8 rounded-full bg-gradient-to-tr from-green-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/30",children:r.jsx(mt,{className:"w-12 h-12 text-white stroke-[3px]"})}),r.jsx(P.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4 tracking-tight",children:"Welcome Aboard!"}),r.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:"Your journey with Baptizo Community begins now. We're thrilled to have you here."}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/10 p-6 rounded-2xl border border-green-100 dark:border-green-900/30",children:[r.jsxs("h3",{className:"font-bold text-green-800 dark:text-green-400 mb-2 flex items-center justify-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-ping"}),"Final Step: Join the Community"]}),r.jsx("p",{className:"text-sm text-green-700 dark:text-green-300/80",children:"Connect with other members and get real-time updates in our exclusive WhatsApp group."})]}),r.jsx(I,{onClick:k,className:"w-full h-14 text-lg font-medium bg-[#25D366] hover:bg-[#128C7E] text-white shadow-xl shadow-green-500/20 transition-transform active:scale-[0.98]",children:"Join WhatsApp Group"}),r.jsx("button",{onClick:()=>e("/feed"),className:"text-sm font-medium text-gray-400 hover:text-primary-500 transition-colors py-2",children:"Skip for now & Go to Feed"})]})]})]}):r.jsx("div",{className:"w-full max-w-md mx-auto",children:r.jsxs(M,{glass:!0,className:"overflow-hidden",children:[r.jsxs(xe,{className:"pt-8 pb-2",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl shadow-primary-500/10"})}),r.jsx(pe,{className:"text-center text-3xl font-display",children:"Join Baptizo"}),r.jsxs("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:["Step ",n," of 2: ",n===1?"Account Details":"Personal Info"]}),r.jsxs("div",{className:"flex gap-2 mt-6 justify-center",children:[r.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${n>=1?"w-16 bg-primary-500":"w-4 bg-gray-200 dark:bg-gray-700"}`}),r.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${n>=2?"w-16 bg-primary-500":"w-4 bg-gray-200 dark:bg-gray-700"}`})]})]}),r.jsxs(R,{className:"pt-6",children:[r.jsx("form",{onSubmit:j,children:r.jsxs(ae,{mode:"wait",custom:n,children:[n===1&&r.jsxs(P.div,{custom:1,variants:w,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-4",children:[r.jsx(de,{label:"Full Name",value:o.name,onChange:N=>l({...o,name:N.target.value}),icon:r.jsx(ot,{className:"w-5 h-5"}),placeholder:"Enter your full name",error:u.name,required:!0,autoFocus:!0}),r.jsx(de,{label:"Email Address",type:"email",value:o.email,onChange:N=>l({...o,email:N.target.value}),icon:r.jsx(Kr,{className:"w-5 h-5"}),placeholder:"your@email.com",error:u.email,required:!0}),r.jsx(de,{label:"Password",type:"password",value:o.password,onChange:N=>l({...o,password:N.target.value}),icon:r.jsx(rr,{className:"w-5 h-5"}),placeholder:"Min. 6 characters",error:u.password,required:!0}),r.jsx(de,{label:"Confirm Password",type:"password",value:o.confirmPassword,onChange:N=>l({...o,confirmPassword:N.target.value}),icon:r.jsx(rr,{className:"w-5 h-5"}),placeholder:"Confirm your password",error:u.confirmPassword,required:!0}),r.jsxs(I,{type:"button",onClick:p,className:"w-full mt-4",size:"lg",children:["Next Step ",r.jsx(yt,{className:"w-4 h-4 ml-2"})]})]},"step1"),n===2&&r.jsxs(P.div,{custom:2,variants:w,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx(de,{label:"Phone Number",type:"tel",value:o.phone,onChange:N=>b(N.target.value),icon:r.jsx(hd,{className:"w-5 h-5"}),placeholder:"080 1234 5678",error:u.phone,required:!0,autoFocus:!0}),r.jsx("div",{className:"mt-2 flex items-center justify-between",children:d&&d!=="Unknown"&&r.jsx(q,{variant:"primary",className:"animate-in fade-in zoom-in",children:d})})]}),r.jsx(de,{label:"Profession / Skill",value:o.profession,onChange:N=>l({...o,profession:N.target.value}),icon:r.jsx(uh,{className:"w-5 h-5"}),placeholder:"e.g. Graphic Designer, Student",error:u.profession,required:!0}),r.jsx("div",{className:`p-4 rounded-xl border transition-all cursor-pointer ${o.whatsappConfirm?"bg-primary-50 dark:bg-primary-900/20 border-primary-500":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border hover:border-primary-300"}`,onClick:()=>l({...o,whatsappConfirm:!o.whatsappConfirm}),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors ${o.whatsappConfirm?"bg-primary-500 border-primary-500":"border-gray-400"}`,children:o.whatsappConfirm&&r.jsx(mt,{className:"w-3.5 h-3.5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:"WhatsApp Confirmation"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5",children:"I confirm that the phone number provided is active on WhatsApp."})]})]})}),u.whatsappConfirm&&r.jsx("p",{className:"text-xs text-red-500 font-medium px-1",children:u.whatsappConfirm}),u.general&&r.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u.general})}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx(I,{type:"button",variant:"ghost",onClick:f,className:"flex-1",children:"Back"}),r.jsx(I,{type:"submit",variant:"primary",className:"flex-[2]",isLoading:h,children:"Create Account"})]})]},"step2")]})}),r.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted mt-6 pb-2",children:["Already have an account?"," ",r.jsx(ee,{to:"/login",state:{from:(C=t.state)==null?void 0:C.from},className:"text-primary-500 hover:text-primary-600 font-bold transition-colors",children:"Sign In"})]})]})]})})}function ZT(){return r.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:r.jsx(JT,{})})}function ln(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ln=function(t){return typeof t}:ln=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(e)}function eP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tP(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function rP(e,t,s){return t&&tP(e.prototype,t),e}function rj(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function zf(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ia(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?zf(Object(s),!0).forEach(function(a){rj(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zf(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sP(e,t){if(e){if(typeof e=="string")return qf(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return qf(e,t)}}function qf(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function aP(e,t){var s;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(s=sP(e))||t){s&&(e=s);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(d){throw d},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,l;return{s:function(){s=e[Symbol.iterator]()},n:function(){var d=s.next();return i=d.done,d},e:function(d){o=!0,l=d},f:function(){try{!i&&s.return!=null&&s.return()}finally{if(o)throw l}}}}var nP="3.1.0",ft={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},PRIVATE_KEY_CLIENT_SIDE:{message:"privateKey should not be passed on the client side",help:""},MISSING_UPLOAD_DATA:{message:"Missing data for upload",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_AUTHENTICATION_ENDPOINT:{message:"Missing authentication endpoint for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},AUTH_ENDPOINT_TIMEOUT:{message:"The authenticationEndpoint you provided timed out in 60 seconds",help:""},AUTH_ENDPOINT_NETWORK_ERROR:{message:"Request to authenticationEndpoint failed due to network error",help:""},AUTH_INVALID_RESPONSE:{message:"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},INVALID_TRANSFORMATION:{message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},INVALID_PRE_TRANSFORMATION:{message:"Invalid pre transformation parameter.",help:""},INVALID_POST_TRANSFORMATION:{message:"Invalid post transformation parameter.",help:""}};function Nt(e,t,s){typeof s=="function"&&(e?s(t,null):s(null,t))}function iP(e){var t={},s=e.getAllResponseHeaders();return Object.keys(s).length&&s.trim().split(/[\r\n]+/).map(function(a){return a.split(/: /)}).forEach(function(a){t[a[0].trim()]=a[1].trim()}),t}var Wf=function(t,s){var a=ia({},t),n={statusCode:s.status,headers:iP(s)};return Object.defineProperty(a,"$ResponseMetadata",{value:n,enumerable:!1,writable:!1}),a},oP=function(t,s,a){lP(t,s).then(function(n){return Nt(!1,n,a)},function(n){return Nt(!0,n,a)})},lP=function(t,s){return new Promise(function(a,n){t.open("POST","https://upload.imagekit.io/api/v1/files/upload"),t.onerror=function(i){return n(ft.UPLOAD_ENDPOINT_NETWORK_ERROR)},t.onload=function(){if(t.status===200)try{var i=JSON.parse(t.responseText),o=Wf(i,t);return a(o)}catch(d){return n(d)}else try{var i=JSON.parse(t.responseText),l=Wf(i,t);return n(l)}catch(d){return n(d)}},t.send(s)})},dP=function(t,s,a,n){if(!s.file){Nt(!0,ft.MISSING_UPLOAD_FILE_PARAMETER,n);return}if(!s.fileName){Nt(!0,ft.MISSING_UPLOAD_FILENAME_PARAMETER,n);return}if(!a.publicKey){Nt(!0,ft.MISSING_PUBLIC_KEY,n);return}if(!s.token){Nt(!0,ft.MISSING_TOKEN,n);return}if(!s.signature){Nt(!0,ft.MISSING_SIGNATURE,n);return}if(!s.expire){Nt(!0,ft.MISSING_EXPIRE,n);return}if(s.transformation){if(!(Object.keys(s.transformation).includes("pre")||Object.keys(s.transformation).includes("post"))){Nt(!0,ft.INVALID_TRANSFORMATION,n);return}if(Object.keys(s.transformation).includes("pre")&&!s.transformation.pre){Nt(!0,ft.INVALID_PRE_TRANSFORMATION,n);return}if(Object.keys(s.transformation).includes("post"))if(Array.isArray(s.transformation.post)){var i=aP(s.transformation.post),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;if(l.type==="abs"&&!(l.protocol||l.value)){Nt(!0,ft.INVALID_POST_TRANSFORMATION,n);return}else if(l.type==="transformation"&&!l.value){Nt(!0,ft.INVALID_POST_TRANSFORMATION,n);return}}}catch(u){i.e(u)}finally{i.f()}}else{Nt(!0,ft.INVALID_POST_TRANSFORMATION,n);return}}var d=new FormData,c;for(c in s)c&&(c==="file"&&typeof s.file!="string"?d.append("file",s.file,String(s.fileName)):c==="tags"&&Array.isArray(s.tags)?d.append("tags",s.tags.join(",")):c==="signature"?d.append("signature",s.signature):c==="expire"?d.append("expire",String(s.expire)):c==="token"?d.append("token",s.token):c==="responseFields"&&Array.isArray(s.responseFields)?d.append("responseFields",s.responseFields.join(",")):c==="extensions"&&Array.isArray(s.extensions)?d.append("extensions",JSON.stringify(s.extensions)):c==="customMetadata"&&ln(s.customMetadata)==="object"&&!Array.isArray(s.customMetadata)&&s.customMetadata!==null?d.append("customMetadata",JSON.stringify(s.customMetadata)):c==="transformation"&&ln(s.transformation)==="object"&&s.transformation!==null?d.append(c,JSON.stringify(s.transformation)):c==="checks"&&s.checks?d.append("checks",s.checks):s[c]!==void 0&&d.append(c,String(s[c])));d.append("publicKey",a.publicKey),oP(t,d,n)},Hf={width:"w",height:"h",aspectRatio:"ar",background:"bg",border:"b",crop:"c",cropMode:"cm",dpr:"dpr",focus:"fo",quality:"q",x:"x",xCenter:"xc",y:"y",yCenter:"yc",format:"f",videoCodec:"vc",audioCodec:"ac",radius:"r",rotation:"rt",blur:"bl",named:"n",defaultImage:"di",flip:"fl",original:"orig",startOffset:"so",endOffset:"eo",duration:"du",streamingResolutions:"sr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",effectShadow:"e-shadow",effectGradient:"e-gradient",rotate:"rt",grayscale:"e-grayscale",aiUpscale:"e-upscale",aiRetouch:"e-retouch",aiVariation:"e-genvar",aiDropShadow:"e-dropshadow",aiChangeBackground:"e-changebg",aiRemoveBackground:"e-bgremove",aiRemoveBackgroundExternal:"e-removedotbg",contrastStretch:"e-contrast",shadow:"e-shadow",sharpen:"e-sharpen",unsharpMask:"e-usm",gradient:"e-gradient",progressive:"pr",lossless:"lo",colorProfile:"cp",metadata:"md",opacity:"o",trim:"t",zoom:"z",page:"pg",raw:"raw"},sj="path",aj="query",cP=[sj,aj],uP=":",mP=",",hP="-",fs={getDefault:function(){return sj},addAsQueryParameter:function(t){return t.transformationPosition===aj},validParameters:function(t){return typeof t.transformationPosition>"u"?!1:cP.indexOf(t.transformationPosition)!=-1},getTransformKey:function(t){return t&&(Hf[t]||Hf[t.toLowerCase()])||""},getChainTransformDelimiter:function(){return uP},getTransformDelimiter:function(){return mP},getTransformKeyValueDelimiter:function(){return hP}},Qf="tr";function xP(e){return typeof e=="string"&&e[e.length-1]=="/"&&(e=e.substring(0,e.length-1)),e}function pP(e){return typeof e=="string"&&e[0]=="/"&&(e=e.slice(1)),e}function Ro(e,t){var s="/",a=new RegExp(s+"{1,}","g");return e.join(s).replace(a,s)}var fP=function(t){if(!t.path&&!t.src)return"";var s,a,n;try{t.path?(n=new URL(t.urlEndpoint).pathname,s=new URL(Ro([t.urlEndpoint.replace(n,""),t.path]))):(s=new URL(t.src),a=!0)}catch(l){return console.error(l),""}for(var i in t.queryParameters)s.searchParams.append(i,String(t.queryParameters[i]));var o=gP(t.transformation);return o&&o.length&&(fs.addAsQueryParameter(t)||a?s.searchParams.append(Qf,o):s.pathname=Ro([Qf+fs.getChainTransformDelimiter()+o,s.pathname])),n?s.pathname=Ro([n,s.pathname]):s.pathname=Ro([s.pathname]),s.href};function gP(e){if(!Array.isArray(e))return"";for(var t=[],s=0,a=e.length;s<a;s++){var n=[];for(var i in e[s]){var o=e[s][i];if(o!=null){var l=fs.getTransformKey(i);if(l||(l=i),l!=="")if(["e-grayscale","e-contrast","e-removedotbg","e-bgremove","e-upscale","e-retouch","e-genvar"].includes(l))if(o===!0||o==="-"||o==="true")n.push(l);else continue;else["e-sharpen","e-shadow","e-gradient","e-usm","e-dropshadow"].includes(l)&&(o.toString().trim()===""||o===!0||o==="true")?n.push(l):i==="raw"?n.push(e[s][i]):(l==="di"&&(o=xP(pP(o||"")),o=o.replace(/\//g,"@@")),l==="sr"&&Array.isArray(o)&&(o=o.join("_")),l==="t"&&o.toString().trim()===""&&(o="true"),n.push([l,o].join(fs.getTransformKeyValueDelimiter())))}}n.length&&t.push(n.join(fs.getTransformDelimiter()))}return t.join(fs.getChainTransformDelimiter())}var bP=function(t,s){return fP(ia(ia({},s),t))};function yP(e){return e.urlEndpoint}var vP=function(t,s){return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];if(n.length===s.length&&typeof n[n.length-1]<"u"){if(typeof n[n.length-1]!="function")throw new Error("Callback must be a function.");s.call.apply(s,[t].concat(n))}else return new Promise(function(o,l){var d=function(u){if(u)return l(u);for(var m=arguments.length,h=new Array(m>1?m-1:0),x=1;x<m;x++)h[x-1]=arguments[x];o(h.length>1?h:h[0])};n.pop(),n.push(d),s.call.apply(s,[t].concat(n))})}},jP=function(){function e(t){if(eP(this,e),rj(this,"options",{sdkVersion:"javascript-".concat(nP),publicKey:"",urlEndpoint:"",transformationPosition:fs.getDefault()}),this.options=ia(ia({},this.options),t||{}),!yP(this.options))throw ft.MANDATORY_INITIALIZATION_MISSING;if(!fs.validParameters(this.options))throw ft.INVALID_TRANSFORMATION_POSITION}return rP(e,[{key:"url",value:function(s){return bP(s,this.options)}},{key:"upload",value:function(s,a,n){var i;if(typeof a=="function"?i=a:n=a||{},!s||ln(s)!=="object")return Nt(!0,ft.INVALID_UPLOAD_OPTIONS,i);var o=ia(ia({},this.options),n),l=s||{},d=l.xhr;delete s.xhr;var c=d||new XMLHttpRequest;return vP(this,dP)(c,s,o,i)}}]),e}();new jP({publicKey:"public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=",urlEndpoint:"https://ik.imagekit.io/h3qzmviwv"});const Nd=async(e,t,s)=>new Promise((a,n)=>{const i=new FormData;i.append("file",e),i.append("fileName",e.name),i.append("folder",`/baptizo/${t}`),i.append("publicKey","public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=");const o=new XMLHttpRequest;o.upload.addEventListener("progress",d=>{if(d.lengthComputable&&s){const c=Math.round(d.loaded/d.total*100);s(c)}}),o.addEventListener("load",()=>{if(o.status===200)try{const d=JSON.parse(o.responseText);a(d.url)}catch{n(new Error("Failed to parse response"))}else n(new Error(`Upload failed with status ${o.status}`))}),o.addEventListener("error",()=>{n(new Error("Upload failed"))}),o.open("POST","https://upload.imagekit.io/api/v1/files/upload");const l=btoa("private_RDhLHlvGS4fKh49gv6q5Ygv2bHg=:");o.setRequestHeader("Authorization",`Basic ${l}`),o.send(i)}),Bh=e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type),kP=e=>["video/mp4","video/webm","video/ogg"].includes(e.type),nj=(e,t,s)=>{if(!e)return"";const a=[];if(a.push(`w-${t}`),a.push(`h-${s}`),a.length===0)return e;const n=`tr:${a.join(",")}`;return e.replace("/baptizo/",`/baptizo/${n}/`)};function lt({src:e,alt:t="Avatar",size:s="md",className:a}){const n={xs:"w-6 h-6 text-[10px]",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-14 h-14 text-lg",xl:"w-20 h-20 text-2xl"},i=(t||"User").split(" ").map(o=>o[0]).join("").slice(0,2).toUpperCase();return r.jsx("div",{className:K("rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-bold flex items-center justify-center shrink-0 border border-primary-200 dark:border-primary-800",n[s],a),children:e?r.jsx("img",{src:nj(e,200,200),alt:t,className:"w-full h-full object-cover",onError:o=>{var l;o.currentTarget.style.display="none",(l=o.currentTarget.parentElement)==null||l.classList.add("fallback-avatar")}}):r.jsx("span",{children:i})})}function ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Os(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ij=6048e5,wP=864e5,Do=43200,Gf=1440;let NP={};function lo(){return NP}function Wi(e,t){var l,d,c,u;const s=lo(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,n=ve(e),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function $l(e){return Wi(e,{weekStartsOn:1})}function oj(e){const t=ve(e),s=t.getFullYear(),a=Os(e,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const n=$l(a),i=Os(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=$l(i);return t.getTime()>=n.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function Kf(e){const t=ve(e);return t.setHours(0,0,0,0),t}function zl(e){const t=ve(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function SP(e,t){const s=Kf(e),a=Kf(t),n=+s-zl(s),i=+a-zl(a);return Math.round((n-i)/wP)}function CP(e){const t=oj(e),s=Os(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),$l(s)}function el(e,t){const s=ve(e),a=ve(t),n=s.getTime()-a.getTime();return n<0?-1:n>0?1:n}function TP(e){return Os(e,Date.now())}function PP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AP(e){if(!PP(e)&&typeof e!="number")return!1;const t=ve(e);return!isNaN(Number(t))}function IP(e,t){const s=ve(e),a=ve(t),n=s.getFullYear()-a.getFullYear(),i=s.getMonth()-a.getMonth();return n*12+i}function MP(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function _P(e,t){return+ve(e)-+ve(t)}function EP(e){const t=ve(e);return t.setHours(23,59,59,999),t}function RP(e){const t=ve(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function DP(e){const t=ve(e);return+EP(t)==+RP(t)}function LP(e,t){const s=ve(e),a=ve(t),n=el(s,a),i=Math.abs(IP(s,a));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);let l=el(s,a)===-n;DP(ve(e))&&i===1&&el(e,a)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function OP(e,t,s){const a=_P(e,t)/1e3;return MP(s==null?void 0:s.roundingMethod)(a)}function FP(e){const t=ve(e),s=Os(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const BP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UP=(e,t,s)=>{let a;const n=BP[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Cc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const VP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$P={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qP={date:Cc({formats:VP,defaultWidth:"full"}),time:Cc({formats:$P,defaultWidth:"full"}),dateTime:Cc({formats:zP,defaultWidth:"full"})},WP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HP=(e,t,s,a)=>WP[e];function Hn(e){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return n[i]}}const QP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZP=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},eA={ordinalNumber:ZP,era:Hn({values:QP,defaultWidth:"wide"}),quarter:Hn({values:GP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:KP,defaultWidth:"wide"}),day:Hn({values:YP,defaultWidth:"wide"}),dayPeriod:Hn({values:XP,defaultWidth:"wide",formattingValues:JP,defaultFormattingWidth:"wide"})};function Qn(e){return(t,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?rA(l,m=>m.test(o)):tA(l,m=>m.test(o));let c;c=e.valueCallback?e.valueCallback(d):d,c=s.valueCallback?s.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function tA(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function rA(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function sA(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const n=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const aA=/^(\d+)(th|st|nd|rd)?/i,nA=/\d+/i,iA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oA={any:[/^b/i,/^(a|c)/i]},lA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dA={any:[/1/i,/2/i,/3/i,/4/i]},cA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fA={ordinalNumber:sA({matchPattern:aA,parsePattern:nA,valueCallback:e=>parseInt(e,10)}),era:Qn({matchPatterns:iA,defaultMatchWidth:"wide",parsePatterns:oA,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:lA,defaultMatchWidth:"wide",parsePatterns:dA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qn({matchPatterns:cA,defaultMatchWidth:"wide",parsePatterns:uA,defaultParseWidth:"any"}),day:Qn({matchPatterns:mA,defaultMatchWidth:"wide",parsePatterns:hA,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:xA,defaultMatchWidth:"any",parsePatterns:pA,defaultParseWidth:"any"})},lj={code:"en-US",formatDistance:UP,formatLong:qP,formatRelative:HP,localize:eA,match:fA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gA(e){const t=ve(e);return SP(t,FP(t))+1}function bA(e){const t=ve(e),s=+$l(t)-+CP(t);return Math.round(s/ij)+1}function dj(e,t){var u,m,h,x;const s=ve(e),a=s.getFullYear(),n=lo(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(h=n.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??1,o=Os(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Wi(o,t),d=Os(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const c=Wi(d,t);return s.getTime()>=l.getTime()?a+1:s.getTime()>=c.getTime()?a:a-1}function yA(e,t){var l,d,c,u;const s=lo(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,n=dj(e,t),i=Os(e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),Wi(i,t)}function vA(e,t){const s=ve(e),a=+Wi(s,t)-+yA(s,t);return Math.round(a/ij)+1}function ge(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const ns={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return ge(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ge(s+1,2)},d(e,t){return ge(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ge(e.getHours()%12||12,t.length)},H(e,t){return ge(e.getHours(),t.length)},m(e,t){return ge(e.getMinutes(),t.length)},s(e,t){return ge(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return ge(n,t.length)}},Da={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yf={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return ns.y(e,t)},Y:function(e,t,s,a){const n=dj(e,a),i=n>0?n:1-n;if(t==="YY"){const o=i%100;return ge(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):ge(i,t.length)},R:function(e,t){const s=oj(e);return ge(s,t.length)},u:function(e,t){const s=e.getFullYear();return ge(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return ge(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return ge(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return ns.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return ge(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const n=vA(e,a);return t==="wo"?s.ordinalNumber(n,{unit:"week"}):ge(n,t.length)},I:function(e,t,s){const a=bA(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):ge(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):ns.d(e,t)},D:function(e,t,s){const a=gA(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):ge(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ge(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ge(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),n=a===0?7:a;switch(t){case"i":return String(n);case"ii":return ge(n,t.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let n;switch(a===12?n=Da.noon:a===0?n=Da.midnight:n=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let n;switch(a>=17?n=Da.evening:a>=12?n=Da.afternoon:a>=4?n=Da.morning:n=Da.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return ns.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):ns.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):ge(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):ge(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):ns.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):ns.s(e,t)},S:function(e,t){return ns.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Jf(a);case"XXXX":case"XX":return ea(a);case"XXXXX":case"XXX":default:return ea(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return Jf(a);case"xxxx":case"xx":return ea(a);case"xxxxx":case"xxx":default:return ea(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xf(a,":");case"OOOO":default:return"GMT"+ea(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xf(a,":");case"zzzz":default:return"GMT"+ea(a,":")}},t:function(e,t,s){const a=Math.trunc(e.getTime()/1e3);return ge(a,t.length)},T:function(e,t,s){const a=e.getTime();return ge(a,t.length)}};function Xf(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+t+ge(i,2)}function Jf(e,t){return e%60===0?(e>0?"-":"+")+ge(Math.abs(e)/60,2):ea(e,t)}function ea(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),n=ge(Math.trunc(a/60),2),i=ge(a%60,2);return s+n+t+i}const Zf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jA=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return Zf(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Zf(a,t)).replace("{{time}}",cj(n,t))},kA={p:cj,P:jA},wA=/^D+$/,NA=/^Y+$/,SA=["D","DD","YY","YYYY"];function CA(e){return wA.test(e)}function TA(e){return NA.test(e)}function PA(e,t,s){const a=AA(e,t,s);if(console.warn(a),SA.includes(e))throw new RangeError(a)}function AA(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_A=/^'([^]*?)'?$/,EA=/''/g,RA=/[a-zA-Z]/;function DA(e,t,s){var u,m,h,x;const a=lo(),n=a.locale??lj,i=a.firstWeekContainsDate??((m=(u=a.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,o=a.weekStartsOn??((x=(h=a.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,l=ve(e);if(!AP(l))throw new RangeError("Invalid time value");let d=t.match(MA).map(b=>{const v=b[0];if(v==="p"||v==="P"){const y=kA[v];return y(b,n.formatLong)}return b}).join("").match(IA).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:LA(b)};if(Yf[v])return{isToken:!0,value:b};if(v.match(RA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});n.localize.preprocessor&&(d=n.localize.preprocessor(l,d));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return d.map(b=>{if(!b.isToken)return b.value;const v=b.value;(TA(v)||CA(v))&&PA(v,t,String(e));const y=Yf[v[0]];return y(l,v,n.localize,c)}).join("")}function LA(e){const t=e.match(_A);return t?t[1].replace(EA,"'"):e}function OA(e,t,s){const a=lo(),n=(s==null?void 0:s.locale)??a.locale??lj,i=2520,o=el(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let d,c;o>0?(d=ve(t),c=ve(e)):(d=ve(e),c=ve(t));const u=OP(c,d),m=(zl(c)-zl(d))/1e3,h=Math.round((u-m)/60);let x;if(h<2)return s!=null&&s.includeSeconds?u<5?n.formatDistance("lessThanXSeconds",5,l):u<10?n.formatDistance("lessThanXSeconds",10,l):u<20?n.formatDistance("lessThanXSeconds",20,l):u<40?n.formatDistance("halfAMinute",0,l):u<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):h===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",h,l);if(h<45)return n.formatDistance("xMinutes",h,l);if(h<90)return n.formatDistance("aboutXHours",1,l);if(h<Gf){const b=Math.round(h/60);return n.formatDistance("aboutXHours",b,l)}else{if(h<i)return n.formatDistance("xDays",1,l);if(h<Do){const b=Math.round(h/Gf);return n.formatDistance("xDays",b,l)}else if(h<Do*2)return x=Math.round(h/Do),n.formatDistance("aboutXMonths",x,l)}if(x=LP(c,d),x<12){const b=Math.round(h/Do);return n.formatDistance("xMonths",b,l)}else{const b=x%12,v=Math.trunc(x/12);return b<3?n.formatDistance("aboutXYears",v,l):b<9?n.formatDistance("overXYears",v,l):n.formatDistance("almostXYears",v+1,l)}}function Rt(e,t){return OA(e,TP(e),t)}function ht({isOpen:e,onClose:t,children:s,title:a,className:n}){return g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),g.useEffect(()=>{const i=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e,t]),Bb.createPortal(r.jsx(ae,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:t}),r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:r.jsxs(P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:K("w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar","bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl","border border-light-border dark:border-dark-border",n),onClick:i=>i.stopPropagation(),children:[a&&r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-light-border dark:border-dark-border",children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:a}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:r.jsx(Le,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})})]}),r.jsxs("div",{className:a?"p-6":"p-6 relative",children:[!a&&r.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:r.jsx(Le,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),s]})]})})]})}),document.body)}function FA({isOpen:e,onClose:t,postId:s}){var y;const{user:a}=Y(),[n,i]=g.useState(""),[o,l]=g.useState(null),[d,c]=g.useState(""),[u,m]=g.useState(!1),h=D(S.users.getAllUsers,a&&(a.role==="admin"||a.role==="super_admin")?{adminId:a._id}:"skip"),x=$(S.assignments.createAssignment),b=h==null?void 0:h.filter(p=>{var f,j;return((f=p.name)==null?void 0:f.toLowerCase().includes(n.toLowerCase()))||((j=p.email)==null?void 0:j.toLowerCase().includes(n.toLowerCase()))}).slice(0,5),v=async p=>{if(p.preventDefault(),!(!a||!o||!d.trim())){m(!0);try{await x({adminId:a._id,userId:o,postId:s,instructions:d.trim()}),t(),l(null),c(""),i("")}catch(f){console.error("Failed to assign task:",f),alert("Failed to assign task. Please try again.")}finally{m(!1)}}};return r.jsx(ht,{isOpen:e,onClose:t,title:"Assign Task",children:r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Select Member"}),r.jsxs("div",{className:"relative",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),placeholder:"Search by name or email...",className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500"})]}),n&&b&&r.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:b.map(p=>r.jsxs("div",{onClick:()=>l(p._id),className:`p-2 rounded-lg cursor-pointer flex items-center gap-2 transition-colors ${o===p._id?"bg-primary-500 text-white":"bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg text-light-text dark:text-dark-text"}`,children:[r.jsx(ot,{className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:p.name}),r.jsx("p",{className:"text-xs opacity-80",children:p.email})]}),o===p._id&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})]},p._id))}),o&&!n&&r.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-primary-100 dark:bg-primary-900 border border-primary-500 text-primary-700 dark:text-primary-300 text-sm",children:["Selected: ",(y=h==null?void 0:h.find(p=>p._id===o))==null?void 0:y.name]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Instructions"}),r.jsx("textarea",{value:d,onChange:p=>c(p.target.value),placeholder:"Describe the task for this member...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(I,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),r.jsx(I,{type:"submit",variant:"primary",disabled:!o||!d.trim()||u,children:u?"Assigning...":"Assign Task"})]})]})})}function BA({src:e,alt:t,onClose:s,layoutId:a}){const n=async()=>{if(navigator.share)try{await navigator.share({title:t||"Baptizo Image",text:"Check out this image",url:e})}catch(o){console.error("Error sharing:",o)}else try{await navigator.clipboard.writeText(e),alert("Image link copied to clipboard!")}catch(o){console.error("Failed to copy:",o)}},i=async()=>{try{const l=await(await fetch(e)).blob(),d=window.URL.createObjectURL(l),c=document.createElement("a");c.href=d,c.download=t||"baptizo-image.jpg",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(d)}catch(o){console.error("Failed to download:",o),window.open(e,"_blank")}};return r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm shadow-2xl overflow-hidden",onClick:s,children:[r.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[110] flex items-center justify-between p-4 bg-gradient-to-b from-black/60 to-transparent",onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white","aria-label":"Back",children:r.jsx(xr,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-white font-medium truncate max-w-[200px]",children:t||"Image"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",title:"Share image",children:r.jsx(Tn,{className:"w-5 h-5"})}),r.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",title:"Download image",children:r.jsx(ud,{className:"w-5 h-5"})}),r.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:r.jsx(Le,{className:"w-6 h-6"})})]})]}),r.jsx(P.div,{className:"relative z-[105] w-full h-full flex items-center justify-center p-4",onClick:o=>o.stopPropagation(),children:r.jsx(P.img,{layoutId:a,src:e,alt:t,className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm",draggable:!1})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent pointer-events-none",children:r.jsx("p",{className:"text-white/60 text-sm text-center max-w-2xl mx-auto",children:t})})]})}function va({isOpen:e,onClose:t,onConfirm:s,title:a,description:n,confirmText:i="Confirm",cancelText:o="Cancel",variant:l="primary"}){return r.jsx(ht,{isOpen:e,onClose:t,title:a,children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed",children:n}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx(I,{variant:"outline",onClick:t,className:"border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg",children:o}),r.jsx(I,{variant:l==="danger"?"danger":"primary",onClick:()=>{s(),t()},className:l==="primary"?"bg-primary-500 hover:bg-primary-600 text-white shadow-lg shadow-primary-500/20":"",children:i})]})]})})}function Uh({post:e,onCommentClick:t,hasUserLiked:s=!1}){var Mr,In,Mn,_n,En,z,ue,Kt,rt;const{user:a}=Y(),n=ie(),i=$(S.posts.likePost),o=$(S.editDelete.deletePostUser),l=$(S.editDelete.editPost),d=$(S.follows.toggleFollow),c=$(S.posts.togglePostDisabled),u=D(S.settings.getCommentsEnabled),m=D(S.settings.getQuestionsOnPostsEnabled),h=D(S.posts.isPostSaved,a?{userId:a._id,postId:e._id}:"skip"),x=$(S.posts.toggleSavePost),[b,v]=g.useState(!1),[y,p]=g.useState(s),[f,j]=g.useState(e.likeCount),[k,w]=g.useState(!1),[C,N]=g.useState(!1),[T,L]=g.useState(!1),[A,H]=g.useState(e.content),[_,X]=g.useState(!1),[oe,E]=g.useState(!1),V=D(S.follows.isFollowing,a&&e.author?{followerId:a._id,followingId:e.author._id}:"skip"),re=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="super_admin",F=((Mr=e.author)==null?void 0:Mr.role)==="admin"||((In=e.author)==null?void 0:In.role)==="super_admin",B=e.postType==="question",W=e.postType==="prayer";g.useEffect(()=>{p(s),j(e.likeCount)},[s,e.likeCount]);const Q=async()=>{if(!a||b)return;const he=!y;p(he),j(_a=>he?_a+1:_a-1),v(!0);try{await i({userId:a._id,postId:e._id})}catch(_a){p(!he),j(tx=>he?tx-1:tx+1),console.error("Failed to like post:",_a)}finally{v(!1)}},ce=async()=>{if(!(!a||!e.author))try{await d({followerId:a._id,followingId:e.author._id}),w(!1)}catch(he){console.error("Failed to toggle follow:",he)}},pt=async()=>{if(a)try{await x({userId:a._id,postId:e._id}),w(!1)}catch(he){console.error("Failed to toggle save:",he)}},J=()=>{a&&(E(!0),w(!1))},le=async()=>{try{await o({userId:a._id,postId:e._id})}catch(he){console.error("Failed to delete post:",he)}},fe=async()=>{if(!re||!a)return;const he=prompt("Enter reason for disabling this post:","Violates community guidelines");if(he!==null)try{await c({postId:e._id,adminId:a._id,disabled:!0,reason:he||"Disabled by admin"}),w(!1)}catch(_a){console.error("Failed to disable post:",_a),alert("Failed to disable post.")}},or=()=>{T?Ma():(L(!0),w(!1))},Ma=async()=>{if(a)try{await l({userId:a._id,postId:e._id,content:A}),L(!1)}catch(he){console.error("Failed to edit post:",he),alert("Failed to update post.")}},Qs=()=>{if(e.imageUrl){const he=document.createElement("a");he.href=e.imageUrl,he.download=`post-${e._id}.jpg`,document.body.appendChild(he),he.click(),document.body.removeChild(he)}else alert("Download feature coming soon!")},Dt=()=>{var he;navigator.share?navigator.share({title:`Post by ${(he=e.author)==null?void 0:he.name}`,text:e.content,url:window.location.href}).catch(console.error):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},Lt=()=>B?"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/30 to-white dark:from-blue-900/20 dark:to-[#1A1A1A]":W?"border-l-4 border-l-purple-500 bg-gradient-to-br from-purple-50/30 to-white dark:from-purple-900/20 dark:to-[#1A1A1A]":"bg-white dark:bg-[#1A1A1A]";return r.jsxs(r.Fragment,{children:[r.jsxs(P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:`group relative rounded-3xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 dark:border-gray-800 overflow-hidden ${Lt()}`,children:[r.jsx("div",{className:"p-4 sm:p-5 pb-2",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(ee,{to:`/profile/${(Mn=e.author)==null?void 0:Mn._id}`,className:"relative block",children:[r.jsx(lt,{src:(_n=e.author)==null?void 0:_n.avatarUrl,alt:((En=e.author)==null?void 0:En.name)||"User",className:`w-12 h-12 ring-2 transition-transform hover:scale-105 ${F?"ring-primary-500 shadow-lg shadow-primary-500/20":B?"ring-blue-400":W?"ring-purple-400":"ring-transparent"}`}),F&&r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-primary-500 text-white p-0.5 rounded-full ring-2 ring-white dark:ring-[#1A1A1A]",children:r.jsx(qe,{className:"w-3 h-3"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-0.5",children:[r.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm sm:text-base leading-tight group-hover:text-primary-500 transition-colors",children:(z=e.author)==null?void 0:z.name}),F?r.jsx(q,{variant:"primary",className:"bg-primary-500/10 text-primary-600 dark:text-primary-400 border-0 text-[10px] py-0 px-1.5 h-4 flex-shrink-0",children:((ue=e.author)==null?void 0:ue.role)==="admin"?"Community Admin":"Super Admin"}):r.jsx(q,{variant:"outline",className:`text-[10px] py-0 px-1.5 h-4 flex-shrink-0 ${B?"text-blue-600 border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20":W?"text-purple-600 border-purple-200 dark:border-purple-800 bg-purple-50 dark:bg-purple-900/20":"text-gray-500 border-gray-200 dark:border-gray-700"}`,children:B?"Question":W?"Prayer":"Member"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[r.jsx("span",{className:"whitespace-nowrap",children:Rt(e.createdAt,{addSuffix:!0})}),r.jsx("span",{children:""}),r.jsx("span",{className:"font-medium",children:e.category})]})]})]}),r.jsxs("div",{className:"relative z-10 flex items-start gap-2",children:[r.jsx("button",{onClick:()=>w(!k),className:"p-2 -mr-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",children:r.jsx(_5,{className:"w-5 h-5"})}),r.jsx(ae,{children:k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>w(!1)}),r.jsxs(P.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-[#252525] rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 z-20 py-1 overflow-hidden",children:[a&&e.author&&a._id!==e.author._id&&r.jsx("button",{onClick:ce,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:V?r.jsxs(r.Fragment,{children:[r.jsx(Ny,{className:"w-4 h-4"})," Unfollow"]}):r.jsxs(r.Fragment,{children:[r.jsx(El,{className:"w-4 h-4"})," Follow"]})}),a&&r.jsxs("button",{onClick:pt,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm hover:bg-gray-50 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200",children:[r.jsx(ch,{className:`w-4 h-4 ${h?"fill-current":""}`})," ",h?"Unsave Post":"Save Post"]}),re&&r.jsx(r.Fragment,{children:!F&&r.jsxs("button",{onClick:fe,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[r.jsx(gr,{className:"w-4 h-4"})," Disable Post"]})}),(re||(a==null?void 0:a._id)===((Kt=e.author)==null?void 0:Kt._id))&&r.jsxs(r.Fragment,{children:[(re||(a==null?void 0:a._id)===((rt=e.author)==null?void 0:rt._id)&&Date.now()-e.createdAt<30*60*1e3)&&r.jsxs("button",{onClick:or,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[r.jsx(ph,{className:"w-4 h-4"})," Edit Post"]}),r.jsxs("button",{onClick:J,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[r.jsx(Es,{className:"w-4 h-4"})," Delete Post"]})]})]})]})})]})]})}),r.jsxs("div",{className:"px-4 sm:px-6 py-2",children:[T?r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsx("textarea",{value:A,onChange:he=>H(he.target.value),className:"w-full p-4 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 text-base resize-none",rows:4}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>L(!1),children:"Cancel"}),r.jsx(I,{variant:"primary",size:"sm",onClick:Ma,children:"Save"})]})]}):r.jsxs("div",{onClick:()=>!e.imageUrl&&!e.videoUrl&&n(`/post/${e._id}`),className:"cursor-pointer mb-4",children:[B&&r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-full",children:r.jsx(Il,{className:"w-5 h-5"})}),r.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400 uppercase tracking-wide",children:e.questionContext==="about_someone_else"?"Question for Others":"Personal Question"})]}),r.jsxs("p",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 leading-relaxed font-display break-words",children:[e.content.length>120?`${e.content.substring(0,120)}...`:e.content,e.content.length>120&&r.jsx("span",{className:"text-primary-500 text-base ml-1 font-sans hover:underline cursor-pointer",onClick:he=>{he.stopPropagation(),n(`/post/${e._id}`)},children:"Read more"})]})]}),W&&r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 text-purple-600 dark:text-purple-400",children:[r.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M19 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M24 6h-6a2 2 0 0 0-2 2v10.17a3 3 0 0 1-.5 1.7l-2 2.83"}),r.jsx("path",{d:"M13 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M7 6h6a2 2 0 0 1 2 2v10.17a3 3 0 0 0 .5 1.7l2 2.83"})]})}),r.jsx("span",{className:"text-sm font-semibold uppercase tracking-wide",children:"Prayer Request"})]}),e.scripture&&r.jsxs("div",{className:"flex items-center gap-2 mb-3 ml-1",children:[r.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/40 p-1 rounded text-purple-600 dark:text-purple-400",children:r.jsx(zs,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300 font-display",children:e.scripture})]}),r.jsxs("p",{className:"text-lg italic text-gray-800 dark:text-gray-200 leading-relaxed border-l-4 border-purple-200 dark:border-purple-800 pl-4 py-2 bg-purple-50/50 dark:bg-purple-900/10 rounded-r-lg break-words",children:['"',e.content.length>120?`${e.content.substring(0,120)}...`:e.content,'"',e.content.length>120&&r.jsx("span",{className:"text-primary-500 text-base ml-1 not-italic",children:"Read more"})]})]}),!B&&!W&&r.jsxs("p",{className:"whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200 text-base leading-relaxed",children:[e.content.length>120?`${e.content.substring(0,120)}...`:e.content,e.content.length>120&&r.jsx("span",{className:"text-primary-500 font-medium ml-1",children:"Read more"})]})]}),(e.imageUrl||e.videoUrl)&&r.jsxs("div",{className:"relative mt-3 mb-2 rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800 cursor-pointer group/image",onClick:()=>e.imageUrl&&X(!0),children:[e.imageUrl&&r.jsx("img",{src:e.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[600px] object-cover hover:scale-[1.01] transition-transform duration-500"}),e.videoUrl&&r.jsx("video",{src:e.videoUrl,controls:!0,className:"w-full h-full object-cover"}),e.imageUrl&&r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/image:bg-black/10 transition-colors duration-300 pointer-events-none"})]})]}),r.jsx("div",{className:"px-4 sm:px-6 py-3 border-t border-gray-100 dark:border-gray-800/50 bg-gray-50/50 dark:bg-black/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[r.jsxs(I,{variant:"ghost",size:"sm",onClick:Q,className:`gap-2 hover:bg-pink-50 dark:hover:bg-pink-900/10 ${y?"text-pink-500":"text-gray-500 dark:text-gray-400"}`,children:[r.jsx(qs,{className:`w-5 h-5 ${y?"fill-current":""} ${b?"scale-125":""} transition-transform`}),r.jsx("span",{className:"font-medium",children:f}),r.jsx("span",{className:"sr-only sm:not-sr-only text-xs sm:text-sm",children:"Likes"})]}),u&&r.jsxs(I,{variant:"ghost",size:"sm",onClick:t,className:`gap-2 hover:bg-blue-50 dark:hover:bg-blue-900/10 ${W?"text-purple-500 hover:text-purple-600":"text-gray-500 dark:text-gray-400 hover:text-blue-500"}`,children:[W?r.jsx(hh,{className:"w-5 h-5"}):r.jsx(vt,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:e.commentCount}),r.jsx("span",{className:"sr-only sm:not-sr-only text-xs sm:text-sm",children:W?"Prayers":"Comments"})]}),F&&m&&r.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>n(`/post/${e._id}?tab=questions`),className:"gap-2 hover:bg-purple-50 dark:hover:bg-purple-900/10 text-gray-500 dark:text-gray-400 hover:text-purple-500",children:[r.jsx(Il,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:e.questionCount||0}),r.jsx("span",{className:"sr-only sm:not-sr-only text-xs sm:text-sm",children:"Questions"})]})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(I,{onClick:Dt,variant:"ghost",size:"sm",className:"p-2 text-gray-500 hover:text-primary-500 dark:text-gray-400",children:r.jsx(Tn,{className:"w-5 h-5"})}),e.imageUrl&&r.jsx(I,{onClick:Qs,variant:"ghost",size:"sm",className:"p-2 text-gray-500 hover:text-primary-500 dark:text-gray-400",children:r.jsx(ud,{className:"w-5 h-5"})})]})]})})]}),r.jsx(ae,{children:_&&e.imageUrl&&r.jsx(BA,{src:e.imageUrl,alt:"Post content",onClose:()=>X(!1)})}),r.jsx(ae,{children:C&&r.jsx(FA,{onClose:()=>N(!1),isOpen:C,postId:e._id})}),r.jsx(va,{isOpen:oe,onClose:()=>E(!1),onConfirm:le,title:"Delete Post",description:"Are you sure you want to delete this post? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})}function _e(){return r.jsxs("div",{className:"glass rounded-xl p-6 shadow-md animate-pulse",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"h-4 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-3 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-4/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[r.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"}),r.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]})]})}function UA(){return r.jsxs("div",{className:"glass rounded-xl overflow-hidden shadow-lg animate-pulse",children:[r.jsx("div",{className:"h-48 bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"h-6 w-3/4 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-3"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]})}function Pt(){return r.jsxs("div",{className:"glass rounded-xl p-6 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"h-6 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-8 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"h-4 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"h-4 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]})}function Ht(){return r.jsxs("div",{className:"mb-8 animate-pulse",children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})}function ja({count:e=5}){return r.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,s)=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-transparent animate-pulse",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-light-muted/20 dark:bg-dark-muted/20 rounded w-1/3"}),r.jsx("div",{className:"h-3 bg-light-muted/10 dark:bg-dark-muted/10 rounded w-1/2"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"h-5 w-12 bg-light-muted/20 dark:bg-dark-muted/20 rounded-full"}),r.jsx("div",{className:"h-5 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded-full"})]})]},s))})}const VA=g.forwardRef(function(t,s){return r.jsxs("div",{ref:s,className:"glass h-full rounded-3xl p-6 animate-pulse relative overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsx("div",{className:"h-6 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-full"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"h-6 w-3/4 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-4 bg-light-muted/10 dark:bg-dark-muted/10 rounded"}),r.jsx("div",{className:"h-4 w-1/2 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-4 bg-light-muted/10 dark:bg-dark-muted/10 rounded"}),r.jsx("div",{className:"h-4 w-1/3 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]})]}),r.jsxs("div",{className:"mt-6 flex gap-2",children:[r.jsx("div",{className:"h-10 flex-1 bg-light-muted/10 dark:bg-dark-muted/10 rounded-xl"}),r.jsx("div",{className:"h-10 w-10 bg-light-muted/10 dark:bg-dark-muted/10 rounded-xl"})]})]})});function $A(){return r.jsxs("div",{className:"glass rounded-xl overflow-hidden animate-pulse",children:[r.jsx("div",{className:"h-20 bg-light-muted/10 dark:bg-dark-muted/10"}),r.jsxs("div",{className:"px-6 pb-6 -mt-10 flex flex-col items-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl bg-light-muted/20 dark:bg-dark-muted/20 border-4 border-light-bg dark:border-dark-bg transition-all"}),r.jsx("div",{className:"h-5 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded mt-3"}),r.jsx("div",{className:"h-3 w-20 bg-light-muted/10 dark:bg-dark-muted/10 rounded mt-2"}),r.jsxs("div",{className:"mt-6 w-full grid grid-cols-2 gap-4 border-t border-light-border/30 pt-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded mx-auto"}),r.jsx("div",{className:"h-2 w-12 bg-light-muted/10 dark:bg-dark-muted/10 rounded mx-auto"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded mx-auto"}),r.jsx("div",{className:"h-2 w-12 bg-light-muted/10 dark:bg-dark-muted/10 rounded mx-auto"})]})]})]})]})}function zA(){return r.jsxs("div",{className:"glass rounded-xl p-6 border-emerald-500/10 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-4 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-light-muted/5 dark:bg-dark-muted/5 border border-light-muted/10 dark:border-dark-muted/10",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-8 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-2 w-20 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsx("div",{className:"w-10 h-10 rounded-xl bg-light-muted/20 dark:bg-dark-muted/20"})]})]})}function qA(){return r.jsxs("div",{className:"glass rounded-xl animate-pulse",children:[r.jsx("div",{className:"p-4 border-b border-light-border/30",children:r.jsx("div",{className:"h-3 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})}),r.jsx("div",{className:"divide-y divide-light-border/20",children:[1,2,3].map(e=>r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsx("div",{className:"h-32 w-full rounded-xl bg-light-muted/10 dark:bg-dark-muted/10"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 w-3/4 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-4 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-3 w-full bg-light-muted/10 dark:bg-dark-muted/10 rounded"}),r.jsx("div",{className:"h-3 w-5/6 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsxs("div",{className:"flex justify-between items-center pt-1",children:[r.jsx("div",{className:"h-2 w-20 bg-light-muted/5 dark:bg-dark-muted/5 rounded"}),r.jsx("div",{className:"h-3 w-12 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]},e))})]})}function WA(){return r.jsxs("div",{className:"max-w-5xl mx-auto animate-pulse space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"h-10 w-40 bg-light-muted/20 dark:bg-dark-muted/20 rounded-xl"}),r.jsx("div",{className:"h-8 w-48 bg-light-muted/10 dark:bg-dark-muted/10 rounded-lg"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl overflow-hidden border-primary-500/10",children:[r.jsx("div",{className:"h-24 bg-light-muted/5 dark:bg-dark-muted/5"}),r.jsxs("div",{className:"px-6 pb-8 -mt-12 flex flex-col items-center",children:[r.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-light-muted/20 dark:bg-dark-muted/20 border-4 border-light-bg dark:border-dark-bg shadow-2xl"}),r.jsx("div",{className:"h-8 w-48 bg-light-muted/20 dark:bg-dark-muted/20 rounded mt-4"}),r.jsx("div",{className:"h-4 w-32 bg-light-muted/10 dark:bg-dark-muted/10 rounded mt-2"}),r.jsxs("div",{className:"mt-8 w-full grid grid-cols-2 gap-4",children:[r.jsx("div",{className:"h-16 bg-light-muted/5 dark:bg-dark-muted/5 rounded-2xl"}),r.jsx("div",{className:"h-16 bg-light-muted/5 dark:bg-dark-muted/5 rounded-2xl"})]})]})]}),r.jsx("div",{className:"glass rounded-xl p-6 h-48 bg-light-muted/5"})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsx("div",{className:"glass h-64 rounded-xl"}),r.jsx("div",{className:"glass h-64 rounded-xl"})]})]})]})}function uj(){return r.jsxs("div",{className:"flex p-1 bg-light-bg/50 dark:bg-dark-bg/50 rounded-xl border border-light-border dark:border-dark-border mb-6 animate-pulse",children:[r.jsx("div",{className:"flex-1 h-10 bg-light-muted/10 dark:bg-dark-muted/10 rounded-lg m-1"}),r.jsx("div",{className:"flex-1 h-10 bg-light-muted/10 dark:bg-dark-muted/10 rounded-lg m-1"})]})}function HA(){return r.jsx("div",{className:"space-y-4 p-4 animate-pulse",children:[1,2,3,4,5].map(e=>r.jsx("div",{className:`flex ${e%2===0?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`h-12 w-1/2 rounded-2xl bg-light-muted/10 dark:bg-dark-muted/10 ${e%2===0?"rounded-br-md":"rounded-bl-md"}`})},e))})}function eg({count:e=6}){return r.jsx("div",{className:"divide-y divide-light-border/20 animate-pulse",children:[...Array(e)].map((t,s)=>r.jsxs("div",{className:"flex items-center gap-3 p-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("div",{className:"h-4 w-1/3 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-3 w-12 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]}),r.jsx("div",{className:"h-3 w-3/4 bg-light-muted/10 dark:bg-dark-muted/10 rounded"})]})]},s))})}function Vh(){return r.jsxs("div",{className:"space-y-6 animate-pulse",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>r.jsxs("div",{className:"glass p-6 rounded-xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"h-5 w-5 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),r.jsx("div",{className:"h-8 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"h-4 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]},e))}),r.jsx("div",{className:"glass h-96 rounded-xl w-full"})]})}function QA(){return r.jsxs("div",{className:"space-y-6 animate-pulse",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"grid sm:grid-cols-3 gap-6",children:[1,2,3].map(e=>r.jsxs("div",{className:"glass p-6 rounded-xl border-l-4 border-light-muted/20",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"h-4 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-8 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"h-10 w-10 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]}),r.jsx("div",{className:"h-3 w-40 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]},e))}),r.jsx("div",{className:"h-8 w-48 bg-light-muted/20 dark:bg-dark-muted/20 rounded mt-8 mb-4"}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(e=>r.jsxs("div",{className:"glass p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 bg-light-muted/20 dark:bg-dark-muted/20 rounded network-icon"}),r.jsx("div",{className:"h-5 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),r.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2"}),r.jsx("div",{className:"h-3 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]},e))})]})}function GA(){return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg animate-pulse",children:[r.jsx("div",{className:"gradient-primary text-white py-8 px-4 md:px-8 opacity-50",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsx("div",{className:"h-6 w-32 bg-white/20 rounded mb-4"}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20"}),r.jsxs("div",{children:[r.jsx("div",{className:"h-10 w-48 bg-white/20 rounded mb-2"}),r.jsx("div",{className:"h-4 w-64 bg-white/20 rounded"})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>r.jsx("div",{className:"glass p-6 rounded-2xl h-32"},e))})]})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-8",children:[r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[1,2,3,4].map(e=>r.jsx("div",{className:"glass h-64 rounded-2xl"},e))}),r.jsx("div",{className:"glass h-20 rounded-xl"})]})]})}function Sd(e){const{category:t,onCommentClick:s}=e,{user:a}=Y(),[n,i]=g.useState({type:"all"}),[o,l]=g.useState(Date.now()),{results:d,status:c,loadMore:u}=o5(S.posts.getPaginatedFeed,{postType:n.type==="postType"?n.value:void 0,cutoffTime:o,userId:a==null?void 0:a._id},{initialNumItems:10}),m=D(S.posts.getNewPostCount,{postType:n.type==="postType"?n.value:void 0,cutoffTime:o})||0,h=g.useRef(null);g.useEffect(()=>{const y=new IntersectionObserver(([p])=>{p.isIntersecting&&c==="CanLoadMore"&&u(10)},{threshold:.1});return h.current&&y.observe(h.current),()=>y.disconnect()},[c,u]);const[x,b]=g.useState(!1);g.useEffect(()=>{const y=()=>{window.scrollY>2e3?b(!0):b(!1)};return window.addEventListener("scroll",y,{passive:!0}),()=>window.removeEventListener("scroll",y)},[]);const v=()=>{l(Date.now()),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},150)};return c==="LoadingFirstPage"||d===void 0?r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{}),r.jsx(_e,{})]}):r.jsxs("div",{className:"space-y-6 relative min-h-[50vh]",children:[r.jsx(ae,{children:m>0&&r.jsx(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex justify-center mb-4 sticky top-24 z-30 pointer-events-none",children:r.jsxs(I,{onClick:v,size:"sm",className:"pointer-events-auto rounded-full shadow-xl bg-gray-900 hover:bg-gray-800 text-white gap-1.5 sm:gap-2 px-4 py-1.5 sm:px-6 sm:py-2 text-xs sm:text-sm border border-green-500/40 backdrop-blur-md",children:[r.jsx(Dp,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),m," New ",m===1?"Post":"Posts"]})})}),!t&&r.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0 scroll-smooth",children:[r.jsx("button",{onClick:()=>i({type:"all"}),className:`whitespace-nowrap px-3 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold transition-all text-xs sm:text-sm border shadow-sm active:scale-95 ${n.type==="all"?"bg-primary-500 text-white border-primary-500 shadow-primary-500/20":"bg-white dark:bg-dark-card text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:"All Posts"}),r.jsx("button",{onClick:()=>i({type:"postType",value:"prayer"}),className:`whitespace-nowrap px-3 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold transition-all text-xs sm:text-sm border shadow-sm active:scale-95 ${n.type==="postType"&&n.value==="prayer"?"bg-purple-500 text-white border-purple-500 shadow-purple-500/20":"bg-white dark:bg-dark-card text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:"Prayers"}),r.jsx("button",{onClick:()=>i({type:"postType",value:"question"}),className:`whitespace-nowrap px-3 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold transition-all text-xs sm:text-sm border shadow-sm active:scale-95 ${n.type==="postType"&&n.value==="question"?"bg-blue-500 text-white border-blue-500 shadow-blue-500/20":"bg-white dark:bg-dark-card text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-white/5"}`,children:"Questions"})]}),d.length===0?r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts found."})}):r.jsx("div",{className:"space-y-4",children:d.map(y=>r.jsx(Uh,{post:y,onCommentClick:()=>s==null?void 0:s(y),hasUserLiked:y.hasLiked},y._id))}),r.jsx("div",{ref:h,className:"h-20 flex items-center justify-center py-4",children:c==="LoadingMore"&&r.jsxs("div",{className:"flex items-center gap-2 text-light-muted dark:text-dark-muted",children:[r.jsx(ro,{className:"w-5 h-5 animate-spin text-primary-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Loading more..."})]})}),r.jsx(ae,{children:x&&r.jsx(P.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-4 md:bottom-10 md:right-10 p-3 md:p-4 rounded-full bg-gray-900 text-white shadow-2xl z-40 hover:bg-gray-800 transition-all group border border-green-500/40",children:r.jsx(Dp,{className:"w-5 h-5 md:w-6 md:h-6 group-hover:-translate-y-1 transition-transform"})})})]})}function KA({id:e,title:t,description:s,imageUrl:a,creatorRole:n="admin",isActive:i,category:o}){const{user:l}=Y(),d=ie(),c=$(S.announcements.updateAnnouncement),u=$(S.announcements.deleteAnnouncement),[m,h]=g.useState(!1),x=n==="super_admin",b=l&&(l.role==="admin"||l.role==="super_admin"),v=async p=>{if(p.stopPropagation(),!!b)try{await c({adminId:l._id,announcementId:e,isActive:!i})}catch(f){console.error("Failed to toggle visibility:",f)}},y=async p=>{if(p.stopPropagation(),!(!b||!window.confirm("Are you sure you want to delete this announcement?"))){h(!0);try{await u({adminId:l._id,announcementId:e})}catch(f){console.error("Failed to delete announcement:",f),h(!1)}}};return m?null:r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:i?1:.6,y:0},onClick:()=>d(`/announcement/${e}`),className:`glass rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border-2 relative group cursor-pointer ${x?"border-secondary-500/50 shadow-secondary-500/10":"border-transparent"} ${i?"":"grayscale"}`,children:[b&&r.jsxs("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:v,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 backdrop-blur-md transition-colors",title:i?"Hide from users":"Show to users",children:i?r.jsx(Ir,{className:"w-4 h-4"}):r.jsx(to,{className:"w-4 h-4"})}),r.jsx("button",{onClick:y,className:"p-2 rounded-full bg-red-500/80 text-white hover:bg-red-600 backdrop-blur-md transition-colors",title:"Delete Announcement",children:r.jsx(Es,{className:"w-4 h-4"})})]}),!i&&b&&r.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 bg-black/80 text-white px-4 py-2 rounded-lg font-bold backdrop-blur-md border border-white/20",children:"HIDDEN"}),r.jsxs("div",{className:"relative h-48 md:h-60 overflow-hidden",children:[r.jsx("img",{src:a,alt:t,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${x?"from-secondary-900/80":"from-black/60"} to-transparent`}),r.jsxs("div",{className:"absolute bottom-3 left-3 md:bottom-4 md:left-4 flex items-center gap-2",children:[x?r.jsxs("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-secondary-500 text-white text-[9px] md:text-[10px] font-bold flex items-center gap-1 md:gap-1.5 shadow-lg",children:[r.jsx(N5,{className:"w-2.5 h-2.5 md:w-3 md:h-3 fill-current"}),"OFFICIAL ANNOUNCEMENT"]}):r.jsxs("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-primary-500 text-white text-[9px] md:text-[10px] font-bold flex items-center gap-1 md:gap-1.5 shadow-lg",children:[r.jsx(v5,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),"ADMIN UPDATE"]}),o&&o!=="General"&&r.jsx("span",{className:"px-2 py-0.5 md:px-3 md:py-1 rounded-full bg-blue-500 text-white text-[9px] md:text-[10px] font-bold shadow-lg uppercase",children:o})]})]}),r.jsxs("div",{className:`p-4 md:p-6 ${x?"bg-secondary-500/5 dark:bg-secondary-500/5":""}`,children:[r.jsx("h3",{className:`text-lg md:text-2xl font-black mb-2 md:mb-3 font-display tracking-tight group-hover:text-primary-500 transition-colors ${x?"text-secondary-600 dark:text-secondary-400":"text-light-text dark:text-dark-text"}`,children:t}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed line-clamp-2 text-xs md:text-sm",children:s}),r.jsxs("div",{className:"mt-4 md:mt-6 pt-3 md:pt-4 border-t border-light-border/20 dark:border-dark-border/20 flex items-center justify-between",children:[r.jsx("span",{className:"text-[9px] md:text-[10px] font-bold text-light-muted/60 uppercase tracking-widest italic",children:"Read More Details"}),r.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-primary-500/10 flex items-center justify-center text-primary-500 group-hover:translate-x-1 transition-transform",children:r.jsx(yt,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})]})}function YA({announcements:e}){const[t,s]=g.useState(0);return g.useEffect(()=>{if(e.length<=1)return;const a=setInterval(()=>{s(n=>(n+1)%e.length)},5e3);return()=>clearInterval(a)},[e.length]),!e||e.length===0?null:r.jsxs("div",{className:"relative overflow-hidden w-full",children:[r.jsx("div",{className:"relative w-full",children:r.jsx(ae,{mode:"wait",children:r.jsx(P.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:r.jsx(KA,{id:e[t]._id,title:e[t].title,description:e[t].description,imageUrl:e[t].imageUrl,creatorRole:e[t].creatorRole,isActive:e[t].isActive,category:e[t].category})},t)})}),e.length>1&&r.jsx("div",{className:"absolute bottom-4 right-4 flex gap-1.5 z-10",children:e.map((a,n)=>r.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${n===t?"bg-white w-4":"bg-white/50"}`},n))})]})}function mj(){const e=xt(),t=ie(),{user:s}=Y();if(!(s!=null&&s._id))return null;const a=D(S.users.getUserStats,{userId:s._id}),n=D(S.stats.getBadgeCounts,{userId:s._id}),i=$(S.users.updateLastViewed),o=async(x,b)=>{b&&s&&await i({userId:s._id,field:b}),t(x)},l=x=>n?x==="Messages"?n.messages>0?n.messages:null:x==="Banking"?n.banking>0?!0:null:x==="Leaderboard"&&n.leaderboard>0?!0:null:null;if(!s)return null;const d=[{path:"/feed",label:"Home Feed",icon:Ws,color:"text-primary-500"},{path:"/teachings",label:"All Posts",icon:zs,color:"text-blue-500"},{path:"/chat",label:"Messages",icon:vt,color:"text-indigo-500"},{path:"/banking",label:"Banking",icon:so,color:"text-emerald-500"},{path:"/leaderboard",label:"Leaderboard",icon:ye,color:"text-amber-500"},{path:"/diamond-challenge",label:"Diamond Challenge",icon:pr,color:"text-cyan-500"},{path:"/saved-posts",label:"Saved Posts",icon:ch,color:"text-purple-500"}],c=[{path:"/admin",label:"Admin Hub",icon:qe,color:"text-orange-500"},{path:"/admin/roles",label:"Role Manager",icon:qe,color:"text-red-500"}],u=[{path:"/board",label:"Board Dash",icon:ya,color:"text-amber-500"}],m=s.role==="admin"||s.role==="super_admin",h=s.role==="board_member";return r.jsxs("aside",{className:"hidden lg:block space-y-6 sticky top-24 max-h-[calc(100vh-120px)] overflow-y-auto pb-10 pr-1 transition-all custom-scrollbar-premium",children:[r.jsx("style",{children:`
                .custom-scrollbar-premium::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #ffffff;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #111827;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #374151;
                    border-radius: 10px;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #064e3b;
                }
                .custom-scrollbar-premium {
                    scrollbar-width: thin;
                    scrollbar-color: #374151 #ffffff;
                }
                .dark .custom-scrollbar-premium {
                    scrollbar-color: #064e3b #111827;
                }
            `}),a===void 0?r.jsx($A,{}):r.jsxs(M,{glass:!0,className:"overflow-hidden border-primary-500/10 hover:border-primary-500/30 transition-all duration-300",children:[r.jsx("div",{className:"h-20 bg-gradient-to-br from-primary-500/20 via-primary-500/5 to-transparent relative",children:r.jsx("div",{className:"absolute inset-0 bg-grid-white/5 opacity-20"})}),r.jsxs(R,{className:"px-6 pb-6 -mt-10 relative",children:[r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 p-1 shadow-xl shadow-primary-500/20 mb-3",children:r.jsx("div",{className:"w-full h-full rounded-2xl bg-white dark:bg-dark-bg overflow-hidden flex items-center justify-center font-bold text-2xl text-gradient",children:s.avatarUrl?r.jsx("img",{src:s.avatarUrl,alt:s.name,className:"w-full h-full object-cover"}):s.name[0]})}),r.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text truncate w-full",children:s.name}),r.jsx("p",{className:"text-[10px] font-bold text-primary-500 uppercase tracking-widest mt-1",children:s.role.replace("_"," ")})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-light-border/50 dark:border-dark-border/50 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-bold",children:(a==null?void 0:a.totalPosts)||0}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-black",children:"Posts"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-bold",children:(a==null?void 0:a.totalRewards)||0}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-black",children:"Rewards"})]})]})]})]}),r.jsx(M,{glass:!0,className:"p-2",children:r.jsxs("nav",{className:"space-y-1",children:[d.map(x=>{const b=x.icon,v=e.pathname===x.path;return r.jsxs("button",{onClick:()=>{const y=x.label==="Banking"?"lastViewedBanking":x.label==="Leaderboard"?"lastViewedLeaderboard":void 0;o(x.path,y)},className:`
                                    w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 group
                                    ${v?"bg-primary-500 text-white shadow-lg shadow-primary-500/30 font-bold":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                `,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(b,{className:`w-5 h-5 ${v?"text-white":x.color} transition-transform group-hover:scale-110`}),r.jsx("span",{className:"text-sm font-medium",children:x.label})]}),l(x.label)===!0?r.jsx("div",{className:`w-2 h-2 rounded-full ${v?"bg-white":"bg-primary-500 shadow-[0_0_8px_rgba(249,115,22,0.5)]"}`}):typeof l(x.label)=="number"?r.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[10px] font-bold ${v?"bg-white text-primary-500":"bg-primary-500 text-white"}`,children:l(x.label)}):v&&r.jsx(P.div,{layoutId:"activeFeedIndicator",className:"w-1.5 h-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})]},x.path)}),(m||h)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border/50 dark:border-dark-border/50 space-y-1",children:[r.jsx("p",{className:"px-4 mb-2 text-[10px] font-black text-light-muted dark:text-dark-muted uppercase tracking-[0.2em]",children:"Management"}),m&&c.map(x=>{const b=x.icon,v=e.pathname===x.path;return r.jsxs(ee,{to:x.path,className:`
                                            flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                            ${v?"bg-primary-500 text-white shadow-lg":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                        `,children:[r.jsx(b,{className:`w-5 h-5 ${v?"text-white":x.color} transition-transform group-hover:scale-110`}),r.jsx("span",{className:"text-sm font-medium",children:x.label})]},x.path)}),(m||h)&&u.map(x=>{const b=x.icon,v=e.pathname===x.path;return r.jsxs(ee,{to:x.path,className:`
                                            flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                            ${v?"bg-primary-500 text-white shadow-lg":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                        `,children:[r.jsx(b,{className:`w-5 h-5 ${v?"text-white":x.color} transition-transform group-hover:scale-110`}),r.jsx("span",{className:"text-sm font-medium",children:x.label})]},x.path)})]})]})}),r.jsxs(M,{glass:!0,className:"p-6",children:[r.jsx("h4",{className:"font-bold text-xs uppercase tracking-widest text-light-muted mb-4",children:"Quick Links"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(ee,{to:"/profile",className:"px-3 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-xs font-bold hover:border-primary-500 transition-colors flex items-center justify-center",children:"My Profile"}),r.jsx(ee,{to:"/notifications",className:"px-3 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-xs font-bold hover:border-primary-500 transition-colors flex items-center justify-center",children:"Notifications"})]})]})]})}function hj(){var a;const e=ie(),t=D(S.users.getTickerData),s=D(S.announcements.getAnnouncements,{});return r.jsxs("aside",{className:"hidden xl:block space-y-6 sticky top-24 max-h-[calc(100vh-120px)] overflow-y-auto pb-10 pr-1 transition-all custom-scrollbar-premium",children:[r.jsx("style",{children:`
                .custom-scrollbar-premium::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #ffffff;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-track {
                    background: #111827;
                }
                .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #374151;
                    border-radius: 10px;
                }
                .dark .custom-scrollbar-premium::-webkit-scrollbar-thumb {
                    background: #064e3b;
                }
                .custom-scrollbar-premium {
                    scrollbar-width: thin;
                    scrollbar-color: #374151 #ffffff;
                }
                .dark .custom-scrollbar-premium {
                    scrollbar-color: #064e3b #111827;
                }
            `}),t===void 0?r.jsx(zA,{}):r.jsxs(M,{glass:!0,className:"overflow-hidden border-emerald-500/10 hover:border-emerald-500/30 transition-all duration-300",children:[r.jsx(xe,{className:"pb-2",children:r.jsxs(pe,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-light-muted flex items-center justify-between",children:["Realtime Stats",r.jsx(Rs,{className:"w-3.5 h-3.5 text-emerald-500"})]})}),r.jsxs(R,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-emerald-500/5 border border-emerald-500/10",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-black text-emerald-500 font-display",children:((a=t==null?void 0:t.totalCount)==null?void 0:a.toLocaleString())||"..."}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider",children:"Total Members"})]}),r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:r.jsx(Ie,{className:"w-5 h-5 text-emerald-500"})})]}),r.jsx("div",{className:"pt-2",children:r.jsx(ej,{})})]})]}),s===void 0?r.jsx(qA,{}):r.jsxs(M,{glass:!0,className:"border-primary-500/10",children:[r.jsx(xe,{className:"pb-3 border-b border-light-border/30 dark:border-dark-border/30",children:r.jsxs(pe,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-light-muted flex items-center justify-between",children:["Announcements",r.jsx(Ui,{className:"w-3.5 h-3.5 text-primary-500"})]})}),r.jsx(R,{className:"p-0",children:r.jsx("div",{className:"divide-y divide-light-border/30 dark:divide-dark-border/30",children:s&&s.length>0?s.slice(0,4).map(n=>{var i;return r.jsxs("div",{onClick:()=>e(`/announcement/${n._id}`),className:"p-4 hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-colors group relative overflow-hidden cursor-pointer",children:[n.imageUrl&&r.jsx("div",{className:"h-32 w-full rounded-xl overflow-hidden mb-3 border border-light-border/20 dark:border-dark-border/20",children:r.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[r.jsx("h4",{className:"text-sm font-bold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:n.title}),r.jsx(q,{variant:"outline",className:"text-[8px] px-1.5 py-0 bg-primary-500/10 text-primary-500 border-primary-500/20",children:n.category||"New"})]}),r.jsx("p",{className:"text-xs text-light-muted line-clamp-2 leading-relaxed mb-3",children:n.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-[10px] font-bold text-light-muted/60 uppercase tracking-tighter italic",children:["By ",((i=n.creatorRole)==null?void 0:i.replace("_"," "))||"Admin"]}),r.jsxs("button",{className:"text-[10px] font-bold text-primary-500 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["Read More ",r.jsx(S5,{className:"w-2.5 h-2.5"})]})]})]},n._id)}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ui,{className:"w-8 h-8 text-light-muted/20 mx-auto mb-2"}),r.jsx("p",{className:"text-xs text-light-muted italic",children:"No official announcements yet."})]})})})]})]})}function XA(){const e=ie(),{user:t}=Y();return t?r.jsx(M,{glass:!0,className:"hidden md:block mb-6 overflow-hidden border-primary-500/10 hover:border-primary-500/20 transition-all duration-300 group",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 p-[2px] shadow-lg shadow-primary-500/20 shrink-0",children:r.jsx("div",{className:"w-full h-full rounded-2xl bg-white dark:bg-dark-bg overflow-hidden flex items-center justify-center font-bold text-xl text-gradient",children:t.avatarUrl?r.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-full h-full object-cover"}):t.name[0]})}),r.jsxs("button",{onClick:()=>e("/create-post"),className:"flex-1 h-12 px-6 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/50 dark:border-dark-border/50 text-left text-light-muted dark:text-dark-muted hover:bg-light-bg dark:hover:bg-dark-bg hover:border-primary-500/30 transition-all text-base font-medium flex items-center justify-between group/input",children:[r.jsxs("span",{children:["What's on your mind, ",t.name.split(" ")[0],"?"]}),r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-primary-500 text-white text-[10px] font-bold uppercase tracking-wider group-hover/input:scale-105 transition-transform",children:[r.jsx(tt,{className:"w-3 h-3"})," Post"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-light-border/20 dark:border-dark-border/20",children:[r.jsxs("button",{onClick:()=>e("/create-post"),className:"flex items-center justify-center gap-2 p-3 rounded-xl hover:bg-red-500/10 transition-colors group/btn",children:[r.jsx(Cs,{className:"w-5 h-5 text-red-500 group-hover/btn:scale-110 transition-transform"}),r.jsx("span",{className:"text-sm font-bold text-light-muted dark:text-dark-muted group-hover/btn:text-red-500",children:"Media"})]}),r.jsxs("button",{onClick:()=>e("/create-post"),className:"flex items-center justify-center gap-2 p-3 rounded-xl hover:bg-emerald-500/10 transition-colors group/btn",children:[r.jsx(U5,{className:"w-5 h-5 text-emerald-500 group-hover/btn:scale-110 transition-transform"}),r.jsx("span",{className:"text-sm font-bold text-light-muted dark:text-dark-muted group-hover/btn:text-emerald-500",children:"Activity"})]})]})]})}):null}function xj(){var v;const{user:e}=Y(),t=D(S.polls.getActivePoll,e?{userId:e._id}:"skip"),s=$(S.polls.vote),[a,n]=g.useState(null),[i,o]=g.useState(!1),[l,d]=g.useState(""),[c,u]=g.useState(!1);g.useEffect(()=>{if(!t||!t.expiresAt)return;const y=()=>{const f=Date.now(),j=t.expiresAt-f;if(j<=0)d("Ended");else{const k=Math.floor(j/36e5),w=Math.floor(j%(1e3*60*60)/(1e3*60));d(`${k}h ${w}m`)}};y();const p=setInterval(y,6e4);return()=>clearInterval(p)},[t]);const[m,h]=g.useState(null),x=async()=>{if(!(!e||!t||!a)){o(!0),h(null);try{await s({pollId:t._id,userId:e._id,selectedOptionId:a}),u(!0)}catch(y){console.error(y),h(y.message||"Failed to submit vote")}finally{o(!1)}}};if(t===void 0||t===null)return null;const b=Date.now()>t.expiresAt;return r.jsxs(M,{glass:!0,className:"border-primary-500/20 overflow-hidden relative mb-6",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary-500 to-secondary-500"}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-2",children:[r.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>u(!c),children:[r.jsxs("h3",{className:"text-lg sm:text-xl font-bold font-display text-gradient leading-tight flex items-center gap-2",children:["Weekly Wisdom Game",c?r.jsx(cd,{className:"w-5 h-5 text-light-muted"}):r.jsx(ts,{className:"w-5 h-5 text-light-muted"})]}),r.jsx("p",{className:"text-xs sm:text-sm text-light-muted dark:text-dark-muted mt-1",children:c?"Test your knowledge & earn Rubies":"Tap to reveal the weekly question"})]}),r.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-primary-50 dark:bg-primary-900/20 px-2.5 py-1.5 rounded-full border border-primary-100 dark:border-primary-900/50",children:[r.jsx(ze,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary-600 dark:text-primary-400"}),r.jsx("span",{className:"text-xs font-bold text-primary-700 dark:text-primary-300 font-mono",children:l})]}),r.jsxs(ee,{to:"/leaderboard",className:"flex items-center gap-1.5 bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg px-2.5 py-1.5 rounded-full border border-light-border dark:border-dark-border transition-colors",children:[r.jsx(j5,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-light-muted dark:text-dark-muted"}),r.jsx("span",{className:"text-xs font-bold text-light-muted dark:text-dark-muted",children:"Leadersboard"})]})]})]}),r.jsx(ae,{children:c&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"pt-4 border-t border-light-border/50 dark:border-dark-border/50 mt-4",children:[r.jsx("h4",{className:"text-lg font-medium mb-6 leading-relaxed",children:t.question}),r.jsx("div",{className:"space-y-4",children:t.hasVoted?r.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[r.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.options.map(y=>{var w;const p=((w=t.userVote)==null?void 0:w.selectedOptionId)===y.id,f=t.correctOptionId===y.id,j=t.totalVotes>0?Math.round(y.voteCount/t.totalVotes*100):0;let k="bg-light-bg/30 dark:bg-dark-bg/30 border-light-border dark:border-dark-border";return f?k="bg-green-500/10 border-green-500/50":p&&!f&&(k="bg-red-500/10 border-red-500/50"),r.jsxs("div",{className:K("relative p-3 rounded-xl border overflow-hidden min-h-[6rem] flex flex-col justify-center",k),children:[r.jsx(P.div,{initial:{height:0},animate:{height:`${j}%`},transition:{duration:1,ease:"easeOut",delay:.2},className:K("absolute bottom-0 left-0 w-full opacity-10",f?"bg-green-500":p?"bg-red-500":"bg-gray-400")}),r.jsxs("div",{className:"relative z-10 text-center",children:[r.jsxs("div",{className:"flex justify-center mb-1",children:[f&&r.jsx(zt,{className:"w-5 h-5 text-green-500"}),p&&!f&&r.jsx(Yr,{className:"w-5 h-5 text-red-500"})]}),r.jsx("span",{className:K("block text-sm font-medium leading-tight mb-1",f?"text-green-600 dark:text-green-400":""),children:y.text}),r.jsxs("span",{className:"font-bold text-lg",children:[j,"%"]})]})]},y.id)})}),r.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-primary-500/20 text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-50 backdrop-blur-[1px]"}),r.jsx("div",{className:"relative z-10",children:(v=t.userVote)!=null&&v.isCorrect?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(ye,{className:"w-8 h-8 text-yellow-500 fill-yellow-500 animate-bounce"})}),r.jsx("h5",{className:"font-bold text-lg text-primary-600 dark:text-primary-400",children:"Correct! +1 Ruby"}),r.jsx("p",{className:"text-xs text-light-muted",children:"Added to Silver Pool"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(gr,{className:"w-8 h-8 text-primary-400"})}),r.jsx("h5",{className:"font-bold text-lg text-light-text dark:text-dark-text",children:"Good Try! +0.3 Ruby"}),r.jsx("p",{className:"text-xs text-light-muted",children:"Participation Reward Added"})]})})]}),r.jsxs("div",{className:"text-center text-xs text-light-muted mt-2",children:["Total Votes: ",t.totalVotes]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-3",children:t.options.map(y=>r.jsxs("button",{onClick:()=>!b&&n(y.id),disabled:b,className:K("w-full p-4 rounded-xl text-left transition-all duration-200 border relative overflow-hidden group outline-none focus:ring-2 focus:ring-primary-500",a===y.id?"bg-primary-500 text-white border-primary-600 shadow-lg shadow-primary-500/25":"bg-light-bg/50 dark:bg-dark-bg/50 border-light-border dark:border-dark-border hover:border-primary-300 dark:hover:border-primary-700 hover:bg-light-bg dark:hover:bg-dark-bg"),children:[r.jsx("span",{className:"relative z-10 font-medium",children:y.text}),a===y.id&&r.jsx(P.div,{layoutId:"selected-indicator",className:"absolute inset-0 bg-primary-500 z-0",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},y.id))}),m&&r.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-500 text-xs text-center flex items-center justify-center gap-2",children:[r.jsx(gr,{className:"w-4 h-4"}),m]}),r.jsx(I,{onClick:x,disabled:!a||i||b,className:"w-full mt-4 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-700 hover:to-primary-600 shadow-xl shadow-primary-500/20",size:"lg",isLoading:i,children:b?"Poll Closed":"Submit Vote"})]})})]})})})]})]})}function JA({announcement:e,showGame:t}){const s=ie(),{user:a}=Y(),[n,i]=g.useState(!1),[o,l]=g.useState("menu"),d=D(S.polls.getActivePoll,a?{userId:a._id}:"skip"),c=D(S.wordUnderPressure.getActivePassageStatus,a?{userId:a._id}:"skip"),u=d!=null,m=(c==null?void 0:c.hasActivePassage)===!0,h=u&&!d.hasVoted,x=m&&!c.rewardClaimed,b=(h?1:0)+(x?1:0),v=u||m;return!e&&(!t||!v)?null:r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed top-20 left-4 z-40 flex flex-col gap-3 animate-in fade-in zoom-in duration-300",children:[e&&r.jsx("div",{onClick:()=>s(`/announcement/${e._id}`),className:"cursor-pointer",children:r.jsxs("div",{className:"relative group w-12 h-12",children:[r.jsx("div",{className:"absolute -inset-[3px] bg-gradient-to-tr from-yellow-500 via-orange-500 to-red-500 rounded-full opacity-90 group-hover:opacity-100 transition-opacity animate-pulse"}),r.jsx("div",{className:"absolute -inset-[1px] bg-light-bg dark:bg-dark-bg rounded-full z-0"}),r.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden z-10 border border-black/10 dark:border-white/10",children:r.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})})]})}),t&&v&&r.jsx("div",{onClick:()=>{l("menu"),i(!0)},className:"cursor-pointer",children:r.jsxs("div",{className:"relative group w-10 h-10 ml-1",children:[r.jsx("div",{className:K("absolute -inset-[2px] rounded-full opacity-90 group-hover:opacity-100 transition-all duration-500",b>0?"bg-gradient-to-tr from-emerald-500 via-indigo-500 to-purple-500 animate-pulse":"bg-light-border dark:bg-dark-border")}),r.jsx("div",{className:"absolute -inset-[1px] bg-light-bg dark:bg-dark-bg rounded-full z-0"}),r.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden z-10 border border-black/10 dark:border-white/10 bg-white dark:bg-gray-900 flex items-center justify-center",children:r.jsx(ye,{className:K("w-5 h-5",b>0?"text-indigo-500":"text-light-muted opacity-50")})}),b>0&&r.jsx("div",{className:"absolute -top-1 -right-1 z-20 bg-red-500 text-white text-[8px] font-bold px-1.5 py-0.5 rounded-full border-2 border-light-bg dark:border-dark-bg animate-bounce shadow-lg",children:b})]})})]}),r.jsx(ae,{children:n&&r.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),r.jsxs(P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-lg z-10",children:[r.jsx(ae,{mode:"wait",children:o==="menu"?r.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-light-card dark:bg-dark-card rounded-[2.5rem] p-8 border border-light-border dark:border-dark-border shadow-2xl space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-2xl font-display font-bold text-gradient",children:"Active Challenges"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Choose a quest to earn Rubies"})]}),r.jsxs("div",{className:"grid gap-4",children:[u&&r.jsxs("button",{onClick:()=>l("poll"),className:K("group flex items-center gap-4 p-5 rounded-3xl border transition-all duration-300 text-left",h?"bg-primary-500/5 border-primary-500/20 hover:bg-primary-500/10 hover:border-primary-500/40":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border opacity-60"),children:[r.jsx("div",{className:K("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",h?"bg-primary-500 text-white":"bg-light-muted/10 text-light-muted"),children:r.jsx(gy,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:"Weekly Wisdom"}),r.jsx("p",{className:"text-xs text-light-muted",children:h?"Earn up to 1 Ruby":"Poll completed"})]}),h?r.jsx(yt,{className:"w-5 h-5 text-primary-500 transform group-hover:translate-x-1 transition-transform"}):r.jsx(_t,{className:"w-5 h-5 text-green-500"})]}),m&&r.jsxs("button",{onClick:()=>s("/diamond-challenge"),className:K("group flex items-center gap-4 p-5 rounded-3xl border transition-all duration-300 text-left",x?"bg-emerald-500/5 border-emerald-500/20 hover:bg-emerald-500/10 hover:border-emerald-500/40":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border opacity-60"),children:[r.jsx("div",{className:K("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",x?"bg-emerald-500 text-white":"bg-light-muted/10 text-light-muted"),children:r.jsx(pr,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:"Diamond Challenge"}),r.jsx("p",{className:"text-xs text-light-muted",children:x?"Earn up to 11.5 Rubies":"Challenge participated"})]}),x?r.jsx(yt,{className:"w-5 h-5 text-emerald-500 transform group-hover:translate-x-1 transition-transform"}):r.jsx(_t,{className:"w-5 h-5 text-green-500"})]})]})]},"menu"):o==="poll"?r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[r.jsx(xj,{}),r.jsx(I,{variant:"ghost",className:"mt-4 text-xs mx-auto block font-bold text-light-muted",onClick:()=>l("menu"),children:"Back to Menu"})]},"poll"):null}),r.jsx("button",{onClick:()=>i(!1),className:"absolute top-3 right-3 md:-top-12 md:-right-12 w-8 h-8 md:w-10 md:h-10 rounded-full bg-black/20 md:bg-white/10 hover:bg-black/30 md:hover:bg-white/20 flex items-center justify-center text-white backdrop-blur-md transition-colors border border-white/10 z-50",children:r.jsx(Le,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]})})]})}function ZA(){const{user:e,isLoading:t}=Y(),s=ie(),a=D(S.announcements.getAnnouncements,e?{userId:e._id}:"skip"),n=g.useRef(null),i=g.useRef(null),[o,l]=g.useState(!1),[d,c]=g.useState(!1);return g.useEffect(()=>{const u=new IntersectionObserver(m=>{m.forEach(h=>{h.target===n.current&&l(!h.isIntersecting&&h.boundingClientRect.top<0),h.target===i.current&&c(!h.isIntersecting&&h.boundingClientRect.top<0)})},{threshold:0});return n.current&&u.observe(n.current),i.current&&u.observe(i.current),()=>u.disconnect()},[a]),t?r.jsx("div",{className:"min-h-screen py-4 md:py-8 bg-light-bg dark:bg-dark-bg",children:r.jsx("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:r.jsx("div",{className:"h-96 rounded-3xl bg-light-card/50 dark:bg-dark-card/50 animate-pulse"})}),r.jsxs("div",{className:"lg:col-span-8 xl:col-span-6 space-y-8",children:[r.jsx("div",{className:"h-40 rounded-3xl bg-light-card/50 dark:bg-dark-card/50 animate-pulse"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{})]})]}),r.jsx("div",{className:"hidden xl:block xl:col-span-3",children:r.jsx("div",{className:"h-96 rounded-3xl bg-light-card/50 dark:bg-dark-card/50 animate-pulse"})})]})})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 bg-light-bg/50 dark:bg-dark-bg/50",children:r.jsx("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:r.jsx(mj,{})}),r.jsx("div",{className:"lg:col-span-8 xl:col-span-6",children:r.jsxs("div",{className:"max-w-2xl mx-auto xl:max-w-none",children:[r.jsx(XA,{}),a&&a.length>0&&r.jsx("div",{ref:n,className:"xl:hidden mb-8",children:r.jsx(YA,{announcements:a})}),r.jsx("div",{ref:i,className:"mb-8",children:r.jsx(xj,{})}),r.jsx(JA,{announcement:o&&a&&a.length>0?a[0]:null,showGame:d}),r.jsx(Sd,{onCommentClick:u=>s(`/post/${u._id}`)})]})}),r.jsx("div",{className:"hidden xl:block xl:col-span-3",children:r.jsx(hj,{})})]})})}):r.jsx(Te,{to:"/login",replace:!0})}function Qe(){const e=ie();return r.jsxs("button",{onClick:()=>e(-1),className:"flex fixed top-20 left-4 z-40 p-3 rounded-full bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md border border-light-border dark:border-dark-border shadow-xl text-light-muted dark:text-dark-muted hover:text-primary-500 dark:hover:text-primary-400 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Go Back",children:[r.jsx(xr,{className:"w-6 h-6"}),r.jsx("span",{className:"sr-only",children:"Back"})]})}function e6(){const{user:e}=Y(),t=D(S.posts.getSavedPosts,e?{userId:e._id}:"skip");return e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 bg-light-bg/50 dark:bg-dark-bg/50",children:r.jsx("div",{className:"max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3",children:r.jsx(mj,{})}),r.jsx("div",{className:"lg:col-span-8 xl:col-span-6",children:r.jsxs("div",{className:"max-w-2xl mx-auto xl:max-w-none",children:[r.jsx("div",{className:"lg:hidden",children:r.jsx(Qe,{})}),r.jsx("div",{className:"flex items-center gap-3 mb-6 pt-16 md:pt-0",children:r.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:"Saved Posts"})}),r.jsx("div",{className:"space-y-6",children:t===void 0?[1,2,3].map(s=>r.jsx(_e,{},s)):t.length===0?r.jsxs("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted glass rounded-2xl border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-lg font-semibold",children:"No saved posts yet"}),r.jsx("p",{className:"text-sm mt-2",children:"Posts you save will appear here for easy access."})]}):t.map(s=>r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsx(Uh,{post:s,hasUserLiked:s.hasLiked})},s._id))})]})}),r.jsx("div",{className:"hidden xl:block xl:col-span-3",children:r.jsx(hj,{})})]})})}):null}function pj({onUploadComplete:e,allowVideo:t=!1,currentMedia:s}){const[a,n]=g.useState(!1),[i,o]=g.useState(0),[l,d]=g.useState(s),c=g.useRef(null),u=g.useRef(null),m=async(x,b)=>{if(b==="image"&&!Bh(x)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}if(b==="video"&&!kP(x)){alert("Please upload a valid video file (MP4, WebM, or OGG)");return}const v=new FileReader;v.onloadend=()=>{d({url:v.result,type:b})},v.readAsDataURL(x),n(!0),o(0);try{const p=await Nd(x,b==="image"?"posts/images":"posts/videos",o);e(p,b),d({url:p,type:b})}catch(y){console.error("Upload failed:",y),alert(`Failed to upload ${b}. Please try again.`),d(s)}finally{n(!1),o(0)}},h=()=>{d(void 0),e("","image"),c.current&&(c.current.value=""),u.current&&(u.current.value="")};return r.jsxs("div",{className:"space-y-3",children:[r.jsx(ae,{children:l&&r.jsxs(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative rounded-lg overflow-hidden bg-light-card dark:bg-dark-card",children:[l.type==="image"?r.jsx("img",{src:l.url,alt:"Preview",className:"w-full max-h-96 object-contain"}):r.jsx("video",{src:l.url,controls:!0,className:"w-full max-h-96 object-contain"}),a&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ro,{className:"w-8 h-8 text-white animate-spin mx-auto mb-2"}),r.jsxs("span",{className:"text-sm text-white font-medium",children:[i,"%"]})]})}),!a&&r.jsx("button",{onClick:h,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:r.jsx(Le,{className:"w-5 h-5 text-white"})})]})}),!l&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:x=>{var v;const b=(v=x.target.files)==null?void 0:v[0];b&&m(b,"image")},className:"hidden",disabled:a}),r.jsxs("button",{type:"button",onClick:()=>{var x;return(x=c.current)==null?void 0:x.click()},disabled:a,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[r.jsx(Cs,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Image"})]}),t&&r.jsxs(r.Fragment,{children:[r.jsx("input",{ref:u,type:"file",accept:"video/*",onChange:x=>{var v;const b=(v=x.target.files)==null?void 0:v[0];b&&m(b,"video")},className:"hidden",disabled:a}),r.jsxs("button",{type:"button",onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},disabled:a,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-secondary-500 dark:hover:border-secondary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-secondary-500",children:[r.jsx(q5,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Video"})]})]})]})]})}function Cd({onSuccess:e,defaultCategory:t,variant:s="default",postType:a}){const{user:n}=Y(),i=$(S.posts.createPost),[o,l]=g.useState(""),[d,c]=g.useState(t||"Ancient Culture"),[u,m]=g.useState("personal_experience"),[h,x]=g.useState(""),[b,v]=g.useState(""),[y,p]=g.useState(null),[f,j]=g.useState(!1),[k,w]=g.useState(""),C=(T,L)=>{v(T),p(L)},N=async T=>{if(T.preventDefault(),!n){w("You must be logged in to post");return}if(o.trim().length<10){w("Post must be at least 10 characters");return}w(""),j(!0);try{await i({authorId:n._id,content:o.trim(),category:d,imageUrl:y==="image"?b:void 0,videoUrl:y==="video"?b:void 0,postType:a||"general",questionContext:a==="question"?u:void 0,scripture:a==="prayer"?h:void 0}),l(""),v(""),p(null),e==null||e()}catch(L){w(L instanceof Error?L.message:"Failed to create post")}finally{j(!1)}};return r.jsxs(P.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:N,className:s==="bottom-sheet"?"":"glass rounded-xl p-4 md:p-6 shadow-lg",children:[s==="default"&&r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ws,{className:"w-5 h-5 text-primary-500"}),r.jsx("h3",{className:"text-xl font-semibold text-light-text dark:text-dark-text",children:a==="question"?"Ask a Question":a==="prayer"?"Share a Prayer Point":"Share Your Learning"})]}),k&&r.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:k})}),r.jsxs("div",{className:"space-y-4",children:[!t&&r.jsxs(r.Fragment,{children:[a==="question"&&r.jsxs("div",{className:"mb-1",children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Question Context"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${u==="personal_experience"?"bg-blue-500/10 border-blue-500/50":"bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border hover:border-blue-500/30"}`,children:[r.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${u==="personal_experience"?"border-blue-500":"border-gray-400"}`,children:u==="personal_experience"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})}),r.jsx("input",{type:"radio",name:"questionContext",value:"personal_experience",checked:u==="personal_experience",onChange:()=>m("personal_experience"),className:"hidden"}),r.jsx("span",{className:`text-sm font-medium ${u==="personal_experience"?"text-blue-600 dark:text-blue-400":"text-light-text dark:text-dark-text"}`,children:"Personal"})]}),r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border cursor-pointer transition-all ${u==="about_someone_else"?"bg-purple-500/10 border-purple-500/50":"bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border hover:border-purple-500/30"}`,children:[r.jsx("div",{className:`w-4 h-4 rounded-full border flex items-center justify-center ${u==="about_someone_else"?"border-purple-500":"border-gray-400"}`,children:u==="about_someone_else"&&r.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"})}),r.jsx("input",{type:"radio",name:"questionContext",value:"about_someone_else",checked:u==="about_someone_else",onChange:()=>m("about_someone_else"),className:"hidden"}),r.jsx("span",{className:`text-sm font-medium ${u==="about_someone_else"?"text-purple-600 dark:text-purple-400":"text-light-text dark:text-dark-text"}`,children:"Someone Else"})]})]})]}),a!=="question"&&a!=="prayer"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>c("Ancient Culture"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${d==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient"}),r.jsx("button",{type:"button",onClick:()=>c("Wisdom of The Now"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${d==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom"})]})]})]}),a==="prayer"&&r.jsxs("div",{className:"mb-1",children:[r.jsxs("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:["Scripture Reference ",r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted font-normal ml-1",children:"(Optional)"})]}),r.jsx("input",{type:"text",value:h,onChange:T=>x(T.target.value),placeholder:"e.g. Philippians 4:6-7",className:"w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:a==="question"?"Your Question":a==="prayer"?"Your Prayer Point":"What did you learn?"}),r.jsx("textarea",{value:o,onChange:T=>l(T.target.value),placeholder:a==="question"?"Type your question here...":a==="prayer"?"Share your prayer request...":"Share your insights, revelations, and key takeaways from today's teaching session...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0}),r.jsxs("p",{className:"mt-1 text-xs text-light-muted dark:text-dark-muted",children:[o.length," characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Add Media (Optional)"}),r.jsx(pj,{onUploadComplete:C,allowVideo:(n==null?void 0:n.role)==="admin",currentMedia:b?{url:b,type:y}:void 0}),(n==null?void 0:n.role)==="admin"&&r.jsx("p",{className:"mt-1 text-xs text-accent-500",children:" As an admin, you can upload both images and videos"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:[" Be among the first 5 to post and earn the ",r.jsx("strong",{className:"text-primary-500",children:"SENT"})," badge!"]}),r.jsx(I,{type:"submit",variant:"primary",isLoading:f,disabled:o.trim().length<10,children:"Post"})]})]})]})}function $h({isVisible:e,onToggle:t,category:s}){return r.jsx(P.button,{onClick:t,whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e?"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg":"bg-primary-500 text-white shadow-lg shadow-primary-500/20 hover:bg-primary-600"}`,children:e?r.jsxs(r.Fragment,{children:[r.jsx(to,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm",children:["Hide ",s," Posts"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ir,{className:"w-4 h-4"}),r.jsxs("span",{className:"text-sm",children:["Show ",s," Posts"]})]})})}function zh({content:e,title:t}){const[s,a]=g.useState(!1);return r.jsxs("div",{className:"relative inline-block",children:[r.jsx("button",{onClick:()=>a(!s),className:"p-1 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-all focus:outline-none","aria-label":"Information",children:r.jsx(vy,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})}),r.jsx(ae,{children:s&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),r.jsx(P.div,{initial:{opacity:0,scale:.9,x:"-50%",y:"-40%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.9,x:"-50%",y:"-40%"},className:"fixed z-50 left-1/2 top-1/2 w-[90vw] max-w-sm",children:r.jsxs("div",{className:"glass rounded-xl p-6 shadow-2xl border border-light-border dark:border-dark-border bg-white/90 dark:bg-black/90",children:[t&&r.jsx("h4",{className:"font-bold text-lg text-primary-500 mb-2 font-display",children:t}),r.jsx("p",{className:"text-sm md:text-base text-light-text dark:text-dark-text leading-relaxed",children:e}),r.jsx("button",{onClick:()=>a(!1),className:"mt-4 w-full py-2 rounded-lg bg-primary-500/10 text-primary-500 hover:bg-primary-500/20 font-medium text-sm transition-colors",children:"Got it"})]})})]})})]})}function t6(){const{user:e,isLoading:t}=Y(),s=ie(),[a,n]=g.useState(0),[i,o]=g.useState(()=>{const l=localStorage.getItem("ancientCulture_postsVisible");return l!==null?JSON.parse(l):!0});return g.useEffect(()=>{localStorage.setItem("ancientCulture_postsVisible",JSON.stringify(i))},[i]),t?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ht,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{})]})]})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-primary-500/10 via-primary-500/5 to-primary-600/10 border border-primary-500/20",children:r.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-primary-500 flex items-center justify-center shadow-lg shadow-primary-500/30 flex-shrink-0",children:r.jsx(zs,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 font-display",children:"Ancient Culture"}),r.jsx(zh,{title:"Ancient Culture",content:"This section features teachings based on prophetic wisdom and systems from the Old Testament. Admin-created posts appear here for community learning and discussion."})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:"Prophetic wisdom and systems from the Old Testament"})]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:async()=>{const l=`${window.location.origin}/ancient-culture`;navigator.share?await navigator.share({title:"Ancient Culture - Baptizo",url:l}):(await navigator.clipboard.writeText(l),alert("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/20 transition-all flex-shrink-0",title:"Share this page",children:r.jsx(Tn,{className:"w-5 h-5 text-primary-500"})})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx(Cd,{onSuccess:()=>n(l=>l+1),defaultCategory:"Ancient Culture"}),r.jsx("div",{className:"flex justify-end",children:r.jsx($h,{isVisible:i,onToggle:()=>o(!i),category:"Ancient Culture"})}),i&&r.jsx(Sd,{category:"Ancient Culture",onlyOfficial:!0,onCommentClick:l=>s(`/post/${l._id}`)},a),!i&&r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Ancient Culture Posts" to view them.'})})]})]})}):r.jsx(Te,{to:"/login",replace:!0})}function r6(){const{user:e,isLoading:t}=Y(),s=ie(),[a,n]=g.useState(0),[i,o]=g.useState(()=>{const l=localStorage.getItem("wisdomNow_postsVisible");return l!==null?JSON.parse(l):!0});return g.useEffect(()=>{localStorage.setItem("wisdomNow_postsVisible",JSON.stringify(i))},[i]),t?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ht,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{})]})]})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-secondary-500/10 via-secondary-500/5 to-secondary-600/10 border border-secondary-500/20",children:r.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-secondary-500 flex items-center justify-center shadow-lg shadow-secondary-500/30 flex-shrink-0",children:r.jsx(Ws,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-secondary-600 dark:text-secondary-400 font-display",children:"Wisdom of The Now"}),r.jsx(zh,{title:"Wisdom of The Now",content:"This section features teachings based on spiritual identity and insights from the New Testament. Engage with admin posts to deepen your understanding."})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:"Spiritual identity and insights from the New Testament"})]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:async()=>{const l=`${window.location.origin}/wisdom-now`;navigator.share?await navigator.share({title:"Wisdom of The Now - Baptizo",url:l}):(await navigator.clipboard.writeText(l),alert("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-900/20 transition-all flex-shrink-0",title:"Share this page",children:r.jsx(Tn,{className:"w-5 h-5 text-secondary-500"})})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsx(Cd,{onSuccess:()=>n(l=>l+1),defaultCategory:"Wisdom of The Now"}),r.jsx("div",{className:"flex justify-end",children:r.jsx($h,{isVisible:i,onToggle:()=>o(!i),category:"Wisdom of The Now"})}),i&&r.jsx(Sd,{category:"Wisdom of The Now",onlyOfficial:!0,onCommentClick:l=>s(`/post/${l._id}`)},a),!i&&r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Wisdom of The Now Posts" to view them.'})})]})]})}):r.jsx(Te,{to:"/login",replace:!0})}function s6({currentAvatarUrl:e,onUploadComplete:t,size:s="lg"}){const[a,n]=g.useState(!1),[i,o]=g.useState(0),[l,d]=g.useState(e),[c,u]=g.useState(!1),m=g.useRef(null),h={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},x=async v=>{var f;const y=(f=v.target.files)==null?void 0:f[0];if(!y)return;if(!Bh(y)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}const p=new FileReader;p.onloadend=()=>{d(p.result)},p.readAsDataURL(y),n(!0),o(0),u(!1);try{const j=await Nd(y,"avatars",o);t(j),d(j),u(!0),setTimeout(()=>u(!1),3e3)}catch(j){console.error("Upload failed:",j),alert("Failed to upload avatar. Please try again."),d(e)}finally{n(!1),o(0)}},b=()=>{d(void 0),t(""),m.current&&(m.current.value="")};return r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${h[s]} rounded-full overflow-hidden border-4 border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card flex items-center justify-center`,children:l?r.jsx("img",{src:nj(l,200,200),alt:"Avatar",className:"w-full h-full object-cover"}):r.jsx(Vu,{className:"w-8 h-8 text-light-muted dark:text-dark-muted"})}),a&&r.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ro,{className:"w-6 h-6 text-white animate-spin mx-auto mb-1"}),r.jsxs("span",{className:"text-xs text-white font-medium",children:[i,"%"]})]})}),l&&!a&&r.jsx("button",{onClick:b,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:r.jsx(Le,{className:"w-4 h-4 text-white"})})]}),r.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:x,className:"hidden",disabled:a}),r.jsxs(I,{onClick:()=>{var v;return(v=m.current)==null?void 0:v.click()},variant:"outline",size:"sm",disabled:a,children:[r.jsx(Vu,{className:"w-4 h-4 mr-2"}),l?"Change Avatar":"Upload Avatar"]}),r.jsx(ae,{children:c&&r.jsxs(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:[r.jsx(mt,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),r.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Avatar saved successfully!"})]})})]})}const a6=e=>{if(!e)return"";if(e.length<=4)return e;const t=e.slice(-4);return"*".repeat(e.length-4)+t},n6=e=>{const t=e.replace(/[\s-]/g,"");return/^\d{10}$/.test(t)},i6=e=>e.trim().length>=2&&e.trim().length<=100,o6=e=>e.trim().length>=2&&e.trim().length<=100,l6=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Fidelity Bank","Union Bank","Sterling Bank","Polaris Bank","Wema Bank","Ecobank","Stanbic IBTC","Keystone Bank","FCMB","Unity Bank","Jaiz Bank","Providus Bank","Kuda Bank","OPay","PalmPay","Moniepoint","Other"];function d6({userId:e,isAdminView:t=!1}){const{user:s}=Y(),a=e||(s==null?void 0:s._id),n=D(S.bankingCredentials.getBankingCredentials,a&&(s!=null&&s._id)?{userId:a,viewerId:s._id}:"skip"),i=$(S.bankingCredentials.updateBankingCredentials),[o,l]=g.useState(!1),[d,c]=g.useState(!1),[u,m]=g.useState({bankName:"",accountNumber:"",accountName:""}),[h,x]=g.useState({}),[b,v]=g.useState(!1);g.useEffect(()=>{n&&m({bankName:n.bankName||"",accountNumber:n.accountNumber||"",accountName:n.accountName||""})},[n]);const y=async j=>{j.preventDefault();const k={};if(i6(u.bankName)||(k.bankName="Please enter a valid bank name"),n6(u.accountNumber)||(k.accountNumber="Account number must be 10 digits"),o6(u.accountName)||(k.accountName="Please enter a valid account name"),x(k),!(Object.keys(k).length>0)&&a){v(!0);try{await i({userId:a,bankName:u.bankName.trim(),accountNumber:u.accountNumber.replace(/[\s-]/g,""),accountName:u.accountName.trim()}),l(!1),c(!1)}catch(w){console.error("Failed to update banking credentials:",w),x({submit:"Failed to save banking credentials. Please try again."})}finally{v(!1)}}},p=(n==null?void 0:n.bankName)&&(n==null?void 0:n.accountNumber)&&(n==null?void 0:n.accountName),f=!t&&(s==null?void 0:s._id)===a;return r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center gap-2",children:[r.jsx(br,{className:"w-5 h-5 text-accent-500"}),"Banking Information"]})}),r.jsxs(R,{children:[!t&&r.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-light-bg dark:bg-dark-bg flex items-start gap-2",children:[r.jsx(rr,{className:"w-4 h-4 text-light-muted dark:text-dark-muted mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Your banking information is secure and only visible to you and administrators. This is required to receive rewards for participating in teaching sessions."})]}),o?r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Bank Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:u.bankName,onChange:j=>m({...u,bankName:j.target.value}),className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select your bank"}),l6.map(j=>r.jsx("option",{value:j,children:j},j))]}),h.bankName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.bankName})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:u.accountNumber,onChange:j=>m({...u,accountNumber:j.target.value}),placeholder:"0123456789",maxLength:10,className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono"}),h.accountNumber&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.accountNumber})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:u.accountName,onChange:j=>m({...u,accountName:j.target.value}),placeholder:"John Doe",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500"}),h.accountName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.accountName})]}),h.submit&&r.jsx("p",{className:"text-red-500 text-sm",children:h.submit}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(I,{type:"submit",variant:"primary",className:"flex-1",disabled:b,children:b?"Saving...":"Save"}),r.jsx(I,{type:"button",onClick:()=>{l(!1),x({}),n&&m({bankName:n.bankName||"",accountNumber:n.accountNumber||"",accountName:n.accountName||""})},variant:"secondary",className:"flex-1",disabled:b,children:"Cancel"})]})]}):r.jsx("div",{className:"space-y-4",children:p?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Bank Name"}),r.jsx("p",{className:"text-light-text dark:text-dark-text",children:n.bankName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Number"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-light-text dark:text-dark-text font-mono",children:d?n.accountNumber:a6(n.accountNumber||"")}),r.jsx("button",{onClick:()=>c(!d),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:d?r.jsx(to,{className:"w-4 h-4"}):r.jsx(Ir,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Name"}),r.jsx("p",{className:"text-light-text dark:text-dark-text",children:n.accountName})]}),f&&r.jsx(I,{onClick:()=>l(!0),variant:"secondary",className:"w-full",children:"Update Banking Information"})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:t?"This user has not added banking information yet.":"Add your banking information to receive rewards."}),f&&r.jsx(I,{onClick:()=>l(!0),variant:"primary",children:"Add Banking Information"})]})})]})]})}function c6({currentCoverUrl:e,onUploadComplete:t}){const[s,a]=g.useState(!1),[n,i]=g.useState(e),o=g.useRef(null),l=async d=>{var m;const c=(m=d.target.files)==null?void 0:m[0];if(!c)return;if(!Bh(c)){alert("Please upload a valid image file");return}const u=new FileReader;u.onloadend=()=>i(u.result),u.readAsDataURL(c),a(!0);try{const h=await Nd(c,"covers");t(h),i(h)}catch(h){console.error("Upload failed:",h),i(e),alert("Failed to upload cover image")}finally{a(!1)}};return r.jsxs("div",{className:"relative w-full h-full group",children:[n?r.jsx("img",{src:n,alt:"Cover",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500/20 to-secondary-500/20"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"}),s&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm z-20",children:r.jsx(ro,{className:"w-8 h-8 text-white animate-spin"})}),r.jsx("button",{onClick:()=>{var d;return(d=o.current)==null?void 0:d.click()},className:"absolute bottom-4 right-4 p-2.5 rounded-full bg-black/40 hover:bg-black/60 text-white backdrop-blur-md opacity-100 md:opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110 z-20 border border-white/20",title:"Change Cover Photo",children:r.jsx(w5,{className:"w-5 h-5"})}),r.jsx("input",{type:"file",ref:o,className:"hidden",accept:"image/*",onChange:l})]})}function u6(){const{user:e,isLoading:t,updateUser:s}=Y(),a=$(S.presence.updateAvatar),n=$(S.users.updateProfile),i=e?D(S.users.getUserStats,{userId:e._id}):void 0,o=async d=>{if(e)try{await a({userId:e._id,avatarUrl:d}),s({avatarUrl:d})}catch(c){console.error("Failed to update avatar:",c)}},l=async d=>{if(e)try{await n({userId:e._id,coverImageUrl:d})}catch(c){console.error("Failed to update cover image:",c)}};return t?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ht,{}),r.jsx("div",{className:"glass rounded-xl h-64 animate-pulse mb-6"})," ",r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Pt,{}),r.jsx(Pt,{}),r.jsx(Pt,{})]})]})}):e?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs("div",{className:"mb-4 md:mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Profile"}),r.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View your account details and community stats"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl overflow-hidden",children:[r.jsx("div",{className:"h-32 md:h-48 relative bg-gray-100 dark:bg-gray-800",children:r.jsx(c6,{currentCoverUrl:e.coverImageUrl,onUploadComplete:l})}),r.jsxs("div",{className:"px-4 pb-4 md:px-8 md:pb-8 relative",children:[r.jsx("div",{className:"relative -mt-10 md:-mt-16 mb-3 md:mb-4 flex flex-col items-center md:items-start whitespace-nowrap",children:r.jsx(s6,{currentAvatarUrl:e.avatarUrl,onUploadComplete:o,size:"xl"})}),r.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 text-center md:text-left",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 mb-1",children:[r.jsx("h1",{className:"text-xl md:text-3xl font-bold text-light-text dark:text-dark-text truncate",children:e.name}),r.jsx(q,{variant:e.role==="super_admin"?"secondary":e.role==="admin"?"primary":"default",className:"h-5 text-[10px]",children:e.role==="super_admin"?"Super Admin":e.role==="admin"?"Admin":"Member"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start gap-1 md:gap-4 text-sm text-light-muted dark:text-dark-muted mb-4",children:[r.jsx("span",{children:e.email}),r.jsx("span",{className:"hidden md:inline",children:""}),r.jsx("span",{children:KT(e.phone)})]}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-6 mb-4 md:mb-0",children:[r.jsxs(ee,{to:"/profile/followers",className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:(i==null?void 0:i.followerCount)||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Followers"})]}),r.jsxs(ee,{to:"/profile/following",className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:(i==null?void 0:i.followingCount)||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Following"})]})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(M,{glass:!0,className:"p-6 text-center",children:[r.jsx(qt,{className:"w-8 h-8 mx-auto mb-2 text-primary-500"}),r.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalPosts)||0}),r.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Posts"})]}),r.jsxs(M,{glass:!0,className:"p-6 text-center",children:[r.jsx(ye,{className:"w-8 h-8 mx-auto mb-2 text-accent-500"}),r.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalRewards)||0}),r.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Awards Won"})]}),r.jsxs(M,{glass:!0,className:"p-6 text-center",children:[r.jsx("div",{className:"w-8 h-8 mx-auto mb-2 flex items-center justify-center text-xl",children:""}),r.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalEarned)||0}),r.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Rubies Earned"})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(d6,{})})]})}):r.jsx(Te,{to:"/login",replace:!0})}function Lo(){const{userId:e}=Ta(),{user:t}=Y(),s=xt(),a=ie(),n=s.pathname.includes("following")?"following":"followers",i=e||(t==null?void 0:t._id),o=D(S.follows.getFollowList,i?{userId:i,type:n,currentUserId:t==null?void 0:t._id}:"skip"),l=$(S.follows.toggleFollow),d=async c=>{t&&await l({followerId:t._id,followingId:c})};return i?r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[r.jsx(Qe,{}),r.jsx("h1",{className:"text-2xl font-bold mb-6 capitalize text-light-text dark:text-dark-text",children:n}),r.jsx("div",{className:"space-y-4",children:o===void 0?[1,2,3].map(c=>r.jsx("div",{className:"h-16 glass rounded-xl animate-pulse"},c)):o.length===0?r.jsxs("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:["No ",n," found."]}):o.map(c=>r.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-xl hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>a(`/profile/${c._id}`),children:[r.jsx(lt,{src:c.avatarUrl,alt:c.name,className:"w-10 h-10 border border-light-border dark:border-dark-border"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-light-text dark:text-dark-text",children:c.name}),r.jsxs("div",{className:"text-xs text-light-muted dark:text-dark-muted",children:["@",c.username||"user"]})]})]}),(t==null?void 0:t._id)!==c._id&&r.jsx(I,{size:"sm",variant:c.isFollowing?"outline":"primary",onClick:()=>d(c._id),className:c.isFollowing?"hover:bg-red-500 hover:text-white hover:border-red-500":"",children:c.isFollowing?"Following":"Follow"})]},c._id))})]})}):null}function m6(){const{user:e,isLoading:t}=Y(),s=D(S.stats.getDashboardStats,e?{adminId:e._id}:"skip"),a=D(S.comments.getCommentSettings,{}),n=$(S.comments.toggleComments),i=D(S.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),o=(i==null?void 0:i.length)||0,l=D(S.contacts.getContacts,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),d=(l==null?void 0:l.filter(p=>!p.read).length)||0,[c,u]=g.useState(!1);if(t)return r.jsxs("div",{className:"space-y-8",children:[r.jsx(Ht,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx(Pt,{}),r.jsx(Pt,{}),r.jsx(Pt,{})]})]});if(!e||e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Te,{to:"/feed",replace:!0});const m=(s==null?void 0:s.totalMembers)||0,h=(s==null?void 0:s.admins)||0,x=(s==null?void 0:s.boardMembers)||0,b=m>0?m-h-x:0,v=(s==null?void 0:s.totalComments)||0,y=(s==null?void 0:s.totalLikes)||0;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gradient font-display mb-1",children:"System Overview"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage teaching sessions and view community statistics"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"grid gap-4",children:r.jsx(M,{glass:!0,className:"bg-gradient-to-br from-primary-500/10 to-transparent border-primary-500/20 h-full",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Total Community"}),r.jsx(Ie,{className:"w-8 h-8 text-primary-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Members"}),r.jsx("span",{className:"font-bold",children:b})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Admins"}),r.jsx("span",{className:"font-bold",children:h})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Board"}),r.jsx("span",{className:"font-bold",children:x})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border",children:[r.jsx("h4",{className:"text-[10px] font-bold text-light-muted dark:text-dark-muted mb-2 uppercase tracking-wider",children:"Engagement"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5",title:"Total Comments",children:[r.jsx(Vt,{className:"w-3.5 h-3.5 text-blue-500"}),r.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text",children:v})]}),r.jsxs("div",{className:"flex items-center gap-1.5",title:"Total Reactions",children:[r.jsx(qs,{className:"w-3.5 h-3.5 text-red-500 fill-red-500/20"}),r.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text",children:y})]})]})]})]})})}),r.jsxs("div",{className:"grid gap-4",children:[r.jsx(ee,{to:"/board",children:r.jsx(M,{glass:!0,className:"hover:shadow-lg transition-all h-full group",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg group-hover:text-primary-500 transition-colors",children:"Board Dashboard"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage Tasks & Training"})]}),r.jsx(ye,{className:"w-8 h-8 text-yellow-500 opacity-80"})]}),r.jsx("div",{className:"mt-4 flex items-center gap-2",children:r.jsxs(q,{variant:"secondary",children:[x," Active Members"]})})]})})}),r.jsx(ee,{to:"/admin/contacts",children:r.jsx(M,{glass:!0,className:"hover:shadow-lg transition-all h-full group",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg group-hover:text-blue-500 transition-colors",children:"Messages"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Contact submissions"})]}),r.jsx(Vt,{className:"w-8 h-8 text-blue-500 opacity-80"})]}),d>0?r.jsxs(q,{variant:"danger",className:"mt-2 animate-pulse",children:[d," Unread"]}):r.jsx("p",{className:"text-xs text-light-muted mt-2",children:"No new messages"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-4",children:[r.jsx(M,{glass:!0,className:"cursor-pointer hover:border-primary-500 transition-colors group",onClick:()=>{const p=`${window.location.origin}/member-onboarding`;navigator.clipboard.writeText(p),u(!0)},children:r.jsxs(R,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center shrink-0 group-hover:bg-primary-500/20 transition-colors",children:r.jsx(Al,{className:"w-5 h-5 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold",children:"Onboarding Link"}),r.jsx("p",{className:"text-[10px] text-light-muted",children:"Copy to clipboard"})]})]})}),r.jsx(ee,{to:"/admin/roles",children:r.jsx(M,{glass:!0,className:"hover:border-primary-500 transition-colors group h-full",children:r.jsxs(R,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center shrink-0 group-hover:bg-orange-500/20 transition-colors",children:r.jsx(qe,{className:"w-5 h-5 text-orange-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-bold",children:"Role Management"}),r.jsx("p",{className:"text-[10px] text-light-muted",children:"Assign privileges"})]}),r.jsx(yt,{className:"w-4 h-4 text-light-muted group-hover:translate-x-1 transition-transform"})]})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Vt,{className:"w-5 h-5 text-primary-500"}),"System Controls"]})}),r.jsx(R,{children:r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-light-text dark:text-dark-text text-sm",children:"Community Comments"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5",children:a?"Public participation is enabled":"Comments are temporarily disabled"})]}),r.jsx("button",{onClick:async()=>{if(e)try{await n({adminId:e._id,enabled:!a})}catch(p){console.error("Failed to toggle comments:",p)}},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-primary-500":"bg-gray-300 dark:bg-gray-700"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ee,{to:"/admin/tasks",children:r.jsx(M,{glass:!0,className:"hover:shadow-lg transition-all group h-full",children:r.jsxs(R,{className:"p-6",children:[r.jsx(Al,{className:"w-8 h-8 text-purple-500 mb-4 opacity-80"}),r.jsx("h3",{className:"font-bold",children:"Task Reviews"}),r.jsx("p",{className:"text-xs text-light-muted mb-4",children:"Check student submissions"}),r.jsxs(q,{variant:"outline",className:"bg-purple-500/5 text-purple-500 border-purple-500/20",children:[o," Waiting"]})]})})}),r.jsx(ee,{to:"/admin/banking",children:r.jsx(M,{glass:!0,className:"hover:shadow-lg transition-all group h-full",children:r.jsxs(R,{className:"p-6",children:[r.jsx(ye,{className:"w-8 h-8 text-emerald-500 mb-4 opacity-80"}),r.jsx("h3",{className:"font-bold",children:"Banking System"}),r.jsx("p",{className:"text-xs text-light-muted mb-4",children:"Manage wallets & rewards"}),r.jsxs("div",{className:"flex items-center text-xs font-bold text-emerald-500 gap-1 group-hover:gap-2 transition-all",children:["Enter Hub ",r.jsx(yt,{className:"w-3 h-3"})]})]})})})]})]})]}),r.jsx(ht,{isOpen:c,onClose:()=>u(!1),title:"Link Copied!",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(mt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6",children:"Onboarding link has been copied to clipboard. Share this with new members."}),r.jsx(I,{variant:"primary",className:"w-full",onClick:()=>u(!1),children:"Close"})]})})]})}function h6(){const{user:e}=Y(),t=ie(),s=D(S.notifications.getNotifications,e?{userId:e._id}:"skip"),a=$(S.notifications.markAllAsRead),n=$(S.notifications.markAsRead),i=$(S.notifications.deleteNotification),[o,l]=g.useState(null),d=async()=>{if(e)try{await a({userId:e._id})}catch(b){console.error("Failed to mark all as read:",b)}},c=async b=>{e&&(b.read||await n({notificationId:b._id,userId:e._id}),b.postId?b.type==="reward"?t(`/post/${b.postId}/responses`):t(`/post/${b.postId}`):b.type==="assignment"?t("/tasks"):b.type==="follower"?t(`/profile/${b.senderId}`):b.type==="chat"&&t("/chat"))},u=(b,v)=>{b.stopPropagation(),l(v)},m=async()=>{if(!(!o||!e))try{await i({notificationId:o,userId:e._id})}catch(b){console.error("Failed to delete notification:",b)}finally{l(null)}},h=b=>{switch(b){case"like":return r.jsx(qs,{className:"w-5 h-5 text-red-500 fill-red-500"});case"comment":return r.jsx(vt,{className:"w-5 h-5 text-blue-500 fill-blue-500"});case"reply":return r.jsx(vt,{className:"w-5 h-5 text-indigo-500 fill-indigo-500"});case"new_post":return r.jsx(qt,{className:"w-5 h-5 text-green-500 fill-green-500"});case"reward":return r.jsx(ps,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"});case"assignment":return r.jsx(Al,{className:"w-5 h-5 text-purple-500 fill-purple-500"});case"follower":return r.jsx(ot,{className:"w-5 h-5 text-pink-500 fill-pink-500"});case"system_alert":return r.jsx(gr,{className:"w-5 h-5 text-amber-500"});case"meeting":return r.jsx(ut,{className:"w-5 h-5 text-indigo-500"});case"question":return r.jsx(vt,{className:"w-5 h-5 text-cyan-500"});case"chat":return r.jsx(vt,{className:"w-5 h-5 text-blue-500"});default:return r.jsx(ui,{className:"w-5 h-5 text-primary-500"})}},x=b=>{var y;if(b.message)return r.jsx("span",{children:b.message});const v=((y=b.sender)==null?void 0:y.name)||"Someone";switch(b.type){case"like":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:v})," liked your post"]});case"comment":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:v})," commented on your post"]});case"new_post":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:v})," shared a new post"]});case"reply":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:v})," replied to your comment"]});case"reward":return r.jsxs("span",{children:["Congratulations! You were ",r.jsx("span",{className:"font-semibold text-yellow-500",children:"awarded"})," for your response"]});case"assignment":return r.jsxs("span",{children:["You have a new ",r.jsx("span",{className:"font-semibold text-purple-500",children:"assignment"})," from an admin"]});case"follower":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:v})," started following you"]});case"meeting":return r.jsxs("span",{children:["New update regarding a ",r.jsx("span",{className:"font-semibold text-indigo-500",children:"meeting"})]});case"question":return r.jsxs("span",{children:[r.jsx("span",{className:"font-semibold text-primary-500",children:v})," asked a question on your post"]});default:return r.jsxs("span",{children:["New notification from ",r.jsx("span",{className:"font-semibold text-primary-500",children:v})]})}};return e?r.jsxs("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:[r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[r.jsx(Qe,{}),r.jsxs(M,{glass:!0,className:"mt-4",children:[r.jsxs(xe,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 border-b border-light-border dark:border-dark-border py-4 px-4 sm:px-6",children:[r.jsxs(pe,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[r.jsx(ui,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-500"}),"Center of Alerts"]}),s&&s.some(b=>!b.read)&&r.jsxs("button",{onClick:d,className:"text-xs sm:text-sm text-primary-500 hover:text-primary-600 font-bold flex items-center justify-center gap-1.5 px-4 py-2 sm:px-3 sm:py-1 rounded-full bg-primary-500/10 dark:hover:bg-primary-950/20 transition-all w-full sm:w-auto border border-primary-500/20",children:[r.jsx(mt,{className:"w-4 h-4"}),"Mark all as read"]})]}),r.jsx(R,{className:"p-0",children:s?s.length===0?r.jsxs("div",{className:"text-center py-20 text-light-muted dark:text-dark-muted",children:[r.jsx("div",{className:"w-20 h-20 bg-light-card dark:bg-dark-card rounded-full flex items-center justify-center mx-auto mb-4 border border-light-border dark:border-dark-border",children:r.jsx(ui,{className:"w-10 h-10 opacity-20"})}),r.jsx("h3",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:"All Caught Up!"}),r.jsx("p",{className:"text-sm",children:"No new notifications at the moment."})]}):r.jsx("div",{className:"divide-y divide-light-border dark:divide-dark-border",children:s.map(b=>{var v,y;return r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>c(b),className:`
                                            flex items-start gap-4 p-4 cursor-pointer transition-all group relative
                                            ${b.read?"bg-transparent":"bg-primary-50/30 dark:bg-primary-900/5"}
                                            hover:bg-light-card dark:hover:bg-dark-card
                                        `,children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("button",{onClick:p=>{p.stopPropagation(),t(`/profile/${b.senderId}`)},children:r.jsx(lt,{src:(v=b.sender)==null?void 0:v.avatarUrl,alt:((y=b.sender)==null?void 0:y.name)||"User",size:"md",className:"ring-2 ring-transparent group-hover:ring-primary-500/20"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-dark-bg rounded-full p-1 shadow-md border border-light-border dark:border-dark-border",children:h(b.type)})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm leading-relaxed",children:x(b)}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wider",children:Rt(b.createdAt,{addSuffix:!0})}),!b.read&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]})]}),r.jsx("div",{className:"flex flex-col gap-2",children:r.jsx("button",{onClick:p=>u(p,b._id),className:"p-2 text-light-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete notification",children:r.jsx(Es,{className:"w-4 h-4"})})})]},b._id)})}):r.jsx("div",{className:"p-6",children:r.jsx(ja,{count:4})})})]})]}),r.jsx(va,{isOpen:!!o,onClose:()=>l(null),onConfirm:m,title:"Delete Notification",description:"Are you sure you want to delete this notification? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]}):null}function fj(){return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsxs(P.div,{className:"w-24 h-24 mb-8 relative",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-500/20 animate-ping"}),r.jsx("div",{className:"absolute inset-2 rounded-full bg-primary-500/40 animate-pulse"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"w-16 h-16 rounded-2xl shadow-2xl z-10"})})]}),r.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col items-center gap-2",children:[r.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent",children:"Baptizo Community"}),r.jsx("div",{className:"flex gap-1",children:[0,1,2].map(e=>r.jsx(P.div,{className:"w-2 h-2 rounded-full bg-primary-500",animate:{y:[0,-6,0],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:e*.2}},e))})]})]})})}function x6(){const{user:e}=Y(),[t,s]=g.useState(""),[a,n]=g.useState(null),i=D(S.assignments.getUserAssignments,e?{userId:e._id}:"skip"),o=$(S.assignments.submitAssignment);if(!e)return null;if(i===void 0)return r.jsx(fj,{});const l=i.filter(u=>u.status==="pending"),d=i.filter(u=>u.status!=="pending"),c=async u=>{if(t.trim())try{await o({assignmentId:u,userId:e._id,content:t}),n(null),s("")}catch(m){console.error("Failed to submit:",m),alert("Failed to submit assignment")}};return r.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[r.jsx(Qe,{}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"My Tasks"}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[r.jsx(ze,{className:"w-5 h-5 text-amber-500"}),"Pending (",l.length,")"]}),l.length===0?r.jsx("p",{className:"text-light-muted dark:text-dark-muted italic",children:"No pending tasks."}):r.jsx("div",{className:"space-y-4",children:l.map(u=>{var m;return r.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-amber-500/20",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Instruction from ",u.adminName]}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(m=u.postContent)==null?void 0:m.substring(0,50),'..."']})]}),r.jsx(q,{variant:"warning",children:"Pending"})]}),r.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg mb-4 text-light-text dark:text-dark-text",children:u.instructions}),a===u._id?r.jsxs("div",{className:"space-y-3",children:[r.jsx("textarea",{value:t,onChange:h=>s(h.target.value),placeholder:"Type your response here...",className:"w-full min-h-[150px] p-4 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500"}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(I,{variant:"ghost",onClick:()=>n(null),children:"Cancel"}),r.jsx(I,{variant:"primary",onClick:()=>c(u._id),disabled:!t.trim(),children:"Submit Response"})]})]}):r.jsx(I,{variant:"primary",onClick:()=>n(u._id),children:"Start Task"})]},u._id)})})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[r.jsx(qt,{className:"w-5 h-5 text-primary-500"}),"History"]}),r.jsx("div",{className:"space-y-4",children:d.map(u=>{var m;return r.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm opacity-80 hover:opacity-100 transition-opacity",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Task from ",u.adminName]}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(m=u.postContent)==null?void 0:m.substring(0,30),'..."']})]}),r.jsx(q,{variant:u.status==="approved"?"success":u.status==="rejected"?"danger":"default",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),r.jsxs("div",{className:"mb-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Instructions:"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted bg-light-bg dark:bg-dark-bg p-2 rounded",children:u.instructions})]}),r.jsxs("div",{className:"mb-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Your Submission:"}),r.jsx("p",{className:"text-sm text-light-text dark:text-dark-text bg-light-bg dark:bg-dark-bg p-3 rounded",children:u.submissionContent})]}),(u.grade||u.feedback)&&r.jsxs("div",{className:`p-4 rounded-lg ${u.status==="approved"?"bg-green-500/10 border border-green-500/20":u.status==="rejected"?"bg-red-500/10 border border-red-500/20":"bg-primary-500/10 border border-primary-500/20"}`,children:[u.grade&&r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(zt,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-bold",children:["Grade: ",u.grade]})]}),u.feedback&&r.jsxs("p",{className:"text-sm italic",children:['"',u.feedback,'"']})]})]},u._id)})})]})]})}function p6(){const{user:e}=Y(),t=$(S.users.claimSuperAdmin),[s,a]=g.useState("idle"),[n,i]=g.useState(""),o=async()=>{if(e){a("loading");try{await t({userId:e._id}),a("success"),setTimeout(()=>{window.location.href="/admin"},2e3)}catch(l){a("error"),i(l.message||"Failed to claim super admin.")}}};return e?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsx(M,{className:"max-w-md w-full bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border",children:r.jsxs(R,{className:"p-8 text-center space-y-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_zcvetszcvetszcve%20(1).png",alt:"Baptizo",className:"h-20 w-auto rounded-3xl shadow-2xl"})}),r.jsx("div",{className:"mx-auto w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:r.jsx(qe,{className:"w-6 h-6 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-2",children:"Super Admin Setup"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Initialize the system by claiming the first Super Admin role. This is a one-time setup step."})]}),s==="idle"&&r.jsx(I,{variant:"primary",size:"lg",className:"w-full",onClick:o,children:"Claim Super Admin Role"}),s==="loading"&&r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}),s==="success"&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[r.jsx(zt,{className:"w-6 h-6"}),r.jsx("p",{className:"font-medium",children:"Success! Redirecting..."})]}),s==="error"&&r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[r.jsx(_s,{className:"w-6 h-6"}),r.jsx("p",{className:"font-medium",children:n}),r.jsx(I,{variant:"outline",size:"sm",onClick:()=>a("idle"),className:"mt-2",children:"Try Again"})]})]})})}):r.jsx("div",{className:"p-8 text-center",children:"Please login first."})}function Ar({label:e,options:t,value:s,onChange:a,placeholder:n="Select an option",className:i,error:o}){const[l,d]=g.useState(!1),c=g.useRef(null),u=t.find(h=>h.value===s);g.useEffect(()=>{function h(x){c.current&&!c.current.contains(x.target)&&d(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const m=h=>{a(h),d(!1)};return r.jsxs("div",{className:K("w-full relative",i),ref:c,children:[e&&r.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),r.jsxs("button",{type:"button",onClick:()=>d(!l),className:K("w-full flex items-center justify-between px-4 py-3 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text",l?"border-primary-500 ring-2 ring-primary-500/20":"border-light-border dark:border-dark-border hover:border-primary-500",o&&"border-red-500"),children:[r.jsxs("span",{className:K("flex items-center gap-2",!u&&"text-light-muted dark:text-dark-muted"),children:[u==null?void 0:u.icon,(u==null?void 0:u.label)||n]}),r.jsx(ts,{className:K("w-4 h-4 transition-transform",l&&"rotate-180")})]}),r.jsx(ae,{children:l&&r.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-xl overflow-hidden max-h-60 overflow-y-auto thin-scrollbar",children:t.map(h=>h.disabled?r.jsx("div",{className:"px-4 py-2 text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wide pointer-events-none",children:h.label},h.value):r.jsxs("button",{onClick:()=>m(h.value),className:K("w-full flex items-center justify-between px-4 py-3 text-sm transition-colors","hover:bg-primary-50 dark:hover:bg-primary-900/10",s===h.value?"text-primary-600 dark:text-primary-400 font-medium bg-primary-50/50 dark:bg-primary-900/5":"text-light-text dark:text-dark-text"),children:[r.jsxs("span",{className:"flex items-center gap-2",children:[h.icon,h.label]}),s===h.value&&r.jsx(mt,{className:"w-4 h-4"})]},h.value))})}),o&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:o})]})}function f6(){const{user:e}=Y(),[t,s]=g.useState("overview"),[a,n]=g.useState(""),[i,o]=g.useState("all"),l=D(S.wallets.getAllWallets),d=D(S.wallets.getAllWithdrawals),c=D(S.masterPool.getMasterPool);return l===void 0||d===void 0||c===void 0?r.jsx(Vh,{}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Banking System Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage user wallets, withdrawals, and reward distribution"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Ie,{className:"w-5 h-5 text-primary-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(l==null?void 0:l.length)||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Active Wallets"})]})}),r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ze,{className:"w-5 h-5 text-yellow-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(d==null?void 0:d.filter(u=>u.status==="pending").length)||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending Withdrawals"})]})}),r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Rs,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(l==null?void 0:l.reduce((u,m)=>u+(m.totalRubies||0),0).toFixed(0))||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Rubies Distributed"})]})}),r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(br,{className:"w-5 h-5 text-amber-500"}),r.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(l==null?void 0:l.reduce((u,m)=>u+(m.totalTalents||0),0).toFixed(2))||0})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Talents"})]})})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"overview",label:"Overview",icon:so},{key:"withdrawals",label:"Withdrawals",icon:br},{key:"wallets",label:"User Wallets",icon:Ie},{key:"rewards",label:"Reward Activity",icon:ye}].map(u=>{const m=u.icon,h=t===u.key;return r.jsxs("button",{onClick:()=>s(u.key),className:K("flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all whitespace-nowrap",h?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text hover:bg-primary-500/10"),children:[r.jsx(m,{className:"w-5 h-5"}),u.label]},u.key)})}),r.jsxs("div",{children:[t==="overview"&&r.jsx(g6,{wallets:l,withdrawals:d,masterPool:c}),t==="withdrawals"&&r.jsx(b6,{withdrawals:d,statusFilter:i,setStatusFilter:o,user:e}),t==="wallets"&&r.jsx(y6,{wallets:l,searchTerm:a,setSearchTerm:n}),t==="rewards"&&r.jsx(v6,{})]})]})}function g6({wallets:e,withdrawals:t,masterPool:s}){if(!e||!t||!s)return r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"Loading..."});const a=[{name:"Diamond",icon:"",value:s.diamondDistributed,color:"text-blue-500",bg:"bg-blue-500/10"},{name:"Gold",icon:"",value:s.goldDistributed,color:"text-yellow-500",bg:"bg-yellow-500/10"},{name:"Silver",icon:"",value:s.silverDistributed,color:"text-gray-500",bg:"bg-gray-500/10"},{name:"Bronze",icon:"",value:s.bronzeDistributed,color:"text-orange-500",bg:"bg-orange-500/10"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs(M,{glass:!0,className:"lg:col-span-2",children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"w-5 h-5 text-primary-500"}),"Master Pool Resource Tracking"]})}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Total Distributed (Engagement)"}),r.jsxs("span",{className:"font-bold text-light-text dark:text-dark-text",children:[s.totalDistributed.toLocaleString()," / ",s.totalInitial.toLocaleString()," Rubies"]})]}),r.jsx("div",{className:"h-4 bg-light-border dark:bg-dark-border rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary-500 transition-all duration-1000",style:{width:`${s.totalDistributed/s.totalInitial*100}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Total Withdrawn"}),r.jsxs("p",{className:"text-xl font-bold text-green-500",children:["",(s.totalWithdrawn*200).toLocaleString()]}),r.jsxs("p",{className:"text-[10px] text-light-muted dark:text-dark-muted mt-1",children:[s.totalWithdrawn.toLocaleString()," Rubies Paid"]})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Remaining in Pool"}),r.jsx("p",{className:"text-xl font-bold text-primary-500",children:s.remaining.toLocaleString()}),r.jsx("p",{className:"text-[10px] text-light-muted dark:text-dark-muted mt-1",children:"Available for distribution"})]})]})]})})]}),r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsx(pe,{children:"Pool Engagement"})}),r.jsx(R,{className:"space-y-4",children:a.map(n=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:n.icon}),r.jsx("span",{className:"font-semibold text-light-text dark:text-dark-text",children:n.name})]}),r.jsx("span",{className:K("font-bold",n.color),children:n.value.toFixed(1)})]},n.name))})]})]}),r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsx(pe,{children:"Recent Withdrawal Requests"})}),r.jsx(R,{children:t&&t.length>0?r.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(n=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-light-text dark:text-dark-text capitalize",children:n.type.replace("_"," ")}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:new Date(n.createdAt).toLocaleString()})]}),r.jsxs("div",{className:"text-right flex items-center gap-3",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-light-text dark:text-dark-text",children:[n.amountRubies," Rubies"]}),r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:[n.amountTalents.toFixed(2)," Talents"]})]}),r.jsx(q,{variant:n.status==="paid"?"success":n.status==="pending"?"warning":"default",children:n.status})]})]},n._id))}):r.jsx("p",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:"No withdrawal requests yet"})})]})]})}function b6({withdrawals:e,statusFilter:t,setStatusFilter:s,user:a}){const n=$(S.wallets.approveWithdrawal),i=$(S.wallets.rejectWithdrawal),[o,l]=g.useState({isOpen:!1,type:null,withdrawalId:null,amount:0});if(!e)return r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"Loading withdrawals..."});const d=t==="all"?e:e.filter(m=>m.status===t),c=(m,h,x)=>{l({isOpen:!0,type:m,withdrawalId:h,amount:x})},u=async()=>{if(!(!o.withdrawalId||!o.type))try{o.type==="approve"&&a?await n({withdrawalId:o.withdrawalId,adminId:a._id}):await i({withdrawalId:o.withdrawalId})}catch(m){console.error("Action failed:",m)}finally{l({...o,isOpen:!1})}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(C5,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"}),r.jsx("div",{className:"w-48",children:r.jsx(Ar,{value:t,onChange:m=>s(m),options:[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"paid",label:"Paid"},{value:"rejected",label:"Rejected"}]})}),r.jsxs("span",{className:"text-sm text-light-muted dark:text-dark-muted border-l border-light-border dark:border-dark-border pl-4 ml-2",children:[d.length," request",d.length!==1?"s":""]})]})})}),r.jsx("div",{className:"space-y-3",children:d.length>0?d.map(m=>r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-5",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsxs("p",{className:"font-bold text-lg text-light-text dark:text-dark-text capitalize flex items-center gap-2",children:[m.type==="big_pull"?"":""," ",m.type.replace("_"," ")]}),r.jsx(q,{variant:m.status==="paid"?"success":m.status==="pending"?"warning":"danger",children:m.status})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-y-1 gap-x-8 text-sm",children:[r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:"User ID:"})," ",r.jsxs("code",{children:[m.userId.slice(0,8),"..."]})]}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:"Date:"})," ",new Date(m.createdAt).toLocaleDateString()]}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:"Bank:"})," ",m.bankName||"N/A"]}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:"Acct:"})," ",m.accountNumber||"N/A"]}),r.jsxs("div",{className:"mt-2 text-base",children:[r.jsxs("span",{className:"font-bold text-green-500",children:[m.amountRubies," Rubies"]}),r.jsx("span",{className:"text-light-muted dark:text-dark-muted mx-2",children:""}),r.jsxs("span",{className:"font-medium text-amber-500",children:[m.amountTalents.toFixed(2)," Talents"]}),m.nairaAmount&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted mx-2",children:""}),r.jsxs("span",{className:"font-bold text-light-text dark:text-dark-text",children:["",m.nairaAmount.toLocaleString()]})]})]})]})]}),m.status==="pending"&&r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(I,{onClick:()=>c("approve",m._id,m.amountRubies),variant:"primary",size:"sm",className:"bg-green-500 hover:bg-green-600 border-none shadow-sm shadow-green-500/20",children:[r.jsx(zt,{className:"w-4 h-4 mr-1.5"}),"Approve"]}),r.jsxs(I,{onClick:()=>c("reject",m._id,m.amountRubies),variant:"outline",size:"sm",className:"text-red-500 border-red-500 hover:bg-red-500/10 hover:text-red-600 hover:border-red-600",children:[r.jsx(Yr,{className:"w-4 h-4 mr-1.5"}),"Reject"]})]})]})})},m._id)):r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-12 text-center",children:[r.jsx(_s,{className:"w-12 h-12 text-light-muted dark:text-dark-muted mx-auto mb-3 opacity-50"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:["No ",t!=="all"?t:""," withdrawals found"]})]})})}),r.jsx(va,{isOpen:o.isOpen,onClose:()=>l({...o,isOpen:!1}),onConfirm:u,title:o.type==="approve"?"Approve Withdrawal":"Reject Withdrawal",description:o.type==="approve"?`Are you sure you want to approve this withdrawal of ${o.amount} Rubies? This will mark it as paid.`:`Are you sure you want to reject this withdrawal of ${o.amount} Rubies? The amount will be refunded to the user's wallet.`,confirmText:o.type==="approve"?"Approve & Pay":"Reject & Refund",variant:o.type==="reject"?"danger":"primary"})]})}function y6({wallets:e,searchTerm:t,setSearchTerm:s}){if(!e)return r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"Loading wallets..."});const a=e.filter(n=>n.userId.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-4",children:[r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tt,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",placeholder:"Search by user ID...",value:t,onChange:n=>s(n.target.value),className:"flex-1 px-4 py-2 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-light-text dark:text-dark-text"})]})})}),r.jsx("div",{className:"space-y-3",children:a.length>0?a.map(n=>r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-5",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsxs("p",{className:"font-bold text-lg text-light-text dark:text-dark-text",children:["User ID: ",n.userId.slice(0,12),"..."]}),["diamond","gold","silver","bronze"].some(i=>(n[`${i}MonthlyEarned`]??0)>=21.6)&&r.jsx(q,{className:"bg-orange-500/10 text-orange-500 animate-pulse border-orange-500/20",children:"Near Cap"})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 text-sm",children:["diamond","gold","silver","bronze"].map(i=>{const o=n[`${i}MonthlyEarned`]??0;return r.jsxs("div",{className:K("p-3 rounded-xl border transition-colors",o>=21.6?"bg-red-500/10 border-red-500/30":"bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border"),children:[r.jsxs("p",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold",children:[i," Monthly"]}),r.jsxs("p",{className:K("text-lg font-bold",o>=21.6?"text-red-500":"text-light-text dark:text-dark-text"),children:[o.toFixed(1)," / 24"]})]},i)})})]}),r.jsxs("div",{className:"text-right p-4 rounded-2xl bg-primary-500/5 border border-primary-500/10 min-w-[150px]",children:[r.jsx("p",{className:"text-xs text-primary-500 font-bold uppercase mb-1",children:"Total Assets"}),r.jsxs("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:[n.totalTalents.toFixed(2)," ",r.jsx("span",{className:"text-sm font-normal text-light-muted",children:"Talents"})]}),r.jsxs("p",{className:"text-sm font-medium text-green-500 mt-1",children:["",(n.actualizedNairaBalance||0).toLocaleString()," Paid"]})]})]})})},n._id)):r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-12 text-center",children:[r.jsx(tt,{className:"w-12 h-12 text-light-muted dark:text-dark-muted mx-auto mb-3"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No wallets found"})]})})})]})}function v6(){return r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsx(pe,{children:"Fractional Reward Config"})}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Diamond (Quiz Participation)"}),r.jsx("span",{className:"font-bold",children:"0.5 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-blue-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Diamond (Quiz Winner Jackpot)"}),r.jsx("span",{className:"font-bold",children:"11.5 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-yellow-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Gold (Comment Interaction)"}),r.jsx("span",{className:"font-bold",children:"0.1 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-gray-400",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Silver (Game Participation)"}),r.jsx("span",{className:"font-bold",children:"0.15 Rubies"})]}),r.jsxs("div",{className:"flex justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border-l-4 border-orange-500",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Bronze (React/Like)"}),r.jsx("span",{className:"font-bold",children:"0.05 Rubies"})]})]})})]}),r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsx(pe,{children:"Sustainability Rules"})}),r.jsxs(R,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-primary-500/10 border border-primary-500/20",children:[r.jsx("h4",{className:"font-bold text-primary-500 mb-1",children:"Monthly Pool Caps"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Each user is limited to earning a maximum of 24 rubies per pool per month to prevent inflation. Diamond, Gold, Silver, and Bronze pools all share this rule."})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:[r.jsx("h4",{className:"font-bold text-amber-600 mb-1",children:"Conversion Logic"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["100 Rubies = 1 Talent. ",r.jsx("br",{}),"1 Ruby = 200. ",r.jsx("br",{}),"Withdrawals are paid in Naira via physical transfer bank details."]})]})]})]})]})}function j6(){const{user:e}=Y(),[t,s]=g.useState("list"),[a,n]=g.useState(null),[i,o]=g.useState(!1),[l,d]=g.useState(null),c=D(S.wordUnderPressure.getAdminPassages,e?{limit:50}:"skip"),u=D(S.wordUnderPressure.getPassageAttempts,a?{passageId:a}:"skip"),m=$(S.wordUnderPressure.createPassage),h=$(S.wordUnderPressure.setPassageActive),x=$(S.wordUnderPressure.determineWinner),b=$(S.wordUnderPressure.awardWinnerManually),[v,y]=g.useState("all"),[p,f]=g.useState({isOpen:!1}),j=u==null?void 0:u.filter(E=>v==="all"?!0:v==="correct"?E.isCorrect:v==="incorrect"?!E.isCorrect:!0),[k,w]=g.useState({textLines:"",structuralQuestion:"",optionA:"",optionB:"",optionC:"",optionD:"",correctOptionId:"a",difficultyLevel:"medium",memoTime:20,recallTime:15}),[C,N]=g.useState({isOpen:!1}),T=(E,V)=>{d({type:E,message:V}),setTimeout(()=>d(null),5e3)},L=async()=>{if(!(!e||!p.attemptId||!a)){try{(await b({adminId:e._id,attemptId:p.attemptId,passageId:a})).success&&T("success",`Awarded ${p.userName} as the winner!`)}catch(E){T("error",E.message)}f({isOpen:!1})}},A=async()=>{if(e)try{const E=k.textLines.split(`
`).filter(re=>re.trim()!==""),V=[{id:"a",text:k.optionA},{id:"b",text:k.optionB},{id:"c",text:k.optionC},{id:"d",text:k.optionD}];await m({textLines:E,structuralQuestion:k.structuralQuestion,options:V,correctOptionId:k.correctOptionId,difficultyLevel:k.difficultyLevel,memoTime:k.memoTime,recallTime:k.recallTime,adminId:e._id}),o(!1),T("success","Challenge created successfully"),w({textLines:"",structuralQuestion:"",optionA:"",optionB:"",optionC:"",optionD:"",correctOptionId:"a",difficultyLevel:"medium",memoTime:20,recallTime:15})}catch(E){T("error",E.message)}},H=async(E,V)=>{if(e)try{await h({passageId:E,isActive:!V,adminId:e._id}),T("success",`Challenge ${V?"deactivated":"activated"}`)}catch(re){T("error",re.message)}},_=async(E,V)=>{N({isOpen:!0,year:E,month:V})},X=async()=>{if(!(!e||!C.year||!C.month)){try{const E=await x({year:C.year,month:C.month,adminId:e._id});E.success?T("success",`Winner: ${E.winnerName} (${E.score}ms)`):T("error",E.message||"An error occurred")}catch(E){T("error",E.message)}N({isOpen:!1})}},oe=(E,V)=>{if(!E||!V)return"Legacy Week";const re=V.toString().substring(0,4);return`${V.toString().substring(4,6)}/${re}`};if(t==="responses"&&a){const E=c==null?void 0:c.find(V=>V._id===a);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:()=>{s("list"),n(null)},className:"flex items-center gap-2 text-primary-500 font-bold hover:underline mb-4",children:[r.jsx(xr,{className:"w-5 h-5"}),"Back to Challenges"]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2",children:[r.jsxs("div",{className:"max-w-2xl",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"User Responses"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-1 line-clamp-2 md:line-clamp-none",children:(E==null?void 0:E.structuralQuestion)||"Challenge Details"})]}),r.jsxs("div",{className:"flex flex-col xs:flex-row items-stretch xs:items-center gap-3 text-sm",children:[r.jsx("div",{className:"flex bg-light-card dark:bg-dark-card p-1 rounded-xl border border-light-border dark:border-dark-border overflow-x-auto no-scrollbar",children:[{id:"all",label:"All"},{id:"correct",label:"Correct"},{id:"incorrect",label:"Incorrect"}].map(V=>r.jsx("button",{onClick:()=>y(V.id),className:K("px-3 sm:px-4 py-1.5 rounded-lg font-bold transition-all whitespace-nowrap",v===V.id?"bg-primary-500 text-white shadow-lg":"text-light-muted hover:text-light-text dark:hover:text-dark-text"),children:V.label},V.id))}),r.jsxs("div",{className:"px-3 py-1.5 rounded-xl bg-primary-500/10 text-primary-500 font-bold border border-primary-500/20 text-center whitespace-nowrap",children:[(j==null?void 0:j.length)||0," Results"]})]})]}),r.jsx("div",{className:"grid gap-4",children:u?(j==null?void 0:j.length)===0?r.jsxs(M,{glass:!0,className:"p-12 text-center text-light-muted",children:[r.jsx(pr,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),"No ",v!=="all"?v:""," responses found for this challenge yet."]}):j==null?void 0:j.map(V=>{var re;return r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r.jsx(M,{glass:!0,className:"overflow-hidden",children:r.jsxs("div",{className:"p-4 sm:p-5",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0 rounded-xl bg-primary-500/10 flex items-center justify-center text-primary-500 font-bold border border-primary-500/20 shadow-inner text-base sm:text-lg",children:V.userName[0]}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"font-bold text-base sm:text-lg flex items-center gap-2 truncate",children:[r.jsx("span",{className:"truncate",children:V.userName}),V.isCorrect?r.jsx(_t,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500 flex-shrink-0"}):r.jsx(Yr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500 flex-shrink-0"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-y-1 gap-x-3 text-[10px] sm:text-xs text-light-muted dark:text-dark-muted mt-0.5",children:[r.jsxs("span",{className:"flex items-center gap-1 font-mono",children:[r.jsx(ze,{className:"w-3 h-3"})," ",V.responseTime,"ms"]}),r.jsx("span",{className:"hidden xs:inline text-light-border/50",children:""}),r.jsxs("span",{className:"font-bold",children:["Option ",((re=V.selectedOptionId)==null?void 0:re.toUpperCase())||"N/A"]}),V.retryCount>0&&r.jsxs("span",{className:"text-amber-500 bg-amber-500/10 px-1.5 py-0.5 rounded text-[10px]",children:[V.retryCount," Retries"]})]})]})]}),r.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end justify-between sm:justify-start w-full sm:w-auto pt-3 sm:pt-0 border-t sm:border-t-0 border-light-border/30 dark:border-white/5",children:[r.jsx("div",{className:"text-[10px] sm:text-xs text-light-muted",children:DA(V.endTime||V.startTime,"MMM dd, HH:mm")}),r.jsx("div",{className:"sm:mt-2",children:V.explanationSubmitTime?r.jsx(q,{variant:"primary",className:"text-[9px] sm:text-[10px]",children:"Explained"}):r.jsx(q,{variant:"default",className:"text-[9px] sm:text-[10px]",children:"No Logic"})})]})]}),r.jsxs("div",{className:K("p-4 rounded-xl border transition-colors",V.explanation?"bg-primary-500/5 border-primary-500/10":"bg-light-muted/5 border-light-muted/10 opacity-60"),children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[10px] font-bold uppercase tracking-widest text-primary-500/70",children:[r.jsx(pr,{className:"w-3 h-3"})," logic & explanation"]}),r.jsx("p",{className:K("text-sm leading-relaxed",V.explanation?"text-light-text dark:text-dark-text":"italic text-light-muted"),children:V.explanation||"No explanation provided by user."})]}),V.isCorrect&&!(E!=null&&E.winnerId)&&r.jsx("div",{className:"mt-4 pt-4 border-t border-light-border/20 dark:border-white/5 flex justify-end",children:r.jsxs(I,{size:"sm",onClick:()=>f({isOpen:!0,attemptId:V._id,userName:V.userName}),className:"bg-emerald-500 hover:bg-emerald-600 text-white gap-2 shadow-lg shadow-emerald-500/20 w-full sm:w-auto",children:[r.jsx(ye,{className:"w-4 h-4"}),"Select as Winner"]})}),(E==null?void 0:E.winnerId)===V.userId&&r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs(q,{variant:"success",className:"gap-2 py-1.5 px-4",children:[r.jsx(ye,{className:"w-3.5 h-3.5"}),"Monthly Winner"]})})]})})},V._id)}):r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(V=>r.jsx("div",{className:"h-32 bg-light-card dark:bg-dark-card rounded-xl"},V))})})]})}return r.jsxs("div",{className:"space-y-6",children:[r.jsx(va,{isOpen:C.isOpen,onClose:()=>N({isOpen:!1}),onConfirm:X,title:"Select Monthly Winner",description:`Are you sure you want to select and award the winner for ${C.month}/${C.year}? This will distribute 11.5 Rubies to the best performer.`,confirmText:"Select Winner"}),r.jsx(va,{isOpen:p.isOpen,onClose:()=>f({isOpen:!1}),onConfirm:L,title:"Confirm Monthly Winner",description:`Are you sure you want to award ${p.userName} as the monthly winner? They will receive 11.5 Rubies and this challenge will be marked as completed.`,confirmText:"Award Rubies",variant:"primary"}),r.jsx(ae,{children:l&&r.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:K("fixed top-4 right-4 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 border backdrop-blur-md",l.type==="success"?"bg-emerald-500 text-white border-emerald-400":"bg-red-500 text-white border-red-400"),children:[l.type==="success"?r.jsx(_t,{className:"w-5 h-5"}):r.jsx(Yr,{className:"w-5 h-5"}),r.jsx("p",{className:"font-bold",children:l.message})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold font-display text-gradient",children:"Diamond Challenges"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Configure monthly memory challenges and pick winners."})]}),r.jsxs(I,{onClick:()=>o(!i),variant:i?"outline":"primary",className:"w-full sm:w-auto",children:[i?r.jsx(Le,{className:"mr-2 h-4 w-4"}):r.jsx(Ml,{className:"mr-2 h-4 w-4"}),i?"Cancel":"Create New Challenge"]})]}),r.jsx(ae,{children:i&&r.jsx(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:r.jsx(M,{className:"border-t-4 border-t-primary-500",children:r.jsxs(R,{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold",children:[r.jsx(ut,{className:"w-5 h-5 text-primary-500"}),"Challenge Configuration"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block text-light-text dark:text-dark-text",children:"Passage Text (One line per line)"}),r.jsx("textarea",{className:"w-full p-4 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none transition-all font-serif italic",rows:5,value:k.textLines,onChange:E=>w({...k,textLines:E.target.value}),placeholder:"Line 1\\nLine 2..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block text-light-text dark:text-dark-text",children:"Structural Question"}),r.jsx("input",{className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none transition-all",value:k.structuralQuestion,onChange:E=>w({...k,structuralQuestion:E.target.value}),placeholder:"What follows the first comma?"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["A","B","C","D"].map(E=>r.jsxs("div",{children:[r.jsxs("label",{className:"text-xs font-bold mb-1 block opacity-50 uppercase tracking-tighter",children:["Option ",E]}),r.jsx("input",{className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none transition-all",value:k[`option${E}`],onChange:V=>w({...k,[`option${E}`]:V.target.value}),placeholder:`Enter value for ${E}`})]},E))}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[r.jsx(Ar,{label:"Correct Answer",value:k.correctOptionId,onChange:E=>w({...k,correctOptionId:E}),options:[{value:"a",label:"Option A"},{value:"b",label:"Option B"},{value:"c",label:"Option C"},{value:"d",label:"Option D"}]}),r.jsx(Ar,{label:"Difficulty",value:k.difficultyLevel,onChange:E=>w({...k,difficultyLevel:E}),options:[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block",children:"Memo Time (s)"}),r.jsx("input",{type:"number",className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",value:k.memoTime,onChange:E=>w({...k,memoTime:parseInt(E.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-bold mb-2 block",children:"Recall Time (s)"}),r.jsx("input",{type:"number",className:"w-full p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",value:k.recallTime,onChange:E=>w({...k,recallTime:parseInt(E.target.value)})})]})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsx(I,{onClick:A,size:"lg",className:"w-full sm:w-auto px-10",children:"Save & Activate Challenge"})})]})]})})})}),r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:c?c.length===0?r.jsx("div",{className:"col-span-full py-20 text-center text-light-muted",children:"No challenges created yet."}):c.map(E=>r.jsx(P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r.jsx(M,{glass:!0,className:K("h-full border-l-4 transition-all duration-300",E.isActive?"border-l-primary-500 shadow-lg shadow-primary-500/10":"border-l-light-muted/20"),children:r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:K("px-2.5 py-1 rounded-full text-[10px] font-black tracking-widest uppercase",E.isActive?"bg-primary-500 text-white":"bg-light-muted/10 text-light-muted"),children:E.isActive?"Active":"Archived"}),r.jsx("span",{className:"px-2.5 py-1 rounded-full bg-light-muted/5 text-light-muted text-[10px] font-mono",children:E.month?oe(E.year,E.month):`Week ${E.week}`}),r.jsx("span",{className:K("px-2.5 py-1 rounded-full text-[10px] font-black uppercase",E.difficultyLevel==="hard"?"bg-red-500/10 text-red-500":E.difficultyLevel==="medium"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"),children:E.difficultyLevel})]}),E.winnerId&&r.jsx(ye,{className:"w-5 h-5 text-amber-500"})]}),r.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:E.structuralQuestion}),r.jsxs("p",{className:"text-sm text-light-muted mb-6 line-clamp-2 italic opacity-60",children:['"',E.textLines[0],'..."']}),r.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-3",children:[r.jsxs(I,{size:"sm",variant:E.isActive?"danger":"primary",onClick:()=>H(E._id,E.isActive),className:"flex-1",children:[E.isActive?r.jsx(E5,{className:"w-4 h-4 mr-2"}):r.jsx(Ml,{className:"w-4 h-4 mr-2"}),E.isActive?"Deactivate":"Activate"]}),r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>{n(E._id),s("responses")},className:"flex-1",children:[r.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Responses"]}),E.month&&!E.winnerId&&r.jsxs(I,{size:"sm",variant:"outline",onClick:()=>_(E.year,E.month),className:"col-span-2 text-amber-500 border-amber-500/20 hover:bg-amber-500/10 mt-1",children:[r.jsx(ye,{className:"w-4 h-4 mr-2"}),"Select Winner"]}),E.winnerId&&r.jsx("div",{className:"col-span-2 text-center py-2 bg-amber-500/10 rounded-lg border border-amber-500/20 mt-1 text-xs font-bold text-amber-500",children:"Challenge Completed  Winner Awarded"})]})]})})})},E._id)):[1,2,3,4].map(E=>r.jsx("div",{className:"h-48 rounded-2xl bg-light-card dark:bg-dark-card animate-pulse"},E))})]})}function k6(){const{user:e}=Y(),[t,s]=g.useState("pending"),a=D(S.questions.getAllQuestions,e!=null&&e._id?{adminId:e._id,status:t}:"skip"),n=$(S.questions.adminAnswerQuestion),i=$(S.questions.deleteQuestion),o=$(S.questions.makeQuestionPublic),[l,d]=g.useState(null),[c,u]=g.useState(""),[m,h]=g.useState(!1),[x,b]=g.useState(!1);if(a===void 0)return r.jsx(Vh,{});const v=async f=>{if(f.preventDefault(),!(!e||!l||!c.trim())){b(!0);try{await n({adminId:e._id,questionId:l._id,answerText:c.trim(),makePublic:m}),d(null),u(""),h(!1)}catch(j){console.error("Failed to answer:",j),alert("Failed to submit answer.")}finally{b(!1)}}},y=async f=>{if(!(!e||!confirm("Are you sure you want to delete this question?")))try{await i({adminId:e._id,questionId:f})}catch{alert("Failed to delete question")}},p=async f=>{if(e)try{await o({adminId:e._id,questionId:f})}catch{alert("Failed to make public")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Questions Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Answer user questions and manage Q&A visibility"})]}),r.jsxs("div",{className:"flex gap-4 border-b border-light-border dark:border-dark-border overflow-x-auto",children:[r.jsxs("button",{onClick:()=>s("pending"),className:`pb-3 px-4 font-semibold text-sm transition-colors border-b-2 whitespace-nowrap ${t==="pending"?"border-primary-500 text-primary-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Pending (",(a==null?void 0:a.filter(f=>!f.isAnswered).length)||0,")"]}),r.jsx("button",{onClick:()=>s("answered"),className:`pb-3 px-4 font-semibold text-sm transition-colors border-b-2 whitespace-nowrap ${t==="answered"?"border-primary-500 text-primary-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Answered"})]}),r.jsxs("div",{className:"grid gap-4",children:[a==null?void 0:a.map(f=>r.jsx(M,{glass:!0,className:"border border-light-border dark:border-dark-border",children:r.jsx(R,{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[r.jsxs("div",{className:"space-y-3 flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx(q,{variant:"outline",className:"text-xs",children:Rt(f.createdAt,{addSuffix:!0})}),r.jsxs("span",{className:"text-xs text-light-muted",children:["by ",f.userName]}),f.isPublic?r.jsx(mh,{className:"w-3 h-3 text-green-500"}):r.jsx(rr,{className:"w-3 h-3 text-gray-400"})]}),r.jsx("h3",{className:"font-semibold text-base md:text-lg text-light-text dark:text-dark-text leading-snug",children:f.questionText}),r.jsxs("div",{className:"text-xs md:text-sm text-light-muted bg-gray-50 dark:bg-white/5 p-3 rounded-lg inline-block w-full",children:[r.jsx("span",{className:"font-bold block mb-1",children:"Context:"}),' "',f.postContent,'"']}),f.isAnswered&&r.jsxs("div",{className:"mt-4 p-4 bg-primary-50 dark:bg-primary-900/10 rounded-lg border border-primary-100 dark:border-primary-900/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(zt,{className:"w-4 h-4 text-primary-500 shrink-0"}),r.jsxs("span",{className:"text-xs font-bold text-primary-700 dark:text-primary-400",children:["Answered by ",f.adminName||"Admin"]})]}),r.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:f.answerText})]})]}),r.jsxs("div",{className:"flex md:flex-col gap-2 w-full md:w-auto pt-2 md:pt-0 border-t md:border-t-0 border-light-border/50 dark:border-dark-border/50",children:[f.isAnswered?!f.isPublic&&r.jsx(I,{size:"sm",variant:"outline",onClick:()=>p(f._id),className:"border-green-500 text-green-600 hover:bg-green-50 flex-1 md:flex-none",children:"Make Public"}):r.jsx(I,{size:"sm",onClick:()=>{d(f),u("")},className:"bg-primary-500 hover:bg-primary-600 text-white flex-1 md:flex-none",children:"Answer"}),r.jsx(I,{size:"sm",variant:"ghost",onClick:()=>y(f._id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 flex-none",children:r.jsx(Es,{className:"w-4 h-4"})})]})]})})},f._id)),(a==null?void 0:a.length)===0&&r.jsx("div",{className:"text-center py-12 text-light-muted dark:text-dark-muted",children:"No questions found in this category."})]}),r.jsx(ae,{children:l&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1A1A1A] rounded-2xl shadow-xl max-w-lg w-full p-6 relative border border-gray-100 dark:border-gray-800",children:[r.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5",children:r.jsx(Le,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Answer Question"}),r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-white/5 rounded-xl",children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Question:"}),r.jsx("p",{className:"text-lg text-gray-900 dark:text-white mt-1",children:l.questionText})]}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Your Answer"}),r.jsx("textarea",{value:c,onChange:f=>u(f.target.value),className:"w-full p-3 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 min-h-[150px]",placeholder:"Type your answer here...",required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"makePublic",checked:m,onChange:f=>h(f.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsx("label",{htmlFor:"makePublic",className:"text-sm text-gray-700 dark:text-gray-300",children:"Make this question and answer Public immediately"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx(I,{type:"button",variant:"ghost",onClick:()=>d(null),children:"Cancel"}),r.jsx(I,{type:"submit",disabled:x,children:x?"Submitting...":"Submit Answer"})]})]})]})})})]})}function w6(){const{user:e}=Y(),[t,s]=g.useState(""),a=D(S.users.getAllUsers,e!=null&&e._id?{adminId:e._id}:"skip"),n=D(S.posts.getPosts,{category:"Ancient Culture",limit:50}),i=D(S.tags.getAllActiveTags,e!=null&&e._id?{adminId:e._id}:"skip"),o=$(S.tags.tagUserForQuestions),l=$(S.tags.tagUserForPrayer),d=$(S.tags.revokeTag),[c,u]=g.useState(null),[m,h]=g.useState("question"),[x,b]=g.useState(""),[v,y]=g.useState(!1);if(a===void 0||i===void 0)return r.jsx(Vh,{});const p=a==null?void 0:a.filter(k=>k.name.toLowerCase().includes(t.toLowerCase())||k.email.toLowerCase().includes(t.toLowerCase())),f=async()=>{if(!(!e||!c)){y(!0);try{if(m==="question"){if(!x){alert("Please select a teaching post"),y(!1);return}await o({adminId:e._id,userId:c._id,postId:x})}else await l({adminId:e._id,userId:c._id});alert("Tag granted successfully!"),u(null),b("")}catch(k){alert(k.message||"Failed to grant tag")}finally{y(!1)}}},j=async k=>{if(!(!e||!confirm("Revoke this tag?")))try{await d({adminId:e._id,tagId:k})}catch{alert("Failed to revoke tag")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"User Tag Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Grant or revoke specialized posting permissions (Questions, Prayers)"})]}),r.jsx(M,{glass:!0,className:"border border-light-border dark:border-dark-border",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Active Tags (",(i==null?void 0:i.length)||0,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(i==null?void 0:i.length)===0?r.jsx("p",{className:"text-sm text-light-muted",children:"No active tags."}):i==null?void 0:i.map(k=>r.jsxs(q,{variant:"outline",className:"flex items-center gap-2 pr-1",children:[r.jsx("span",{className:k.tagType==="question"?"text-purple-500":"text-orange-500",children:k.tagType==="question"?"Question":"Prayer"}),r.jsx("span",{className:"text-light-text dark:text-dark-text border-l border-gray-200 dark:border-gray-700 pl-2",children:k.userName}),r.jsx("button",{onClick:()=>j(k._id),className:"p-1 hover:bg-red-100 rounded-full text-red-500 transition-colors ml-1",children:r.jsx(Le,{className:"w-3 h-3"})})]},k._id))})]})}),r.jsxs("div",{className:"relative",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-light-muted"}),r.jsx("input",{type:"text",value:t,onChange:k=>s(k.target.value),placeholder:"Search users to tag...",className:"w-full pl-10 pr-4 py-3 rounded-xl bg-white dark:bg-[#1A1A1A] border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 focus:outline-none transition-all"})]}),r.jsx("div",{className:"grid gap-4",children:p==null?void 0:p.slice(0,10).map(k=>r.jsx(M,{glass:!0,className:"border border-light-border dark:border-dark-border",children:r.jsxs(R,{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:k.avatarUrl?r.jsx("img",{src:k.avatarUrl,alt:k.name,className:"w-full h-full object-cover"}):r.jsx(ot,{className:"w-5 h-5 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-light-text dark:text-dark-text",children:k.name}),r.jsx("p",{className:"text-xs text-light-muted",children:k.role})]})]}),r.jsxs(I,{size:"sm",onClick:()=>u(k),children:[r.jsx(by,{className:"w-4 h-4 mr-2"})," Grant Tag"]})]})},k._id))}),r.jsx(ae,{children:c&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1A1A1A] rounded-2xl shadow-xl max-w-md w-full p-6 relative border border-gray-100 dark:border-gray-800",children:[r.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-white/5",children:r.jsx(Le,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Grant Permission"}),r.jsxs("p",{className:"text-sm text-light-muted mb-6",children:["Allow ",r.jsx("span",{className:"font-bold text-primary-500",children:c.name})," to post special content."]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tag Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>h("question"),className:`p-3 rounded-lg border text-sm font-medium transition-all ${m==="question"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"border-gray-200 dark:border-gray-700"}`,children:"Question Tag"}),r.jsx("button",{onClick:()=>h("prayer"),className:`p-3 rounded-lg border text-sm font-medium transition-all ${m==="prayer"?"border-orange-500 bg-orange-50 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"border-gray-200 dark:border-gray-700"}`,children:"Prayer Tag"})]})]}),m==="question"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Teaching (Context)"}),r.jsxs("select",{value:x,onChange:k=>b(k.target.value),className:"w-full p-3 rounded-lg bg-gray-50 dark:bg-[#222] border border-gray-200 dark:border-gray-700 focus:border-primary-500 focus:outline-none text-sm",children:[r.jsx("option",{value:"",children:"Select a teaching..."}),n==null?void 0:n.map(k=>r.jsxs("option",{value:k._id,children:[k.content.substring(0,40),"..."]},k._id))]}),r.jsx("p",{className:"text-xs text-light-muted mt-1",children:"user can only ask questions on this specific post."})]}),r.jsx(I,{className:"w-full mt-4",onClick:f,disabled:v,children:v?"Granting...":"Grant Permission"})]})]})})})]})}function N6(){const e=D(S.masterPool.getMasterPool);if(e===void 0)return r.jsx(QA,{});const t=s=>new Intl.NumberFormat("en-US").format(s);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Master Pool Overview"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Track total reward distribution and financial health"})]}),r.jsxs("div",{className:"grid sm:grid-cols-3 gap-6",children:[r.jsx(M,{glass:!0,className:"border-l-4 border-l-blue-500",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-light-muted",children:"Total Distributed"}),r.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mt-1",children:t((e==null?void 0:e.totalDistributed)||0)})]}),r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg text-blue-600",children:r.jsx(py,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Total rubies ever earned by users"})]})}),r.jsx(M,{glass:!0,className:"border-l-4 border-l-green-500",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-light-muted",children:"Total Withdrawn"}),r.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mt-1",children:t((e==null?void 0:e.totalWithdrawn)||0)})]}),r.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg text-green-600",children:r.jsx(y5,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Rubies converted to cash"})]})}),r.jsx(M,{glass:!0,className:"border-l-4 border-l-purple-500",children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-light-muted",children:"Initial Pool Size"}),r.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mt-1",children:t((e==null?void 0:e.totalInitial)||1e6)})]}),r.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg text-purple-600",children:r.jsx(fy,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Starting liquidity"})]})})]}),r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text mt-8 mb-4",children:"Distribution by Pool"}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-cyan-100 text-cyan-600 rounded-lg",children:r.jsx(ps,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Diamond"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.diamondDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Quizzes & Monthly"})]})}),r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg",children:r.jsx(ps,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Gold"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.goldDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Top Comments"})]})}),r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 text-slate-600 rounded-lg",children:r.jsx(ps,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Silver"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.silverDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Weekly Games"})]})}),r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 text-orange-600 rounded-lg",children:r.jsx(ps,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold",children:"Bronze"})]}),r.jsx("p",{className:"text-2xl font-bold mb-1",children:t((e==null?void 0:e.bronzeDistributed)||0)}),r.jsx("p",{className:"text-xs text-light-muted",children:"Reactions & Activity"})]})})]})]})}function S6(){const{user:e}=Y(),[t,s]=g.useState(!1),a=D(S.settings.getUserPostCreationEnabled),n=D(S.settings.getCommentsEnabled),i=D(S.settings.getQuestionsOnPostsEnabled),o=D(S.settings.getChatEnabled),l=$(S.settings.toggleUserPostCreation),d=$(S.settings.toggleCommentsEnabled),c=$(S.settings.toggleQuestionsOnPostsEnabled),u=$(S.settings.toggleChatEnabled),m=async(h,x,b)=>{if(!(!e||x===void 0)){s(!0);try{await h({adminId:e._id,enabled:!x})}catch(v){console.error(`Failed to update ${b}:`,v),alert("Failed to update setting. Please try again.")}finally{s(!1)}}};return e?r.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl pt-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10",children:r.jsx(ky,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text font-display",children:"System Settings"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage global permissions and system configurations"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-2xl p-6 shadow-lg space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ie,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),r.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:"Global Controls"})]}),r.jsx("div",{className:"border border-light-border dark:border-dark-border rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Allow Users to Create Posts"})}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Enable regular users to create posts. If disabled, only admins and tagged users can post."})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("button",{onClick:()=>m(l,a,"postCreation"),disabled:t,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${a?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${a?"translate-x-7":"translate-x-1"}`})}),r.jsx("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted",children:a?"ON":"OFF"})]})]})}),r.jsx("div",{className:"border border-light-border dark:border-dark-border rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Enable Comments Globally"})}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Allow users to comment on posts. Turning this off hides the comment section on all posts."})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("button",{onClick:()=>m(d,n,"comments"),disabled:t,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${n?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${n?"translate-x-7":"translate-x-1"}`})}),r.jsx("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted",children:n?"ON":"OFF"})]})]})}),r.jsx("div",{className:"border border-light-border dark:border-dark-border rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-2 mb-2",children:r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:'Enable "Ask Question" on Posts'})}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Allow users to ask questions directly on teaching posts."})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("button",{onClick:()=>m(c,i,"questionsOnPosts"),disabled:t,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${i?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${i?"translate-x-7":"translate-x-1"}`})}),r.jsx("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted",children:i?"ON":"OFF"})]})]})}),r.jsx("div",{className:"border border-light-border dark:border-dark-border rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(vt,{className:"w-5 h-5 text-primary-500"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Enable Chat System"})]}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Allow users to chat with each other and admins. If disabled, only admins can initiate chats."})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("button",{onClick:()=>m(u,o,"chat"),disabled:t,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${o?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:r.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${o?"translate-x-7":"translate-x-1"}`})}),r.jsx("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted",children:o?"ON":"OFF"})]})]})})]}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass rounded-2xl p-6 shadow-lg border-l-4 border-primary-500",children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:" How it works"}),r.jsxs("ul",{className:"space-y-2 text-sm text-light-muted dark:text-dark-muted",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Global ON:"})," Every user (even new signups) can immediately create question and prayer posts."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Global OFF:"})," Users need to be individually tagged by you before they can create posts."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Admins:"})," Always have permission to create posts, regardless of this setting."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Questions on Posts:"})," Controls whether the 'Ask Question' button appears on official posts."]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Chat System:"})," Controls whether users can initiate chats. Admins can always chat regardless."]})]})]})]})]})]})}):null}const Hi=Pr.forwardRef(({className:e,label:t,error:s,...a},n)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium mb-1.5 text-light-text dark:text-dark-text",children:t}),r.jsx("textarea",{ref:n,className:K("w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text outline-none transition-all duration-200","focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","resize-y min-h-[100px]",s&&"border-red-500 focus:ring-red-500",e),...a}),s&&r.jsx("p",{className:"mt-1 text-sm text-red-500 font-medium animate-in slide-in-from-top-1",children:s})]}));Hi.displayName="Textarea";function C6(){const{user:e}=Y(),t=D(S.announcements.getAllAnnouncements,e?{adminId:e._id}:"skip"),s=$(S.announcements.createAnnouncement),a=$(S.announcements.updateAnnouncement),n=$(S.announcements.deleteAnnouncement),[i,o]=g.useState(!1),[l,d]=g.useState(null),[c,u]=g.useState(1),[m,h]=g.useState(null),[x,b]=g.useState({isOpen:!1,id:null}),v=(_,X)=>{h({type:_,message:X}),setTimeout(()=>h(null),5e3)},[y,p]=g.useState({title:"",description:"",imageUrl:"",category:"General",isActive:!0}),f=3,j=()=>{p({title:"",description:"",imageUrl:"",category:"General",isActive:!0}),u(1)},k=()=>{d(null),j(),o(!0)},w=_=>{d(_._id);const X=["General","Ancient Culture","Wisdom of The Now","Ads","Product","Event","Update"].includes(_.category)?_.category:"General";p({title:_.title,description:_.description,imageUrl:_.imageUrl,category:X,isActive:_.isActive}),u(1),o(!0)},C=()=>u(_=>Math.min(_+1,f)),N=()=>u(_=>Math.max(_-1,1)),T=async()=>{if(e)try{l?(await a({adminId:e._id,announcementId:l,...y,category:y.category}),console.log("Announcement updated")):(await s({adminId:e._id,...y,category:y.category}),console.log("Announcement created")),o(!1),j()}catch(_){console.error(_),alert(l?"Failed to update":"Failed to create")}},L=async()=>{if(!(!x.id||!e))try{await n({adminId:e._id,announcementId:x.id}),v("success","Announcement deleted"),b({isOpen:!1,id:null})}catch{v("error","Failed to delete")}},A=async _=>{if(e)try{await a({adminId:e._id,announcementId:_._id,isActive:!_.isActive}),v("success",_.isActive?"Deactivated":"Activated")}catch{v("error","Failed to toggle status")}};if(t===void 0)return r.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[r.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"h-10 w-64 bg-light-muted/20 dark:bg-dark-muted/20 rounded mb-2 animate-pulse"}),r.jsx("div",{className:"h-4 w-96 bg-light-muted/20 dark:bg-dark-muted/20 rounded animate-pulse"})]})}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(_=>r.jsx(UA,{},_))})]});const H=()=>{switch(c){case 1:return r.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Title"}),r.jsx(de,{placeholder:"Enter announcement title",value:y.title,onChange:_=>p({...y,title:_.target.value}),autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Category"}),r.jsx(Ar,{value:y.category,onChange:_=>p({...y,category:_}),options:[{value:"General",label:"General"},{value:"Ancient Culture",label:"Ancient Culture"},{value:"Wisdom of The Now",label:"Wisdom of The Now"},{value:"Ads",label:"Ads"},{value:"Product",label:"Product"},{value:"Event",label:"Event"},{value:"Update",label:"Update"}]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:y.isActive,onChange:_=>p({...y,isActive:_.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("label",{htmlFor:"isActive",className:"text-sm font-medium cursor-pointer flex-1",children:["Active immediately",r.jsx("span",{className:"block text-xs text-light-muted dark:text-dark-muted font-normal",children:"If unchecked, the announcement will be hidden from users until you activate it."})]})]})]});case 2:return r.jsx("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Description"}),r.jsx(Hi,{placeholder:"Enter full description...",value:y.description,onChange:_=>p({...y,description:_.target.value}),className:"min-h-[200px] text-base leading-relaxed"}),r.jsxs("p",{className:"text-xs text-right text-light-muted mt-1",children:[y.description.length," characters"]})]})});case 3:return r.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cover Image"}),r.jsx(pj,{onUploadComplete:_=>p(X=>({...X,imageUrl:_})),currentMedia:y.imageUrl?{url:y.imageUrl,type:"image"}:void 0,allowVideo:!1})]}),y.title&&r.jsxs("div",{className:"p-4 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsx("h4",{className:"font-bold text-sm text-light-muted mb-2 uppercase tracking-wider",children:"Preview Summary"}),r.jsxs("div",{className:"flex gap-3",children:[y.imageUrl&&r.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-gray-800",children:r.jsx("img",{src:y.imageUrl,alt:"Preview",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold truncate",children:y.title}),r.jsx(q,{variant:"outline",className:"text-[10px] mt-1",children:y.category})]})]})]})]});default:return null}};return r.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[r.jsx(va,{isOpen:x.isOpen,onClose:()=>b({isOpen:!1,id:null}),onConfirm:L,title:"Delete Announcement",description:"Are you sure you want to delete this announcement? This action cannot be undone.",variant:"danger",confirmText:"Delete"}),r.jsx(ae,{children:m&&r.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:K("fixed top-4 right-4 z-[100] px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 border backdrop-blur-md",m.type==="success"?"bg-emerald-500 text-white border-emerald-400":"bg-red-500 text-white border-red-400"),children:[m.type==="success"?r.jsx(_t,{className:"w-5 h-5"}):r.jsx(Yr,{className:"w-5 h-5"}),r.jsx("p",{className:"font-bold",children:m.message})]})}),r.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold font-display text-gradient",children:"Announcements"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage community announcements and ads"})]}),r.jsxs(I,{onClick:k,className:"w-full md:w-auto",children:[r.jsx(xd,{className:"w-4 h-4 mr-2"})," New Announcement"]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.map(_=>r.jsxs(M,{glass:!0,className:"relative group overflow-hidden flex flex-col h-full",children:[r.jsxs("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 relative overflow-hidden",children:[_.imageUrl?r.jsx("img",{src:_.imageUrl,alt:_.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:r.jsx(Cs,{className:"w-10 h-10"})}),r.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[r.jsx(q,{variant:_.isActive?"success":"secondary",children:_.isActive?"Active":"Hidden"}),r.jsx(q,{variant:"outline",className:"bg-black/50 backdrop-blur-sm text-white border-none",children:_.category})]})]}),r.jsxs(R,{className:"flex-1 flex flex-col p-4",children:[r.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-1",children:_.title}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted line-clamp-3 mb-4 flex-1",children:_.description}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx(I,{size:"sm",variant:"outline",onClick:()=>A(_),title:_.isActive?"Hide":"Show",children:_.isActive?r.jsx(to,{className:"w-4 h-4"}):r.jsx(Ir,{className:"w-4 h-4"})}),r.jsx(I,{size:"sm",variant:"outline",onClick:()=>w(_),children:r.jsx(ph,{className:"w-4 h-4"})})]}),r.jsx(I,{size:"sm",variant:"danger",onClick:()=>b({isOpen:!0,id:_._id}),children:r.jsx(Es,{className:"w-4 h-4"})})]})]})]},_._id)),t.length===0&&r.jsxs("div",{className:"col-span-full text-center py-12 bg-light-card/30 dark:bg-dark-card/30 rounded-2xl border border-dashed border-light-border dark:border-dark-border",children:[r.jsx(Ui,{className:"w-12 h-12 text-light-muted mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-semibold text-light-muted",children:"No announcements yet"}),r.jsx(I,{variant:"outline",className:"mt-4",onClick:k,children:"Create First Announcement"})]})]}),r.jsx(ht,{isOpen:i,onClose:()=>o(!1),title:l?"Edit Announcement":"Create Announcement",className:"max-w-lg",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"flex items-center justify-between mb-6 px-1",children:[1,2,3].map(_=>r.jsxs("div",{className:"flex flex-col items-center gap-1 w-1/3 relative z-10",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 ${c>=_?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-muted"}`,children:c>_?r.jsx(mt,{className:"w-4 h-4"}):_}),r.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold mt-1 ${c>=_?"text-primary-500":"text-light-muted"}`,children:_===1?"Details":_===2?"Content":"Media"}),_!==3&&r.jsx("div",{className:`absolute top-4 left-1/2 w-full h-0.5 -z-10 ${c>_?"bg-primary-500":"bg-light-border dark:bg-dark-border"}`})]},_))}),r.jsx("div",{className:"flex-1 overflow-y-auto px-1 py-2 min-h-[300px]",children:H()}),r.jsxs("div",{className:"flex items-center justify-between pt-6 mt-2 border-t border-light-border dark:border-dark-border",children:[r.jsx(I,{variant:"outline",onClick:c===1?()=>o(!1):N,className:"w-[100px]",children:c===1?"Cancel":r.jsxs(r.Fragment,{children:[r.jsx(ba,{className:"w-4 h-4 mr-1"})," Back"]})}),r.jsx("div",{className:"flex gap-2",children:c<f?r.jsxs(I,{onClick:C,className:"w-[100px]",children:["Next ",r.jsx(Bi,{className:"w-4 h-4 ml-1"})]}):r.jsxs(I,{onClick:T,className:"w-[120px] bg-green-500 hover:bg-green-600 border-none shadow-lg shadow-green-500/20",children:[l?"Update":"Create"," ",r.jsx(mt,{className:"w-4 h-4 ml-2"})]})})]})]})})]})}function T6(){const{user:e}=Y(),t=D(S.polls.getAdminPolls,{limit:20}),s=$(S.polls.createPoll),a=$(S.polls.closePoll),[n,i]=g.useState(""),[o,l]=g.useState(["","","",""]),[d,c]=g.useState(0),[u,m]=g.useState(48),[h,x]=g.useState(!1),[b,v]=g.useState(!1),[y,p]=g.useState(null),[f,j]=g.useState(null),k=(N,T)=>{const L=[...o];L[N]=T,l(L)},w=async N=>{if(N.preventDefault(),j(null),!(!e||h)){if(!n.trim()){j("Question is required");return}if(o.some(T=>!T.trim())){j("All options are required");return}x(!0);try{await s({question:n,options:o,correctOptionIndex:d,durationHours:u,adminId:e._id}),v(!0),setTimeout(()=>v(!1),5e3),i(""),l(["","","",""]),c(0)}catch(T){console.error(T),j(T.message||"Failed to create poll")}finally{x(!1)}}},C=async()=>{if(!(!y||!e))try{await a({pollId:y,adminId:e._id}),p(null)}catch(N){j(N.message||"Failed to close poll")}};return t===void 0?r.jsx("div",{className:"p-8",children:"Loading polls..."}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-light-text dark:text-dark-text mb-2",children:"Weekly Poll Management"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Create and manage wisdom polls for the Silver Pool game."})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsx(pe,{children:"Create New Poll"})}),r.jsx(R,{children:r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Question"}),r.jsx(de,{value:n,onChange:N=>i(N.target.value),placeholder:"Enter wisdom question...",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium",children:"Options"}),o.map((N,T)=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("div",{className:`w-6 h-6 rounded-full border flex items-center justify-center cursor-pointer transition-colors ${d===T?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-primary-500"}`,onClick:()=>c(T),title:"Mark as correct answer",children:d===T&&r.jsx(mt,{className:"w-4 h-4"})}),r.jsx(de,{value:N,onChange:L=>k(T,L.target.value),placeholder:`Option ${T+1}`,required:!0})]},T)),r.jsx("p",{className:"text-xs text-light-muted",children:"Click the circle to mark the correct answer."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Duration (Hours)"}),r.jsx(de,{type:"number",value:u,onChange:N=>m(Number(N.target.value)),min:1,max:168})]}),r.jsxs(ae,{children:[b&&r.jsxs(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-green-500/10 border border-green-500/20 rounded-2xl flex items-center gap-3 text-green-600 dark:text-green-400 mb-4",children:[r.jsx(_t,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"text-sm font-medium",children:"Poll created and broadcasted successfully!"})]}),f&&r.jsxs(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3 text-red-600 dark:text-red-400 mb-4",children:[r.jsx(_s,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"text-sm font-medium",children:f})]})]}),r.jsx(I,{type:"submit",isLoading:h,className:"w-full h-12 rounded-2xl font-bold tracking-wide",children:"Create Poll"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Recent Polls"}),t.length===0?r.jsx("p",{className:"text-light-muted",children:"No polls found."}):t.map(N=>{var L,A;const T=N.status==="active"&&Date.now()<N.expiresAt;return r.jsx(M,{className:"border border-light-border dark:border-dark-border group overflow-hidden",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase transition-colors ${T?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"bg-gray-500/10 text-gray-500 border border-gray-500/20"}`,children:T?"Active":"Closed"}),r.jsx("span",{className:"text-[10px] text-light-muted font-mono uppercase tracking-widest",children:new Date(N.createdAt).toLocaleDateString()})]}),r.jsx("h4",{className:"font-bold mb-2 line-clamp-2 text-sm leading-relaxed",children:N.question}),r.jsxs("div",{className:"flex justify-between items-center text-sm text-light-muted mb-2",children:[r.jsxs("span",{className:"text-xs font-medium",children:[N.totalVotes," Members Voted"]}),T&&r.jsx(I,{size:"sm",variant:"danger",className:"h-8 rounded-xl text-[10px] font-bold tracking-widest",onClick:()=>p(N._id),children:"CLOSE POLL"})]}),N.totalVotes>0&&r.jsxs("div",{className:"flex gap-4 text-[10px] pt-3 mt-1 border-t border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-600 dark:text-emerald-400 font-bold uppercase tracking-wider",children:[r.jsx(mt,{className:"w-3 h-3"}),((L=N.options.find(H=>H.id===N.correctOptionId))==null?void 0:L.voteCount)||0," Correct"]}),r.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 font-bold uppercase tracking-wider",children:[r.jsx(_s,{className:"w-3 h-3"}),N.totalVotes-(((A=N.options.find(H=>H.id===N.correctOptionId))==null?void 0:A.voteCount)||0)," Incorrect"]})]})]})},N._id)})]})]}),r.jsx(va,{isOpen:!!y,onClose:()=>p(null),onConfirm:C,title:"Close Poll",description:"Are you sure you want to end this poll early? No more votes will be accepted.",confirmText:"Close Poll",variant:"danger"})]})}function P6({isEmbedded:e=!1}){const{user:t,isLoading:s}=Y(),a=D(S.contacts.getContacts,t?{adminId:t._id}:"skip"),n=$(S.contacts.markContactAsRead),i=$(S.contacts.deleteContact),[o,l]=g.useState(null);if(s)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[r.jsx(Ht,{}),r.jsx(ja,{count:3})]})});if(!t)return r.jsx(Te,{to:"/login",replace:!0});if(t.role!=="admin"&&t.role!=="super_admin")return r.jsx(Te,{to:"/feed",replace:!0});const d=async u=>{try{await n({adminId:t._id,contactId:u})}catch(m){console.error("Failed to mark as read:",m)}},c=async u=>{if(confirm("Are you sure you want to delete this message?")){l(u);try{await i({adminId:t._id,contactId:u})}catch(m){console.error("Failed to delete contact:",m)}finally{l(null)}}};return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[!e&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"Contact Messages"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[(a==null?void 0:a.length)||0," total messages"]})]}),r.jsx(Kr,{className:"w-12 h-12 text-primary-500"})]}),a?r.jsxs("div",{className:"space-y-4",children:[e&&r.jsxs("p",{className:"text-light-muted dark:text-dark-muted mb-4 font-bold text-sm",children:[a.length||0," total messages"]}),a.length===0?r.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[r.jsx(Kr,{className:"w-16 h-16 mx-auto mb-4 text-light-muted dark:text-dark-muted opacity-50"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg",children:"No contact messages yet"})]}):r.jsx("div",{className:"space-y-4",children:a.map(u=>r.jsxs(P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`glass rounded-xl p-6 border ${u.read?"border-light-border dark:border-dark-border":"border-primary-500/50 bg-primary-50/30 dark:bg-primary-900/10"}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:u.subject}),!u.read&&r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary-500 text-white text-xs font-bold",children:"NEW"})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-semibold",children:u.name}),r.jsx("span",{children:""}),r.jsx("a",{href:`mailto:${u.email}`,className:"hover:text-primary-500 transition-colors",children:u.email}),r.jsx("span",{children:""}),r.jsx("span",{children:Rt(u.createdAt,{addSuffix:!0})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d(u._id),disabled:u.read,className:`p-2 rounded-lg transition-all ${u.read?"text-light-muted dark:text-dark-muted cursor-not-allowed":"text-primary-500 hover:bg-primary-100 dark:hover:bg-primary-900/20"}`,title:u.read?"Already read":"Mark as read",children:u.read?r.jsx(to,{className:"w-5 h-5"}):r.jsx(Ir,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>c(u._id),disabled:o===u._id,className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/20 transition-all disabled:opacity-50",title:"Delete message",children:r.jsx(Es,{className:"w-5 h-5"})})]})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text whitespace-pre-wrap",children:u.message})]},u._id))})]}):r.jsx(ja,{count:3})]})}function gj({isEmbedded:e=!1}){var In,Mn,_n,En;const{user:t}=Y(),s=ie(),[a,n]=g.useState(null),[i,o]=g.useState(""),[l,d]=g.useState(""),[c,u]=g.useState(""),[m,h]=g.useState(!1),[x,b]=g.useState(!1),[v,y]=g.useState(null),[p,f]=g.useState(null),[j,k]=g.useState(null),[w,C]=g.useState(null),N=D(S.chat.getConversations,t?{userId:t._id}:"skip"),T=D(S.chat.getMessages,a&&t?{conversationId:a,userId:t._id}:"skip"),L=D(S.users.getAllUsers,t?{adminId:t._id}:"skip"),A=D(S.settings.getChatEnabled),H=D(S.settings.getGlobalChatWallpaper),_=$(S.chat.sendMessage),X=$(S.chat.markAsRead),oe=$(S.chat.editMessage),E=$(S.chat.deleteMessage),V=$(S.chat.toggleReaction),re=$(S.users.updateChatWallpaper),F=g.useRef(null),B=g.useRef(null),W=g.useRef(null),Q=async z=>{var Kt;const ue=(Kt=z.target.files)==null?void 0:Kt[0];if(!(!ue||!t)){b(!0);try{const rt=await Nd(ue,"announcements");await re({userId:t._id,wallpaperUrl:rt})}catch(rt){console.error("Failed to upload wallpaper:",rt),alert("Failed to update wallpaper")}finally{b(!1)}}};g.useEffect(()=>{F.current&&(F.current.scrollTop=F.current.scrollHeight)},[T,a,v]),g.useEffect(()=>{B.current&&(B.current.style.height="auto",B.current.style.height=`${Math.min(B.current.scrollHeight,120)}px`)},[i]),g.useEffect(()=>{a&&t&&X({conversationId:a,userId:t._id})},[a,T,t,X]);const ce=async z=>{if(!(!i.trim()||!a||!t))try{if(p)await oe({messageId:p._id,userId:t._id,newText:i}),f(null);else{const ue=N==null?void 0:N.find(rt=>rt._id===a),Kt=(ue==null?void 0:ue.participantOne)===t._id?ue.participantTwo:ue==null?void 0:ue.participantOne;if(!Kt)return;await _({senderId:t._id,recipientId:Kt,text:i,replyToId:v==null?void 0:v._id}),y(null)}o("")}catch(ue){console.error("Failed to send/edit message:",ue)}},pt=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),ce())},J=g.useRef(null),le=g.useRef(!1),fe=z=>{le.current=!1,J.current=setTimeout(()=>{le.current=!0,C(z)},500)},or=()=>{J.current&&(clearTimeout(J.current),J.current=null)},Ma=async z=>{if(t)try{const ue=await _({senderId:t._id,recipientId:z,text:"Hi!"});n(ue),h(!1),u("")}catch(ue){console.error("Failed to start conversation:",ue)}},Qs=()=>{m?h(!1):a&&n(null)},Dt=N==null?void 0:N.filter(z=>{var ue;return(ue=z.otherUser)==null?void 0:ue.name.toLowerCase().includes(l.toLowerCase())}),Lt=L==null?void 0:L.filter(z=>z._id===(t==null?void 0:t._id)||!z.name.toLowerCase().includes(c.toLowerCase())?!1:t!=null&&t.role&&(t.role==="admin"||t.role==="super_admin")||A!==!1?!0:z.role==="admin"||z.role==="super_admin"),Mr=N==null?void 0:N.find(z=>z._id===a);return t?r.jsxs("div",{className:`${e?"relative w-full h-full":"fixed inset-0 z-[100]"} bg-light-bg dark:bg-dark-bg flex flex-col`,children:[r.jsx("input",{type:"file",ref:W,onChange:Q,className:"hidden",accept:"image/*"}),r.jsx("style",{children:`
                .custom-thin-scrollbar::-webkit-scrollbar {
                    width: 4px;
                }
                .custom-thin-scrollbar::-webkit-scrollbar-track {
                    background: transparent;
                }
                .custom-thin-scrollbar::-webkit-scrollbar-thumb {
                    background: #9ca3af;
                    border-radius: 10px;
                }
                .dark .custom-thin-scrollbar::-webkit-scrollbar-thumb {
                    background: #4b5563;
                }
            `}),r.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[r.jsxs("div",{className:`${a?"hidden md:flex":"flex"} md:w-[380px] flex-col border-r border-light-border dark:border-dark-border bg-white dark:bg-dark-card flex-shrink-0 w-full relative`,children:[r.jsx("div",{className:"p-4 border-b border-light-border dark:border-dark-border bg-white dark:bg-dark-card flex-shrink-0",children:r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>s("/feed"),className:"md:hidden p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 -ml-2",children:r.jsx(xr,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-xl md:text-2xl font-bold text-light-text dark:text-dark-text",children:"Messages"})]})})}),r.jsx("div",{className:"p-3 border-b border-light-border dark:border-dark-border flex-shrink-0 bg-white dark:bg-dark-card",children:r.jsxs("div",{className:"relative",children:[r.jsx(tt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search conversations...",value:l,onChange:z=>d(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 border-none text-sm focus:ring-2 focus:ring-primary-500"})]})}),m&&r.jsxs("div",{className:"absolute inset-x-0 top-0 bottom-[60px] z-20 bg-white dark:bg-dark-card flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex-shrink-0 bg-white dark:bg-dark-card",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("button",{onClick:()=>h(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:r.jsx(xr,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-lg font-bold",children:"New Message"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(tt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search users...",value:c,onChange:z=>u(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-100 dark:bg-gray-800 border-none text-sm focus:ring-2 focus:ring-primary-500",autoFocus:!0})]}),A===!1&&(t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"&&r.jsx("div",{className:"px-4 py-2 bg-yellow-50 dark:bg-yellow-900/10 text-yellow-600 dark:text-yellow-400 text-xs rounded-lg mx-4",children:"Chat is currently disabled. You can only contact admins."})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-thin-scrollbar",children:L?Lt==null?void 0:Lt.map(z=>r.jsxs("div",{onClick:()=>Ma(z._id),className:"flex items-center gap-3 p-4 hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors border-b border-light-border/50 dark:border-dark-border/50",children:[r.jsx(lt,{src:z.avatarUrl,alt:z.name,className:"w-12 h-12"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 truncate",children:z.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:z.email})]})]},z._id)):r.jsx("div",{className:"p-4",children:r.jsx(eg,{count:8})})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-thin-scrollbar",children:N?(Dt==null?void 0:Dt.length)===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[r.jsx(Vt,{className:"w-16 h-16 text-gray-300 dark:text-gray-700 mb-4"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No conversations yet"}),r.jsx("button",{onClick:()=>h(!0),className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-xl text-sm font-semibold hover:bg-primary-600 transition-colors",children:"Start a conversation"})]}):Dt==null?void 0:Dt.map(z=>{var ue,Kt,rt;return r.jsxs("div",{onClick:()=>n(z._id),className:`flex items-center gap-3 p-4 cursor-pointer transition-colors border-b border-light-border/50 dark:border-dark-border/50 ${a===z._id?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[r.jsx(lt,{src:(ue=z.otherUser)==null?void 0:ue.avatarUrl,alt:((Kt=z.otherUser)==null?void 0:Kt.name)||"User",className:"w-12 h-12"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[r.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 truncate",children:(rt=z.otherUser)==null?void 0:rt.name}),r.jsx("span",{className:"text-[10px] text-gray-500 ml-2 flex-shrink-0",children:Rt(z.updatedAt,{addSuffix:!1})})]}),r.jsxs("p",{className:`text-xs truncate ${!z.isRead&&z.lastMessageSenderId!==(t==null?void 0:t._id)?"font-bold text-gray-900 dark:text-gray-100":"text-gray-500"}`,children:[z.lastMessageSenderId===(t==null?void 0:t._id)?"You: ":"",z.lastMessageText||"Start a conversation"]})]}),!z.isRead&&z.lastMessageSenderId!==(t==null?void 0:t._id)&&r.jsx("div",{className:"w-2.5 h-2.5 bg-primary-500 rounded-full flex-shrink-0"})]},z._id)}):r.jsx("div",{className:"p-4",children:r.jsx(eg,{count:6})})}),r.jsxs("div",{className:"flex-shrink-0 bg-white dark:bg-dark-card border-t border-light-border dark:border-dark-border py-2 px-6 flex justify-center gap-10 md:gap-16 items-center",children:[r.jsxs("button",{onClick:Qs,className:`flex flex-col items-center gap-1 ${m?"text-light-muted dark:text-dark-muted hover:text-primary-500":"text-primary-500"}`,children:[r.jsx(vt,{className:"w-6 h-6 md:w-7 md:h-7 fill-current"}),r.jsx("span",{className:"text-[10px] font-bold",children:"Chats"})]}),r.jsxs("button",{onClick:()=>h(!0),className:`flex flex-col items-center gap-1 -mt-6 ${m?"text-primary-500":"text-light-muted dark:text-dark-muted hover:text-primary-500"}`,children:[r.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white shadow-lg ${m?"bg-primary-600 ring-4 ring-primary-100":"bg-primary-500 shadow-primary-500/30"}`,children:r.jsx(Vt,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("span",{className:"text-[10px] font-bold mt-1",children:"New Chat"})]}),r.jsxs(ee,{to:"/feed",className:"flex flex-col items-center gap-1 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[r.jsx(Ws,{className:"w-6 h-6 md:w-7 md:h-7"}),r.jsx("span",{className:"text-[10px] font-bold",children:"Feed"})]})]})]}),r.jsxs("div",{className:`${a?"flex":"hidden md:flex"} flex-1 flex-col bg-gray-50 dark:bg-gray-900 ${a?"fixed inset-0 md:relative z-[200] md:z-auto":""} relative overflow-hidden`,children:[((t==null?void 0:t.chatWallpaperUrl)||H)&&r.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center opacity-30 dark:opacity-20 pointer-events-none",style:{backgroundImage:`url(${(t==null?void 0:t.chatWallpaperUrl)||H})`,filter:"blur(3px)"}}),a&&Mr?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 bg-white/90 dark:bg-dark-card/90 backdrop-blur-md border-b border-light-border dark:border-dark-border flex items-center gap-3 flex-shrink-0 z-10",children:[r.jsx("button",{onClick:()=>n(null),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 -ml-2",children:r.jsx(xr,{className:"w-5 h-5"})}),r.jsx(lt,{src:(In=Mr.otherUser)==null?void 0:In.avatarUrl,alt:((Mn=Mr.otherUser)==null?void 0:Mn.name)||"User",className:"w-10 h-10"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:(_n=Mr.otherUser)==null?void 0:_n.name}),r.jsx("p",{className:"text-xs text-gray-500",children:((En=Mr.otherUser)==null?void 0:En.role)||"Member"})]}),r.jsx("button",{onClick:()=>{var z;return(z=W.current)==null?void 0:z.click()},disabled:x,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 transition-colors",title:"Change Chat Wallpaper",children:x?r.jsx(ro,{className:"w-5 h-5 animate-spin"}):r.jsx(Cs,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-thin-scrollbar overflow-x-hidden relative z-10",ref:F,children:T?T.length===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("div",{className:"text-center text-gray-500 text-sm",children:"No messages yet. Say hi!"})}):r.jsx("div",{className:"space-y-4 pb-2",children:T.map(z=>{const ue=z.senderId===(t==null?void 0:t._id);return z.isDeleted?r.jsx("div",{className:`flex ${ue?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-xs text-gray-500 italic flex items-center gap-2",children:[r.jsx(Es,{className:"w-3 h-3"})," This message was deleted"]})},z._id):r.jsx("div",{className:`group relative flex ${ue?"justify-end":"justify-start"} mb-2`,onMouseEnter:()=>k(z._id),onMouseLeave:()=>k(null),children:r.jsxs(P.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(rt,he)=>{he.offset.x<-50&&y(z)},whileDrag:{scale:1.02},className:"relative max-w-[85%] md:max-w-[70%]",onTouchStart:()=>fe(z),onTouchEnd:or,children:[j===z._id&&r.jsx("div",{className:`absolute top-0 ${ue?"-left-8":"-right-8"} z-20 flex flex-col`,children:r.jsx("button",{className:"p-1 rounded-full bg-gray-200 dark:bg-gray-700 shadow-sm hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:rt=>{rt.stopPropagation(),C(z)},children:r.jsx(ts,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})}),r.jsxs("div",{className:`flex flex-col ${ue?"items-end":"items-start"}`,children:[z.replyTo&&r.jsxs("div",{className:`mb-1 text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-800 border-l-2 border-primary-500 w-full opacity-80 ${z.replyTo.isDeleted?"italic":""}`,children:[r.jsx("span",{className:"font-bold block text-primary-500",children:z.replyTo.senderName}),z.replyTo.isDeleted?"Message deleted":z.replyTo.text.length>50?z.replyTo.text.substring(0,50)+"...":z.replyTo.text]}),r.jsxs("div",{className:`px-4 py-2 rounded-2xl text-sm whitespace-pre-wrap break-words shadow-sm ${ue?"bg-primary-500 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-bl-none shadow-sm"}`,style:{wordBreak:"break-word",overflowWrap:"break-word"},children:[z.text,r.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 opacity-70 ${ue?"text-white/80":"text-gray-500"}`,children:[z.isEdited&&r.jsx("span",{children:"(edited)"}),Rt(z.createdAt,{addSuffix:!1})]})]}),z.reactions&&z.reactions.length>0&&r.jsx(P.div,{initial:{scale:0},animate:{scale:1},className:`flex -mt-2 ${ue?"mr-2":"ml-2"} z-10`,children:z.reactions.map((rt,he)=>r.jsx("span",{className:"text-xs bg-white dark:bg-gray-800 rounded-full shadow border border-gray-100 dark:border-gray-700 w-5 h-5 flex items-center justify-center",children:rt.emoji},he))})]})]})},z._id)})}):r.jsx(HA,{})}),r.jsxs("div",{className:"p-3 md:p-4 bg-white/90 dark:bg-dark-card/90 backdrop-blur-md border-t border-light-border dark:border-dark-border flex-shrink-0 w-full z-10 transition-colors",children:[r.jsx(ae,{children:(v||p)&&r.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between px-3 py-2 mb-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm border-l-4 border-primary-500",children:[r.jsxs("div",{className:"flex flex-col justify-center text-gray-600 dark:text-gray-300",children:[r.jsx("span",{className:"font-bold text-xs text-primary-500",children:p?"Editing Message":`Replying to ${v.senderId===(t==null?void 0:t._id)?"yourself":"them"}`}),r.jsx("span",{className:"text-xs truncate max-w-[200px] opacity-70",children:p?p.text:v.text})]}),r.jsx("button",{onClick:()=>{y(null),f(null),o("")},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:r.jsx(Le,{className:"w-4 h-4"})})]})}),r.jsxs("div",{className:"flex gap-2 items-end",children:[r.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-800 rounded-2xl border-none focus-within:ring-2 focus-within:ring-primary-500 transition-all min-h-[44px]",children:r.jsx("textarea",{ref:B,value:i,onChange:z=>o(z.target.value),onKeyDown:pt,placeholder:p?"Edit your message...":"Type a message...",className:"w-full px-4 py-3 bg-transparent border-none focus:ring-0 resize-none overflow-hidden text-sm text-gray-900 dark:text-gray-100 scrollbar-none",style:{minHeight:"44px"},rows:1})}),r.jsx(I,{onClick:()=>ce(),size:"icon",disabled:!i.trim(),className:"rounded-full w-12 h-12 flex-shrink-0 mb-[1px]",children:r.jsx(Vi,{className:"w-5 h-5"})})]})]}),r.jsx(ae,{children:w&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 z-[110]",onClick:()=>C(null)}),r.jsxs(P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"absolute bottom-4 left-4 right-4 md:left-auto md:right-auto md:w-[300px] md:bottom-20 bg-white dark:bg-[#222] rounded-2xl p-2 shadow-2xl z-[120] flex flex-col gap-1 md:left-1/2 md:-translate-x-1/2",style:{},children:[r.jsx("div",{className:"flex items-center justify-around p-2 border-b border-gray-100 dark:border-gray-800 pb-2",children:["","","","","",""].map(z=>r.jsx("button",{onClick:()=>{V({messageId:w._id,userId:t._id,emoji:z}),C(null)},className:"text-xl hover:scale-125 transition-transform",children:z},z))}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm font-medium",onClick:()=>{y(w),C(null)},children:[r.jsx(O5,{className:"w-4 h-4"})," Reply"]}),w.senderId===(t==null?void 0:t._id)&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-sm font-medium",onClick:()=>{f(w),o(w.text),C(null)},children:[r.jsx(ph,{className:"w-4 h-4"})," Edit"]}),r.jsxs("button",{className:"w-full text-left p-3 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 flex items-center gap-3 text-sm font-medium",onClick:()=>{E({messageId:w._id,userId:t._id}),C(null)},children:[r.jsx(Es,{className:"w-4 h-4"})," Delete"]})]})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vt,{className:"w-24 h-24 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Choose from your existing conversations or start a new one"})]})})]})]})]}):(s("/login"),null)}function A6(){const[e,t]=g.useState("contacts");return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-[calc(100vh-theme(spacing.24))] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex-shrink-0 mb-4 px-1",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400",children:"Communications"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage contact requests and live chat interactions"})]})}),r.jsxs("div",{className:"flex gap-2 p-1 bg-light-card dark:bg-dark-card rounded-xl border border-light-border dark:border-dark-border w-fit",children:[r.jsxs("button",{onClick:()=>t("contacts"),className:`
                            flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all
                            ${e==="contacts"?"bg-primary-500 text-white shadow-md":"text-light-muted dark:text-dark-muted hover:bg-gray-100 dark:hover:bg-gray-800"}
                        `,children:[r.jsx(Kr,{className:"w-4 h-4"}),"Contact Requests"]}),r.jsxs("button",{onClick:()=>t("live-chat"),className:`
                             flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all
                            ${e==="live-chat"?"bg-primary-500 text-white shadow-md":"text-light-muted dark:text-dark-muted hover:bg-gray-100 dark:hover:bg-gray-800"}
                        `,children:[r.jsx(vt,{className:"w-4 h-4"}),"Live Chat"]})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden relative rounded-2xl border border-light-border dark:border-dark-border bg-white dark:bg-dark-card shadow-sm",children:r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e==="contacts"?r.jsx("div",{className:"h-full overflow-y-auto p-6 custom-thin-scrollbar",children:r.jsx(P6,{})}):r.jsx("div",{className:"h-full w-full",children:r.jsx(gj,{isEmbedded:!0})})})})]})}function I6(){const{user:e,isLoading:t}=Y(),s=D(S.responses.getMyResponses,e!=null&&e._id?{userId:e._id}:"skip");return t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs("div",{className:"mb-6 md:mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Responses"}),r.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View all your responses and grades"})]}),s&&s.length>0&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:s.length})]}),r.jsx(Vt,{className:"w-8 h-8 text-primary-500 opacity-20"})]})})}),r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),r.jsx("p",{className:"text-2xl font-bold text-green-500",children:s.filter(a=>a.grade!==void 0).length})]}),r.jsx(ps,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),r.jsx(M,{glass:!0,children:r.jsx(R,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Avg Grade"}),r.jsx("p",{className:"text-2xl font-bold text-accent-500",children:s.filter(a=>a.grade!==void 0).length>0?Math.round(s.filter(a=>a.grade!==void 0).reduce((a,n)=>a+(n.grade||0),0)/s.filter(a=>a.grade!==void 0).length):0})]}),r.jsx(ye,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})})]}),r.jsx("div",{className:"space-y-4",children:s&&s.length>0?s.map(a=>{const n=a.grade?a.grade>=80?"text-green-500":a.grade>=50?"text-yellow-500":"text-red-500":"text-light-muted dark:text-dark-muted";return r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(pe,{className:"text-lg mb-2",children:a.postTitle}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-light-muted dark:text-dark-muted",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ut,{className:"w-4 h-4"}),new Date(a.createdAt).toLocaleDateString()]}),r.jsx(q,{variant:"default",children:a.category})]})]}),a.grade!==void 0&&r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:`text-3xl font-bold ${n}`,children:a.grade}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"/ 100"})]})]})}),r.jsx(R,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2",children:"Your Response"}),r.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text",children:a.content})]}),a.feedback&&r.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4 text-accent-500"}),"Admin Feedback"]}),r.jsxs("div",{className:"bg-accent-50 dark:bg-accent-900/20 p-3 rounded-lg text-sm text-light-text dark:text-dark-text italic border-l-4 border-accent-500",children:['"',a.feedback,'"']})]}),a.grade===void 0&&r.jsx("div",{className:"text-center p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800",children:r.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:" Waiting for admin to grade"})}),a.rewardStatus==="paid"&&r.jsxs(P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"text-center p-4 rounded-xl bg-gradient-to-r from-green-500/10 via-green-500/20 to-green-500/10 border border-green-500/30 shadow-lg shadow-green-500/10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 font-bold uppercase tracking-tight",children:[r.jsx(ye,{className:"w-5 h-5 animate-bounce"}),r.jsx("span",{children:"Official Reward Paid!"}),r.jsx(ye,{className:"w-5 h-5 animate-bounce"})]}),r.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"Check your bank account/wallet for the transfer."})]})]})})]},a._id)}):r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-12 text-center text-light-muted",children:[r.jsx(Vt,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),r.jsx("p",{className:"mb-2",children:"You haven't submitted any responses yet"}),r.jsx("p",{className:"text-sm",children:'Look for admin posts with "Official Response" enabled and submit your answers!'})]})})})]})}):r.jsx(Te,{to:"/login",replace:!0})}const M6=`
  .premium-scrollbar::-webkit-scrollbar {
    height: 5px;
    width: 5px;
  }
  .premium-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
  }
`,tg=[{key:"gold",label:"Comments",icon:Vt,color:"from-yellow-500 to-amber-600"},{key:"silver",label:"Games",icon:gy,color:"from-gray-400 to-gray-600"},{key:"diamond",label:"Challenge",icon:pr,color:"from-emerald-500 to-teal-600"}];function _6(){const[e,t]=g.useState("gold"),s=ie(),a=D(S.wallets.getLeaderboard,e!=="diamond"?{poolType:e,limit:50}:"skip"),n=D(S.wordUnderPressure.getDiamondLeaderboard,e==="diamond"?{limit:50}:"skip"),i=e==="diamond"?n:a,o=tg.find(l=>l.key===e);return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[r.jsx("style",{children:M6}),r.jsx("div",{className:"gradient-primary text-white py-8 px-4 md:px-8",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("button",{onClick:()=>s("/feed"),className:"flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[r.jsx(xr,{className:"w-5 h-5"}),"Back to Feed"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center",children:r.jsx(ye,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-display font-bold",children:"Leaderboard"}),r.jsx("p",{className:"text-white/80",children:"Top performers across all categories"}),e==="diamond"&&r.jsxs("button",{onClick:()=>s("/diamond-challenge"),className:"mt-4 px-6 py-2 bg-emerald-500 text-white rounded-full font-bold text-sm hover:bg-emerald-400 transition-colors shadow-lg flex items-center gap-2 border-2 border-emerald-400/50",children:[r.jsx(pr,{className:"w-4 h-4"}),"Play Challenge"]})]})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 premium-scrollbar",children:tg.map(l=>{const d=l.icon,c=e===l.key;return r.jsxs("button",{onClick:()=>t(l.key),className:K("flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all whitespace-nowrap",c?"bg-white text-primary-500":"bg-white/10 text-white/70 hover:bg-white/20"),children:[r.jsx(d,{className:"w-5 h-5"}),l.label]},l.key)})})]})}),r.jsx("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-8",children:i?i.length===0?r.jsx(M,{glass:!0,children:r.jsxs(R,{className:"p-8 text-center",children:[r.jsx(ye,{className:"w-16 h-16 text-primary-300 mx-auto mb-4"}),r.jsx("p",{className:"text-lg text-light-muted dark:text-dark-muted",children:"No entries yet for this category."}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-2",children:["Be the first to earn Rubies in the ",o.label," pool!"]})]})}):r.jsx("div",{className:"space-y-4",children:i.map((l,d)=>r.jsx(E6,{entry:l,rank:l.rank,tabColor:o.color,activeTab:e},l.userId))}):r.jsx("div",{className:"text-center text-light-muted dark:text-dark-muted py-12",children:"Loading leaderboard..."})})]})}function E6({entry:e,rank:t,tabColor:s,activeTab:a}){let n=null,i="bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border";return t===1?(n=r.jsx(ye,{className:"w-7 h-7 text-yellow-500"}),i="bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-400 dark:border-yellow-600 shadow-lg shadow-yellow-500/20"):t===2?(n=r.jsx(Xo,{className:"w-7 h-7 text-gray-400"}),i="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900/20 dark:to-gray-800/20 border-2 border-gray-300 dark:border-gray-600 shadow-md shadow-gray-500/10"):t===3&&(n=r.jsx(Xo,{className:"w-7 h-7 text-orange-500"}),i="bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-2 border-orange-400 dark:border-orange-600 shadow-md shadow-orange-500/10"),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},className:K("flex items-center gap-3 sm:gap-4 p-3 sm:p-5 rounded-2xl border transition-all hover:scale-[1.02]",i),children:[r.jsx("div",{className:"hidden md:flex flex-shrink-0 w-14 text-center font-bold text-2xl items-center justify-center",children:n||r.jsxs("span",{className:"text-light-muted dark:text-dark-muted",children:["#",t]})}),r.jsxs(ee,{to:`/profile/${e.userId}`,className:"relative flex-shrink-0 hover:opacity-80 transition-opacity",children:[r.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600 ring-2 ring-white dark:ring-dark-border",children:e.userAvatar?r.jsx("img",{src:e.userAvatar,alt:e.userName,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-xl",children:e.userName[0]})}),r.jsx("div",{className:"absolute -top-1 -left-1 md:hidden w-6 h-6 rounded-full bg-white dark:bg-dark-card border border-light-border dark:border-dark-border flex items-center justify-center shadow-sm z-10 text-xs font-bold",children:t<=3?t===1?r.jsx(ye,{className:"w-3.5 h-3.5 text-yellow-500"}):r.jsx(Xo,{className:K("w-3.5 h-3.5",t===2?"text-gray-400":"text-orange-500")}):`#${t}`})]}),r.jsxs("div",{className:"flex-1 min-w-0 pr-1",children:[r.jsx(ee,{to:`/profile/${e.userId}`,className:"font-bold text-base sm:text-xl text-light-text dark:text-dark-text truncate hover:text-primary-500 transition-colors block leading-tight",children:e.userName}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-0.5 sm:gap-4 mt-0.5 sm:mt-1 text-xs sm:text-sm text-light-muted dark:text-dark-muted",children:a==="diamond"?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"truncate font-medium text-emerald-500 dark:text-emerald-400",children:[e.totalWins," Correct"]}),r.jsxs("span",{className:"flex items-center gap-1 truncate text-light-muted dark:text-dark-muted",children:["Attempts: ",e.currentStreak]})]}):e.totalWins!==void 0?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"truncate font-medium text-blue-500 dark:text-blue-400",children:[e.totalWins," Wins"]}),r.jsxs("span",{className:"flex items-center gap-1 truncate text-light-muted dark:text-dark-muted",children:["Streak: ",e.currentStreak]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"truncate",children:[e.earnedRubies," Rubies"]}),e.badgeCount>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ye,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.badgeCount," badge",e.badgeCount!==1?"s":""]})]})})]}),r.jsxs("div",{className:"flex flex-col items-end gap-0.5 sm:gap-1 pl-1 shrink-0",children:[r.jsx("div",{className:K("text-lg sm:text-3xl font-bold bg-gradient-to-r bg-clip-text text-transparent truncate max-w-[80px] sm:max-w-none text-right",s),children:e.currentBalance}),r.jsx("div",{className:"text-[9px] sm:text-xs text-light-muted dark:text-dark-muted uppercase tracking-wider font-medium",children:a==="diamond"?"Best Time":"Balance"}),r.jsx("button",{onClick:o=>{o.preventDefault()},className:"mt-0.5 sm:mt-1 p-1 sm:p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 hover:text-red-500 transition-colors",children:r.jsx(qs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})}function R6(){var i,o,l;const{postId:e}=Ta(),t=D(S.posts.getPost,{postId:e}),s=D(S.responses.getPostResponses,{postId:e});if(!t||!s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const a=s.slice(0,5),n=s.slice(5,10);return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[r.jsx(Qe,{}),r.jsxs("div",{className:"mb-8 p-6 glass rounded-2xl border border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-transparent",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(lt,{src:(i=t.author)==null?void 0:i.avatarUrl,alt:((o=t.author)==null?void 0:o.name)||"Admin",size:"sm"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-light-text dark:text-dark-text",children:(l=t.author)==null?void 0:l.name}),r.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted flex items-center gap-1",children:[r.jsx(ut,{className:"w-3 h-3"}),Rt(t.createdAt,{addSuffix:!0})]})]})]}),r.jsxs("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base whitespace-pre-wrap italic opacity-80",children:['"',t.content,'"']})]}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[r.jsx(Vt,{className:"w-6 h-6 text-primary-500"}),"Official Responses"]}),r.jsxs(q,{variant:"primary",className:"px-3 py-1",children:[s.length," Total"]})]}),r.jsxs("div",{className:"space-y-8",children:[a.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold uppercase tracking-wider text-xs",children:[r.jsx(ye,{className:"w-4 h-4"}),"Top Tier Responders (1-5)"]}),r.jsx("div",{className:"grid gap-4",children:a.map((d,c)=>r.jsx(rg,{response:d,rank:c+1,tier:"gold"},d._id))})]}),n.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-secondary-600 dark:text-secondary-400 font-bold uppercase tracking-wider text-xs",children:[r.jsx(Xo,{className:"w-4 h-4"}),"Second Tier Responders (6-10)"]}),r.jsx("div",{className:"grid gap-4",children:n.map((d,c)=>r.jsx(rg,{response:d,rank:c+6,tier:"silver"},d._id))})]}),s.length===0&&r.jsxs("div",{className:"text-center py-12 glass rounded-xl border-dashed border-2 border-light-border dark:border-dark-border",children:[r.jsx(Vt,{className:"w-12 h-12 text-light-muted mx-auto mb-4 opacity-30"}),r.jsx("p",{className:"text-light-muted",children:"No responses yet for this post."})]})]})]})})}function rg({response:e,rank:t,tier:s}){const a=s==="gold";return r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:`flex flex-col md:flex-row gap-4 p-5 rounded-2xl border transition-all ${a?"bg-primary-500/5 border-primary-500/30":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx(lt,{src:e.userAvatar,alt:e.userName,size:"md"}),r.jsxs("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg ${a?"bg-primary-500":"bg-secondary-500"}`,children:["#",t]})]}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text",children:e.userName}),r.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:Rt(e.createdAt,{addSuffix:!0})})]}),r.jsx("p",{className:"text-sm text-light-text dark:text-dark-text leading-relaxed",children:e.content}),e.grade!==void 0&&r.jsxs("div",{className:"pt-3 flex flex-wrap gap-2 items-center",children:[r.jsxs(q,{variant:e.grade>=70?"success":"primary",className:"text-[10px] font-bold uppercase transition-all hover:scale-105",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&r.jsxs(q,{variant:"warning",className:"text-[10px] flex items-center gap-1 animate-pulse",children:[r.jsx(ye,{className:"w-3 h-3"}),"Awarded"]}),e.feedback&&r.jsxs("div",{className:"w-full mt-2 p-3 rounded-lg bg-light-bg dark:bg-dark-bg/50 border border-light-border dark:border-dark-border/50 italic text-xs text-light-muted",children:['Admin feedback: "',e.feedback,'"']})]})]})]})})}function dn(){return r.jsxs("div",{className:"flex gap-3 animate-pulse",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-light-border dark:bg-dark-border"}),r.jsxs("div",{className:"flex-1 bg-light-card dark:bg-dark-card rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 w-24 bg-light-border dark:bg-dark-border rounded"}),r.jsx("div",{className:"h-3 w-16 bg-light-border dark:bg-dark-border rounded"})]}),r.jsx("div",{className:"h-3 w-full bg-light-border dark:bg-dark-border rounded"}),r.jsx("div",{className:"h-3 w-3/4 bg-light-border dark:bg-dark-border rounded"})]})]})}function sg({postId:e,isPrayer:t=!1}){const{user:s}=Y(),[a,n]=g.useState(""),[i,o]=g.useState(!1),[l,d]=g.useState(null),c=D(S.comments.getComments,{postId:e}),u=D(S.comments.getCommentSettings,{}),m=$(S.comments.createComment),h=async(y,p)=>{y.preventDefault();const f=a;if(!(!s||!f.trim()||i)){o(!0);try{await m({postId:e,authorId:s._id,content:f.trim(),parentId:p}),n(""),d(null)}catch(j){console.error("Failed to create comment:",j),alert(j instanceof Error?j.message:"Failed to post comment")}finally{o(!1)}}},b=(()=>{if(!c)return[];const y=[],p=new Map;return c.forEach(f=>{p.set(f._id,{...f,replies:[]})}),c.forEach(f=>{if(f.parentId){const j=p.get(f.parentId);j&&j.replies.push(p.get(f._id))}else y.push(p.get(f._id))}),y})(),v=({comment:y,isReply:p=!1})=>{var f,j,k,w,C,N,T,L;return r.jsxs("div",{className:`flex gap-2 md:gap-3 ${p?"ml-8 md:ml-12 mt-2":""} group`,children:[r.jsx(ee,{to:`/profile/${(f=y.author)==null?void 0:f._id}`,className:"shrink-0 mt-1",children:r.jsx(lt,{src:(j=y.author)==null?void 0:j.avatarUrl,alt:((k=y.author)==null?void 0:k.name)||"User",size:p?"xs":"sm"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-2xl px-3 py-2 md:px-4 md:py-2.5 inline-block max-w-full shadow-sm border border-light-border/50 dark:border-dark-border/50",children:[r.jsxs(ee,{to:`/profile/${(w=y.author)==null?void 0:w._id}`,className:"font-bold text-sm text-light-text dark:text-dark-text hover:underline block mb-0.5 truncate",children:[((C=y.author)==null?void 0:C.name)||"Unknown User",((N=y.author)==null?void 0:N.role)==="admin"&&r.jsx(qe,{className:"w-3 h-3 inline-block ml-1 text-primary-500"})]}),r.jsx("p",{className:"text-sm text-light-text dark:text-dark-text break-words leading-relaxed whitespace-pre-wrap",children:y.content})]}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 ml-2",children:[r.jsx("span",{className:"text-[11px] md:text-xs text-light-muted dark:text-dark-muted font-medium",children:Rt(y.createdAt,{addSuffix:!0})}),!p&&s&&r.jsx("button",{onClick:()=>d(l===y._id?null:y._id),className:"text-[11px] md:text-xs font-bold text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:"Reply"})]})]}),l===y._id&&r.jsxs(P.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:A=>h(A,y._id),className:"mt-3 flex gap-2",children:[r.jsx(lt,{src:s==null?void 0:s.avatarUrl,size:"xs",className:"hidden md:block"}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:a,onChange:A=>n(A.target.value),placeholder:`Reply to ${(T=y.author)==null?void 0:T.name}...`,className:"w-full pl-3 pr-10 py-2 text-sm rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0}),r.jsx("button",{type:"submit",disabled:!a.trim()||i,className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg disabled:opacity-50",children:r.jsx(Vi,{className:"w-4 h-4"})})]})]}),((L=y.replies)==null?void 0:L.length)>0&&r.jsx("div",{className:"space-y-3 mt-3 relative before:absolute before:left-[-1.5rem] before:top-2 before:bottom-4 before:w-px before:bg-light-border/50 dark:before:bg-dark-border/50 md:before:hidden",children:y.replies.map(A=>r.jsx(v,{comment:A,isReply:!0},A._id))})]})]})};return u===void 0||u===!1?r.jsx("div",{className:"mt-4 p-4 rounded-lg bg-light-card dark:bg-dark-card text-center",children:r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Comments are currently disabled"})}):r.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border space-y-4",children:[s&&r.jsxs("form",{onSubmit:y=>h(y),className:"flex items-start gap-2 md:gap-3",children:[r.jsx("div",{className:"mt-1 flex-shrink-0",children:r.jsx(lt,{src:s.avatarUrl,alt:s.name,size:"sm"})}),r.jsxs("div",{className:"flex-1 min-w-0 relative",children:[r.jsx("textarea",{value:l?"":a,onChange:y=>{d(null),n(y.target.value)},placeholder:t?"Join us in praying this prayer...":"Write a comment...",className:`w-full px-4 py-2.5 pr-12 rounded-2xl border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:border-transparent resize-none overflow-hidden min-h-[44px] max-h-32 text-sm md:text-base transition-all ${t?"border-purple-200 dark:border-purple-900/30 focus:ring-purple-500 placeholder:text-purple-400/70":"border-light-border dark:border-dark-border focus:ring-primary-500"}`,disabled:i,rows:1,onInput:y=>{const p=y.target;p.style.height="auto",p.style.height=`${p.scrollHeight}px`}}),r.jsx("button",{type:"submit",disabled:!l&&!a.trim()||i,className:"absolute right-1.5 bottom-1.5 p-2 rounded-xl bg-primary-500 hover:bg-primary-600 text-white transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center shadow-lg shadow-primary-500/20 active:scale-95",children:t?r.jsx(hh,{className:"w-4 h-4 md:w-5 md:h-5"}):r.jsx(Vi,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),c?b.length>0?r.jsx("div",{className:"space-y-4",children:b.map(y=>r.jsx(v,{comment:y},y._id))}):r.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:r.jsx("p",{children:t?"No prayers yet. Be the first to join in prayer!":"No comments yet. Be the first to share your thoughts!"})}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(dn,{}),r.jsx(dn,{}),r.jsx(dn,{})]})]})}function D6({postId:e}){const{user:t}=Y(),[s,a]=g.useState(""),[n,i]=g.useState(!1),o=D(S.questions.getQuestionsByPost,{postId:e,publicOnly:!0}),l=D(S.questions.getUserQuestionsOnPost,t!=null&&t._id?{userId:t._id,postId:e}:"skip"),d=$(S.questions.submitQuestion),c=[...o||[]];l&&l.forEach(m=>{c.some(h=>h._id===m._id)||c.push({...m,userName:(t==null?void 0:t.name)||"Me",userAvatar:t==null?void 0:t.avatarUrl,adminName:void 0,adminAvatar:void 0})}),c.sort((m,h)=>h.createdAt-m.createdAt);const u=async m=>{if(m.preventDefault(),!(!t||!s.trim())){i(!0);try{await d({userId:t._id,postId:e,questionText:s.trim()}),a("")}catch(h){console.error("Failed to submit question:",h),alert("Failed to submit question. Please try again.")}finally{i(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[t&&(!l||l.length===0)&&r.jsxs("form",{onSubmit:u,className:"relative",children:[r.jsx("textarea",{value:s,onChange:m=>a(m.target.value),placeholder:"Ask a question about this teaching...",className:"w-full min-h-[100px] p-4 pr-12 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 text-sm resize-none"}),r.jsx(I,{type:"submit",disabled:!s.trim()||n,size:"sm",className:"absolute bottom-3 right-3",children:n?"Sending...":r.jsx(Vi,{className:"w-4 h-4"})})]}),t&&l&&l.length>0&&r.jsxs("div",{className:"text-center py-4 text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/10 rounded-xl border border-green-100 dark:border-green-900/30",children:[r.jsx(zt,{className:"w-5 h-5 mx-auto mb-2"}),r.jsx("p",{className:"font-medium",children:"Question Submitted"}),r.jsx("p",{className:"text-xs opacity-80",children:"You can only ask one question per post."})]}),!t&&r.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Please log in to ask a question"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:["Questions (",c.length,")"]}),c.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No questions yet. Be the first to ask!"}):r.jsx("div",{className:"space-y-4",children:c.map(m=>r.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border border-gray-100 dark:border-gray-800 bg-white dark:bg-[#1A1A1A] shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lt,{src:m.userAvatar,alt:m.userName||"User",size:"sm"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:m.userName}),r.jsx("p",{className:"text-[10px] text-light-muted",children:Rt(m.createdAt,{addSuffix:!0})})]})]}),m.isPublic?r.jsx("div",{title:"Public",className:"text-green-500",children:r.jsx(mh,{className:"w-3.5 h-3.5"})}):r.jsx("div",{title:"Private",className:"text-gray-400",children:r.jsx(rr,{className:"w-3.5 h-3.5"})})]}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3 pl-10",children:m.questionText}),m.isAnswered?r.jsxs("div",{className:"ml-10 mt-3 p-3 rounded-lg bg-primary-50 dark:bg-primary-900/10 border border-primary-100 dark:border-primary-900/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(lt,{src:m.adminAvatar,alt:m.adminName||"Admin",size:"xs",className:"w-5 h-5"}),r.jsx("span",{className:"text-xs font-bold text-primary-700 dark:text-primary-400",children:m.adminName||"Admin Response"})]}),r.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:m.answerText})]}):r.jsxs("div",{className:"ml-10 mt-2 flex items-center gap-1.5 text-xs text-orange-500 bg-orange-50 dark:bg-orange-900/10 px-2 py-1 rounded-md w-fit",children:[r.jsx(gr,{className:"w-3 h-3"}),"Waiting for response"]})]},m._id))})]})]})}function L6(){var p,f,j,k,w,C,N;const{postId:e}=Ta(),[t,s]=_1(),a=t.get("tab")||"comments",{user:n}=Y(),i=D(S.posts.getPost,{postId:e}),o=$(S.posts.likePost),[l,d]=g.useState(!1),[c,u]=g.useState(!1),[m,h]=g.useState(!1),[x,b]=g.useState((i==null?void 0:i.likeCount)||0);if(g.useState(()=>{i&&b(i.likeCount)}),!i)return r.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[r.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:r.jsx("div",{className:"w-24 h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})}),r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx("div",{className:"aspect-[4/5] bg-gray-200 dark:bg-gray-700 rounded-2xl animate-pulse"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(_e,{}),r.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border space-y-4",children:[r.jsx(dn,{}),r.jsx(dn,{}),r.jsx(dn,{})]})]})]})})]});const v=async()=>{if(!n||c)return;const T=!m;h(T),b(L=>T?L+1:L-1),u(!0);try{await o({userId:n._id,postId:i._id})}catch(L){h(!T),b(A=>T?A-1:A+1),console.error("Failed to like post:",L)}finally{u(!1)}},y=i.content.length>250;return r.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[r.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:r.jsx(Qe,{})}),r.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[r.jsxs("div",{className:"lg:sticky lg:top-24 space-y-4",children:[i.imageUrl?r.jsx(P.div,{layoutId:`post-image-${i._id}`,className:"rounded-2xl overflow-hidden glass border border-light-border dark:border-dark-border shadow-2xl",children:r.jsx("img",{src:i.imageUrl,alt:"Post",className:"w-full h-auto max-h-[70vh] object-contain bg-black/5"})}):i.videoUrl?r.jsx("div",{className:"rounded-2xl overflow-hidden bg-black shadow-2xl",children:r.jsx("video",{src:i.videoUrl,controls:!0,className:"w-full max-h-[70vh]"})}):r.jsx("div",{className:"aspect-square flex items-center justify-center glass rounded-2xl border border-dashed border-light-border dark:border-dark-border opacity-50",children:r.jsx("p",{className:"text-light-muted",children:"No visual media"})}),r.jsxs("div",{className:"hidden lg:block p-6 glass rounded-2xl border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:v,className:`flex items-center gap-2 transition-all duration-300 ${m?"text-red-500":"text-light-text dark:text-dark-text hover:text-red-500"}`,children:[r.jsx(qs,{className:`w-6 h-6 transition-all duration-300 ${m?"fill-red-500 text-red-500 scale-110":""}`}),r.jsxs("span",{className:"font-bold",children:[x," Likes"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-light-muted",children:[r.jsx(vt,{className:"w-6 h-6"}),r.jsxs("span",{className:"font-bold",children:[i.commentCount," Comments"]})]})]}),r.jsx("button",{className:"p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:r.jsx(Tn,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"h-px bg-light-border dark:bg-dark-border mb-4"}),r.jsxs("p",{className:"text-xs text-light-muted flex items-center gap-2",children:[r.jsx(ut,{className:"w-3 h-3"}),"Posted on ",new Date(i.createdAt).toLocaleDateString(void 0,{dateStyle:"long"})," at ",new Date(i.createdAt).toLocaleTimeString(void 0,{timeStyle:"short"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-2xl border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lt,{src:(p=i.author)==null?void 0:p.avatarUrl,alt:((f=i.author)==null?void 0:f.name)||"User",size:"md"}),r.jsxs("div",{children:[r.jsxs("h2",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:[(j=i.author)==null?void 0:j.name,((k=i.author)==null?void 0:k.role)==="admin"&&r.jsx(qe,{className:"w-4 h-4 text-primary-500"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(q,{variant:"outline",className:"text-[10px]",children:i.category}),r.jsx("span",{className:"text-xs text-light-muted",children:Rt(i.createdAt,{addSuffix:!0})})]})]})]}),((w=i.author)==null?void 0:w.role)==="admin"?r.jsx(q,{variant:"primary",className:"hidden sm:flex",children:"Official"}):r.jsx(q,{variant:"default",className:"hidden sm:flex",children:"Member"})]}),r.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:r.jsx(ot,{className:"w-20 h-20"})}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(ae,{initial:!1,children:r.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},className:`text-light-text dark:text-dark-text leading-relaxed text-base md:text-lg break-words ${!l&&y?"line-clamp-[6]":""}`,children:i.content},l?"expanded":"collapsed")}),y&&r.jsx("button",{onClick:()=>d(!l),className:"mt-4 flex items-center gap-1 text-primary-500 font-bold hover:underline transition-all",children:l?r.jsxs(r.Fragment,{children:["Show Less ",r.jsx(cd,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Read Full Message ",r.jsx(ts,{className:"w-4 h-4"})]})})]})]}),r.jsx("div",{className:"p-4 md:p-6 glass rounded-2xl border border-light-border dark:border-dark-border min-h-[400px]",children:((C=i.author)==null?void 0:C.role)==="admin"||((N=i.author)==null?void 0:N.role)==="super_admin"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-6 border-b border-light-border dark:border-dark-border mb-6",children:[r.jsx("button",{onClick:()=>s({tab:"comments"}),className:`pb-3 font-semibold text-sm transition-colors border-b-2 ${a==="comments"?"border-primary-500 text-primary-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vt,{className:"w-4 h-4"}),"Comments (",i.commentCount,")"]})}),r.jsx("button",{onClick:()=>s({tab:"questions"}),className:`pb-3 font-semibold text-sm transition-colors border-b-2 ${a==="questions"?"border-purple-500 text-purple-500":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qe,{className:"w-4 h-4"}),"Questions (",i.questionCount||0,")"]})})]}),a==="comments"?r.jsx(sg,{postId:i._id,isPrayer:i.postType==="prayer"}):r.jsx(D6,{postId:i._id})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-bold text-gradient mb-6 flex items-center gap-2",children:i.postType==="prayer"?r.jsxs(r.Fragment,{children:[r.jsx(hh,{className:"w-6 h-6 text-purple-500"}),"Community Prayers"]}):r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"w-6 h-6 text-primary-500"}),"Community Discussion"]})}),r.jsx(sg,{postId:i._id,isPrayer:i.postType==="prayer"})]})})]})]})})]})}function O6(){const{user:e,isLoading:t}=Y(),s=ie(),[a,n]=g.useState(""),i=$(S.follows.toggleFollow),[o,l]=g.useState(null),d=D(S.users.searchMembers,a.trim().length>0?{query:a}:"skip");return t?r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ht,{}),r.jsx(ja,{count:3})]})}):e?r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"Search Members"}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base",children:"Find and connect with community members"})]}),r.jsx("div",{className:"mb-6 md:mb-8",children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("button",{onClick:()=>s(-1),className:"mr-2 p-2 text-primary-500 md:hidden","aria-label":"Go back",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"m12 19-7-7 7-7"}),r.jsx("path",{d:"M19 12H5"})]})}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",value:a,onChange:c=>n(c.target.value),placeholder:"Search by name...",className:`
                                w-full
                                pl-10 pr-10 py-2.5
                                rounded-lg
                                border border-light-border dark:border-dark-border
                                bg-light-card dark:bg-dark-card
                                text-sm text-light-text dark:text-dark-text
                                placeholder-light-muted dark:placeholder-dark-muted
                                focus:ring-2 focus:ring-primary-500 focus:border-transparent
                                outline-none transition-all
                                `}),a&&r.jsx("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text","aria-label":"Clear search",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}),a.trim().length===0?r.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[r.jsx(ot,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Start typing to search for members"})]}):d===void 0?r.jsx(ja,{count:3}):d.length===0?r.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[r.jsx(ot,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:['No members found matching "',a,'"']})]}):r.jsx("div",{className:"space-y-3",children:d.map(c=>r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>s(`/profile/${c._id}`),className:"glass rounded-lg p-4 hover:shadow-lg transition-all cursor-pointer group",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lt,{src:c.avatarUrl,alt:c.name,size:"md"}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:c.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(q,{variant:c.role==="admin"||c.role==="super_admin"?"primary":"default",className:"text-[10px]",children:c.role==="super_admin"?"Super Admin":c.role==="admin"?"Admin":"Member"}),r.jsxs("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:[c.followerCount||0," followers"]})]})]}),e._id!==c._id&&r.jsx("button",{onClick:u=>{u.stopPropagation(),!o&&(l(c._id),i({followerId:e._id,followingId:c._id}).finally(()=>l(null)))},className:"p-2 rounded-full hover:bg-primary-50 dark:hover:bg-primary-900/20 text-primary-500 transition-colors",children:r.jsx(ot,{className:"w-5 h-5"})}),c.latestPost&&r.jsxs("div",{className:"w-full mt-2 p-2 bg-light-card/50 dark:bg-dark-card/50 rounded-lg border border-light-border/50 dark:border-dark-border/50 text-xs text-light-muted dark:text-dark-muted",children:[r.jsx("span",{className:"font-semibold text-primary-500",children:"Latest: "}),r.jsx("span",{className:"line-clamp-1 break-all",children:c.latestPost.content})]})]})})]})},c._id))})]})}):r.jsx(Te,{to:"/login",replace:!0})}function F6(){const{userId:e}=Ta(),{user:t,isLoading:s}=Y(),[a,n]=g.useState(""),i=D(S.users.getUserProfile,e?{userId:e}:"skip"),o=D(S.posts.getPosts,e?{authorId:e,userId:t==null?void 0:t._id}:"skip"),l=(o==null?void 0:o.filter(v=>v.content.toLowerCase().includes(a.toLowerCase())))||[],d=D(S.follows.isFollowing,t&&e?{followerId:t._id,followingId:e}:"skip"),c=$(S.follows.toggleFollow),[u,m]=g.useState(!1),h=async()=>{if(!(!t||!e||u)){m(!0);try{await c({followerId:t._id,followingId:e})}catch(v){console.error("Failed to toggle follow:",v)}finally{m(!1)}}};if(s)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsx(Ht,{}),r.jsx("div",{className:"glass rounded-xl h-64 animate-pulse mb-6"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{})]})]})});if(!t)return r.jsx(Te,{to:"/login",replace:!0});if(i===void 0)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsx(Ht,{}),r.jsx("div",{className:"glass rounded-xl h-64 animate-pulse mb-6"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{})]})]})});if(i===null)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsx("div",{className:"text-center py-12 glass rounded-xl mt-6",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Member not found"})})]})});const x=i.role==="admin"||i.role==="super_admin",b=i.role==="super_admin";return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"glass rounded-xl overflow-hidden",children:[r.jsx("div",{className:"h-32 md:h-48 bg-gray-100 dark:bg-gray-800 relative",children:i.coverImageUrl?r.jsx("img",{src:i.coverImageUrl,className:"w-full h-full object-cover",alt:"Cover"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500/20 to-secondary-500/20"})}),r.jsxs("div",{className:"px-4 pb-4 md:px-8 md:pb-8 relative",children:[r.jsx("div",{className:"relative -mt-10 md:-mt-16 mb-3 md:mb-4 flex flex-col items-center md:items-start",children:r.jsx(lt,{src:i.avatarUrl,alt:i.name,size:"xl",className:`
                                        ring-4 ring-light-bg dark:ring-dark-bg 
                                        ${b?"ring-yellow-500":x?"ring-primary-500":""}
                                        w-20 h-20 md:w-32 md:h-32 shadow-lg
                                    `})}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 text-center md:text-left",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center gap-2 mb-1",children:[r.jsx("h1",{className:"text-xl md:text-3xl font-bold text-light-text dark:text-dark-text truncate max-w-full",children:i.name}),b?r.jsxs(q,{variant:"primary",className:"bg-gradient-to-r from-yellow-500 to-amber-600 border-yellow-300 text-[10px] h-5",children:[r.jsx(qe,{className:"w-3 h-3 mr-1"})," Super Admin"]}):x?r.jsxs(q,{variant:"primary",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-[10px] h-5",children:[r.jsx(qe,{className:"w-3 h-3 mr-1"})," Admin"]}):null]}),r.jsx("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-light-muted dark:text-dark-muted mb-4",children:r.jsxs("span",{children:["Joined ",Rt(i.createdAt,{addSuffix:!0})]})}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-6 mb-4 md:mb-0",children:[r.jsxs(ee,{to:`/profile/${e}/followers`,className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:i.stats.followerCount||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Followers"})]}),r.jsxs(ee,{to:`/profile/${e}/following`,className:"flex flex-col items-center md:items-start hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:i.stats.followingCount||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Following"})]}),r.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[r.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:i.stats.likesReceived||0}),r.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Likes"})]})]})]}),t._id!==e&&r.jsx("div",{className:"shrink-0 flex justify-center md:justify-start",children:r.jsx(I,{variant:d?"outline":"primary",onClick:h,isLoading:u,className:"min-w-[120px] rounded-lg h-9 text-sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Ny,{className:"w-4 h-4 mr-2"})," Unfollow"]}):r.jsxs(r.Fragment,{children:[r.jsx(El,{className:"w-4 h-4 mr-2"})," Follow"]})})})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Posts"}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",placeholder:"Search posts...",value:a,onChange:v=>n(v.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-card/50 dark:bg-dark-card/50 border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none text-sm"})]})]}),o===void 0?r.jsx("div",{className:"grid gap-6",children:[1,2].map(v=>r.jsx("div",{className:"glass rounded-2xl p-6 h-40 animate-pulse"},v))}):o.length===0?r.jsx("div",{className:"text-center py-12 glass rounded-2xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts yet"})}):l.length===0?r.jsx("div",{className:"text-center py-12 glass rounded-2xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts match your search"})}):r.jsx("div",{className:"grid gap-6",children:l.map(v=>r.jsx(Uh,{post:v,onCommentClick:()=>window.location.href=`/post/${v._id}`,hasUserLiked:v.hasLiked},v._id))})]})]})]})})}function B6(){return r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 md:mt-6 space-y-6 md:space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"About Baptizo"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text max-w-2xl mx-auto",children:"A community dedicated to spiritual growth through ancient wisdom and modern insights"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"glass rounded-xl p-6 border border-primary-500/20",children:[r.jsx($5,{className:"w-12 h-12 text-primary-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Purpose"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"To create a space where believers can deepen their understanding of both Old and New Testament teachings, fostering spiritual growth and community."})]}),r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"glass rounded-xl p-6 border border-secondary-500/20",children:[r.jsx(qs,{className:"w-12 h-12 text-secondary-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Values"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Authenticity, spiritual depth, community support, and continuous learning guide everything we do."})]}),r.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"glass rounded-xl p-6 border border-accent-500/20",children:[r.jsx(Ie,{className:"w-12 h-12 text-accent-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Community"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"A diverse group of believers united by a shared desire to grow in faith and understanding."})]}),r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"glass rounded-xl p-6 border border-primary-500/20",children:[r.jsx(Ws,{className:"w-12 h-12 text-primary-500 mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Approach"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Combining ancient prophetic wisdom with contemporary spiritual insights for holistic faith development."})]})]}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-xl p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-4",children:"Our Story"}),r.jsxs("div",{className:"space-y-4 text-light-muted dark:text-dark-muted",children:[r.jsx("p",{children:"Baptizo was founded with a vision to bridge the gap between ancient biblical wisdom and modern spiritual understanding. We believe that both the teachings of the Old Testament and the revelations of the New Testament hold profound truths for today's believers."}),r.jsx("p",{children:"Through our platform, we provide curated teachings, community discussions, and opportunities for spiritual engagement. Our admin team carefully crafts content that helps members explore Ancient Culture (Old Testament wisdom) and Wisdom of The Now (New Testament insights)."}),r.jsx("p",{children:"Whether you're seeking to deepen your understanding of prophetic systems, explore spiritual identity, or connect with like-minded believers, Baptizo offers a supportive community for your journey."})]})]})]})]})})}function U6(){return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Privacy Policy"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Last updated: December 2024"})]}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(qe,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Protected Data"})]}),r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(rr,{className:"w-8 h-8 text-secondary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Secure Storage"})]}),r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(Ir,{className:"w-8 h-8 text-accent-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Transparent Use"})]}),r.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[r.jsx(_l,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"User Control"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(La,{title:"Information We Collect",content:["Account Information: Name, email address, and profile picture","Content: Posts, responses, comments, and interactions within the community","Usage Data: How you interact with our platform to improve user experience","Device Information: Browser type, IP address for security purposes"]}),r.jsx(La,{title:"How We Use Your Information",content:["Provide and maintain our services","Notify you about changes and updates","Allow participation in community features","Provide customer support","Monitor and analyze usage patterns","Detect and prevent fraudulent activity"]}),r.jsx(La,{title:"Data Sharing",content:["We do NOT sell your personal information to third parties","Your profile and public content are visible to other community members","We may share data with service providers who assist in operating our platform","We may disclose information if required by law or to protect our rights"]}),r.jsx(La,{title:"Your Rights",content:["Access your personal data","Correct inaccurate information","Request deletion of your account and data","Opt-out of marketing communications","Export your data"]}),r.jsx(La,{title:"Data Security",content:["We implement industry-standard security measures","All data is encrypted in transit and at rest","Regular security audits and updates","Access controls and authentication requirements"]}),r.jsx(La,{title:"Contact Us",content:["If you have questions about this Privacy Policy, please contact us through our Contact page or email us at privacy@baptizo.com"]})]})]})]})})}function La({title:e,content:t}){return r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-4",children:e}),r.jsx("ul",{className:"space-y-2",children:t.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsx("span",{children:s})]},a))})]})}function V6(){return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(qt,{className:"w-16 h-16 text-primary-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Terms of Service"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Last updated: December 2024"})]}),r.jsx("div",{className:"glass rounded-xl p-6 bg-primary-50/50 dark:bg-primary-900/10 border border-primary-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(_s,{className:"w-6 h-6 text-primary-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:"Agreement to Terms"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"By accessing Baptizo, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree, please discontinue use of our platform."})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(jr,{title:"1. User Accounts",content:["You must be at least 13 years old to create an account","Provide accurate and complete information during registration","Maintain the security of your account credentials","You are responsible for all activities under your account","Notify us immediately of any unauthorized access"]}),r.jsx(jr,{title:"2. User Conduct",content:["Be respectful and courteous to all community members","Do not post hateful, abusive, or harassing content","Do not spam or post irrelevant content","Respect intellectual property rights","Do not impersonate others or misrepresent affiliations","Follow our Community Guidelines at all times"]}),r.jsx(jr,{title:"3. Content Ownership",content:["You retain ownership of content you post","By posting, you grant Baptizo a license to use, display, and distribute your content","Admin-created content remains property of Baptizo","You may not use our content without permission"]}),r.jsx(jr,{title:"4. Rewards & Recognition",content:["Rewards are granted at admin discretion for quality contributions","Rewards may have specific terms and conditions","We reserve the right to modify or discontinue reward programs","Fraudulent activity may result in reward forfeiture and account termination"]}),r.jsx(jr,{title:"5. Prohibited Activities",content:["Attempting to hack or compromise platform security","Using automated tools or bots without permission","Selling or transferring your account","Posting illegal, harmful, or inappropriate content","Violating any applicable laws or regulations"]}),r.jsx(jr,{title:"6. Termination",content:["We may suspend or terminate accounts that violate these terms","You may delete your account at any time","Upon termination, your right to use Baptizo ceases immediately","We may retain certain data as required by law"]}),r.jsx(jr,{title:"7. Disclaimers",content:["Baptizo is provided 'as is' without warranties of any kind","We do not guarantee uninterrupted or error-free service","Content is for informational purposes and not professional advice","We are not responsible for user-generated content"]}),r.jsx(jr,{title:"8. Limitation of Liability",content:["Baptizo shall not be liable for indirect, incidental, or consequential damages","Our liability is limited to the amount you paid, if any","Some jurisdictions do not allow these limitations"]}),r.jsx(jr,{title:"9. Changes to Terms",content:["We may update these terms from time to time","Continued use after changes constitutes acceptance","Material changes will be announced to users"]}),r.jsx(jr,{title:"10. Contact Information",content:["For questions about these Terms, contact us at terms@baptizo.com or through our Contact page"]})]}),r.jsx("div",{className:"glass rounded-xl p-6 border border-secondary-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(_t,{className:"w-6 h-6 text-secondary-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:"Acceptance"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"By using Baptizo, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})]})]})})]})]})})}function jr({title:e,content:t}){return r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text mb-4",children:e}),r.jsx("ul",{className:"space-y-2",children:t.map((s,a)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-primary-500 mt-1",children:""}),r.jsx("span",{children:s})]},a))})]})}function $6(){const[e,t]=g.useState({name:"",email:"",subject:"",message:""}),[s,a]=g.useState(!1),[n,i]=g.useState(!1),o=$(S.contacts.submitContact),l=async d=>{d.preventDefault(),i(!0);try{await o(e),a(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>a(!1),3e3)}catch(c){console.error("Failed to submit contact:",c)}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Contact Us"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:"We'd love to hear from you"})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[r.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx(Kr,{className:"w-10 h-10 text-primary-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Email"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"support@baptizo.com"})]}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx(Vt,{className:"w-10 h-10 text-secondary-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Community"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Ask in the Feed"})]}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[r.jsx(Il,{className:"w-10 h-10 text-accent-500 mx-auto mb-3"}),r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"FAQ"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Check our FAQ page"})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6 md:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-6",children:"Send us a message"}),s?r.jsxs("div",{className:"glass rounded-lg p-6 bg-secondary-50/50 dark:bg-secondary-900/10 border border-secondary-500/20 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-secondary-600 dark:text-secondary-400 mb-2",children:"Message Sent!"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"We'll get back to you as soon as possible."})]}):r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Name"}),r.jsx("input",{type:"text",required:!0,value:e.name,onChange:d=>t({...e,name:d.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Your name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Email"}),r.jsx("input",{type:"email",required:!0,value:e.email,onChange:d=>t({...e,email:d.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"your@email.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Subject"}),r.jsx("input",{type:"text",required:!0,value:e.subject,onChange:d=>t({...e,subject:d.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"What's this about?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Message"}),r.jsx("textarea",{required:!0,value:e.message,onChange:d=>t({...e,message:d.target.value}),rows:6,className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Tell us more..."})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full md:w-auto px-8 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:n?"Sending...":"Send Message"})]})]})]})]})})}const z6=[{category:"Getting Started",questions:[{q:"What is Baptizo?",a:"Baptizo is a faith-based community platform focused on spiritual growth through Ancient Culture (Old Testament wisdom) and Wisdom of The Now (New Testament insights)."},{q:"How do I create an account?",a:"Click the 'Get Started' button on the homepage, fill in your details, and verify your email address. You'll gain immediate access to the community."},{q:"Is Baptizo free to use?",a:"Yes! Baptizo is completely free for all members. We believe spiritual growth should be accessible to everyone."}]},{category:"Using the Platform",questions:[{q:"What's the difference between Ancient Culture and Wisdom of The Now?",a:"Ancient Culture focuses on Old Testament teachings, prophetic wisdom, and ancient systems. Wisdom of The Now explores New Testament insights, spiritual identity, and contemporary applications of faith."},{q:"Who can create posts?",a:"Admin-created posts appear in Ancient Culture and Wisdom sections. All members can engage through responses, comments, and the community feed."},{q:"How do I submit a response to a post?",a:"When you see an official admin post, look for the 'Submit Official Response' button. Click it to share your thoughts and insights."}]},{category:"Rewards & Recognition",questions:[{q:"How does the reward system work?",a:"Admins review responses to official posts and assign rewards based on quality, depth, and insight. Top responses are featured and may receive recognition or benefits."},{q:"What happens after I submit a response?",a:"Your response is reviewed by admins who may grade it and provide feedback. Exceptional responses are featured and rewarded."}]},{category:"Community Guidelines",questions:[{q:"What content is allowed?",a:"We welcome respectful, faith-based discussions. Content should be relevant, thoughtful, and align with our values of spiritual growth and community support."},{q:"What should I do if I see inappropriate content?",a:"Use the report function or contact admins directly. We take community standards seriously and review all reports promptly."}]},{category:"Account & Privacy",questions:[{q:"How do I update my profile?",a:"Navigate to your Profile page and click the edit button. You can update your name, avatar, and other personal information."},{q:"Is my data safe?",a:"Yes! We use industry-standard encryption and security measures. Read our Privacy Policy for full details on how we protect your information."},{q:"Can I delete my account?",a:"Yes, you can delete your account anytime from your profile settings. Note that this action is permanent and cannot be undone."}]}];function q6(){return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:"Find answers to common questions about Baptizo"})]}),r.jsx("div",{className:"space-y-8",children:z6.map((e,t)=>r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-4",children:e.category}),r.jsx("div",{className:"space-y-3",children:e.questions.map((s,a)=>r.jsx(W6,{question:s.q,answer:s.a},a))})]},t))}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Still have questions?"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Can't find what you're looking for? Reach out to our support team."}),r.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:"Contact Support"})]})]})]})})}function W6({question:e,answer:t}){const[s,a]=g.useState(!1);return r.jsxs(P.div,{initial:!1,className:"glass rounded-lg overflow-hidden border border-light-border dark:border-dark-border",children:[r.jsxs("button",{onClick:()=>a(!s),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:[r.jsx("span",{className:"font-semibold text-light-text dark:text-dark-text pr-4",children:e}),s?r.jsx(cd,{className:"w-5 h-5 text-primary-500 flex-shrink-0"}):r.jsx(ts,{className:"w-5 h-5 text-light-muted dark:text-dark-muted flex-shrink-0"})]}),r.jsx(P.div,{initial:!1,animate:{height:s?"auto":0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:r.jsx("div",{className:"px-6 pb-4 text-light-muted dark:text-dark-muted",children:t})})]})}function H6(){const e=[{icon:qs,title:"Be Respectful",description:"Treat all community members with kindness and respect. No harassment, hate speech, or discriminatory language.",color:"text-red-500"},{icon:vt,title:"Stay On Topic",description:"Keep discussions relevant to faith, spiritual growth, and biblical teachings. Avoid spam or irrelevant content.",color:"text-primary-500"},{icon:Ie,title:"Support Others",description:"Encourage fellow members in their faith journey. Offer constructive feedback and genuine support.",color:"text-secondary-500"},{icon:qe,title:"Protect Privacy",description:"Don't share personal information about yourself or others. Respect everyone's privacy and confidentiality.",color:"text-accent-500"}],t=["Engage thoughtfully with posts and responses","Cite scriptures and sources when appropriate","Ask genuine questions and seek understanding","Celebrate others' insights and growth","Report concerning content to admins","Use appropriate language and tone"],s=["Post hateful, abusive, or harassing content","Spam or post repetitive content","Share misleading or false information","Impersonate others or misrepresent yourself","Promote non-faith-related products or services","Engage in heated arguments or flame wars"];return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Qe,{}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Community Guidelines"}),r.jsx("p",{className:"text-lg text-light-text dark:text-dark-text max-w-2xl mx-auto",children:"Our guidelines help maintain a welcoming, respectful community for spiritual growth"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map((a,n)=>{const i=a.icon;return r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"glass rounded-xl p-6 border border-light-border dark:border-dark-border hover:shadow-lg transition-shadow",children:[r.jsx(i,{className:`w-10 h-10 ${a.color} mb-4`}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:a.title}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted text-sm",children:a.description})]},n)})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(zt,{className:"w-6 h-6 text-green-500"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Do"})]}),r.jsx("ul",{className:"space-y-2",children:t.map((a,n)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-green-500 mt-1 flex-shrink-0",children:""}),r.jsx("span",{children:a})]},n))})]}),r.jsxs("div",{className:"glass rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(gr,{className:"w-6 h-6 text-red-500"}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Don't"})]}),r.jsx("ul",{className:"space-y-2",children:s.map((a,n)=>r.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("span",{className:"text-red-500 mt-1 flex-shrink-0",children:""}),r.jsx("span",{children:a})]},n))})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6 bg-primary-50/50 dark:bg-primary-900/10 border border-primary-500/20",children:[r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-4",children:"Enforcement"}),r.jsxs("div",{className:"space-y-3 text-light-muted dark:text-dark-muted text-sm",children:[r.jsx("p",{children:"Violations of these guidelines may result in:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Warning from moderators"}),r.jsx("li",{children:"Temporary suspension of posting privileges"}),r.jsx("li",{children:"Permanent account termination for severe or repeated violations"})]}),r.jsx("p",{className:"mt-4",children:"We're committed to maintaining a positive community. If you see content that violates these guidelines, please report it to our admin team."})]})]}),r.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Questions about our guidelines?"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Reach out to our team for clarification."}),r.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:"Contact Us"})]})]})]})})}function Q6(){const{user:e,isLoading:t}=Y(),s=ie(),a=D(S.users.getAllUsers,e?{adminId:e._id}:"skip"),n=$(S.users.updateUserRole),i=$(S.finance.assignFinancialManager),[o,l]=g.useState(""),[d,c]=g.useState(!1),[u,m]=g.useState(!1),[h,x]=g.useState(null),[b,v]=g.useState(null),[y,p]=g.useState(1),f=10;g.useEffect(()=>{p(1)},[o]);const j=(a==null?void 0:a.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.email.toLowerCase().includes(o.toLowerCase())))||[],k=y*f,w=k-f,C=j.slice(w,k),N=Math.ceil(j.length/f),T=(A,H,_,X,oe)=>{let E="",V="",re=qe,F="text-primary-500";X==="admin"?_==="admin"?oe==="board_member"?(E="revert this user from Admin to Board Member",V="board_member",re=Ie,F="text-blue-500"):(E="demote this user from Admin to Member",V="member",re=Ie,F="text-gray-500"):(E="promote this user to Admin",V="admin",re=B5,F="text-primary-500"):X==="board"&&(_==="board_member"?(E="remove this user from Board Members",V="member",re=Ie,F="text-gray-500"):(E="add this user to Board Members",V="board_member",re=_l,F="text-blue-500")),v({id:A,name:H,action:E,newRole:V,icon:re,color:F}),c(!0)},L=async()=>{if(!(!b||!e))try{await n({adminId:e._id,userId:b.id,newRole:b.newRole}),c(!1),v(null)}catch(A){console.error("Failed to update role",A)}};return t?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):!e||e.role!=="admin"&&e.role!=="super_admin"?r.jsx(Te,{to:"/feed",replace:!0}):r.jsxs("div",{className:"space-y-8 pb-12",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gradient font-display mb-1",children:"Role Management"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Assign and manage administrative privileges for community members"})]}),r.jsx("div",{className:"w-full md:w-80",children:r.jsx(de,{placeholder:"Search by name or email...",value:o,onChange:A=>l(A.target.value),icon:r.jsx(tt,{className:"w-5 h-5 text-light-muted"}),className:"bg-white/50 dark:bg-dark-card/50 backdrop-blur-sm border-light-border dark:border-dark-border"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(M,{glass:!0,className:"border-primary-500/20",children:r.jsxs(R,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-500/10 flex items-center justify-center",children:r.jsx(qe,{className:"w-6 h-6 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Admins"}),r.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.filter(A=>A.role==="admin"||A.role==="super_admin").length)||0})]})]})}),r.jsx(M,{glass:!0,className:"border-blue-500/20",children:r.jsxs(R,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center",children:r.jsx(_l,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Board Members"}),r.jsx("p",{className:"text-2xl font-bold",children:(a==null?void 0:a.filter(A=>A.role==="board_member").length)||0})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:r.jsx(ae,{mode:"popLayout",children:a===void 0?Array.from({length:6}).map((A,H)=>r.jsx("div",{children:r.jsx(VA,{})},H)):C.length>0?C.map(A=>r.jsx(P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:r.jsxs(M,{glass:!0,className:`h-full group hover:border-primary-500/30 transition-all duration-300 overflow-hidden relative ${A.role==="admin"||A.role==="super_admin"?"border-primary-500/50":A.role==="board_member"?"border-blue-500/50":""}`,children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary-500/5 to-transparent rounded-bl-full pointer-events-none"}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{onClick:()=>s(`/admin/user/${A._id}`),className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-light-bg to-light-card dark:from-dark-bg dark:to-dark-card border border-light-border dark:border-dark-border flex items-center justify-center text-xl font-bold text-gradient overflow-hidden shadow-sm cursor-pointer hover:scale-105 transition-transform duration-200",children:A.avatarUrl?r.jsx("img",{src:A.avatarUrl,alt:A.name,className:"w-full h-full object-cover"}):A.name[0]}),r.jsx(q,{variant:A.role==="admin"||A.role==="super_admin"?"primary":A.role==="board_member"?"secondary":"default",className:"px-3 py-1",children:A.role.replace("_"," ")})]}),r.jsxs("div",{className:"space-y-1 mb-6",children:[r.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text truncate",children:A.name}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-light-muted dark:text-dark-muted",children:[r.jsx(Kr,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"truncate",children:A.email})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-light-muted dark:text-dark-muted",children:[r.jsx(hd,{className:"w-3.5 h-3.5"}),r.jsx("span",{children:A.phone||"No phone"})]})]}),e.role==="super_admin"&&A.role!=="super_admin"&&r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-light-border/50 dark:border-dark-border/50",children:[r.jsx(I,{variant:A.role==="admin"?"outline":"primary",size:"sm",className:"w-full text-[10px] font-bold h-9",onClick:()=>T(A._id,A.name,A.role,"admin",A.previousRole),children:A.role==="admin"?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ie,{className:"w-3 h-3"}),"Demote"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qe,{className:"w-3 h-3"}),"Make Admin"]})}),r.jsx(I,{variant:A.role==="board_member"?"outline":"secondary",size:"sm",className:`w-full text-[10px] font-bold h-9 ${A.role==="board_member"?"border-blue-500 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/10":""}`,onClick:()=>T(A._id,A.name,A.role,"board"),children:A.role==="board_member"?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(El,{className:"w-3 h-3"}),"Remove Board"]}):r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(El,{className:"w-3 h-3"}),"Add Board"]})})]}),e.role==="super_admin"&&A.role==="board_member"&&r.jsx("div",{className:"pt-3",children:r.jsx(I,{variant:A.isFinancialManager?"primary":"outline",size:"sm",className:"w-full text-[10px] font-bold h-9",onClick:()=>{x({id:A._id,name:A.name,isCurrentlyManager:A.isFinancialManager||!1}),m(!0)},children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(br,{className:"w-3 h-3"}),A.isFinancialManager?"Remove Finance Role":"Make Finance Manager"]})})})]})]})},A._id)):r.jsxs("div",{className:"col-span-full py-12 text-center text-light-muted",children:[r.jsx(Ie,{className:"w-16 h-16 mx-auto mb-4 opacity-10"}),r.jsx("p",{className:"text-lg",children:"No users found matching your search"})]})})}),N>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-12 bg-light-card/30 dark:bg-dark-card/30 p-4 rounded-3xl border border-light-border/20 dark:border-dark-border/20 max-w-fit mx-auto",children:[r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>p(A=>Math.max(1,A-1)),disabled:y===1,className:"rounded-xl h-10 w-10 p-0",children:r.jsx(ba,{className:"w-5 h-5"})}),r.jsx("div",{className:"flex items-center gap-1.5 px-2",children:Array.from({length:N},(A,H)=>H+1).map(A=>r.jsx("button",{onClick:()=>p(A),className:`
                                    w-10 h-10 rounded-xl text-sm font-bold transition-all
                                    ${y===A?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-muted hover:bg-light-card dark:hover:bg-dark-card hover:text-primary-500"}
                                `,children:A},A))}),r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>p(A=>Math.min(N,A+1)),disabled:y===N,className:"rounded-xl h-10 w-10 p-0",children:r.jsx(Bi,{className:"w-5 h-5"})})]}),r.jsx(ht,{isOpen:d,onClose:()=>c(!1),title:"Confirm Role Change",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:`w-20 h-20 rounded-3xl bg-gradient-to-br from-light-bg to-light-card dark:from-dark-bg dark:to-dark-card border border-light-border dark:border-dark-border flex items-center justify-center mb-4 shadow-xl ${b==null?void 0:b.color}`,children:b&&r.jsx(b.icon,{className:"w-10 h-10"})}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:"Confirm Action"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs",children:["Are you sure you want to ",b==null?void 0:b.action," ",r.jsx("strong",{children:b==null?void 0:b.name}),"?"]})]}),r.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-amber-500/5 border border-amber-500/20",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:r.jsx(_s,{className:"w-6 h-6 text-amber-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-amber-700 dark:text-amber-500 mb-1",children:"Important Security Note"}),r.jsx("p",{className:"text-xs text-amber-700/70 dark:text-amber-500/70",children:"This user will gain or lose access to administrative tools and sensitive data. This action is logged."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(I,{variant:"ghost",className:"w-full rounded-2xl h-12",onClick:()=>c(!1),children:"Cancel"}),r.jsx(I,{variant:"primary",className:"w-full rounded-2xl h-12 shadow-lg shadow-primary-500/20",onClick:L,children:"Yes, Update Role"})]})]})}),r.jsx(ht,{isOpen:u,onClose:()=>m(!1),title:"Financial Manager Assignment",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 border border-emerald-500/20 flex items-center justify-center mb-4 shadow-xl",children:r.jsx(br,{className:"w-10 h-10 text-emerald-500"})}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:"Confirm Action"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs",children:h!=null&&h.isCurrentlyManager?`Remove ${h==null?void 0:h.name} from Financial Manager role?`:`Assign ${h==null?void 0:h.name} as Financial Manager?`})]}),r.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-blue-500/5 border border-blue-500/20",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx(_s,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-blue-700 dark:text-blue-500 mb-1",children:"Financial Manager Permissions"}),r.jsx("p",{className:"text-xs text-blue-700/70 dark:text-blue-500/70",children:h!=null&&h.isCurrentlyManager?"This user will lose access to add/reverse financial transactions.":"This user will be able to add and reverse financial transactions (within 24 hours) but cannot create meetings."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(I,{variant:"ghost",className:"w-full rounded-2xl h-12",onClick:()=>m(!1),children:"Cancel"}),r.jsxs(I,{variant:"primary",className:"w-full rounded-2xl h-12 shadow-lg shadow-primary-500/20",onClick:async()=>{h&&(await i({adminId:e._id,userId:h.id,assign:!h.isCurrentlyManager}),m(!1),x(null))},children:["Yes, ",h!=null&&h.isCurrentlyManager?"Remove":"Assign"]})]})]})})]})}function G6(){const{userId:e}=Ta(),t=ie(),{user:s}=Y(),[a,n]=g.useState(null),i=D(S.users.getUser,{userId:e}),o=D(S.users.getUserStats,{userId:e}),l=(d,c)=>{navigator.clipboard.writeText(d),n(c),setTimeout(()=>n(null),2e3)};return i===void 0?r.jsx("div",{className:"py-8",children:r.jsx(WA,{})}):i?r.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors group",children:[r.jsx("div",{className:"p-2 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border group-hover:border-primary-500/50 transition-all",children:r.jsx(ba,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold text-sm uppercase tracking-widest italic text-[10px]",children:"Back to Directory"})]}),r.jsxs(q,{variant:"outline",className:"px-4 py-1.5 border-primary-500/30 text-primary-500 font-bold",children:["USER_ID: ",i._id]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs(M,{glass:!0,className:"overflow-hidden border-primary-500/10",children:[r.jsx("div",{className:"h-24 bg-gradient-to-br from-primary-500/20 to-secondary-500/20 relative"}),r.jsx(R,{className:"px-6 pb-8 -mt-12 relative",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-gradient-to-br from-primary-500 to-secondary-500 p-1 shadow-2xl shadow-primary-500/20 mb-4 bg-white dark:bg-dark-card border-4 border-light-bg dark:border-dark-bg",children:r.jsx("div",{className:"w-full h-full rounded-[28px] overflow-hidden flex items-center justify-center font-black text-3xl text-gradient",children:i.avatarUrl?r.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-full h-full object-cover"}):i.name[0]})}),r.jsx("h2",{className:"text-2xl font-black text-center text-light-text dark:text-dark-text",children:i.name}),r.jsx("p",{className:"text-primary-500 font-bold uppercase tracking-widest text-[10px] mt-1",children:i.role.replace("_"," ")}),r.jsxs("div",{className:"mt-8 w-full grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-3 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30 text-center",children:[r.jsx("p",{className:"text-lg font-black",children:(o==null?void 0:o.totalPosts)||0}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-tighter italic",children:"Total Posts"})]}),r.jsxs("div",{className:"p-3 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30 text-center",children:[r.jsx("p",{className:"text-lg font-black text-emerald-500",children:(o==null?void 0:o.totalRewards)||0}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-tighter italic",children:"Rewards"})]})]})]})})]}),r.jsxs(M,{glass:!0,className:"p-6 border-emerald-500/10",children:[r.jsxs(pe,{className:"text-[10px] font-black uppercase tracking-[0.2em] text-light-muted mb-6 flex items-center gap-2",children:[r.jsx(b5,{className:"w-3 h-3 text-emerald-500"})," Community Activity"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-light-muted",children:"Followers"}),r.jsx("span",{className:"text-sm font-bold",children:(o==null?void 0:o.followerCount)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-light-muted",children:"Following"}),r.jsx("span",{className:"text-sm font-bold",children:(o==null?void 0:o.followingCount)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-light-muted",children:"Member Since"}),r.jsxs("span",{className:"text-sm font-bold flex items-center gap-1",children:[r.jsx(ze,{className:"w-3.5 h-3.5"}),new Date(i._creationTime).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]})]})]})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs(M,{glass:!0,className:"overflow-hidden border-light-border/20 dark:border-dark-border/20",children:[r.jsx(xe,{className:"bg-light-card/30 dark:bg-dark-card/30 border-b border-light-border/20 dark:border-dark-border/20",children:r.jsxs(pe,{className:"text-xs font-black uppercase tracking-widest flex items-center gap-2",children:[r.jsx(ot,{className:"w-4 h-4 text-primary-500"})," Identity Information"]})}),r.jsxs(R,{className:"p-8 grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(Kr,{className:"w-3 h-3"})," Email Address"]}),r.jsx("p",{className:"font-bold text-base truncate",children:i.email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(hd,{className:"w-3 h-3"})," Phone Number"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-bold text-base",children:i.phone||"N/A"}),i.network&&r.jsx(q,{variant:"secondary",className:"text-[9px] px-1.5 italic h-5",children:i.network})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(uh,{className:"w-3 h-3"})," Profession / Field"]}),r.jsx("p",{className:"font-bold text-base capitalize",children:i.profession||"Community Member"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1.5 flex items-center gap-2",children:[r.jsx(_t,{className:"w-3 h-3 text-emerald-500"})," Verification"]}),r.jsx("p",{className:"font-bold text-sm",children:i.whatsappVerified?r.jsxs("span",{className:"text-emerald-500 flex items-center gap-1.5",children:["WhatsApp Verified ",r.jsx(qe,{className:"w-3 h-3"})]}):r.jsx("span",{className:"text-rose-500",children:"Unverified Account"})})]})]})]})]}),r.jsxs(M,{glass:!0,className:"overflow-hidden border-amber-500/10",children:[r.jsx(xe,{className:"bg-amber-500/5 border-b border-amber-500/10",children:r.jsxs(pe,{className:"text-xs font-black uppercase tracking-widest flex items-center gap-2",children:[r.jsx(yn,{className:"w-4 h-4 text-amber-500"})," Payment & Bank Details"]})}),r.jsx(R,{className:"p-8",children:i.bankDetails?r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"md:col-span-2 p-5 rounded-2xl bg-amber-500/5 border border-amber-500/10 relative group",children:[r.jsx("label",{className:"text-[10px] font-black text-amber-600/60 uppercase tracking-widest mb-1 block",children:"Account Full Name"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-xl font-black text-light-text dark:text-dark-text tracking-tight uppercase",children:i.bankDetails.accountName}),r.jsx("button",{onClick:()=>l(i.bankDetails.accountName,"accName"),className:"p-2 rounded-xl bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-all",children:a==="accName"?r.jsx(mt,{className:"w-4 h-4"}):r.jsx(Bu,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"p-5 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30",children:[r.jsx("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1 block italic",children:"Financial Institution"}),r.jsx("p",{className:"text-lg font-bold",children:i.bankDetails.bankName})]}),r.jsxs("div",{className:"p-5 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/30 dark:border-dark-border/30 relative group",children:[r.jsx("label",{className:"text-[10px] font-black text-light-muted uppercase tracking-widest mb-1 block italic",children:"Account Identifier"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-lg font-mono font-black tracking-[0.2em]",children:i.bankDetails.accountNumber}),r.jsx("button",{onClick:()=>l(i.bankDetails.accountNumber,"accNum"),className:"p-2 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-all",children:a==="accNum"?r.jsx(mt,{className:"w-4 h-4 text-emerald-500"}):r.jsx(Bu,{className:"w-4 h-4 text-light-muted"})})]})]})]}):r.jsxs("div",{className:"text-center py-10 opacity-60",children:[r.jsx(yn,{className:"w-12 h-12 text-light-muted mx-auto mb-4 stroke-1"}),r.jsx("p",{className:"font-bold text-light-muted",children:"No banking information provided yet."}),r.jsx("p",{className:"text-xs italic",children:"User needs to update their profile settings."})]})})]})]})]})]}):r.jsxs("div",{className:"text-center py-20",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User not found"}),r.jsx(I,{onClick:()=>t(-1),children:"Go Back"})]})}function K6(){var a;const{id:e}=Ta(),t=ie(),s=D(S.announcements.getAnnouncementById,e?{id:e}:"skip");return s===void 0?r.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[r.jsx(Ht,{}),r.jsx("div",{className:"h-64 bg-light-card dark:dark-card rounded-3xl animate-pulse mt-8"})]}):s?r.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors mb-8 group",children:[r.jsx("div",{className:"p-2 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border group-hover:border-primary-500/50",children:r.jsx(ba,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold text-sm uppercase tracking-widest",children:"Back"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[s.imageUrl&&r.jsxs("div",{className:"w-full h-80 md:h-[400px] rounded-[40px] overflow-hidden border border-light-border/20 dark:border-dark-border/20 shadow-2xl relative",children:[r.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r.jsxs("div",{className:"absolute bottom-8 left-8 right-8",children:[r.jsx(q,{variant:"primary",className:"mb-4",children:"Official Announcement"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-white font-display leading-tight",children:s.title})]})]}),!s.imageUrl&&r.jsxs("div",{className:"mb-4",children:[r.jsx(q,{variant:"primary",className:"mb-4",children:"Official Announcement"}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-light-text dark:text-dark-text font-display leading-tight",children:s.title})]}),r.jsx(M,{glass:!0,className:"border-primary-500/10",children:r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/10 flex items-center justify-center text-primary-500",children:r.jsx(ot,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider leading-none mb-1",children:"Posted By"}),r.jsx("p",{className:"font-bold text-sm capitalize",children:((a=s.creatorRole)==null?void 0:a.replace("_"," "))||"Community Admin"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center text-emerald-500",children:r.jsx(ut,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider leading-none mb-1",children:"Date Published"}),r.jsx("p",{className:"font-bold text-sm",children:new Date(s._creationTime).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:r.jsx(Ui,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] font-bold text-light-muted uppercase tracking-wider leading-none mb-1",children:"Category"}),r.jsx("p",{className:"font-bold text-sm",children:"General Update"})]})]})]})})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:r.jsx("p",{className:"text-light-text dark:text-dark-text text-xl md:text-2xl leading-relaxed font-medium",children:s.description})}),r.jsx("div",{className:"pt-12 flex items-center justify-center",children:r.jsx(I,{variant:"primary",size:"lg",onClick:()=>t("/feed"),className:"px-12 rounded-2xl shadow-xl shadow-primary-500/20",children:"Return to Feed"})})]})]})]})}):r.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Announcement not found"}),r.jsx(I,{onClick:()=>t("/feed"),children:"Back to Feed"})]})}function Y6(){const{user:e,isLoading:t}=Y(),s=ie(),a=D(S.governance.getMeetings),n=D(S.finance.getTransactions,{limit:5}),i=D(S.finance.getMyContributions,e?{userId:e._id,year:new Date().getFullYear()}:"skip"),o=D(S.governance.getUserAttendance,e?{userId:e._id}:"skip"),l=D(S.finance.getCurrentBalance);if(t||a===void 0||n===void 0||i===void 0||o===void 0)return r.jsxs("div",{className:"space-y-8 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("div",{className:"h-4 w-48 bg-light-muted/10 animate-pulse rounded"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(x=>r.jsx(Pt,{},x))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx(_e,{}),r.jsx(_e,{}),r.jsx(_e,{})]})]});if(!e)return r.jsx(Te,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Te,{to:"/feed",replace:!0});const d=o!=null&&o.length?Math.round(o.filter(x=>x.status==="present"||x.status==="late"||x.status==="excused").length/o.length*100):100,c=(i==null?void 0:i.reduce((x,b)=>x+b.totalPaid,0))||0,u=i&&i.length>0?i[0]:null,m=x=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(x),h=[{label:"Attendance Rate",value:`${d}%`,icon:ut,color:"text-primary-500",bg:"bg-primary-500/10",path:"/board/attendance"},{label:"Community Balance",value:m(l||0),icon:qe,color:"text-amber-500",bg:"bg-amber-500/10",path:"/board/finance"},{label:"Yearly Contributions",value:m(c),icon:br,color:"text-emerald-500",bg:"bg-emerald-500/10",path:"/board/contributions"},{label:"Current Status",value:u?u.status.charAt(0).toUpperCase()+u.status.slice(1):"Cleared",icon:_t,color:(u==null?void 0:u.status)==="owing"?"text-rose-500":"text-emerald-500",bg:(u==null?void 0:u.status)==="owing"?"bg-rose-500/10":"bg-emerald-500/10",path:"/board/contributions"}];return r.jsxs("div",{className:"space-y-8 pb-20",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Board Hub Dashboard"})]}),r.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:["Shalom, ",e.name.split(" ")[0]]}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Centralized overview of governance, finance, and your contributions."})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((x,b)=>r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},children:r.jsx(M,{className:"cursor-pointer hover:border-primary-500/30 transition-all group",onClick:()=>s(x.path),children:r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-2xl ${x.bg} ${x.color}`,children:r.jsx(x.icon,{className:"w-6 h-6"})}),r.jsx("div",{className:`text-xl font-black ${x.color}`,children:x.value})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted",children:x.label})]})})},x.label))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs(M,{className:"lg:col-span-1",children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ie,{className:"w-5 h-5 text-primary-500"}),"Meeting Records"]}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:()=>s("/board/attendance"),children:r.jsx(yt,{className:"w-4 h-4"})})]})}),r.jsxs(R,{className:"space-y-4",children:[a&&a.slice(0,4).map(x=>r.jsxs("div",{className:"p-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg/30 dark:bg-dark-bg/30",children:[r.jsx("p",{className:"font-bold text-sm truncate",children:x.title}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:"text-[10px] text-light-muted font-medium",children:new Date(x.date).toLocaleDateString()}),r.jsx(q,{className:`${x.status==="active"?"bg-emerald-500 animate-pulse":x.status==="ended"?"bg-light-muted/20 text-light-muted":"bg-primary-500/50"}`,children:x.status})]})]},x._id)),(!a||a.length===0)&&r.jsx("div",{className:"text-center py-6 text-xs text-light-muted italic",children:"No meeting records yet"})]})]}),r.jsxs(M,{className:"lg:col-span-1 border-emerald-500/20",children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xh,{className:"w-5 h-5 text-emerald-500"}),"Financial History"]}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-8 px-2 text-emerald-500 hover:text-emerald-600",onClick:()=>s("/board/finance"),children:r.jsx(yt,{className:"w-4 h-4"})})]})}),r.jsx(R,{className:"space-y-4",children:n&&n.map(x=>r.jsxs("div",{className:"p-3 rounded-xl border border-emerald-500/10 bg-emerald-500/5",children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("p",{className:"text-xs font-bold truncate max-w-[120px]",children:x.description}),r.jsxs("p",{className:`text-xs font-black ${x.type==="deposit"?"text-emerald-500":"text-rose-500"}`,children:[x.type==="deposit"?"+":"-",m(x.amount)]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-[9px] text-light-muted",children:new Date(x.createdAt).toLocaleDateString()}),r.jsx("span",{className:"text-[9px] text-light-muted uppercase font-black",children:x.memberName||"System"})]})]},x._id))})]}),r.jsxs(M,{className:"lg:col-span-1 border-primary-500/20",children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yn,{className:"w-5 h-5 text-primary-500"}),"My Stake"]}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:()=>s("/board/contributions"),children:r.jsx(yt,{className:"w-4 h-4"})})]})}),r.jsxs(R,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[r.jsxs("div",{className:"p-3 rounded-xl bg-primary-500/5 text-center border border-primary-500/10",children:[r.jsx("p",{className:"text-[9px] font-black text-light-muted uppercase",children:"Paid this Year"}),r.jsx("p",{className:"text-sm font-black text-primary-500",children:m(c)})]}),r.jsxs("div",{className:"p-3 rounded-xl bg-primary-500/5 text-center border border-primary-500/10",children:[r.jsx("p",{className:"text-[9px] font-black text-light-muted uppercase",children:"Monthly Due"}),r.jsx("p",{className:"text-sm font-black text-primary-500",children:"1,000"})]})]}),r.jsx("div",{className:"space-y-2",children:i&&i.slice(0,3).map((x,b)=>r.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-light-bg/50 dark:bg-dark-bg/50 text-xs",children:[r.jsx("span",{className:"font-bold",children:new Date(2024,x.month-1).toLocaleDateString("en-US",{month:"short"})}),r.jsx("span",{className:"font-medium",children:m(x.totalPaid)}),r.jsx(q,{className:x.status==="cleared"?"bg-emerald-500":"bg-rose-500",children:x.status})]},b))})]})]})]})]})}function X6(){const{user:e,isLoading:t}=Y(),[s,a]=g.useState("all"),n=D(S.boardTasks.getTasks,e&&(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")?{userId:e._id}:"skip"),i=$(S.boardTasks.updateTaskStatus);if(t)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[r.jsx(Ht,{}),r.jsx(uj,{}),r.jsx(ja,{count:4})]})});if(!e)return r.jsx(Te,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Te,{to:"/feed",replace:!0});const[o,l]=g.useState("my_tasks"),d=(n==null?void 0:n.filter(u=>o==="my_tasks"&&u.assignedTo!==e._id?!1:s==="all"?!0:u.status===s))||[],c=async(u,m)=>{if(e)try{await i({userId:e._id,taskId:u,status:m})}catch(h){console.error("Failed to update task status:",h)}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Service & Operations"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Mission Control"})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 justify-between items-start lg:items-center mb-10",children:[r.jsx("div",{className:"flex bg-light-card/50 dark:bg-dark-card/50 p-1.5 rounded-2xl border border-light-border dark:border-dark-border overflow-x-auto no-scrollbar max-w-full",children:[{key:"all",label:"All Directives",count:(n==null?void 0:n.length)||0},{key:"todo",label:"Pending",count:(n==null?void 0:n.filter(u=>u.status==="todo").length)||0},{key:"in_progress",label:"Active",count:(n==null?void 0:n.filter(u=>u.status==="in_progress").length)||0},{key:"completed",label:"Fulfilled",count:(n==null?void 0:n.filter(u=>u.status==="completed").length)||0}].map(u=>r.jsxs("button",{onClick:()=>a(u.key),className:`px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] transition-all whitespace-nowrap ${s===u.key?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:[u.label," ",r.jsx("span",{className:`ml-1 opacity-60 ${s===u.key?"text-white":""}`,children:u.count})]},u.key))}),r.jsxs("div",{className:"flex bg-light-bg dark:bg-dark-bg p-1 rounded-xl border border-light-border dark:border-dark-border self-end lg:self-auto",children:[r.jsx("button",{onClick:()=>l("my_tasks"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-tighter transition-all ${o==="my_tasks"?"bg-primary-500 text-white shadow-sm":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Personal"}),r.jsx("button",{onClick:()=>l("all_tasks"),className:`px-4 py-2 rounded-lg text-xs font-black uppercase tracking-tighter transition-all ${o==="all_tasks"?"bg-primary-500 text-white shadow-sm":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Collective"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-20",children:r.jsx(ae,{mode:"popLayout",children:d.length===0?r.jsx("div",{className:"col-span-full",children:r.jsx(M,{glass:!0,className:"border-dashed border-light-border dark:border-dark-border",children:r.jsxs(R,{className:"p-20 text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-light-muted/5 dark:bg-dark-muted/5 flex items-center justify-center mx-auto mb-4 border border-light-border/20",children:r.jsx(ye,{className:"w-8 h-8 text-light-muted opacity-30"})}),r.jsx("p",{className:"text-sm font-bold text-light-muted dark:text-dark-muted tracking-widest uppercase",children:"No directivies in this sector"})]})})}):d.map(u=>{var m;return r.jsx(P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-full",children:r.jsxs(M,{glass:!0,className:`h-full border-primary-500/10 hover:border-primary-500/40 transition-all duration-300 relative group overflow-hidden ${u.status==="completed"?"opacity-70 grayscale-[0.5]":""}`,children:[r.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-[0.03] pointer-events-none rounded-bl-full ${u.priority==="urgent"?"bg-rose-500":"bg-primary-500"}`}),r.jsxs(R,{className:"p-6 flex flex-col h-full",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2.5 rounded-xl border ${u.status==="completed"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":u.status==="in_progress"?"bg-amber-500/10 border-amber-500/20 text-amber-500":"bg-primary-500/10 border-primary-500/20 text-primary-500"}`,children:u.status==="completed"?r.jsx(_t,{className:"w-5 h-5"}):u.status==="in_progress"?r.jsx(ze,{className:"w-5 h-5"}):r.jsx(Al,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs(q,{variant:"outline",className:`text-[8px] font-black uppercase h-5 mb-1 ${u.priority==="urgent"?"text-rose-500 border-rose-500":u.priority==="high"?"text-amber-500 border-amber-500":"text-primary-500 border-primary-500"}`,children:[u.priority," Priority"]}),r.jsx("h3",{className:"text-lg font-black text-light-text dark:text-dark-text leading-tight tracking-tight",children:u.title})]})]})}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-6 leading-relaxed flex-grow",children:u.description}),r.jsxs("div",{className:"space-y-4 pt-4 border-t border-light-border/30 dark:border-dark-border/30",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-light-muted/10 flex items-center justify-center border border-light-border/20",children:r.jsx(ot,{className:"w-4 h-4 text-light-muted"})}),r.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-tighter",children:[r.jsx("p",{className:"text-light-muted/60 leading-none mb-0.5",children:"Assigned To"}),r.jsx("p",{className:"text-light-text dark:text-dark-text",children:((m=u.assignee)==null?void 0:m.name)||"Unassigned"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-light-muted/10 flex items-center justify-center border border-light-border/20",children:r.jsx(ut,{className:"w-4 h-4 text-light-muted"})}),r.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-tighter",children:[r.jsx("p",{className:"text-light-muted/60 leading-none mb-0.5",children:"Deadline"}),r.jsx("p",{className:`${u.dueDate&&u.dueDate<Date.now()&&u.status!=="completed"?"text-rose-500 font-bold":"text-light-text dark:text-dark-text"}`,children:u.dueDate?new Date(u.dueDate).toLocaleDateString():"OPEN"})]})]})]}),u.assignedTo===e._id&&u.status!=="completed"&&r.jsxs("div",{className:"flex gap-2 w-full",children:[u.status==="todo"&&r.jsxs(I,{className:"flex-1 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-black text-[10px] uppercase tracking-widest h-10 shadow-lg shadow-primary-500/20",onClick:()=>c(u._id,"in_progress"),children:["Initiate Task ",r.jsx(yt,{className:"w-4 h-4 ml-2"})]}),u.status==="in_progress"&&r.jsxs(I,{className:"flex-1 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-black text-[10px] uppercase tracking-widest h-10 shadow-lg shadow-emerald-500/20",onClick:()=>c(u._id,"completed"),children:["Verify Completion ",r.jsx(_t,{className:"w-4 h-4 ml-2"})]})]})]})]})]})},u._id)})})})]})}function J6(){var v;const{user:e,isLoading:t}=Y(),[s,a]=g.useState(null),[n,i]=g.useState(void 0),o=D(S.training.getModules,{category:n}),l=D(S.training.getProgress,e?{userId:e._id}:"skip"),d=D(S.training.getTrainingStats,e?{userId:e._id}:"skip"),c=$(S.training.startModule),u=$(S.training.completeModule);if(t)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[r.jsx(Ht,{}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[r.jsx(Pt,{}),r.jsx(Pt,{}),r.jsx(Pt,{}),r.jsx(Pt,{})]})]})});if(!e)return r.jsx(Te,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Te,{to:"/feed",replace:!0});const m=y=>l==null?void 0:l.find(p=>{var f;return((f=p.module)==null?void 0:f._id)===y}),h=async y=>{try{await c({userId:e._id,moduleId:y})}catch(p){console.error("Failed to start module:",p)}},x=async y=>{try{await u({userId:e._id,moduleId:y}),a(null)}catch(p){console.error("Failed to complete module:",p)}},b=["Leadership","Ministry Skills","Spiritual Growth","Technical Skills","Team Building"];return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-secondary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-secondary-500",children:"Wisdom Hub"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Training Center"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Elevating your capacity for leadership and service."})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[r.jsxs(M,{glass:!0,className:"relative overflow-hidden group border-emerald-500/10 hover:border-emerald-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-emerald-500/10 text-emerald-500",children:r.jsx(_t,{className:"w-6 h-6"})}),r.jsx("div",{className:"text-right text-3xl font-black font-display text-emerald-500",children:(d==null?void 0:d.completed)||0})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Fulfilled"}),r.jsx("p",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-tighter",children:"Modules Mastered"})]})]}),r.jsxs(M,{glass:!0,className:"relative overflow-hidden group border-amber-500/10 hover:border-amber-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-amber-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-amber-500/10 text-amber-500",children:r.jsx(ze,{className:"w-6 h-6"})}),r.jsx("div",{className:"text-right text-3xl font-black font-display text-amber-500",children:(d==null?void 0:d.inProgress)||0})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"In Transit"}),r.jsx("p",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-tighter",children:"Currently Active"})]})]}),r.jsxs(M,{glass:!0,className:"relative overflow-hidden group border-primary-500/10 hover:border-primary-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-primary-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-500",children:r.jsx(zs,{className:"w-6 h-6"})}),r.jsx("div",{className:"text-right text-3xl font-black font-display text-primary-500",children:(d==null?void 0:d.totalModules)||0})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Wisdom Repository"}),r.jsx("p",{className:"text-[10px] font-bold text-primary-500 uppercase tracking-tighter",children:"Total Curated content"})]})]}),r.jsxs(M,{glass:!0,className:"relative overflow-hidden group border-secondary-500/10 hover:border-secondary-500/30 transition-all duration-500",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-secondary-500/5 rounded-bl-full -mr-8 -mt-8 group-hover:scale-110 transition-transform"}),r.jsxs(R,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-secondary-500/10 text-secondary-500",children:r.jsx(ps,{className:"w-6 h-6"})}),r.jsxs("div",{className:"text-right text-3xl font-black font-display text-secondary-500",children:[(d==null?void 0:d.completionPercentage)||0,"%"]})]}),r.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Proficiency"}),r.jsx("div",{className:"h-1.5 w-full bg-light-muted/10 dark:bg-dark-muted/10 rounded-full overflow-hidden mt-2",children:r.jsx("div",{className:"h-full bg-secondary-500 transition-all duration-1000",style:{width:`${(d==null?void 0:d.completionPercentage)||0}%`}})})]})]})]}),r.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:r.jsxs("div",{className:"flex bg-light-card/50 dark:bg-dark-card/50 p-1.5 rounded-2xl border border-light-border dark:border-dark-border overflow-x-auto no-scrollbar max-w-full",children:[r.jsx("button",{onClick:()=>i(void 0),className:`px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] transition-all whitespace-nowrap ${n===void 0?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"All Sectors"}),b.map(y=>r.jsx("button",{onClick:()=>i(y),className:`px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[10px] transition-all whitespace-nowrap ${n===y?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:y},y))]})}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o==null?void 0:o.map(y=>{const p=m(y._id);return r.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{y:-8},className:"h-full",children:r.jsx(M,{glass:!0,className:`h-full border-secondary-500/10 hover:border-secondary-500/40 transition-all duration-300 relative group overflow-hidden ${(p==null?void 0:p.status)==="completed"?"opacity-80":""}`,children:r.jsxs(R,{className:"p-8 flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx(q,{variant:"outline",className:"text-[8px] font-black uppercase h-5 text-secondary-500 border-secondary-500/30",children:y.category}),p&&r.jsx(q,{className:`text-[8px] font-black uppercase h-5 ${p.status==="completed"?"bg-emerald-500":"bg-primary-500"}`,children:p.status==="completed"?"Fulfilled":"In Transit"})]}),r.jsx("h3",{className:"font-black text-xl text-light-text dark:text-dark-text mb-3 leading-tight tracking-tight group-hover:text-secondary-500 transition-colors",children:y.title}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-8 line-clamp-3 leading-relaxed flex-grow",children:y.description}),r.jsxs("div",{className:"flex items-center gap-6 mb-8 text-[10px] font-black uppercase tracking-widest text-light-muted/60",children:[y.videoUrl&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(D5,{className:"w-3.5 h-3.5 text-secondary-500"}),"Video"]}),y.documentUrl&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"w-3.5 h-3.5 text-secondary-500"}),"Text"]}),y.duration&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ze,{className:"w-3.5 h-3.5 text-secondary-500"}),y.duration," MIN"]})]}),r.jsx(I,{variant:(p==null?void 0:p.status)==="completed"?"ghost":"secondary",className:`w-full rounded-2xl h-12 font-black text-[10px] uppercase tracking-[0.2em] transition-all duration-300 ${(p==null?void 0:p.status)==="completed"?"border-2 border-secondary-500/20 hover:bg-secondary-500 hover:text-white":"shadow-xl shadow-secondary-500/20"}`,onClick:()=>{a(y),p||h(y._id)},children:(p==null?void 0:p.status)==="completed"?"Review Directive":p?"Resume Mission":"Commence Training"})]})})},y._id)})}),s&&r.jsx(ht,{isOpen:!!s,onClose:()=>a(null),title:s.title,children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(q,{variant:"secondary",children:s.category}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:s.description}),s.videoUrl&&r.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-black",children:r.jsx("iframe",{width:"100%",height:"100%",src:s.videoUrl,title:s.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),s.content&&r.jsx("div",{className:"prose dark:prose-invert max-w-none",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:s.content}})}),s.documentUrl&&r.jsxs("a",{href:s.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary-500 hover:text-primary-600",children:[r.jsx(qt,{className:"w-4 h-4"}),"Download Course Material"]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(I,{variant:"ghost",onClick:()=>a(null),children:"Close"}),((v=m(s._id))==null?void 0:v.status)!=="completed"&&r.jsx(I,{variant:"primary",onClick:()=>x(s._id),children:"Mark as Complete"})]})]})})]})}function Z6({isOpen:e,onClose:t,userId:s}){const[a,n]=g.useState(""),[i,o]=g.useState(""),[l,d]=g.useState(""),[c,u]=g.useState("60"),[m,h]=g.useState(!1),x=$(S.governance.createMeeting),{showToast:b}=Ia(),v=async y=>{y.preventDefault(),h(!0);try{await x({adminId:s,title:a,date:new Date(i).getTime(),startTime:l,durationMinutes:parseInt(c)}),n(""),o(""),d(""),u("60"),t(),b("success",`Meeting "${a}" created successfully!`)}catch(p){console.error("Failed to create meeting:",p),b("error","Failed to create meeting. Please try again.")}finally{h(!1)}};return r.jsx(ht,{isOpen:e,onClose:t,title:"Create Board Meeting",children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),"Meeting Title"]}),r.jsx(de,{value:a,onChange:y=>n(y.target.value),placeholder:"e.g., Monthly Board Meeting",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(ut,{className:"w-4 h-4"}),"Date"]}),r.jsx(de,{type:"date",value:i,onChange:y=>o(y.target.value),required:!0,className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(ze,{className:"w-4 h-4"}),"Start Time"]}),r.jsx(de,{type:"time",value:l,onChange:y=>d(y.target.value),required:!0,className:"w-full"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Duration (minutes)"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[30,60,90,120].map(y=>r.jsxs("button",{type:"button",onClick:()=>u(y.toString()),className:`px-4 py-2 rounded-lg border-2 transition-all ${c===y.toString()?"border-primary-500 bg-primary-500/10 text-primary-500":"border-light-border dark:border-dark-border hover:border-primary-500/50"}`,children:[y,"m"]},y))}),r.jsx(de,{type:"number",value:c,onChange:y=>u(y.target.value),placeholder:"Custom duration",min:"15",max:"480",className:"mt-2"})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsx(I,{type:"button",variant:"ghost",onClick:t,className:"flex-1",disabled:m,children:"Cancel"}),r.jsx(I,{type:"submit",variant:"primary",className:"flex-1",disabled:m,children:m?"Creating...":"Create Meeting"})]})]})})}function eI({isOpen:e,onClose:t,userId:s}){const[a,n]=g.useState(""),[i,o]=g.useState(!1),l=$(S.governance.clockIn),{showToast:d}=Ia(),c=async u=>{u.preventDefault(),o(!0);try{await l({userId:s,code:a}),n(""),t(),d("success"," Successfully clocked in to the meeting!")}catch(m){console.error("Failed to clock in:",m),d("error",m.message||"Failed to clock in. Please check the code and try again.")}finally{o(!1)}};return r.jsx(ht,{isOpen:e,onClose:t,title:"Clock In to Meeting",children:r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Meeting Code"}),r.jsx(de,{value:a,onChange:u=>n(u.target.value.toUpperCase()),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-2xl font-mono tracking-widest",required:!0}),r.jsx("p",{className:"text-xs text-light-muted mt-2",children:"Enter the 6-digit code provided by the admin"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(I,{type:"button",variant:"ghost",onClick:t,className:"flex-1",disabled:i,children:"Cancel"}),r.jsx(I,{type:"submit",variant:"primary",className:"flex-1",disabled:i||a.length!==6,children:i?"Clocking In...":"Clock In"})]})]})})}function tI({isOpen:e,onClose:t,userId:s}){const[a,n]=g.useState(""),[i,o]=g.useState(""),[l,d]=g.useState(""),[c,u]=g.useState(!1),m=D(S.governance.getMeetings),h=$(S.governance.submitExcuse),{showToast:x}=Ia(),b=(m==null?void 0:m.map(y=>({value:y._id,label:`${y.title} - ${new Date(y.date).toLocaleDateString()}`})))||[],v=async y=>{y.preventDefault(),u(!0);try{await h({userId:s,meetingId:a,reason:i,proofUrl:l||void 0}),n(""),o(""),d(""),t(),x("success","Excuse submitted successfully! Awaiting admin review.")}catch(p){console.error("Failed to submit excuse:",p),x("error","Failed to submit excuse. Please try again.")}finally{u(!1)}};return r.jsx(ht,{isOpen:e,onClose:t,title:"Submit Excuse",children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Select Meeting"}),r.jsx(Ar,{options:b,value:a,onChange:n,placeholder:"Choose a meeting..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Reason for Absence"}),r.jsx("textarea",{value:i,onChange:y=>o(y.target.value),placeholder:"Please explain why you couldn't attend...",className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg min-h-[100px]",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Proof URL (Optional)"}),r.jsx(de,{type:"url",value:l,onChange:y=>d(y.target.value),placeholder:"https://example.com/proof.jpg"}),r.jsx("p",{className:"text-xs text-light-muted mt-2",children:"Upload proof to ImageKit or another service and paste the URL here"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(I,{type:"button",variant:"ghost",onClick:t,className:"flex-1",disabled:c,children:"Cancel"}),r.jsx(I,{type:"submit",variant:"primary",className:"flex-1",disabled:c,children:c?"Submitting...":"Submit Excuse"})]})]})})}function rI({isOpen:e,onClose:t,meeting:s}){const[a,n]=g.useState(!0),i=D(S.governance.getMeetingAttendance,s?{meetingId:s._id}:"skip"),o=m=>{switch(m){case"present":return r.jsx(q,{className:"bg-emerald-500 text-white",children:"Present"});case"late":return r.jsx(q,{className:"bg-amber-500 text-white",children:"Late"});case"absent":return r.jsx(q,{className:"bg-rose-500 text-white",children:"Absent"});case"excused":return r.jsx(q,{className:"bg-blue-500 text-white",children:"Excused"});default:return r.jsx(q,{variant:"outline",children:"Unknown"})}},l=m=>{switch(m){case"present":return r.jsx(zt,{className:"w-5 h-5 text-emerald-500"});case"late":return r.jsx(ze,{className:"w-5 h-5 text-amber-500"});case"absent":return r.jsx(Yr,{className:"w-5 h-5 text-rose-500"});case"excused":return r.jsx(zt,{className:"w-5 h-5 text-blue-500"});default:return r.jsx(Yr,{className:"w-5 h-5 text-light-muted"})}},d={present:(i==null?void 0:i.filter(m=>m.status==="present").length)||0,late:(i==null?void 0:i.filter(m=>m.status==="late").length)||0,absent:(i==null?void 0:i.filter(m=>m.status==="absent").length)||0,excused:(i==null?void 0:i.filter(m=>m.status==="excused").length)||0},c=(i==null?void 0:i.length)||0,u=i===void 0;return r.jsx(ht,{isOpen:e,onClose:t,title:"Meeting Attendance",className:"max-w-2xl",children:s&&r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"p-3 md:p-4 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",children:[r.jsx("h3",{className:"font-bold text-base md:text-lg mb-2",children:s.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-light-muted",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ut,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"text-xs md:text-sm",children:new Date(s.date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ze,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"text-xs md:text-sm",children:s.startTime})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ie,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsxs("span",{className:"text-xs md:text-sm",children:[c," Total"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between px-1",children:[r.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-light-muted",children:"Attendance Summary"}),r.jsx(I,{variant:"ghost",size:"sm",className:"h-7 text-[10px] font-bold gap-1",onClick:()=>n(!a),children:a?r.jsxs(r.Fragment,{children:[r.jsx(cd,{className:"w-3 h-3"})," Hide Stats"]}):r.jsxs(r.Fragment,{children:[r.jsx(ts,{className:"w-3 h-3"})," Show Stats"]})})]}),r.jsx(ae,{children:a&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-3",children:[r.jsx(M,{className:"border-emerald-500/20 bg-emerald-500/5",children:r.jsxs(R,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-emerald-500",children:d.present}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Present"})]})}),r.jsx(M,{className:"border-amber-500/20 bg-amber-500/5",children:r.jsxs(R,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-amber-500",children:d.late}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Late"})]})}),r.jsx(M,{className:"border-rose-500/20 bg-rose-500/5",children:r.jsxs(R,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-rose-500",children:d.absent}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Absent"})]})}),r.jsx(M,{className:"border-blue-500/20 bg-blue-500/5",children:r.jsxs(R,{className:"p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-xl md:text-2xl font-black text-blue-500",children:d.excused}),r.jsx("div",{className:"text-[9px] md:text-xs font-bold text-light-muted uppercase tracking-tighter",children:"Excused"})]})})]})})}),r.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[r.jsxs("h4",{className:"font-bold text-sm md:text-base mb-3 flex items-center gap-2",children:[r.jsx(Ie,{className:"w-4 h-4 text-primary-500"}),"Board Member Roster"]}),r.jsx("div",{className:"space-y-2 max-h-[40vh] md:max-h-96 overflow-y-auto pr-2 thin-scrollbar",children:u?[1,2,3,4].map(m=>r.jsx("div",{className:"h-16 w-full bg-light-muted/10 animate-pulse rounded-xl border border-light-border/50 dark:border-dark-border/50"},m)):i&&i.length>0?i.map(m=>r.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 rounded-lg border border-light-border dark:border-dark-border hover:border-primary-500/30 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[l(m.status),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold text-sm md:text-base truncate",children:m.userName}),m.joinTime&&r.jsxs("p",{className:"text-[10px] md:text-xs text-light-muted",children:["Clocked in at ",new Date(m.joinTime).toLocaleTimeString()]})]})]}),r.jsx("div",{className:"flex-shrink-0",children:o(m.status)})]},m._id)):r.jsxs("div",{className:"text-center py-8 text-light-muted",children:[r.jsx(Ie,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"No attendance records yet"})]})})]})]})})}function sI({isOpen:e,onClose:t,meeting:s,userId:a}){const[n,i]=g.useState(!1),o=$(S.governance.endMeeting),{showToast:l}=Ia(),d=async()=>{i(!0);try{await o({adminId:a,meetingId:s._id}),t(),l("success","Meeting ended successfully! Attendance has been processed.")}catch(c){console.error("Failed to end meeting:",c),l("error",c.message||"Failed to end meeting. Please try again.")}finally{i(!1)}};return s?r.jsx(ht,{isOpen:e,onClose:t,title:"End Meeting",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-rose-500/10 to-rose-500/5 border border-rose-500/20 flex items-center justify-center mb-4 shadow-xl",children:r.jsx(wy,{className:"w-10 h-10 text-rose-500"})}),r.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:"End This Meeting?"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted max-w-xs",children:['Are you sure you want to end "',s.title,'"?']})]}),r.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-2xl bg-amber-500/5 border border-amber-500/20",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/10 flex items-center justify-center shrink-0",children:r.jsx(_s,{className:"w-6 h-6 text-amber-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-amber-700 dark:text-amber-500 mb-1",children:"What Happens Next"}),r.jsxs("ul",{className:"text-xs text-amber-700/70 dark:text-amber-500/70 space-y-1",children:[r.jsx("li",{children:" Meeting will be marked as ended"}),r.jsx("li",{children:" Attendance will be automatically processed"}),r.jsx("li",{children:" Members who didn't clock in will be marked absent"}),r.jsx("li",{children:" Notifications will be sent to all board members"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-light-bg dark:bg-dark-bg",children:[r.jsx(Ie,{className:"w-4 h-4 text-light-muted"}),r.jsxs("p",{className:"text-xs text-light-muted",children:["Started: ",new Date(s.date).toLocaleDateString()," at ",s.startTime]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(I,{variant:"ghost",className:"w-full rounded-2xl h-12",onClick:t,disabled:n,children:"Cancel"}),r.jsx(I,{variant:"danger",className:"w-full rounded-2xl h-12 shadow-lg shadow-rose-500/20",onClick:d,disabled:n,children:n?"Ending...":"Yes, End Meeting"})]})]})}):null}function bj({user:e}){const[t,s]=g.useState(!1),[a,n]=g.useState(!1),[i,o]=g.useState(!1),[l,d]=g.useState(!1),[c,u]=g.useState(!1),[m,h]=g.useState(null),x=D(S.governance.getMeetings),b=D(S.governance.getActiveMeeting),v=D(S.governance.getPendingExcuses),y=D(S.governance.getUserAttendance,e?{userId:e._id}:"skip"),p=$(S.governance.reviewExcuse);if(x===void 0||y===void 0)return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(w=>r.jsx(Pt,{},w))}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(w=>r.jsx(_e,{},w))})]});const j=(e==null?void 0:e.role)==="super_admin"||(e==null?void 0:e.role)==="admin",k=w=>{switch(w){case"present":return r.jsx(q,{className:"bg-emerald-500 text-white",children:"Present"});case"late":return r.jsx(q,{className:"bg-amber-500 text-white",children:"Late"});case"absent":return r.jsx(q,{className:"bg-rose-500 text-white",children:"Absent"});case"excused":return r.jsx(q,{className:"bg-blue-500 text-white",children:"Excused"});default:return r.jsx(q,{variant:"outline",children:"Unknown"})}};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[r.jsx(M,{className:"border-primary-500/20",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-primary-500/10 text-primary-500",children:r.jsx(ut,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-primary-500",children:(x==null?void 0:x.length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Total Meetings"})]})}),r.jsx(M,{className:"border-emerald-500/20",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-emerald-500/10 text-emerald-500",children:r.jsx(zt,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-emerald-500",children:(y==null?void 0:y.filter(w=>w.status==="present").length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Present"})]})}),r.jsx(M,{className:"border-amber-500/20",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-amber-500/10 text-amber-500",children:r.jsx(ze,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-amber-500",children:(y==null?void 0:y.filter(w=>w.status==="late").length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Late"})]})}),r.jsx(M,{className:"border-rose-500/20",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-rose-500/10 text-rose-500",children:r.jsx(Yr,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-2xl md:text-3xl font-black text-rose-500",children:(y==null?void 0:y.filter(w=>w.status==="absent").length)||0})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Absent"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b&&r.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r.jsxs(M,{className:"border-primary-500 bg-primary-500/5 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:scale-110 transition-transform",children:r.jsx(Ml,{className:"w-32 h-32 text-primary-500"})}),r.jsxs(xe,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(q,{className:"bg-primary-500 text-white animate-pulse",children:"Meeting In Progress"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-primary-500",children:[r.jsx(ze,{className:"w-4 h-4"}),r.jsxs("span",{children:["Started ",Rt(b.createdAt)," ago"]})]})]}),r.jsx(pe,{className:"text-2xl font-black",children:b.title})]}),r.jsxs(R,{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"p-3 md:p-4 rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-[10px] md:text-xs font-bold text-light-muted uppercase tracking-wider",children:"Attendance Code"}),j&&r.jsxs(I,{variant:"ghost",size:"sm",className:"h-6 gap-1 text-[10px] px-2",onClick:()=>{navigator.clipboard.writeText(b.code)},children:[r.jsx(Bu,{className:"w-3 h-3"}),"Copy"]})]}),r.jsx("div",{className:"text-2xl md:text-4xl font-black tracking-[0.3em] md:tracking-[0.5em] text-center text-primary-500 font-mono",children:j?b.code:""})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3",children:[!j&&r.jsx(r.Fragment,{children:y!=null&&y.some(w=>w.meetingId===b._id)?r.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 p-2.5 md:p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 font-bold text-xs md:text-sm",children:[r.jsx(zt,{className:"w-4 h-4 md:w-5 md:h-5"}),"You are clocked in"]}):r.jsxs(I,{className:"flex-1 bg-primary-500 hover:bg-primary-600 text-white rounded-xl h-11 md:h-12 text-sm md:text-base font-bold shadow-lg shadow-primary-500/20",onClick:()=>n(!0),children:[r.jsx(Ml,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Clock In Now"]})}),j&&r.jsxs(I,{variant:"danger",className:"flex-1 rounded-xl h-11 md:h-12 text-sm md:text-base font-bold shadow-lg shadow-rose-500/20",onClick:()=>u(!0),children:[r.jsx(wy,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"End Meeting"]}),r.jsxs(I,{variant:"outline",className:"flex-1 rounded-xl h-11 md:h-12 text-sm md:text-base font-bold border-2",onClick:()=>{h(b),d(!0)},children:[r.jsx(Ie,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"View Attendees"]})]})]})]})}),!b&&j&&r.jsxs(M,{className:"border-dashed border-2 flex flex-col items-center justify-center p-8 text-center bg-light-bg/30 dark:bg-dark-bg/30",children:[r.jsx("div",{className:"p-4 rounded-full bg-primary-500/10 text-primary-500 mb-4",children:r.jsx(xd,{className:"w-10 h-10"})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Active Meeting"}),r.jsx("p",{className:"text-light-muted mb-6 max-w-xs",children:"Ready to start the next session? Setup a meeting and generate an attendance code."}),r.jsx(I,{className:"bg-primary-500 hover:bg-primary-600 text-white rounded-xl h-12 px-8 font-bold shadow-lg shadow-primary-500/20",onClick:()=>s(!0),children:"Create Meeting"})]}),!b&&!j&&r.jsx(M,{className:"p-8 bg-gradient-to-br from-primary-500/5 to-transparent border-primary-500/20",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-primary-500/10 text-primary-500",children:r.jsx(ut,{className:"w-8 h-8"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:"Next Meeting"}),r.jsx("p",{className:"text-light-muted",children:"No meetings currently in progress. Stay tuned for announcements."})]})]})}),j&&v&&v.length>0&&r.jsxs(M,{className:"border-amber-500/50 bg-amber-500/5",children:[r.jsxs(xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsxs(pe,{className:"text-base font-bold flex items-center gap-2",children:[r.jsx(gr,{className:"w-5 h-5 text-amber-500"}),"Pending Excuses"]}),r.jsx(q,{variant:"outline",className:"text-amber-500 border-amber-500",children:v.length})]}),r.jsx(R,{children:r.jsx("div",{className:"space-y-4",children:v.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/50 dark:bg-black/20 border border-amber-500/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm",children:w.userName}),r.jsx("p",{className:"text-xs text-light-muted",children:w.meetingTitle})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-rose-500 hover:bg-rose-500/10",onClick:()=>p({adminId:e._id,excuseId:w._id,approved:!1}),children:r.jsx(Le,{className:"w-4 h-4"})}),r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-emerald-500 hover:bg-emerald-500/10",onClick:()=>p({adminId:e._id,excuseId:w._id,approved:!0}),children:r.jsx(mt,{className:"w-4 h-4"})})]})]},w._id))})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h2",{className:"text-xl md:text-2xl font-black flex items-center gap-2",children:[r.jsx(qt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-500"}),"Meeting History"]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:x==null?void 0:x.map(w=>{const C=y==null?void 0:y.find(N=>N.meetingId===w._id);return r.jsxs(M,{className:"hover:border-primary-500/30 transition-all group",children:[r.jsxs(xe,{className:"pb-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(q,{variant:"outline",className:"text-[10px] font-bold",children:new Date(w.date).toLocaleDateString()}),C?k(C.status):w.status==="ended"?r.jsx(q,{className:"bg-rose-500 text-white",children:"Absent"}):r.jsx(q,{variant:"secondary",children:"Scheduled"})]}),r.jsx(pe,{className:"text-lg font-bold group-hover:text-primary-500 transition-colors",children:w.title})]}),r.jsxs(R,{children:[r.jsxs("div",{className:"flex items-center gap-4 text-xs text-light-muted mb-6",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ze,{className:"w-3 h-3"}),w.startTime]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ie,{className:"w-3 h-3"}),w.durationMinutes," mins"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(I,{variant:"outline",className:"flex-1 text-[10px] h-9 rounded-lg font-bold",onClick:()=>{h(w),d(!0)},children:[r.jsx(Ir,{className:"w-3.5 h-3.5 mr-1.5"}),"Attendance"]}),!C&&w.status==="ended"&&r.jsx(I,{variant:"secondary",className:"flex-1 text-[10px] h-9 rounded-lg font-bold text-amber-500",onClick:()=>{h(w),o(!0)},children:"Submit Excuse"})]}),(C==null?void 0:C.joinTime)&&r.jsxs("p",{className:"text-[10px] md:text-xs text-light-muted mt-2",children:["Clocked in at ",new Date(C.joinTime).toLocaleTimeString()]})]})]},w._id)})})]}),r.jsx(Z6,{isOpen:t,onClose:()=>s(!1),userId:e==null?void 0:e._id}),b&&r.jsx(eI,{isOpen:a,onClose:()=>n(!1),userId:e==null?void 0:e._id}),r.jsx(sI,{isOpen:c,onClose:()=>u(!1),meeting:b,userId:e==null?void 0:e._id}),r.jsx(tI,{isOpen:i,onClose:()=>o(!1),userId:e==null?void 0:e._id}),r.jsx(rI,{isOpen:l,onClose:()=>d(!1),meeting:m})]})}function aI({isOpen:e,onClose:t,userId:s}){const[a,n]=g.useState(1),[i,o]=g.useState("deposit"),[l,d]=g.useState(""),[c,u]=g.useState(""),[m,h]=g.useState(""),[x,b]=g.useState(""),[v,y]=g.useState(null),[p,f]=g.useState(""),[j,k]=g.useState(!1),[w,C]=g.useState(!1),N=$(S.files.generateUploadUrl),T=D(S.users.getAllUsers,{adminId:s}),L=$(S.finance.addTransaction),{showToast:A}=Ia(),H=(T==null?void 0:T.filter(B=>B.role==="board_member"))||[],_=[{value:"",label:"Not linked to a member"},...H.length>0?[{value:"__board_header__",label:"--- Board Members (Monthly Dues) ---",disabled:!0},...H.map(B=>({value:B._id,label:B.name}))]:[],{value:"__other_header__",label:"--- Other Members ---",disabled:!0},{value:"__other__",label:"+ Add Other Person (Non-Board)"}],X=async B=>{var Q;const W=(Q=B.target.files)==null?void 0:Q[0];if(W){if(!W.type.startsWith("image/")){A("error","Please upload an image file");return}if(W.size>5*1024*1024){A("error","File size must be less than 5MB");return}y(W)}},oe=async()=>{C(!0);try{let B=p;if(v){k(!0);try{const W=await N(),Q=await fetch(W,{method:"POST",headers:{"Content-Type":v.type},body:v}),{storageId:ce}=await Q.json();B=(await fetch(`${window.location.origin}/api/storage/${ce}`)).url}catch(W){console.error("Upload failed:",W),A("error","Failed to upload proof image"),k(!1),C(!1);return}finally{k(!1)}}await L({userId:s,type:i,amount:parseFloat(l),description:c,memberId:m&&m!=="__other__"?m:void 0,memberName:m==="__other__"?x:void 0,proofUrl:B||void 0}),n(1),o("deposit"),d(""),u(""),h(""),b(""),y(null),f(""),t(),A("success",`${i==="deposit"?"Deposit":"Withdrawal"} of ${parseFloat(l).toLocaleString()} added successfully!`)}catch(B){console.error("Failed to add transaction:",B),A("error","Failed to add transaction. Please try again.")}finally{C(!1)}},E=()=>{n(1),o("deposit"),d(""),u(""),h(""),f(""),t()},V=i!==null,re=l&&parseFloat(l)>0,F=c.trim().length>0;return r.jsx(ht,{isOpen:e,onClose:E,title:"Add Financial Transaction",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2,3,4].map(B=>r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all ${B===a?"bg-primary-500 text-white scale-110":B<a?"bg-emerald-500 text-white":"bg-light-muted/20 text-light-muted"}`,children:B<a?"":B}),B<4&&r.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full transition-all ${B<a?"bg-emerald-500":"bg-light-muted/20"}`})]},B))}),a===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Select Transaction Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>o("deposit"),className:`p-6 rounded-2xl border-2 transition-all ${i==="deposit"?"border-emerald-500 bg-emerald-500/10 scale-105":"border-light-border dark:border-dark-border hover:border-emerald-500/50"}`,children:[r.jsx(Rs,{className:"w-12 h-12 mx-auto mb-3 text-emerald-500"}),r.jsx("div",{className:"font-bold text-lg",children:"Deposit"}),r.jsx("div",{className:"text-xs text-light-muted mt-1",children:"Money In"})]}),r.jsxs("button",{type:"button",onClick:()=>o("withdrawal"),className:`p-6 rounded-2xl border-2 transition-all ${i==="withdrawal"?"border-rose-500 bg-rose-500/10 scale-105":"border-light-border dark:border-dark-border hover:border-rose-500/50"}`,children:[r.jsx(Uu,{className:"w-12 h-12 mx-auto mb-3 text-rose-500"}),r.jsx("div",{className:"font-bold text-lg",children:"Withdrawal"}),r.jsx("div",{className:"text-xs text-light-muted mt-1",children:"Money Out"})]})]})]}),a===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Enter Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-light-muted",children:""}),r.jsx(de,{type:"number",value:l,onChange:B=>d(B.target.value),placeholder:"0.00",step:"0.01",min:"0",className:"text-3xl font-bold pl-12 py-6 text-center",autoFocus:!0})]}),r.jsx("p",{className:"text-sm text-light-muted text-center",children:l&&parseFloat(l)>0?r.jsx("span",{className:"font-bold text-primary-500",children:new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(parseFloat(l))}):"Enter the transaction amount"})]}),a===3&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[r.jsx(qt,{className:"w-5 h-5"}),"Transaction Details"]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Description"}),r.jsx("textarea",{value:c,onChange:B=>u(B.target.value),placeholder:"e.g., Monthly dues collection, Office supplies purchase...",className:"w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg min-h-[120px]",autoFocus:!0})]})]}),a===4&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Additional Information (Optional)"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(ot,{className:"w-4 h-4"}),"Link to Member"]}),r.jsx(Ar,{options:_.filter(B=>!B.disabled),value:m,onChange:h,placeholder:"Select a member..."}),r.jsx("p",{className:"text-xs text-light-muted mt-2",children:'Board members pay monthly dues. Select "Other" for non-board members.'})]}),m==="__other__"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2",children:"Person's Name"}),r.jsx(de,{value:x,onChange:B=>b(B.target.value),placeholder:"Enter name of person...",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold mb-2 flex items-center gap-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),"Proof/Receipt Image"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:X,className:"hidden",id:"proof-upload"}),r.jsxs("label",{htmlFor:"proof-upload",className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 cursor-pointer transition-colors bg-light-bg dark:bg-dark-bg",children:[r.jsx(Cs,{className:"w-5 h-5 text-light-muted"}),r.jsx("span",{className:"text-sm font-medium",children:v?v.name:"Choose Image"})]}),v&&r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/30",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded bg-emerald-500/20 flex items-center justify-center",children:r.jsx(Cs,{className:"w-4 h-4 text-emerald-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:v.name}),r.jsxs("p",{className:"text-xs text-light-muted",children:[(v.size/1024).toFixed(1)," KB"]})]})]}),r.jsx("button",{type:"button",onClick:()=>y(null),className:"text-rose-500 hover:text-rose-600",children:r.jsx(Le,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-xs text-light-muted",children:"Upload a screenshot or photo of the receipt/proof (Max 5MB)"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[a>1&&r.jsxs(I,{type:"button",variant:"ghost",onClick:()=>n(a-1),className:"flex-1",disabled:w,children:[r.jsx(xr,{className:"w-4 h-4 mr-2"}),"Back"]}),a<4?r.jsxs(I,{type:"button",variant:"primary",onClick:()=>n(a+1),className:"flex-1",disabled:a===1&&!V||a===2&&!re||a===3&&!F,children:["Next",r.jsx(yt,{className:"w-4 h-4 ml-2"})]}):r.jsx(I,{type:"button",variant:"primary",onClick:oe,className:"flex-1",disabled:w||j,children:j?"Uploading...":w?"Adding...":"Complete Transaction"})]})]})})}function yj({isOpen:e,onClose:t,imageUrl:s,title:a}){return g.useEffect(()=>{const n=i=>{i.key==="Escape"&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t]),g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),r.jsx(ae,{children:e&&r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8",children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/90 backdrop-blur-sm"}),r.jsxs(P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative max-w-5xl w-full max-h-full flex flex-col bg-light-bg dark:bg-dark-bg rounded-2xl md:rounded-3xl overflow-hidden shadow-2xl",onClick:n=>n.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-light-border dark:border-dark-border bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-xl bg-primary-500/10 text-primary-500",children:r.jsx(I5,{className:"w-5 h-5"})}),r.jsx("h3",{className:"font-display font-bold text-light-text dark:text-dark-text truncate max-w-[200px] md:max-w-md",children:a||"View Proof"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("a",{href:s,download:!0,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-light-muted hover:text-primary-500 transition-colors",title:"Download Image",children:r.jsx(ud,{className:"w-5 h-5"})}),r.jsx("button",{onClick:t,className:"p-2.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-light-muted hover:text-rose-500 transition-colors",children:r.jsx(Le,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"flex-1 overflow-auto p-2 md:p-4 bg-black/5 dark:bg-white/5 flex items-center justify-center min-h-[300px]",children:r.jsx("img",{src:s,alt:a||"Proof",className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg"})}),r.jsx("div",{className:"p-4 md:p-6 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md border-t border-light-border dark:border-dark-border flex justify-center",children:r.jsx(nI,{onClick:t,variant:"outline",className:"px-8 rounded-xl border-light-border dark:border-dark-border",children:"Close Preview"})})]})]})})}function nI({children:e,onClick:t,variant:s="primary",className:a=""}){const n="px-4 py-2 rounded-lg font-bold transition-all flex items-center justify-center",i={primary:"bg-primary-500 text-white hover:bg-primary-600 shadow-lg shadow-primary-500/20",outline:"border border-light-border dark:border-dark-border text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card",secondary:"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text hover:bg-light-border dark:hover:bg-dark-border"};return r.jsx("button",{onClick:t,className:`${n} ${i[s]} ${a}`,children:e})}function iI({user:e}){const[t,s]=g.useState(null),a=D(S.finance.getPendingSubmissions),n=$(S.finance.approvePaymentSubmission),i=$(S.finance.rejectPaymentSubmission),[o,l]=g.useState(null),{showToast:d}=Ia();if(a===void 0)return r.jsxs(M,{className:"animate-pulse",children:[r.jsx(xe,{children:r.jsx("div",{className:"h-6 w-48 bg-light-muted/10 rounded"})}),r.jsx(R,{children:r.jsx("div",{className:"space-y-4",children:[1,2].map(x=>r.jsx("div",{className:"h-40 bg-light-muted/10 rounded-2xl"},x))})})]});const c=x=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(x),u=x=>new Date(2024,x-1).toLocaleDateString("en-US",{month:"long"}),m=async x=>{if(confirm("Approve this payment? It will increase the total balance and update member dues.")){s(x);try{await n({adminId:e._id,submissionId:x}),d("success","Payment approved successfully!")}catch(b){console.error("Failed to approve:",b),d("error",b.message||"Failed to approve")}finally{s(null)}}},h=async x=>{const b=prompt("Please enter rejection reason:");if(b!==null){s(x);try{await i({adminId:e._id,submissionId:x,reason:b||"Information provided is incomplete/incorrect"}),d("success","Payment rejected.")}catch(v){console.error("Failed to reject:",v),d("error",v.message||"Failed to reject")}finally{s(null)}}};return r.jsxs(M,{children:[r.jsx(xe,{className:"py-4 px-4 md:px-6",children:r.jsxs(pe,{className:"flex items-center gap-2 text-lg md:text-xl",children:[r.jsx(ze,{className:"w-5 h-5 text-primary-500"}),"Pending Payment Submissions",a&&a.length>0&&r.jsx(q,{className:"ml-2 bg-primary-500 text-[10px] h-5 min-w-5 flex items-center justify-center",children:a.length})]})}),r.jsx(R,{children:r.jsx("div",{className:"space-y-4",children:a&&a.length>0?a.map(x=>r.jsxs("div",{className:"p-4 rounded-2xl border border-light-border dark:border-dark-border bg-light-bg/50 dark:bg-dark-bg/50 flex flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"flex-1 space-y-3 md:space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-full bg-primary-500/10 flex items-center justify-center flex-shrink-0",children:r.jsx(ot,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-black truncate",children:x.userName}),r.jsxs("p",{className:"text-[10px] md:text-xs text-light-muted",children:["Submitted ",new Date(x.createdAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[r.jsxs("div",{className:"p-2 md:p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-[9px] md:text-[10px] font-bold text-light-muted uppercase mb-0.5 md:mb-1",children:"Amount"}),r.jsx("p",{className:"text-base md:text-lg font-black text-emerald-500 truncate",children:c(x.amount)})]}),r.jsxs("div",{className:"p-2 md:p-3 rounded-xl bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border",children:[r.jsx("p",{className:"text-[9px] md:text-[10px] font-bold text-light-muted uppercase mb-0.5 md:mb-1",children:"Period"}),r.jsxs("p",{className:"font-bold text-xs md:text-sm truncate",children:[u(x.month)," ",x.year]})]})]})]}),r.jsx("div",{className:"md:w-48 shrink-0",children:r.jsxs("div",{className:"relative group rounded-xl overflow-hidden border border-light-border dark:border-dark-border aspect-video md:aspect-square bg-black/5",children:[x.proofUrl?r.jsx("img",{src:x.proofUrl,alt:"Proof",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(gr,{className:"w-6 h-6 text-light-muted"})}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("button",{onClick:()=>l({url:x.proofUrl,title:`Proof - ${x.userName}`}),className:"p-2 rounded-full bg-white/20 backdrop-blur-md text-white border border-white/20 hover:scale-110 transition-transform",children:r.jsx(Ir,{className:"w-5 h-5"})})})]})}),r.jsxs("div",{className:"md:w-40 shrink-0 flex flex-row md:flex-col gap-2",children:[r.jsxs(I,{onClick:()=>m(x._id),className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white font-bold h-11 md:h-12 text-xs md:text-sm",disabled:t!==null,children:[r.jsx(mt,{className:"w-3.5 h-3.5 md:w-4 md:h-4 mr-1 md:mr-2"}),"Approve"]}),r.jsxs(I,{onClick:()=>h(x._id),variant:"outline",className:"flex-1 border-rose-500/30 text-rose-500 hover:bg-rose-500/10 font-bold h-11 md:h-12 text-xs md:text-sm",disabled:t!==null,children:[r.jsx(Le,{className:"w-3.5 h-3.5 md:w-4 md:h-4 mr-1 md:mr-2"}),"Reject"]})]})]},x._id)):r.jsxs("div",{className:"text-center py-12 text-light-muted flex flex-col items-center gap-2",children:[r.jsx(zt,{className:"w-8 h-8 text-emerald-500/50"}),r.jsx("p",{children:"No pending submissions to review"})]})})}),r.jsx(yj,{isOpen:!!o,onClose:()=>l(null),imageUrl:(o==null?void 0:o.url)||"",title:o==null?void 0:o.title})]})}function vj({user:e}){const[t,s]=g.useState("overview"),[a,n]=g.useState(!1),[i,o]=g.useState(new Date().getMonth()+1),[l,d]=g.useState(new Date().getFullYear()),c=D(S.finance.getCurrentBalance),u=D(S.finance.getTransactions,{limit:50}),m=D(S.finance.getMonthlySummary,{month:i,year:l}),h=$(S.finance.reverseTransaction),x=(e==null?void 0:e.role)==="super_admin",b=(e==null?void 0:e.isFinancialManager)===!0,v=x||b,y=f=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(f);return c===void 0||u===void 0?r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(f=>r.jsx(Pt,{},f))}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>r.jsx(_e,{},f))})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[r.jsx(M,{className:"md:col-span-1 border-primary-500/20 bg-gradient-to-br from-primary-500/10 to-transparent",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-primary-500/20 text-primary-500",children:r.jsx(br,{className:"w-6 h-6 md:w-8 md:h-8"})})}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1 md:mb-2 text-balance",children:"Current Balance"}),r.jsx("p",{className:"text-2xl md:text-4xl font-black text-primary-500 truncate",children:y(c||0)})]})}),r.jsx(M,{className:"border-emerald-500/20",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-emerald-500/10 text-emerald-500",children:r.jsx(Rs,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-xl md:text-2xl font-black text-emerald-500 truncate ml-2",children:y((m==null?void 0:m.totalDeposits)||0)})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Monthly Deposits"}),r.jsxs("p",{className:"text-[10px] text-light-muted",children:[i,"/",l]})]})}),r.jsx(M,{className:"border-rose-500/20",children:r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"p-2 md:p-3 rounded-2xl bg-rose-500/10 text-rose-500",children:r.jsx(Uu,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsx("div",{className:"text-right text-xl md:text-2xl font-black text-rose-500 truncate ml-2",children:y((m==null?void 0:m.totalWithdrawals)||0)})]}),r.jsx("h3",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-light-muted mb-1",children:"Monthly Withdrawals"}),r.jsxs("p",{className:"text-[10px] text-light-muted",children:[i,"/",l]})]})})]}),r.jsxs("div",{className:"flex items-center gap-1 p-1 rounded-xl md:rounded-2xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border dark:border-dark-border w-fit max-w-full overflow-x-auto hide-scrollbar",children:[r.jsx("button",{onClick:()=>s("overview"),className:`px-4 md:px-6 py-2 md:py-2.5 rounded-lg md:rounded-xl text-xs md:text-sm font-bold transition-all whitespace-nowrap ${t==="overview"?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"text-light-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Overview"}),v&&r.jsx("button",{onClick:()=>s("pending"),className:`px-4 md:px-6 py-2 md:py-2.5 rounded-lg md:rounded-xl text-xs md:text-sm font-bold transition-all whitespace-nowrap ${t==="pending"?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"text-light-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"Pending Submissions"})]}),t==="overview"&&r.jsxs(r.Fragment,{children:[v&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[r.jsxs(I,{onClick:()=>n(!0),className:"bg-primary-500 hover:bg-primary-600 w-full sm:w-auto",children:[r.jsx(xd,{className:"w-4 h-4 mr-2"}),"Add Transaction"]}),r.jsxs(I,{variant:"outline",className:"w-full sm:w-auto border-light-border dark:border-dark-border mb-4 sm:mb-0",children:[r.jsx(qt,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]}),r.jsxs(M,{children:[r.jsx(xe,{className:"py-4 px-4 md:px-6",children:r.jsxs(pe,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qt,{className:"w-5 h-5 text-primary-500"}),r.jsx("span",{className:"text-lg md:text-xl",children:"Transaction History"})]}),r.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsx("select",{value:i,onChange:f=>o(Number(f.target.value)),className:"flex-1 sm:flex-none px-2 py-1 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-xs md:text-sm outline-none focus:ring-1 focus:ring-primary-500",children:Array.from({length:12},(f,j)=>r.jsx("option",{value:j+1,children:new Date(2024,j).toLocaleDateString("en-US",{month:"short"})},j+1))}),r.jsx("select",{value:l,onChange:f=>d(Number(f.target.value)),className:"flex-1 sm:flex-none px-2 py-1 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-xs md:text-sm outline-none focus:ring-1 focus:ring-primary-500",children:Array.from({length:5},(f,j)=>r.jsx("option",{value:2024+j,children:2024+j},2024+j))})]})]})}),r.jsx(R,{children:r.jsx("div",{className:"space-y-3",children:u&&u.length>0?u.map(f=>{const j=Date.now()-f.createdAt<864e5,k=v&&j&&!f.isReversed;return r.jsx("div",{className:`p-4 rounded-lg border transition-colors ${f.isReversed?"border-light-border/50 dark:border-dark-border/50 opacity-50":"border-light-border dark:border-dark-border hover:border-primary-500/30"}`,children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start md:items-center gap-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-xl shrink-0 ${f.type==="deposit"?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:f.type==="deposit"?r.jsx(Rs,{className:"w-5 h-5 md:w-6 md:h-6"}):r.jsx(Uu,{className:"w-5 h-5 md:w-6 md:h-6"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-bold text-sm md:text-base truncate",children:f.description}),f.isReversed&&r.jsx(q,{variant:"outline",className:"text-[10px] h-4",children:"Reversed"}),f.reversedFrom&&r.jsx(q,{className:"bg-amber-500 text-[10px] h-4",children:"Reversal"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-[10px] md:text-xs text-light-muted",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ot,{className:"w-3 h-3"}),f.recordedByName]}),f.memberName&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ie,{className:"w-3 h-3"}),f.memberName]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ze,{className:"w-3 h-3"}),Rt(f.createdAt,{addSuffix:!0})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-4 pl-14 md:pl-0",children:[r.jsx("div",{className:"text-left md:text-right",children:r.jsxs("p",{className:`text-lg md:text-xl font-black ${f.type==="deposit"?"text-emerald-500":"text-rose-500"}`,children:[f.type==="deposit"?"+":"-",y(f.amount)]})}),r.jsxs("div",{className:"flex gap-2",children:[f.proofStorageId&&r.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:r.jsx(Ir,{className:"w-4 h-4"})}),k&&r.jsxs(I,{size:"sm",variant:"outline",onClick:async()=>{confirm("Are you sure you want to reverse this transaction?")&&await h({userId:e._id,transactionId:f._id})},className:"h-8 px-2 text-amber-500 border-amber-500/30 hover:bg-amber-500/10 text-xs gap-1",children:[r.jsx(F5,{className:"w-3 h-3"}),r.jsx("span",{className:"hidden sm:inline",children:"Reverse"})]})]})]})]})},f._id)}):r.jsx("div",{className:"text-center py-12 text-light-muted",children:"No transactions yet"})})})]})]}),t==="pending"&&r.jsx(iI,{user:e}),r.jsx(aI,{isOpen:a,onClose:()=>n(!1),userId:e._id})]})}function oI(){const{user:e}=Y(),[t,s]=g.useState("attendance");return!e||e.role!=="super_admin"&&e.role!=="board_member"?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs(M,{className:"p-8 text-center",children:[r.jsx(qe,{className:"w-16 h-16 mx-auto mb-4 text-rose-500"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"You don't have permission to access this page."})]})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Governance System"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Board Governance"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Professional attendance tracking and financial management system"})]}),r.jsxs("div",{className:"flex gap-4 border-b border-light-border dark:border-dark-border",children:[r.jsxs("button",{onClick:()=>s("attendance"),className:`px-6 py-3 font-bold text-sm transition-all relative ${t==="attendance"?"text-primary-500":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-4 h-4"}),"Attendance"]}),t==="attendance"&&r.jsx(P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]}),r.jsxs("button",{onClick:()=>s("finance"),className:`px-6 py-3 font-bold text-sm transition-all relative ${t==="finance"?"text-primary-500":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(br,{className:"w-4 h-4"}),"Finance"]}),t==="finance"&&r.jsx(P.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]})]}),r.jsx(ae,{mode:"wait",children:r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:t==="attendance"?r.jsx(bj,{user:e}):r.jsx(vj,{user:e})},t)})]})}function lI(){const{user:e}=Y();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Attendance System"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Meeting Attendance"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Track your meeting participation and submit excuses"})]}),r.jsx(bj,{user:e})]})}function dI(){const{user:e}=Y();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-emerald-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-500",children:"Financial Management"})]}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Community Finance"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Overview of community funds and financial transactions"})]}),r.jsx(vj,{user:e})]})}function cI({isOpen:e,onClose:t,user:s}){const[a,n]=g.useState("1000"),[i,o]=g.useState(new Date().getMonth()+1),[l,d]=g.useState(new Date().getFullYear()),[c,u]=g.useState(null),[m,h]=g.useState(!1),[x,b]=g.useState(!1),v=$(S.files.generateUploadUrl),y=$(S.finance.submitPaymentSubmission),{showToast:p}=Ia(),f=w=>{var N;const C=(N=w.target.files)==null?void 0:N[0];if(C){if(!C.type.startsWith("image/")){p("error","Please upload an image file");return}if(C.size>5*1024*1024){p("error","File size must be less than 5MB");return}u(C)}},j=async()=>{if(!c){p("error","Please upload a proof of payment");return}b(!0);try{h(!0);const w=await v(),C=await fetch(w,{method:"POST",headers:{"Content-Type":c.type},body:c}),{storageId:N}=await C.json();h(!1),await y({userId:s._id,amount:parseFloat(a),month:i,year:l,proofStorageId:N}),p("success","Payment submission sent for approval!"),k()}catch(w){console.error("Failed to submit payment:",w),p("error",w.message||"Failed to submit payment")}finally{h(!1),b(!1)}},k=()=>{n("1000"),o(new Date().getMonth()+1),d(new Date().getFullYear()),u(null),t()};return r.jsx(ht,{isOpen:e,onClose:k,title:"Submit Board Due Payment",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-2xl bg-primary-500/5 border border-primary-500/10 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-500/10 flex items-center justify-center shrink-0",children:r.jsx(ut,{className:"w-6 h-6 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-light-muted uppercase",children:"Paying For"}),r.jsx("p",{className:"font-bold text-light-text dark:text-dark-text",children:new Date(l,i-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:"Amount ()"}),r.jsx(de,{type:"number",value:a,onChange:w=>n(w.target.value),placeholder:"1000",className:"font-bold text-lg"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:"Month"}),r.jsx("select",{value:i,onChange:w=>o(Number(w.target.value)),className:"w-full px-4 py-2 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-sm font-bold",children:Array.from({length:12},(w,C)=>r.jsx("option",{value:C+1,children:new Date(2024,C).toLocaleDateString("en-US",{month:"short"})},C+1))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:"Year"}),r.jsx("select",{value:l,onChange:w=>d(Number(w.target.value)),className:"w-full px-4 py-2 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-sm font-bold",children:[2024,2025,2026].map(w=>r.jsx("option",{value:w,children:w},w))})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold mb-2 uppercase tracking-wide text-light-muted",children:"Payment Proof (Screenshot)"}),r.jsx("div",{className:"space-y-4",children:c?r.jsxs("div",{className:"relative group rounded-2xl overflow-hidden border border-light-border dark:border-dark-border bg-black/5",children:[r.jsx("img",{src:URL.createObjectURL(c),alt:"Proof Preview",className:"w-full h-48 object-contain"}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("button",{onClick:()=>u(null),className:"p-3 rounded-full bg-rose-500 text-white shadow-lg transform hover:scale-110 transition-transform",children:r.jsx(Le,{className:"w-6 h-6"})})}),r.jsxs("div",{className:"p-3 bg-light-bg dark:bg-dark-bg border-t border-light-border dark:border-dark-border flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-light-muted"}),r.jsx("span",{className:"text-xs font-bold truncate max-w-[150px]",children:c.name})]}),r.jsxs("span",{className:"text-[10px] text-light-muted",children:[(c.size/1024/1024).toFixed(2)," MB"]})]})]}):r.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-light-border dark:border-dark-border rounded-2xl hover:border-primary-500 cursor-pointer bg-light-bg/30 dark:bg-dark-bg/30 transition-all",children:[r.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[r.jsx("div",{className:"p-3 rounded-full bg-primary-500/10 text-primary-500 mb-3",children:r.jsx(Vu,{className:"w-6 h-6"})}),r.jsx("p",{className:"text-sm font-bold text-light-text dark:text-dark-text",children:"Click to upload proof"}),r.jsx("p",{className:"text-xs text-light-muted",children:"PNG or JPG (Max 5MB)"})]}),r.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:f})]})})]}),r.jsxs("div",{className:"pt-4 flex gap-4",children:[r.jsx(I,{variant:"ghost",className:"flex-1 rounded-2xl h-12",onClick:k,disabled:x,children:"Cancel"}),r.jsx(I,{className:"flex-1 rounded-2xl h-12 bg-primary-500 hover:bg-primary-600 shadow-lg shadow-primary-500/20",onClick:j,disabled:x||m||!c,children:m?"Uploading...":x?"Submitting...":"Submit Payment"})]})]})})}function uI({admin:e}){const[t,s]=g.useState(null),[a,n]=g.useState(new Date().getFullYear()),[i,o]=g.useState(""),l=D(S.users.getBoardMembers),d=l==null?void 0:l.find(y=>y._id===t),c=D(S.finance.getMemberContributions,t?{adminId:e._id,targetUserId:t,year:a}:"skip"),u=l==null?void 0:l.filter(y=>y.name.toLowerCase().includes(i.toLowerCase())),m=y=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(y),h=y=>new Date(2024,y-1).toLocaleDateString("en-US",{month:"long"});if(!t)return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-black text-gradient truncate",children:"Member Ledger"}),r.jsx("p",{className:"text-light-muted text-[10px] md:text-sm font-medium",children:"Select a member to view records."})]}),r.jsxs("div",{className:"relative w-full md:w-72",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted"}),r.jsx("input",{type:"text",placeholder:"Search board members...",value:i,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-light-bg/50 border border-light-border focus:border-primary-500/50 outline-none text-xs md:text-sm transition-all"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u==null?void 0:u.map(y=>r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{y:-4},children:r.jsx(M,{className:"cursor-pointer hover:border-primary-500/30 transition-all border-light-border/50 bg-light-card/40",onClick:()=>s(y._id),children:r.jsxs(R,{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500/10 flex items-center justify-center text-primary-500 font-bold shrink-0",children:y.name.charAt(0)}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-bold text-sm truncate",children:y.name}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-black tracking-widest",children:y.role.replace("_"," ")})]})]}),r.jsx(Bi,{className:"w-4 h-4 text-light-muted"})]})})},y._id)),(u==null?void 0:u.length)===0&&r.jsxs("div",{className:"col-span-full py-12 text-center text-light-muted bg-light-bg/20 rounded-2xl border-2 border-dashed border-light-border",children:[r.jsx(Ie,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"No members found matching your search"})]})]})]});const x=(c==null?void 0:c.reduce((y,p)=>y+p.totalPaid,0))||0,b=(c==null?void 0:c.reduce((y,p)=>y+p.outstanding,0))||0,v=(c==null?void 0:c.reduce((y,p)=>y+p.surplus,0))||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0",children:[r.jsx(I,{variant:"ghost",size:"sm",onClick:()=>s(null),className:"rounded-xl h-10 w-10 p-0 flex-shrink-0",children:r.jsx(xr,{className:"w-5 h-5"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("h2",{className:"text-lg md:text-2xl font-black text-gradient truncate",children:["Ledger: ",d==null?void 0:d.name]}),r.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:r.jsx("select",{value:a,onChange:y=>n(Number(y.target.value)),className:"bg-transparent text-[10px] md:text-xs font-black text-primary-500 border-none outline-none cursor-pointer",children:[2024,2025,2026].map(y=>r.jsxs("option",{value:y,children:[y," Fiscal Year"]},y))})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4",children:[r.jsx(M,{className:"bg-emerald-500/5 border-emerald-500/20",children:r.jsxs(R,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-500"}),r.jsx(q,{className:"bg-emerald-500 text-[10px]",children:"Total Paid"})]}),r.jsx("p",{className:"text-xl md:text-2xl font-black text-emerald-500",children:m(x)})]})}),r.jsx(M,{className:"bg-rose-500/5 border-rose-500/20",children:r.jsxs(R,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ut,{className:"w-4 h-4 md:w-5 md:h-5 text-rose-500"}),r.jsx(q,{className:"bg-rose-500 text-[10px]",children:"Outstanding"})]}),r.jsx("p",{className:"text-xl md:text-2xl font-black text-rose-500",children:m(b)})]})}),r.jsx(M,{className:"bg-primary-500/5 border-primary-500/20",children:r.jsxs(R,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(mI,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"}),r.jsx(q,{className:"bg-primary-500 text-[10px]",children:"Surplus"})]}),r.jsx("p",{className:"text-xl md:text-2xl font-black text-primary-500",children:m(v)})]})})]}),r.jsxs(M,{className:"border-light-border/50",children:[r.jsx(xe,{className:"pb-2",children:r.jsx(pe,{className:"text-sm font-black uppercase tracking-widest text-light-muted",children:"Monthly Breakdown"})}),r.jsx(R,{className:"px-1 md:px-6",children:r.jsx("div",{className:"overflow-x-auto hide-scrollbar",children:r.jsxs("table",{className:"w-full text-left min-w-[600px] md:min-w-0",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-light-border text-[9px] md:text-[10px] font-black uppercase tracking-wider text-light-muted",children:[r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Month"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Required"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Paid"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Surplus"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Outstanding"}),r.jsx("th",{className:"py-3 px-3 md:px-4",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-light-border/50",children:c==null?void 0:c.map(y=>r.jsxs("tr",{className:"text-[10px] md:text-xs hover:bg-light-bg/30 transition-colors",children:[r.jsx("td",{className:"py-3 px-3 md:px-4 font-bold",children:h(y.month)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-medium",children:m(y.requiredAmount)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-black text-emerald-500",children:m(y.totalPaid)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-black text-primary-500",children:m(y.surplus)}),r.jsx("td",{className:"py-3 px-3 md:px-4 font-black text-rose-500",children:m(y.outstanding)}),r.jsx("td",{className:"py-3 px-3 md:px-4 text-[9px] md:text-[10px] font-black uppercase italic text-light-muted",children:r.jsx(q,{className:`text-[9px] h-5 min-w-[50px] flex items-center justify-center ${y.status==="cleared"?"bg-emerald-500/20 text-emerald-500 hover:bg-emerald-500/30":y.status==="partial"?"bg-amber-500/20 text-amber-500 hover:bg-amber-500/30":"bg-rose-500/20 text-rose-500 hover:bg-rose-500/30"}`,children:y.status})})]},y.month))})]})})})]})]})}function mI(e){return r.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),r.jsx("polyline",{points:"17 6 23 6 23 12"})]})}function hI({user:e}){const[t,s]=g.useState("personal"),[a,n]=g.useState(!1),[i,o]=g.useState(null),[l]=g.useState(new Date().getFullYear()),d=(e==null?void 0:e.role)==="super_admin",c=D(S.finance.getMyContributions,{userId:e._id,year:l}),u=D(S.finance.getMyPaymentSubmissions,{userId:e._id}),m=p=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(p),h=p=>{switch(p){case"cleared":return r.jsx(q,{className:"bg-emerald-500",children:"Cleared"});case"partial":return r.jsx(q,{className:"bg-amber-500",children:"Partial"});case"owing":return r.jsx(q,{className:"bg-rose-500",children:"Owing"});default:return r.jsx(q,{variant:"outline",children:p})}},x=p=>new Date(2024,p-1).toLocaleDateString("en-US",{month:"long"});if(c===void 0||u===void 0)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(p=>r.jsx(Pt,{},p))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(_e,{})}),r.jsx("div",{className:"lg:col-span-1 border rounded-xl p-4 space-y-4",children:[1,2,3].map(p=>r.jsx("div",{className:"h-20 bg-light-muted/10 animate-pulse rounded-xl"},p))})]})]});if(t==="ledger"&&d)return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-end mb-4",children:r.jsxs("div",{className:"flex bg-light-bg/50 dark:bg-dark-bg/50 p-1 rounded-xl border border-light-border dark:border-dark-border",children:[r.jsx("button",{onClick:()=>s("personal"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-all text-light-muted hover:text-light-text",children:"Personal"}),r.jsx("button",{onClick:()=>s("ledger"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-all bg-white dark:bg-dark-card shadow-sm text-primary-500",children:"Member Ledger"})]})}),e&&r.jsx(uI,{admin:e})]});const v=(c==null?void 0:c.reduce((p,f)=>p+f.totalPaid,0))||0,y=(c==null?void 0:c.reduce((p,f)=>p+f.surplus,0))||0;return r.jsxs("div",{className:"space-y-6",children:[d&&r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-primary-500/5 p-3 md:p-4 rounded-2xl border border-primary-500/10 gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xs md:text-sm font-black text-primary-500 uppercase tracking-wider truncate",children:"Contribution Management"}),r.jsx("p",{className:"text-[9px] md:text-[10px] text-light-muted font-bold leading-tight",children:"Switch between personal and board records."})]}),r.jsxs("div",{className:"grid grid-cols-2 bg-light-bg/50 dark:bg-dark-bg/50 p-1 rounded-xl border border-light-border dark:border-dark-border w-full sm:w-auto sm:flex shrink-0",children:[r.jsx("button",{onClick:()=>s("personal"),className:`px-2 md:px-4 py-2 sm:py-1.5 rounded-lg text-[10px] md:text-xs font-bold transition-all whitespace-nowrap ${t==="personal"?"bg-white dark:bg-dark-card shadow-sm text-primary-500":"text-light-muted hover:text-light-text"}`,children:"Personal"}),r.jsx("button",{onClick:()=>s("ledger"),className:`px-2 md:px-4 py-2 sm:py-1.5 rounded-lg text-[10px] md:text-xs font-bold transition-all whitespace-nowrap ${t==="ledger"?"bg-white dark:bg-dark-card shadow-sm text-primary-500":"text-light-muted hover:text-light-text"}`,children:"Member Ledger"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 md:gap-4",children:[r.jsx(M,{className:"bg-gradient-to-br from-primary-500/5 to-transparent border-primary-500/10",children:r.jsxs(R,{className:"p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2",children:[r.jsx("div",{className:"p-1.5 rounded-lg bg-primary-500/10 text-primary-500 shrink-0",children:r.jsx(Rs,{className:"w-4 h-4 md:w-5 h-5"})}),r.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-light-muted uppercase whitespace-nowrap",children:["Total Paid ",l]})]}),r.jsx("p",{className:"text-lg md:text-2xl font-black text-primary-500",children:m(v)})]})}),r.jsx(M,{className:"bg-gradient-to-br from-emerald-500/5 to-transparent border-emerald-500/10",children:r.jsxs(R,{className:"p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2",children:[r.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/10 text-emerald-500 shrink-0",children:r.jsx(xd,{className:"w-4 h-4 md:w-5 h-5"})}),r.jsx("span",{className:"text-[10px] md:text-xs font-bold text-light-muted uppercase whitespace-nowrap",children:"Total Surplus"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-black text-emerald-500",children:m(y)})]})}),r.jsx(M,{className:"sm:col-span-2 md:col-span-1",children:r.jsx(R,{className:"p-3 md:p-4 flex flex-col justify-center",children:r.jsxs(I,{onClick:()=>n(!0),className:"w-full bg-primary-500 hover:bg-primary-600 h-11 md:h-full py-2 text-sm font-bold shadow-lg shadow-primary-500/10",children:[r.jsx(yn,{className:"w-4 h-4 mr-2"}),"Pay Monthly Due"]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(M,{className:"lg:col-span-2",children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5"}),"Monthly Contribution Ledger (",l,")"]})}),r.jsx(R,{className:"px-1 md:px-6",children:r.jsx("div",{className:"overflow-x-auto hide-scrollbar",children:r.jsxs("table",{className:"w-full text-left min-w-[500px] md:min-w-0",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-light-border dark:border-dark-border",children:[r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Month"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Required"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Paid"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted",children:"Status"}),r.jsx("th",{className:"pb-3 px-3 font-bold text-[10px] md:text-xs uppercase tracking-wider text-light-muted text-right",children:"Surplus"})]})}),r.jsx("tbody",{children:c==null?void 0:c.map((p,f)=>r.jsxs("tr",{className:"border-b border-light-border/50 dark:border-dark-border/50 last:border-0 hover:bg-light-bg/30 dark:hover:bg-dark-bg/30 transition-colors",children:[r.jsx("td",{className:"py-4 px-3",children:r.jsx("span",{className:"font-bold text-sm md:text-base",children:x(p.month)})}),r.jsxs("td",{className:"py-4 px-3 text-xs md:text-sm font-medium",children:["",p.requiredAmount]}),r.jsxs("td",{className:"py-4 px-3",children:[r.jsx("div",{className:"text-xs md:text-sm font-bold",children:m(p.totalPaid)}),p.outstanding>0&&r.jsxs("div",{className:"text-[9px] md:text-[10px] text-rose-500 font-bold",children:["Outstanding: ",m(p.outstanding)]})]}),r.jsx("td",{className:"py-4 px-3",children:h(p.status)}),r.jsx("td",{className:"py-4 px-3 text-right",children:p.surplus>0?r.jsxs("div",{className:"text-xs md:text-sm font-bold text-emerald-500",children:["+",m(p.surplus)]}):r.jsx("span",{className:"text-light-muted",children:"--"})})]},f))})]})})})]}),r.jsxs(M,{className:"lg:col-span-1",children:[r.jsx(xe,{children:r.jsxs(pe,{className:"flex items-center gap-2",children:[r.jsx(xh,{className:"w-5 h-5"}),"Recent Submissions"]})}),r.jsx(R,{className:"p-3 md:p-6",children:r.jsx("div",{className:"space-y-4",children:u&&u.length>0?u.map(p=>r.jsxs("div",{className:"p-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg/50 dark:bg-dark-bg/50",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold text-sm",children:[x(p.month)," ",p.year]}),r.jsx("p",{className:"text-lg font-black text-primary-500",children:m(p.amount)})]}),r.jsx(q,{className:p.status==="approved"?"bg-emerald-500":p.status==="rejected"?"bg-rose-500":"bg-amber-500",children:p.status.charAt(0).toUpperCase()+p.status.slice(1)})]}),r.jsxs("div",{className:"flex items-center justify-between text-[10px] text-light-muted",children:[r.jsx("span",{children:new Date(p.createdAt).toLocaleDateString()}),p.proofUrl&&r.jsxs("button",{onClick:()=>o({url:p.proofUrl,title:`Proof - ${x(p.month)} ${p.year}`}),className:"flex items-center gap-1 text-primary-500 hover:text-primary-600 font-bold",children:[r.jsx(Ir,{className:"w-3 h-3"})," View Proof"]})]}),p.rejectionReason&&r.jsxs("div",{className:"mt-2 p-2 rounded bg-rose-500/10 text-rose-500 text-[10px]",children:[r.jsx("strong",{children:"Reason:"})," ",p.rejectionReason]})]},p._id)):r.jsx("div",{className:"text-center py-8 text-light-muted text-sm",children:"No payment submissions yet"})})})]})]}),r.jsx(cI,{isOpen:a,onClose:()=>n(!1),user:e}),r.jsx(yj,{isOpen:!!i,onClose:()=>o(null),imageUrl:(i==null?void 0:i.url)||"",title:i==null?void 0:i.title})]})}function xI(){const{user:e}=Y();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Personal Contributions"})]}),r.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"My Contributions"}),r.jsx("p",{className:"text-xs md:text-base text-light-muted dark:text-dark-muted font-medium max-w-xl",children:"Manage your monthly dues and track surplus payments"})]}),r.jsx(hI,{user:e})]})}const ag=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Kuda Bank","Opay","PalmPay","Moniepoint","Stanbic IBTC","Fidelity Bank","Union Bank","FCMB","Sterling Bank","Wema Bank","Other"];function pI(){const{user:e,isLoading:t}=Y(),s=$(S.users.updateProfile),a=xt();if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return r.jsx(Te,{to:"/login",state:{from:a},replace:!0});const[n,i]=g.useState(!1),[o,l]=g.useState({phone:"",network:"",whatsappVerified:!1,profession:"",bankName:"",accountNumber:"",accountName:"",customBankName:"",sameAsPhone:!1});g.useEffect(()=>{e&&l(x=>{var b,v,y,p,f;return{...x,phone:e.phone||"",network:e.network||"",whatsappVerified:e.whatsappVerified||!1,profession:e.profession||"",bankName:((b=e.bankDetails)==null?void 0:b.bankName)||"",accountNumber:((v=e.bankDetails)==null?void 0:v.accountNumber)||"",accountName:((y=e.bankDetails)==null?void 0:y.accountName)||e.name||"",customBankName:ag.includes(((p=e.bankDetails)==null?void 0:p.bankName)||"")?"":((f=e.bankDetails)==null?void 0:f.bankName)||""}})},[e]);const d=x=>{const b=tj(x);l(v=>({...v,phone:x,network:b,accountNumber:v.sameAsPhone?x:v.accountNumber}))},c=x=>{l(b=>({...b,sameAsPhone:x,accountNumber:x?b.phone:b.accountNumber}))},[u,m]=g.useState(!1),h=async x=>{x.preventDefault(),i(!0);try{const b=o.bankName==="Other"?o.customBankName:o.bankName;await s({userId:e._id,phone:o.phone,network:o.network,whatsappVerified:o.whatsappVerified,profession:o.profession,bankDetails:{bankName:b,accountNumber:o.accountNumber,accountName:o.accountName}}),m(!0)}catch(b){console.error("Failed to update profile",b)}finally{i(!1)}};return r.jsx("div",{className:"min-h-screen py-8 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx(Qe,{}),r.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"Member Details"})]}),r.jsxs(M,{glass:!0,children:[r.jsxs(xe,{children:[r.jsx(pe,{children:"Update Your Information"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Help us keep our community records up to date."})]}),r.jsx(R,{children:r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(hd,{className:"w-5 h-5 text-primary-500"}),"Contact Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{label:"Phone Number",value:o.phone,onChange:x=>d(x.target.value),placeholder:"08012345678",required:!0}),o.network&&o.network!=="Unknown"&&r.jsx("div",{className:"mt-1",children:r.jsx(q,{variant:"primary",children:o.network})})]}),r.jsx("div",{className:"flex items-end pb-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:o.whatsappVerified,onChange:x=>l({...o,whatsappVerified:x.target.checked}),className:"w-4 h-4 rounded border-primary-500 text-primary-500 focus:ring-primary-500"}),r.jsx("span",{className:"text-sm",children:"Is this your WhatsApp number?"})]})})]})]}),r.jsx("hr",{className:"border-light-border/20 dark:border-dark-border/20"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(uh,{className:"w-5 h-5 text-secondary-500"}),"Professional Info"]}),r.jsx(de,{label:"Profession / Occupation",value:o.profession,onChange:x=>l({...o,profession:x.target.value}),placeholder:"e.g. Software Engineer, Student, Business Owner"})]}),r.jsx("hr",{className:"border-light-border/20 dark:border-dark-border/20"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(yn,{className:"w-5 h-5 text-accent-500"}),"Bank Details"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Ar,{label:"Bank Name",value:o.bankName,onChange:x=>l({...o,bankName:x}),options:ag.map(x=>({value:x,label:x}))}),o.bankName==="Other"&&r.jsx(de,{label:"Enter Bank Name",value:o.customBankName,onChange:x=>l({...o,customBankName:x.target.value}),placeholder:"Bank Name",required:!0}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(de,{label:"Account Number",value:o.accountNumber,onChange:x=>l({...o,accountNumber:x.target.value}),placeholder:"0123456789",required:!0}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-light-muted dark:text-dark-muted",children:[r.jsx("input",{type:"checkbox",checked:o.sameAsPhone,onChange:x=>c(x.target.checked),className:"w-4 h-4 rounded border-primary-500"}),"Use my phone number as account number"]})]}),r.jsx(de,{label:"Account Name",value:o.accountName,onChange:x=>l({...o,accountName:x.target.value}),placeholder:"Account Holder Name",required:!0})]})]}),r.jsx(I,{type:"submit",variant:"primary",className:"w-full",isLoading:n,children:"Save Details"})]})})]}),r.jsx(ht,{isOpen:u,onClose:()=>m(!1),title:"Profile Updated!",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(mt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6",children:"Thank you for updating your member details."}),r.jsx(I,{variant:"primary",className:"w-full",onClick:()=>{m(!1)},children:"Close"})]})})]})})}function fI(){var f,j,k;const{postId:e}=Ta(),t=ie(),{user:s}=Y(),a=D(S.posts.getPost,e?{postId:e}:"skip"),n=$(S.responses.submitResponse),[i,o]=g.useState(""),[l,d]=g.useState(!1),[c,u]=g.useState(""),[m,h]=g.useState(0);g.useEffect(()=>{const w=i.trim().split(/\s+/).filter(C=>C.length>0);h(w.length)},[i]);const x=async w=>{if(w.preventDefault(),!(!s||!i.trim()||!e)){d(!0),u("");try{await n({userId:s._id,postId:e,content:i.trim()}),t(-1)}catch(C){console.error("Failed to submit response:",C),C.message.includes("Vacancy Filled")?u("Sorry, the response slots for this post are full."):C.message.includes("already responded")?u("You have already responded to this post."):u("Failed to submit response. Please try again.")}finally{d(!1)}}},[b,v]=g.useState(!1),y=()=>{i.trim()?v(!0):t(-1)},p=()=>{v(!1),t(-1)};return a?r.jsxs("div",{className:"min-h-screen bg-[#f8f9fa] dark:bg-[#0a0a0a] pb-20",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800",children:r.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:y,className:"p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/10 text-gray-500 hover:text-red-500 transition-colors",title:"Cancel & Exit",children:r.jsx(Le,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 hidden sm:block",children:"Official Response"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-800 rounded-full text-xs font-medium text-gray-500",children:[m," words"]}),r.jsxs(I,{variant:"primary",size:"sm",disabled:!i.trim()||l,onClick:x,className:"flex items-center gap-2",children:[r.jsx(Vi,{className:"w-4 h-4"}),l?"Submitting...":"Submit"]})]})]})}),r.jsx("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:r.jsxs("div",{className:"grid gap-8 md:grid-cols-[1fr,1.5fr]",children:[r.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-4",children:r.jsxs("div",{className:"bg-white dark:bg-[#151515] p-6 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-sm sticky top-24",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),"Responding To"]}),r.jsx("div",{className:"prose dark:prose-invert max-w-none",children:r.jsxs("p",{className:"text-lg font-medium leading-relaxed text-gray-800 dark:text-gray-200",children:['"',a.content,'"']})}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold text-xs",children:(j=(f=a.author)==null?void 0:f.name)==null?void 0:j.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(k=a.author)==null?void 0:k.name}),r.jsx("p",{className:"text-xs text-gray-500",children:"Admin Post"})]})]})]})}),r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"relative",children:[c&&r.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-xl flex items-center gap-2 text-sm border border-red-100 dark:border-red-900/30",children:[r.jsx(gr,{className:"w-4 h-4 flex-shrink-0"}),c]}),r.jsxs("div",{className:"bg-[#fff9e6] dark:bg-[#1a1a1a] min-h-[60vh] rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",style:{backgroundImage:"linear-gradient(#e5e7eb 1px, transparent 1px)",backgroundSize:"100% 2rem",backgroundPosition:"0 1.5rem"},children:[r.jsx("div",{className:"absolute left-12 top-0 bottom-0 w-px bg-red-300/50 dark:bg-red-500/20 h-full pointer-events-none"}),r.jsx("div",{className:"p-0",children:r.jsx("textarea",{className:"w-full h-[60vh] bg-transparent border-0 focus:ring-0 resize-none p-6 pl-16 text-lg leading-[2rem] text-gray-800 dark:text-gray-200 placeholder:text-gray-400/50 dark:placeholder:text-gray-600",placeholder:"Start writing your thoughts here...",value:i,onChange:w=>o(w.target.value),autoFocus:!0,style:{lineHeight:"2rem"}})})]}),r.jsx("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(R5,{className:"w-3 h-3"}),"Express yourself freely"]})})]})]})}),r.jsx(ht,{isOpen:b,onClose:()=>v(!1),title:"Discard Changes?",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"You have unsaved text. Are you sure you want to discard your response?"}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(I,{variant:"ghost",onClick:()=>v(!1),children:"Keep Editing"}),r.jsx(I,{variant:"danger",onClick:p,children:"Discard & Leave"})]})]})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})}const ng=`
  .premium-scrollbar::-webkit-scrollbar {
    width: 4px;
  }
  .premium-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
  }
  .premium-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }
  .dark .premium-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.05);
  }
  .dark .premium-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.1);
  }
`;function gI({isOpen:e,onClose:t}){const s=xt(),a=ie(),{user:n}=Y(),{theme:i,toggleTheme:o}=dd(),[l,d]=g.useState(["Board Hub"]);g.useEffect(()=>{s.pathname.startsWith("/board")&&d(y=>y.includes("Board Hub")?y:[...y,"Board Hub"])},[s.pathname]);const c=v=>{d(y=>y.includes(v)?y.filter(p=>p!==v):[...y,v])},u=D(S.stats.getAdminBadgeCounts,{adminId:n==null?void 0:n._id}),m=v=>{if(!u)return 0;const y=(n==null?void 0:n.role)==="super_admin"||(n==null?void 0:n.role)==="admin",p=(n==null?void 0:n.isFinancialManager)===!0;return v==="Questions"?y?u.questions:0:v==="Messages"?y?u.contacts:0:v==="Banking System"?y?u.withdrawals:0:v==="Finance Hub"&&(y||p)?u.pendingPaymentSubmissions:0},x=[{path:"/admin",label:"Dashboard",icon:ya,roles:["admin","super_admin"]},{path:"/admin/master-pool",label:"Master Pool",icon:fy,roles:["admin","super_admin"]},{path:"/admin/banking",label:"Banking System",icon:ps,roles:["admin","super_admin"]},{path:"/admin/announcements",label:"Announcements",icon:Ui,roles:["admin","super_admin"]},{path:"/admin/polls",label:"Weekly Polls",icon:by,roles:["admin","super_admin"]},{path:"/admin/diamond-challenge",label:"Challenge Manager",icon:pr,roles:["admin","super_admin"]},{path:"/admin/questions",label:"Questions",icon:Il,roles:["admin","super_admin"]},{path:"/admin/user-tags",label:"User Tags",icon:V5,roles:["admin","super_admin"]},{path:"/admin/contacts",label:"Messages",icon:Kr,roles:["admin","super_admin"]},{path:"/admin/roles",label:"User Roles",icon:qe,roles:["admin","super_admin"]},{path:"/admin/settings",label:"Settings",icon:ky,roles:["admin","super_admin"]},{label:"Board Hub",icon:qe,roles:["board_member","admin","super_admin"],children:[{path:"/board",label:"Dashboard",icon:ya},{path:"/board/attendance",label:"Attendance",icon:_l},{path:"/board/finance",label:"Finance Hub",icon:br},{path:"/board/contributions",label:"My Contributions",icon:yn}]}].filter(v=>v.roles?v.roles.includes(n==null?void 0:n.role):!0),b=r.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-[#0d0d0f] border-r border-light-border dark:border-dark-border py-6 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Logo",className:"w-10 h-10 object-contain"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-black text-gradient font-display",children:(n==null?void 0:n.role)==="board_member"?"Board Hub":"Admin"}),r.jsx("p",{className:"text-[10px] font-bold text-light-muted dark:text-dark-muted uppercase tracking-widest",children:"Baptizo Community"})]}),r.jsx("button",{onClick:t,className:"lg:hidden ml-auto p-2 text-light-muted",children:r.jsx(Le,{className:"w-6 h-6"})})]}),r.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto premium-scrollbar pr-1",children:x.map(v=>{const y=v.icon,p=v.children&&v.children.length>0,f=l.includes(v.label),j=p&&v.children.some(w=>s.pathname===w.path),k=s.pathname===v.path||j;return p?r.jsxs("div",{className:"space-y-1",children:[r.jsxs("button",{onClick:()=>c(v.label),className:`
                                        w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                        ${j?"bg-primary-500/10 text-primary-500 font-bold border border-primary-500/20":"text-light-text dark:text-dark-text hover:bg-light-card/80 dark:hover:bg-dark-card/80"}
                                    `,children:[r.jsx(y,{className:`w-5 h-5 transition-transform duration-300 ${j?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"text-sm font-medium",children:v.label}),r.jsx(ts,{className:`ml-auto w-4 h-4 transition-transform duration-300 ${f?"rotate-180":""}`})]}),r.jsx(ae,{initial:!1,children:f&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden pl-4 space-y-1",children:v.children.map(w=>{const C=w.icon,N=s.pathname===w.path;return r.jsxs(ee,{to:w.path,onClick:()=>{window.innerWidth<1024&&t()},className:`
                                                            flex items-center gap-3 px-4 py-2.5 rounded-xl transition-all duration-200 group
                                                            ${N?"text-primary-500 font-bold bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text hover:bg-light-card/50 dark:hover:bg-dark-card/50"}
                                                        `,children:[r.jsx(C,{className:`w-4 h-4 transition-transform ${N?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"text-xs font-medium",children:w.label}),m(w.label)>0&&r.jsx("span",{className:`
                                                                ml-auto px-1.5 py-0.5 rounded-full text-[8px] font-bold
                                                                ${N?"bg-primary-500 text-white":"bg-primary-500/20 text-primary-500"}
                                                            `,children:m(w.label)}),N&&!m(w.label)&&r.jsx(P.div,{layoutId:"activeIndicator",className:"ml-auto w-1 h-1 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]},w.path)})})})]},v.label):r.jsxs(ee,{to:v.path,onClick:()=>{window.innerWidth<1024&&t()},className:`
                                flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group
                                ${k?"bg-primary-500 text-white shadow-lg shadow-primary-500/30 font-bold":"text-light-text dark:text-dark-text hover:bg-light-card/80 dark:hover:bg-dark-card/80"}
                            `,children:[r.jsx(y,{className:`w-5 h-5 transition-transform duration-300 ${k?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"text-sm font-medium",children:v.label}),m(v.label)>0&&r.jsx("span",{className:`
                                    ml-auto px-2 py-0.5 rounded-full text-[10px] font-bold
                                    ${k?"bg-white text-primary-500":"bg-primary-500 text-white shadow-sm shadow-primary-500/20"}
                                `,children:m(v.label)}),k&&!m(v.label)&&r.jsx(P.div,{layoutId:"activeIndicatorMain",className:"ml-auto w-1.5 h-1.5 rounded-full bg-white shadow-[0_0_8px_white]"})]},v.path)})}),r.jsxs("div",{className:"mt-auto space-y-4 px-2",children:[r.jsx("div",{className:"p-4 rounded-xl glass border border-light-border/50 dark:border-dark-border/50",children:r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold overflow-hidden",children:n!=null&&n.avatarUrl?r.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-full h-full object-cover"}):n==null?void 0:n.name[0]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-bold truncate",children:n==null?void 0:n.name}),r.jsx("p",{className:"text-[10px] text-primary-500 font-bold uppercase tracking-wider",children:n==null?void 0:n.role.replace("_"," ")})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 lg:hidden",children:[r.jsxs("button",{onClick:()=>{a("/search"),t()},className:"flex items-center justify-center gap-2 py-3 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm font-bold text-light-text dark:text-dark-text",children:[r.jsx(tt,{className:"w-4 h-4"}),"Search"]}),r.jsx("button",{onClick:o,className:"flex items-center justify-center gap-2 py-3 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm font-bold text-light-text dark:text-dark-text",children:i==="dark"?r.jsxs(r.Fragment,{children:[r.jsx(pd,{className:"w-4 h-4 text-yellow-500"}),"Light"]}):r.jsxs(r.Fragment,{children:[r.jsx(md,{className:"w-4 h-4 text-slate-700"}),"Dark"]})})]}),r.jsxs(ee,{to:"/feed",className:"flex items-center justify-center gap-2 w-full py-3 rounded-xl border border-light-border dark:border-dark-border hover:bg-light-card dark:hover:bg-dark-card transition-all text-sm font-bold text-light-muted dark:text-dark-muted hover:text-primary-500",children:[r.jsx(ba,{className:"w-4 h-4"}),"Back to Feed"]})]})]});return r.jsxs(r.Fragment,{children:[r.jsxs("aside",{className:"hidden lg:block fixed inset-y-0 left-0 w-64 z-50",children:[r.jsx("style",{children:ng}),b]}),r.jsx(ae,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] lg:hidden"}),r.jsxs(P.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 left-0 w-64 z-[70] lg:hidden",children:[r.jsx("style",{children:ng}),b]})]})})]})}function ig({children:e}){var c;const{user:t,isLoading:s}=Y(),{theme:a,toggleTheme:n}=dd(),i=ie(),[o,l]=g.useState(!1),d=xt();return g.useEffect(()=>{l(!1)},[d.pathname]),s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):!t||t.role!=="admin"&&t.role!=="super_admin"&&t.role!=="board_member"?r.jsx(Te,{to:"/feed",replace:!0}):r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg transition-colors duration-300",children:[r.jsx(gI,{isOpen:o,onClose:()=>l(!1)}),r.jsxs("div",{className:"lg:ml-64 flex flex-col min-h-screen",children:[r.jsx("header",{className:"sticky top-0 z-40 bg-white/80 dark:bg-dark-bg/80 backdrop-blur-md border-b border-light-border dark:border-dark-border px-4 md:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>l(!0),className:"lg:hidden p-2 hover:bg-light-card dark:hover:bg-dark-card rounded-lg",children:r.jsx(M5,{className:"w-6 h-6"})}),r.jsx("div",{className:"hidden md:block",children:r.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text capitalize",children:((c=d.pathname.split("/").pop())==null?void 0:c.replace("-"," "))||"Dashboard"})})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsx("button",{onClick:()=>i("/search"),className:"hidden md:flex p-2.5 text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card rounded-xl transition-all",children:r.jsx(tt,{className:"w-5 h-5"})}),r.jsx("button",{onClick:n,className:"hidden md:flex p-2.5 text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card rounded-xl transition-all",children:a==="dark"?r.jsx(pd,{className:"w-5 h-5 text-yellow-500"}):r.jsx(md,{className:"w-5 h-5 text-slate-700"})}),r.jsxs("button",{onClick:()=>i("/notifications"),className:"p-2.5 text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card rounded-xl transition-all relative",children:[r.jsx(ui,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-primary-500 rounded-full border-2 border-white dark:border-dark-bg"})]}),r.jsxs("div",{className:"hidden md:flex ml-2 pl-4 border-l border-light-border dark:border-dark-border items-center gap-3",children:[r.jsxs("div",{className:"hidden sm:block text-right",children:[r.jsx("p",{className:"text-xs font-bold truncate",children:t==null?void 0:t.name}),r.jsx("p",{className:"text-[10px] text-light-muted uppercase font-medium",children:t==null?void 0:t.role})]}),r.jsx("div",{className:"w-9 h-9 rounded-xl bg-primary-500/10 dark:bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold border border-primary-500/20 overflow-hidden",children:t!=null&&t.avatarUrl?r.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-full h-full object-cover rounded-xl"}):t==null?void 0:t.name[0]})]})]})]})}),r.jsx("main",{className:"flex-1 p-4 md:p-8",children:r.jsx(ae,{mode:"wait",children:r.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:e},d.pathname)})})]})]})}const bI=["Access Bank","Citibank","Ecobank Nigeria","Fairmoney","Fidelity Bank","First Bank of Nigeria","First City Monument Bank (FCMB)","Globus Bank","Guaranty Trust Bank (GTBank)","Heritage Bank","Keystone Bank","Kuda Bank","Moniepoint","OPay","PalmPay","Polaris Bank","Providus Bank","Stanbic IBTC Bank","Standard Chartered","Sterling Bank","SunTrust Bank","Union Bank of Nigeria","United Bank for Africa (UBA)","Unity Bank","Wema Bank","Zenith Bank"].sort();function yI({poolType:e,amount:t,talents:s,nairaAmount:a,exchangeRate:n,onSubmit:i,onCancel:o}){const[l,d]=g.useState(1),[c,u]=g.useState(""),[m,h]=g.useState(""),[x,b]=g.useState(""),[v,y]=g.useState(""),[p,f]=g.useState(!1),[j,k]=g.useState(""),w=g.useMemo(()=>bI.filter(H=>H.toLowerCase().includes(j.toLowerCase())),[j]),C=()=>{if(l===2){if(!c){y("Please select a bank");return}if(!m||m.length!==10){y("Account number must be exactly 10 digits");return}if(!x||x.trim().length<3){y("Please enter a valid account name");return}}y(""),d(l+1)},N=()=>{d(l-1),y("")},T=()=>{i({bankName:c,accountNumber:m,accountName:x.trim()})},L={diamond:"",gold:"",silver:"",bronze:"",big_pull:""},A={diamond:"Diamond",gold:"Gold",silver:"Silver",bronze:"Bronze",big_pull:"Big Pull"};return r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:r.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-light-bg dark:bg-dark-bg rounded-2xl shadow-2xl max-w-md w-full relative overflow-hidden flex flex-col max-h-[90vh]",children:[r.jsxs("div",{className:"p-4 md:p-6 pb-2 md:pb-4 border-b border-light-border dark:border-dark-border flex justify-between items-center bg-light-bg dark:bg-dark-bg sticky top-0 z-10",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-light-text dark:text-dark-text flex items-center gap-2 truncate",children:[L[e]," Withdraw ",A[e]]}),r.jsx("div",{className:"flex gap-1 mt-2",children:[1,2,3].map(H=>r.jsx("div",{className:`h-1 w-6 md:w-8 rounded-full transition-colors duration-300 ${l>=H?"bg-primary-500":"bg-light-border dark:bg-dark-border"}`},H))})]}),r.jsx("button",{onClick:o,className:"p-1.5 md:p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors flex-shrink-0",children:r.jsx(Le,{className:"w-4 h-4 md:w-5 md:h-5 text-light-muted dark:text-dark-muted"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 relative",children:[r.jsxs(ae,{mode:"wait",children:[l===1&&r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text",children:"Review Earnings"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["You are about to withdraw your earnings from the ",A[e]," pool."]})]}),r.jsx("div",{className:"p-4 md:p-6 rounded-2xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-primary-500/20",children:r.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl md:text-4xl font-display font-bold text-light-text dark:text-dark-text mb-1",children:t.toFixed(2)}),r.jsx("p",{className:"text-[10px] md:text-sm font-medium text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Rubies"})]}),r.jsx("div",{className:"w-full h-px bg-primary-500/20"}),r.jsxs("div",{className:"flex justify-between w-full gap-2 md:gap-4",children:[r.jsxs("div",{className:"text-center flex-1",children:[r.jsx("p",{className:"text-lg md:text-xl font-bold text-amber-500 mb-0.5 md:mb-1",children:s.toFixed(2)}),r.jsx("p",{className:"text-[10px] md:text-xs font-medium text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Talents"})]}),r.jsx("div",{className:"w-px h-8 md:h-10 bg-primary-500/20"}),r.jsxs("div",{className:"text-center flex-1",children:[r.jsxs("p",{className:"text-lg md:text-xl font-bold text-green-500 mb-0.5 md:mb-1",children:["",a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("p",{className:"text-[10px] md:text-xs font-medium text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Naira"})]})]})]})}),r.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl text-xs text-center text-blue-600 dark:text-blue-400 font-medium",children:["Current Exchange Rate: 1 Ruby = ",n]})]},"step1"),l===2&&r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text",children:"Bank Details"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Enter your bank information to receive payments."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted ml-1",children:"Bank Name"}),r.jsxs("button",{onClick:()=>f(!0),className:"w-full px-3 md:px-4 py-2.5 md:py-3.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-left flex items-center justify-between hover:border-primary-500 transition-colors group",children:[r.jsx("span",{className:`text-sm md:text-base ${c?"text-light-text dark:text-dark-text":"text-light-muted/70 dark:text-dark-muted/70"}`,children:c||"Select Bank"}),r.jsx(Bi,{className:"w-4 h-4 text-light-muted group-hover:text-primary-500 transition-colors"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted ml-1",children:"Account Number"}),r.jsx("input",{type:"text",value:m,onChange:H=>h(H.target.value.replace(/\D/g,"").slice(0,10)),className:"w-full px-3 md:px-4 py-2.5 md:py-3.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm md:text-base text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none font-mono tracking-wider transition-shadow placeholder:text-light-muted/50 dark:placeholder:text-dark-muted/50",placeholder:"0123456789"}),r.jsxs("p",{className:"text-[10px] text-right text-light-muted dark:text-dark-muted pr-1",children:[m.length,"/10 digits"]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-[10px] md:text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted ml-1",children:"Account Name"}),r.jsx("input",{type:"text",value:x,onChange:H=>b(H.target.value),className:"w-full px-3 md:px-4 py-2.5 md:py-3.5 rounded-xl bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border text-sm md:text-base text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-shadow placeholder:text-light-muted/50 dark:placeholder:text-dark-muted/50",placeholder:"John Doe"})]}),r.jsx(ae,{children:v&&r.jsxs(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),v]})})]})]},"step2"),l===3&&r.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text",children:"Confirm Pay Out"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Please review your details before confirming."})]}),r.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-2xl p-5 border border-light-border dark:border-dark-border space-y-4 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-light-border/50 dark:border-dark-border/50",children:[r.jsx("span",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Amount"}),r.jsxs("span",{className:"font-bold text-xl text-green-500",children:["",a.toLocaleString()]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Bank Name"}),r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text text-right",children:c})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Account Number"}),r.jsx("span",{className:"font-mono text-light-text dark:text-dark-text",children:m})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Account Name"}),r.jsx("span",{className:"font-medium text-light-text dark:text-dark-text text-right",children:x})]})]})]}),r.jsxs("div",{className:"flex gap-4 p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl",children:[r.jsx(_t,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400/90 leading-relaxed",children:"Your withdrawal request will be reviewed by an admin. Once approved, the Naira amount will be transferred to your account within 1-3 business days."})]})]},"step3")]}),r.jsx(ae,{children:p&&r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-light-bg dark:bg-dark-bg z-20 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-light-border dark:border-dark-border flex gap-3 items-center bg-light-card dark:bg-dark-card sticky top-0",children:[r.jsx("button",{onClick:()=>f(!1),className:"p-2 -ml-2 rounded-lg hover:bg-light-border dark:hover:bg-dark-border transition-colors",children:r.jsx(ba,{className:"w-5 h-5 text-light-text dark:text-dark-text"})}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted"}),r.jsx("input",{type:"text",placeholder:"Search banks...",autoFocus:!0,value:j,onChange:H=>k(H.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-sm outline-none focus:ring-2 focus:ring-primary-500"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:r.jsx("div",{className:"space-y-1",children:w.length>0?w.map(H=>r.jsxs("button",{onClick:()=>{u(H),f(!1),k("")},className:`w-full text-left px-4 py-3 rounded-xl flex items-center justify-between transition-colors ${c===H?"bg-primary-500/10 text-primary-500":"hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text"}`,children:[r.jsxs("span",{className:"flex items-center gap-3",children:[r.jsx(k5,{className:`w-4 h-4 ${c===H?"text-primary-500":"text-light-muted"}`}),H]}),c===H&&r.jsx(_t,{className:"w-4 h-4 text-primary-500"})]},H)):r.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:r.jsxs("p",{children:['No banks found matching "',j,'"']})})})})]})})]}),r.jsx("div",{className:"p-4 md:p-6 pt-2 bg-light-bg dark:bg-dark-bg sticky bottom-0 z-10 border-t border-light-border/50 dark:border-dark-border/50",children:r.jsxs("div",{className:"flex gap-3 md:gap-4",children:[l>1&&r.jsxs(I,{variant:"outline",onClick:N,className:"flex-1 py-4 md:py-6 rounded-xl hover:bg-light-card dark:hover:bg-dark-card border-light-border dark:border-dark-border text-sm",children:[r.jsx(ba,{className:"w-4 h-4 mr-1"})," Back"]}),r.jsx(I,{variant:"primary",onClick:l===3?T:C,className:`flex-[2] py-4 md:py-6 rounded-xl bg-gradient-to-r from-primary-500 to-secondary-500 shadow-lg shadow-primary-500/20 hover:shadow-primary-500/30 transition-all text-sm ${l===1?"w-full":""}`,children:l===3?"Confirm & Withdraw":r.jsxs("span",{className:"flex items-center",children:["Next Step ",r.jsx(Bi,{className:"w-4 h-4 ml-1"})]})})]})})]})})}const Tc={diamond:{name:"Diamond",icon:"",color:"from-blue-500 to-purple-600",textColor:"text-blue-500",bgColor:"bg-blue-500/10",cap:24,description:"Quiz: 0.5 per participation, 12 per win"},gold:{name:"Gold",icon:"",color:"from-yellow-500 to-amber-600",textColor:"text-yellow-600",bgColor:"bg-yellow-500/10",cap:24,description:"Comments: 0.1 per interaction"},silver:{name:"Silver",icon:"",color:"from-gray-400 to-gray-600",textColor:"text-gray-500",bgColor:"bg-gray-500/10",cap:24,description:"Games: 0.15 participation, 0.7 win"},bronze:{name:"Bronze",icon:"",color:"from-orange-500 to-amber-700",textColor:"text-orange-600",bgColor:"bg-orange-500/10",cap:24,description:"Reactions: 0.05 per like"}};function vI(){var p,f;const{user:e}=Y(),t=ie(),[s,a]=g.useState(!1),[n,i]=g.useState(null),o=D(S.wallets.getWallet,e!=null&&e._id?{userId:e._id}:"skip"),l=D(S.wallets.getWithdrawals,e!=null&&e._id?{userId:e._id}:"skip"),d=D(S.wallets.getUserBadges,e!=null&&e._id?{userId:e._id}:"skip"),c=D(S.settings.getExchangeRate)||200,u=$(S.wallets.requestWithdrawal),m=$(S.wallets.initializeWallet);if(g.useEffect(()=>{e&&!o&&m({userId:e._id})},[e,o,m]),!e)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:r.jsx(M,{className:"max-w-md w-full mx-4",children:r.jsxs(R,{className:"pt-6",children:[r.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted",children:"Please log in to view your banking details"}),r.jsx(I,{onClick:()=>t("/login"),className:"w-full mt-4",children:"Log In"})]})})});if(o===void 0)return r.jsx(GA,{});const h=j=>{i(j)},x=()=>{i("big_pull")},b=async j=>{if(!(!n||!e))try{await u({userId:e._id,poolType:n,bankDetails:j});const k=n==="big_pull"?"Big Pull":Tc[n].name;alert(`Withdrawal request submitted for ${k}!`),i(null)}catch(k){alert(k.message||"Withdrawal failed")}},y=(()=>{if(!(o!=null&&o.diamondBonusExpiresAt))return null;const j=o.diamondBonusExpiresAt-Date.now();if(j<=0)return"Expired";const k=Math.floor(j/(1e3*60*60*24)),w=Math.floor(j%(1e3*60*60*24)/(1e3*60*60));return`${k}d ${w}h`})();return r.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg",children:[r.jsx("div",{className:"gradient-primary text-white py-6 md:py-8 px-4",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("button",{onClick:()=>t("/feed"),className:"flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors text-sm",children:[r.jsx(xr,{className:"w-4 h-4"}),"Back to Feed"]}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center flex-shrink-0",children:r.jsx(so,{className:"w-6 h-6 md:w-8 md:h-8"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-display font-bold truncate",children:"Banking"}),r.jsx("p",{className:"text-white/80 text-xs md:text-base truncate",children:"Manage your rewards & withdrawals"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass p-4 md:p-6 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rs,{className:"w-4 h-4 md:w-5 md:h-5 text-green-300"}),r.jsx("p",{className:"text-xs md:text-sm text-white/60",children:"Total Rubies"})]}),r.jsx("p",{className:"text-2xl md:text-4xl font-display font-bold break-all",children:((p=o==null?void 0:o.totalRubies)==null?void 0:p.toFixed(2))||"0.00"})]}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass p-4 md:p-6 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ye,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-300"}),r.jsx("p",{className:"text-xs md:text-sm text-white/60",children:"Talent Equivalent"})]}),r.jsx("p",{className:"text-2xl md:text-4xl font-display font-bold break-all",children:((f=o==null?void 0:o.totalTalents)==null?void 0:f.toFixed(2))||"0.00"})]}),r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass p-4 md:p-6 rounded-2xl sm:col-span-2 lg:col-span-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5 text-green-400"}),r.jsx("p",{className:"text-xs md:text-sm text-white/60",children:"Actualized Naira"})]}),r.jsxs("p",{className:"text-2xl md:text-4xl font-display font-bold break-all",children:["",((o==null?void 0:o.actualizedNairaBalance)||0).toLocaleString()]}),r.jsx("p",{className:"text-[10px] text-white/40 mt-1",children:"Successfully withdrawn funds"})]})]})]})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-6 md:py-8 overflow-x-hidden",children:[(o==null?void 0:o.diamondExpiringBonus)&&o.diamondExpiringBonus>0&&r.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-gradient-to-r from-red-500/20 to-orange-500/20 border-2 border-red-500/50 rounded-xl",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(gr,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Expiring Diamond Bonus!"}),r.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-1",children:["You have ",o.diamondExpiringBonus," Rubies expiring in ",r.jsx(ze,{className:"inline w-4 h-4"})," ",y]}),r.jsx(I,{onClick:()=>h("diamond"),variant:"primary",className:"mt-3",size:"sm",children:"Withdraw Now"})]})]})}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:Object.keys(Tc).map((j,k)=>{const w=Tc[j],C=(o==null?void 0:o[`${j}Balance`])||0,N=(o==null?void 0:o[`${j}MonthlyEarned`])||0,T=N/w.cap*100;return r.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},children:r.jsxs(M,{glass:!0,className:"overflow-hidden",children:[r.jsx("div",{className:`h-2 bg-gradient-to-r ${w.color}`}),r.jsxs(R,{className:"p-4 md:p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`text-2xl md:text-4xl ${w.bgColor} w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-2xl flex items-center justify-center flex-shrink-0`,children:w.icon}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h3",{className:`font-display font-bold text-lg md:text-xl truncate ${w.textColor}`,children:w.name}),r.jsx("p",{className:"text-[10px] md:text-sm text-light-muted dark:text-dark-muted line-clamp-2",children:w.description})]})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-baseline gap-1 mb-2",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-display font-bold text-light-text dark:text-dark-text",children:C}),r.jsxs("span",{className:"text-[10px] md:text-sm text-light-muted dark:text-dark-muted italic",children:[N.toFixed(2),"/",w.cap," Rubies (Monthly)"]})]}),r.jsx("div",{className:"h-2 bg-light-border dark:bg-dark-border rounded-full overflow-hidden",children:r.jsx(P.div,{initial:{width:0},animate:{width:`${Math.min(T,100)}%`},transition:{duration:1,delay:k*.1+.2},className:`h-full bg-gradient-to-r ${w.color}`})})]}),r.jsxs(I,{onClick:()=>h(j),disabled:C<=0,variant:"primary",className:"w-full",children:["Withdraw ",C," Rubies"]})]})]})},j)})}),o&&o.totalRubies>=100&&r.jsx(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:r.jsx(M,{className:"border-2 border-primary-500 glass",children:r.jsx(R,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-3xl",children:""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-display font-bold text-xl text-light-text dark:text-dark-text",children:"Big Pull Available!"}),r.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:["Withdraw all ",o.totalRubies," Rubies (",o.totalTalents.toFixed(2)," Talents) at once"]})]})]}),r.jsx(I,{onClick:x,variant:"primary",className:"gradient-primary text-white px-8 whitespace-nowrap",children:"Withdraw All"})]})})})}),r.jsxs(M,{glass:!0,children:[r.jsx(xe,{children:r.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xh,{className:"w-5 h-5 text-primary-500"}),r.jsx(pe,{children:"Withdrawal History"})]}),r.jsx(ts,{className:`w-5 h-5 transition-transform ${s?"rotate-180":""}`})]})}),r.jsx(ae,{children:s&&r.jsx(P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:r.jsx(R,{children:l&&l.length>0?r.jsx("div",{className:"space-y-3",children:l.map(j=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-light-text dark:text-dark-text capitalize",children:j.type.replace("_"," ")}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:new Date(j.createdAt).toLocaleDateString()})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-light-text dark:text-dark-text",children:[j.amountRubies," Rubies"]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${j.status==="paid"?"bg-green-500/20 text-green-600":j.status==="pending"?"bg-yellow-500/20 text-yellow-600":"bg-gray-500/20 text-gray-600"}`,children:j.status})]})]},j._id))}):r.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-8",children:"No withdrawal history yet"})})})})]}),d&&d.length>0&&r.jsxs(M,{glass:!0,className:"mt-6",children:[r.jsx(xe,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{className:"w-5 h-5 text-amber-500"}),r.jsx(pe,{children:"Your Badges"})]})}),r.jsx(R,{children:r.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(j=>r.jsxs("div",{className:"px-4 py-2 rounded-full glass border border-primary-500/30 flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsx("span",{className:"text-sm font-semibold text-light-text dark:text-dark-text capitalize",children:j.type.replace("_"," ")})]},j._id))})})]})]}),n&&o&&r.jsx(yI,{poolType:n,amount:n==="big_pull"?o.totalRubies:o[`${n}Balance`],talents:n==="big_pull"?o.totalTalents:o[`${n}Balance`]/100,nairaAmount:(n==="big_pull"?o.totalRubies:o[`${n}Balance`])*c,exchangeRate:c,onSubmit:b,onCancel:()=>i(null)})]})}const jI=()=>{};var og={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=function(e){const t=[];let s=0;for(let a=0;a<e.length;a++){let n=e.charCodeAt(a);n<128?t[s++]=n:n<2048?(t[s++]=n>>6|192,t[s++]=n&63|128):(n&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++a)&1023),t[s++]=n>>18|240,t[s++]=n>>12&63|128,t[s++]=n>>6&63|128,t[s++]=n&63|128):(t[s++]=n>>12|224,t[s++]=n>>6&63|128,t[s++]=n&63|128)}return t},kI=function(e){const t=[];let s=0,a=0;for(;s<e.length;){const n=e[s++];if(n<128)t[a++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];t[a++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[s++],o=e[s++],l=e[s++],d=((n&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[a++]=String.fromCharCode(55296+(d>>10)),t[a++]=String.fromCharCode(56320+(d&1023))}else{const i=e[s++],o=e[s++];t[a++]=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63)}}return t.join("")},kj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<e.length;n+=3){const i=e[n],o=n+1<e.length,l=o?e[n+1]:0,d=n+2<e.length,c=d?e[n+2]:0,u=i>>2,m=(i&3)<<4|l>>4;let h=(l&15)<<2|c>>6,x=c&63;d||(x=64,o||(h=64)),a.push(s[u],s[m],s[h],s[x])}return a.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):kI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<e.length;){const i=s[e.charAt(n++)],l=n<e.length?s[e.charAt(n)]:0;++n;const c=n<e.length?s[e.charAt(n)]:64;++n;const m=n<e.length?s[e.charAt(n)]:64;if(++n,i==null||l==null||c==null||m==null)throw new wI;const h=i<<2|l>>4;if(a.push(h),c!==64){const x=l<<4&240|c>>2;if(a.push(x),m!==64){const b=c<<6&192|m;a.push(b)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NI=function(e){const t=jj(e);return kj.encodeByteArray(t,!0)},wj=function(e){return NI(e).replace(/\./g,"")},SI=function(e){try{return kj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=()=>CI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof og>"u")return;const e=og.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},AI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&SI(e[1]);return t&&JSON.parse(t)},II=()=>{try{return jI()||TI()||PI()||AI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Nj=()=>{var e;return(e=II())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,a))}}}function Sj(){try{return typeof indexedDB=="object"}catch{return!1}}function Cj(){return new Promise((e,t)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var i;t(((i=n.error)==null?void 0:i.message)||"")}}catch(s){t(s)}})}function _I(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="FirebaseError";class An extends Error{constructor(t,s,a){super(s),this.code=t,this.customData=a,this.name=EI,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(t,s,a){this.service=t,this.serviceName=s,this.errors=a}create(t,...s){const a=s[0]||{},n=`${this.service}/${t}`,i=this.errors[t],o=i?RI(i,a):"Error",l=`${this.serviceName}: ${o} (${n}).`;return new An(n,l,a)}}function RI(e,t){return e.replace(DI,(s,a)=>{const n=t[a];return n!=null?String(n):`<${a}?>`})}const DI=/\{\$([^}]+)}/g;function rm(e,t){if(e===t)return!0;const s=Object.keys(e),a=Object.keys(t);for(const n of s){if(!a.includes(n))return!1;const i=e[n],o=t[n];if(lg(i)&&lg(o)){if(!rm(i,o))return!1}else if(i!==o)return!1}for(const n of a)if(!s.includes(n))return!1;return!0}function lg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e){return e&&e._delegate?e._delegate:e}class Fs{constructor(t,s,a){this.name=t,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const a=new MI;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FI(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:n});a.resolve(i)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);a===l&&o.resolve(n)}return n}onInit(t,s){const a=this.normalizeInstanceIdentifier(s),n=this.onInitCallbacks.get(a)??new Set;n.add(t),this.onInitCallbacks.set(a,n);const i=this.instances.get(a);return i&&t(i,a),()=>{n.delete(t)}}invokeOnInitCallbacks(t,s){const a=this.onInitCallbacks.get(s);if(a)for(const n of a)try{n(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OI(t),options:s}),this.instances.set(t,a),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(e){return e===ta?void 0:e}function FI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new LI(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const UI={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},VI=Se.INFO,$I={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},zI=(e,t,...s)=>{if(t<e.logLevel)return;const a=new Date().toISOString(),n=$I[t];if(n)console[n](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qI{constructor(t){this.name=t,this._logLevel=VI,this._logHandler=zI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const WI=(e,t)=>t.some(s=>e instanceof s);let dg,cg;function HI(){return dg||(dg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return cg||(cg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tj=new WeakMap,sm=new WeakMap,Pj=new WeakMap,Pc=new WeakMap,Wh=new WeakMap;function GI(e){const t=new Promise((s,a)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{s(qr(e.result)),n()},o=()=>{a(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(s=>{s instanceof IDBCursor&&Tj.set(s,e)}).catch(()=>{}),Wh.set(t,e),t}function KI(e){if(sm.has(e))return;const t=new Promise((s,a)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{s(),n()},o=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});sm.set(e,t)}let am={get(e,t,s){if(e instanceof IDBTransaction){if(t==="done")return sm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Pj.get(e);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return qr(e[t])},set(e,t,s){return e[t]=s,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YI(e){am=e(am)}function XI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const a=e.call(Ac(this),t,...s);return Pj.set(a,t.sort?t.sort():[t]),qr(a)}:QI().includes(e)?function(...t){return e.apply(Ac(this),t),qr(Tj.get(this))}:function(...t){return qr(e.apply(Ac(this),t))}}function JI(e){return typeof e=="function"?XI(e):(e instanceof IDBTransaction&&KI(e),WI(e,HI())?new Proxy(e,am):e)}function qr(e){if(e instanceof IDBRequest)return GI(e);if(Pc.has(e))return Pc.get(e);const t=JI(e);return t!==e&&(Pc.set(e,t),Wh.set(t,e)),t}const Ac=e=>Wh.get(e);function Pd(e,t,{blocked:s,upgrade:a,blocking:n,terminated:i}={}){const o=indexedDB.open(e,t),l=qr(o);return a&&o.addEventListener("upgradeneeded",d=>{a(qr(o.result),d.oldVersion,d.newVersion,qr(o.transaction),d)}),s&&o.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),l.then(d=>{i&&d.addEventListener("close",()=>i()),n&&d.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}function Ic(e,{blocked:t}={}){const s=indexedDB.deleteDatabase(e);return t&&s.addEventListener("blocked",a=>t(a.oldVersion,a)),qr(s).then(()=>{})}const ZI=["get","getKey","getAll","getAllKeys","count"],eM=["put","add","delete","clear"],Mc=new Map;function ug(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mc.get(t))return Mc.get(t);const s=t.replace(/FromIndex$/,""),a=t!==s,n=eM.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(n||ZI.includes(s)))return;const i=async function(o,...l){const d=this.transaction(o,n?"readwrite":"readonly");let c=d.store;return a&&(c=c.index(l.shift())),(await Promise.all([c[s](...l),n&&d.done]))[0]};return Mc.set(t,i),i}YI(e=>({...e,get:(t,s,a)=>ug(t,s)||e.get(t,s,a),has:(t,s)=>!!ug(t,s)||e.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(rM(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function rM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nm="@firebase/app",mg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new qI("@firebase/app"),sM="@firebase/app-compat",aM="@firebase/analytics-compat",nM="@firebase/analytics",iM="@firebase/app-check-compat",oM="@firebase/app-check",lM="@firebase/auth",dM="@firebase/auth-compat",cM="@firebase/database",uM="@firebase/data-connect",mM="@firebase/database-compat",hM="@firebase/functions",xM="@firebase/functions-compat",pM="@firebase/installations",fM="@firebase/installations-compat",gM="@firebase/messaging",bM="@firebase/messaging-compat",yM="@firebase/performance",vM="@firebase/performance-compat",jM="@firebase/remote-config",kM="@firebase/remote-config-compat",wM="@firebase/storage",NM="@firebase/storage-compat",SM="@firebase/firestore",CM="@firebase/ai",TM="@firebase/firestore-compat",PM="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",AM={[nm]:"fire-core",[sM]:"fire-core-compat",[nM]:"fire-analytics",[aM]:"fire-analytics-compat",[oM]:"fire-app-check",[iM]:"fire-app-check-compat",[lM]:"fire-auth",[dM]:"fire-auth-compat",[cM]:"fire-rtdb",[uM]:"fire-data-connect",[mM]:"fire-rtdb-compat",[hM]:"fire-fn",[xM]:"fire-fn-compat",[pM]:"fire-iid",[fM]:"fire-iid-compat",[gM]:"fire-fcm",[bM]:"fire-fcm-compat",[yM]:"fire-perf",[vM]:"fire-perf-compat",[jM]:"fire-rc",[kM]:"fire-rc-compat",[wM]:"fire-gcs",[NM]:"fire-gcs-compat",[SM]:"fire-fst",[TM]:"fire-fst-compat",[CM]:"fire-vertex","fire-js":"fire-js",[PM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Map,IM=new Map,om=new Map;function hg(e,t){try{e.container.addComponent(t)}catch(s){Jr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,s)}}function ka(e){const t=e.name;if(om.has(t))return Jr.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,e);for(const s of ql.values())hg(s,e);for(const s of IM.values())hg(s,e);return!0}function Hh(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Td("app","Firebase",MM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(t,s,a){this._isDeleted=!1,this._options={...t},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}function Aj(e,t={}){let s=e;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},n=a.name;if(typeof n!="string"||!n)throw Ps.create("bad-app-name",{appName:String(n)});if(s||(s=Nj()),!s)throw Ps.create("no-options");const i=ql.get(n);if(i){if(rm(s,i.options)&&rm(a,i.config))return i;throw Ps.create("duplicate-app",{appName:n})}const o=new BI(n);for(const d of om.values())o.addComponent(d);const l=new _M(s,a,o);return ql.set(n,l),l}function EM(e=im){const t=ql.get(e);if(!t&&e===im&&Nj())return Aj();if(!t)throw Ps.create("no-app",{appName:e});return t}function As(e,t,s){let a=AM[e]??e;s&&(a+=`-${s}`);const n=a.match(/\s|\//),i=t.match(/\s|\//);if(n||i){const o=[`Unable to register library "${a}" with version "${t}":`];n&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Jr.warn(o.join(" "));return}ka(new Fs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="firebase-heartbeat-database",DM=1,Qi="firebase-heartbeat-store";let _c=null;function Ij(){return _c||(_c=Pd(RM,DM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qi)}catch(s){console.warn(s)}}}}).catch(e=>{throw Ps.create("idb-open",{originalErrorMessage:e.message})})),_c}async function LM(e){try{const s=(await Ij()).transaction(Qi),a=await s.objectStore(Qi).get(Mj(e));return await s.done,a}catch(t){if(t instanceof An)Jr.warn(t.message);else{const s=Ps.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Jr.warn(s.message)}}}async function xg(e,t){try{const a=(await Ij()).transaction(Qi,"readwrite");await a.objectStore(Qi).put(t,Mj(e)),await a.done}catch(s){if(s instanceof An)Jr.warn(s.message);else{const a=Ps.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Jr.warn(a.message)}}}function Mj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=1024,FM=30;class BM{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new VM(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>FM){const o=$M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Jr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=pg(),{heartbeatsToSend:a,unsentEntries:n}=UM(this._heartbeatsCache.heartbeats),i=wj(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return Jr.warn(s),""}}}function pg(){return new Date().toISOString().substring(0,10)}function UM(e,t=OM){const s=[];let a=e.slice();for(const n of e){const i=s.find(o=>o.agent===n.agent);if(i){if(i.dates.push(n.date),fg(s)>t){i.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),fg(s)>t){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class VM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sj()?Cj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await LM(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return xg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return xg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function fg(e){return wj(JSON.stringify({version:2,heartbeats:e})).length}function $M(e){if(e.length===0)return-1;let t=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(e){ka(new Fs("platform-logger",t=>new tM(t),"PRIVATE")),ka(new Fs("heartbeat",t=>new BM(t),"PRIVATE")),As(nm,mg,e),As(nm,mg,"esm2020"),As("fire-js","")}zM("");var qM="firebase",WM="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(qM,WM,"app");const _j="@firebase/installations",Qh="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1e4,Rj=`w:${Qh}`,Dj="FIS_v2",HM="https://firebaseinstallations.googleapis.com/v1",QM=60*60*1e3,GM="installations",KM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wa=new Td(GM,KM,YM);function Lj(e){return e instanceof An&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj({projectId:e}){return`${HM}/projects/${e}/installations`}function Fj(e){return{token:e.token,requestStatus:2,expiresIn:JM(e.expiresIn),creationTime:Date.now()}}async function Bj(e,t){const a=(await t.json()).error;return wa.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Uj({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function XM(e,{refreshToken:t}){const s=Uj(e);return s.append("Authorization",ZM(t)),s}async function Vj(e){const t=await e();return t.status>=500&&t.status<600?e():t}function JM(e){return Number(e.replace("s","000"))}function ZM(e){return`${Dj} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=Oj(e),n=Uj(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const o={fid:s,authVersion:Dj,appId:e.appId,sdkVersion:Rj},l={method:"POST",headers:n,body:JSON.stringify(o)},d=await Vj(()=>fetch(a,l));if(d.ok){const c=await d.json();return{fid:c.fid||s,registrationStatus:2,refreshToken:c.refreshToken,authToken:Fj(c.authToken)}}else throw await Bj("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=/^[cdef][\w-]{21}$/,lm="";function s_(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=a_(e);return r_.test(s)?s:lm}catch{return lm}}function a_(e){return t_(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Map;function qj(e,t){const s=Ad(e);Wj(s,t),n_(s,t)}function Wj(e,t){const s=zj.get(e);if(s)for(const a of s)a(t)}function n_(e,t){const s=i_();s&&s.postMessage({key:e,fid:t}),o_()}let oa=null;function i_(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=e=>{Wj(e.data.key,e.data.fid)}),oa}function o_(){zj.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="firebase-installations-database",d_=1,Na="firebase-installations-store";let Ec=null;function Gh(){return Ec||(Ec=Pd(l_,d_,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Na)}}})),Ec}async function Wl(e,t){const s=Ad(e),n=(await Gh()).transaction(Na,"readwrite"),i=n.objectStore(Na),o=await i.get(s);return await i.put(t,s),await n.done,(!o||o.fid!==t.fid)&&qj(e,t.fid),t}async function Hj(e){const t=Ad(e),a=(await Gh()).transaction(Na,"readwrite");await a.objectStore(Na).delete(t),await a.done}async function Id(e,t){const s=Ad(e),n=(await Gh()).transaction(Na,"readwrite"),i=n.objectStore(Na),o=await i.get(s),l=t(o);return l===void 0?await i.delete(s):await i.put(l,s),await n.done,l&&(!o||o.fid!==l.fid)&&qj(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(e){let t;const s=await Id(e.appConfig,a=>{const n=c_(a),i=u_(e,n);return t=i.registrationPromise,i.installationEntry});return s.fid===lm?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function c_(e){const t=e||{fid:s_(),registrationStatus:0};return Qj(t)}function u_(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(wa.create("app-offline"));return{installationEntry:t,registrationPromise:n}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=m_(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:h_(e)}:{installationEntry:t}}async function m_(e,t){try{const s=await e_(e,t);return Wl(e.appConfig,s)}catch(s){throw Lj(s)&&s.customData.serverCode===409?await Hj(e.appConfig):await Wl(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function h_(e){let t=await gg(e.appConfig);for(;t.registrationStatus===1;)await $j(100),t=await gg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await Kh(e);return a||s}return t}function gg(e){return Id(e,t=>{if(!t)throw wa.create("installation-not-found");return Qj(t)})}function Qj(e){return x_(e)?{fid:e.fid,registrationStatus:0}:e}function x_(e){return e.registrationStatus===1&&e.registrationTime+Ej<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_({appConfig:e,heartbeatServiceProvider:t},s){const a=f_(e,s),n=XM(e,s),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const o={installation:{sdkVersion:Rj,appId:e.appId}},l={method:"POST",headers:n,body:JSON.stringify(o)},d=await Vj(()=>fetch(a,l));if(d.ok){const c=await d.json();return Fj(c)}else throw await Bj("Generate Auth Token",d)}function f_(e,{fid:t}){return`${Oj(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(e,t=!1){let s;const a=await Id(e.appConfig,i=>{if(!Gj(i))throw wa.create("not-registered");const o=i.authToken;if(!t&&y_(o))return i;if(o.requestStatus===1)return s=g_(e,t),i;{if(!navigator.onLine)throw wa.create("app-offline");const l=j_(i);return s=b_(e,l),l}});return s?await s:a.authToken}async function g_(e,t){let s=await bg(e.appConfig);for(;s.authToken.requestStatus===1;)await $j(100),s=await bg(e.appConfig);const a=s.authToken;return a.requestStatus===0?Yh(e,t):a}function bg(e){return Id(e,t=>{if(!Gj(t))throw wa.create("not-registered");const s=t.authToken;return k_(s)?{...t,authToken:{requestStatus:0}}:t})}async function b_(e,t){try{const s=await p_(e,t),a={...t,authToken:s};return await Wl(e.appConfig,a),s}catch(s){if(Lj(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await Hj(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await Wl(e.appConfig,a)}throw s}}function Gj(e){return e!==void 0&&e.registrationStatus===2}function y_(e){return e.requestStatus===2&&!v_(e)}function v_(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+QM}function j_(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function k_(e){return e.requestStatus===1&&e.requestTime+Ej<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_(e){const t=e,{installationEntry:s,registrationPromise:a}=await Kh(t);return a?a.catch(console.error):Yh(t).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(e,t=!1){const s=e;return await S_(s),(await Yh(s,t)).token}async function S_(e){const{registrationPromise:t}=await Kh(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e){if(!e||!e.options)throw Rc("App Configuration");if(!e.name)throw Rc("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw Rc(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Rc(e){return wa.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="installations",T_="installations-internal",P_=e=>{const t=e.getProvider("app").getImmediate(),s=C_(t),a=Hh(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},A_=e=>{const t=e.getProvider("app").getImmediate(),s=Hh(t,Kj).getImmediate();return{getId:()=>w_(s),getToken:n=>N_(s,n)}};function I_(){ka(new Fs(Kj,P_,"PUBLIC")),ka(new Fs(T_,A_,"PRIVATE"))}I_();As(_j,Qh);As(_j,Qh,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="/firebase-messaging-sw.js",__="/firebase-cloud-messaging-push-scope",Yj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",E_="https://fcmregistrations.googleapis.com/v1",Xj="google.c.a.c_id",R_="google.c.a.c_l",D_="google.c.a.ts",L_="google.c.a.e",yg=1e4;var vg;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(vg||(vg={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Gi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Gi||(Gi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function O_(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="fcm_token_details_db",F_=5,jg="fcm_token_object_Store";async function B_(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Dc))return null;let t=null;return(await Pd(Dc,F_,{upgrade:async(a,n,i,o)=>{if(n<2||!a.objectStoreNames.contains(jg))return;const l=o.objectStore(jg),d=await l.index("fcmSenderId").get(e);if(await l.clear(),!!d){if(n===2){const c=d;if(!c.auth||!c.p256dh||!c.endpoint)return;t={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Dr(c.vapidKey)}}}else if(n===3){const c=d;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Dr(c.auth),p256dh:Dr(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Dr(c.vapidKey)}}}else if(n===4){const c=d;t={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Dr(c.auth),p256dh:Dr(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Dr(c.vapidKey)}}}}}})).close(),await Ic(Dc),await Ic("fcm_vapid_details_db"),await Ic("undefined"),U_(t)?t:null}function U_(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="firebase-messaging-database",$_=1,Ki="firebase-messaging-store";let Lc=null;function Jj(){return Lc||(Lc=Pd(V_,$_,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ki)}}})),Lc}async function z_(e){const t=Zj(e),a=await(await Jj()).transaction(Ki).objectStore(Ki).get(t);if(a)return a;{const n=await B_(e.appConfig.senderId);if(n)return await Xh(e,n),n}}async function Xh(e,t){const s=Zj(e),n=(await Jj()).transaction(Ki,"readwrite");return await n.objectStore(Ki).put(t,s),await n.done,t}function Zj({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},dt=new Td("messaging","Messaging",q_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_(e,t){const s=await Zh(e),a=ek(t),n={method:"POST",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(Jh(e.appConfig),n)).json()}catch(o){throw dt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw dt.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw dt.create("token-subscribe-no-token");return i.token}async function H_(e,t){const s=await Zh(e),a=ek(t.subscriptionOptions),n={method:"PATCH",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(`${Jh(e.appConfig)}/${t.token}`,n)).json()}catch(o){throw dt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw dt.create("token-update-failed",{errorInfo:o})}if(!i.token)throw dt.create("token-update-no-token");return i.token}async function Q_(e,t){const a={method:"DELETE",headers:await Zh(e)};try{const i=await(await fetch(`${Jh(e.appConfig)}/${t}`,a)).json();if(i.error){const o=i.error.message;throw dt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(n){throw dt.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function Jh({projectId:e}){return`${E_}/projects/${e}/registrations`}async function Zh({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function ek({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const n={web:{endpoint:s,auth:t,p256dh:e}};return a!==Yj&&(n.web.applicationPubKey=a),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=7*24*60*60*1e3;async function K_(e){const t=await X_(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Dr(t.getKey("auth")),p256dh:Dr(t.getKey("p256dh"))},a=await z_(e.firebaseDependencies);if(a){if(J_(a.subscriptionOptions,s))return Date.now()>=a.createTime+G_?Y_(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await Q_(e.firebaseDependencies,a.token)}catch(n){console.warn(n)}return kg(e.firebaseDependencies,s)}else return kg(e.firebaseDependencies,s)}async function Y_(e,t){try{const s=await H_(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await Xh(e.firebaseDependencies,a),s}catch(s){throw s}}async function kg(e,t){const a={token:await W_(e,t),createTime:Date.now(),subscriptionOptions:t};return await Xh(e,a),a.token}async function X_(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:O_(t)})}function J_(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,n=t.auth===e.auth,i=t.p256dh===e.p256dh;return s&&a&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Z_(t,e),eE(t,e),tE(t,e),t}function Z_(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const n=t.notification.image;n&&(e.notification.image=n);const i=t.notification.icon;i&&(e.notification.icon=i)}function eE(e,t){t.data&&(e.data=t.data)}function tE(e,t){var n,i,o,l;if(!t.fcmOptions&&!((n=t.notification)!=null&&n.click_action))return;e.fcmOptions={};const s=((i=t.fcmOptions)==null?void 0:i.link)??((o=t.notification)==null?void 0:o.click_action);s&&(e.fcmOptions.link=s);const a=(l=t.fcmOptions)==null?void 0:l.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(e){return typeof e=="object"&&!!e&&Xj in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e){if(!e||!e.options)throw Oc("App Configuration Object");if(!e.name)throw Oc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw Oc(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function Oc(e){return dt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=sE(t);this.firebaseDependencies={app:t,appConfig:n,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(e){try{e.swRegistration=await navigator.serviceWorker.register(M_,{scope:__}),e.swRegistration.update().catch(()=>{}),await iE(e.swRegistration)}catch(t){throw dt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function iE(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${yg} ms`)),yg),n=e.installing||e.waiting;e.active?(clearTimeout(a),t()):n?n.onstatechange=i=>{var o;((o=i.target)==null?void 0:o.state)==="activated"&&(n.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(e,t){if(!t&&!e.swRegistration&&await nE(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw dt.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Yj)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(e,t){if(!navigator)throw dt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw dt.create("permission-blocked");return await lE(e,t==null?void 0:t.vapidKey),await oE(e,t==null?void 0:t.serviceWorkerRegistration),K_(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(e,t,s){const a=cE(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[Xj],message_name:s[R_],message_time:s[D_],message_device_time:Math.floor(Date.now()/1e3)})}function cE(e){switch(e){case Gi.NOTIFICATION_CLICKED:return"notification_open";case Gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uE(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===Gi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(wg(s)):e.onMessageHandler.next(wg(s)));const a=s.data;rE(a)&&a[L_]==="1"&&await dE(e,s.messageType,a)}const Ng="@firebase/messaging",Sg="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=e=>{const t=new aE(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>uE(t,s)),t},hE=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>tk(t,a)}};function xE(){ka(new Fs("messaging",mE,"PUBLIC")),ka(new Fs("messaging-internal",hE,"PRIVATE")),As(Ng,Sg),As(Ng,Sg,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(){try{await Cj()}catch{return!1}return typeof window<"u"&&Sj()&&_I()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e,t){if(!navigator)throw dt.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e=EM()){return pE().then(t=>{if(!t)throw dt.create("unsupported-browser")},t=>{throw dt.create("indexed-db-unsupported")}),Hh(qh(e),"messaging").getImmediate()}async function bE(e,t){return e=qh(e),tk(e,t)}function yE(e,t){return e=qh(e),fE(e,t)}xE();const ex={apiKey:"AIzaSyD_zaEB4r9OdxRhqjh_3knPThewK0Xr98I",authDomain:"baptizo-community.firebaseapp.com",projectId:"baptizo-community",storageBucket:"baptizo-community.firebasestorage.app",messagingSenderId:"781281083216",appId:"1:781281083216:web:4236621528ef828ab03655",measurementId:"G-7LD94T1B5D"};if(!ex.projectId)throw new Error("Firebase projectId is required. Please set VITE_FIREBASE_PROJECT_ID in your .env.local file.");if(!ex.apiKey)throw new Error("Firebase apiKey is required. Please set VITE_FIREBASE_API_KEY in your .env.local file.");const vE=Aj(ex),Fc=typeof window<"u"?gE(vE):null,Cg="BGwc3-C9heX7WHfc8hJwJ08smI0rWbqoyoOXN1IoaHN33auBdJ7GIr82XZKUdl5MW9XZyElzyxIuMQA_J-xWhEE";function jE(){const{user:e}=Y(),t=$(S.users.updateFcmToken),[s,a]=g.useState(typeof window<"u"?Notification.permission:"default");return g.useEffect(()=>{if(!e||!Fc||!Cg)return;(async()=>{try{const o=await Notification.requestPermission();if(a(o),o==="granted"){const l=await bE(Fc,{vapidKey:Cg});l&&(console.log("FCM Token:",l),await t({userId:e._id,fcmToken:l}))}}catch(o){console.error("Error setting up notifications:",o)}})();const i=yE(Fc,o=>{console.log("Foreground message received:",o),o.notification&&new Notification(o.notification.title||"New Notification",{body:o.notification.body,icon:o.notification.image||"/logo192.png"})});return()=>i()},[e,t]),{permissionStatus:s}}function kE(){const[e,t]=g.useState(null),[s,a]=g.useState(!1);g.useEffect(()=>{const o=l=>{l.preventDefault(),t(l),localStorage.getItem("pwa_dismissed")||a(!0)};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const n=async()=>{if(!e)return;a(!1),e.prompt();const{outcome:o}=await e.userChoice;console.log(`User response to the install prompt: ${o}`),t(null)},i=()=>{a(!1),localStorage.setItem("pwa_dismissed","true")};return s?r.jsx(ae,{children:r.jsx(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-0 left-0 right-0 z-[100] p-4 md:p-6 flex justify-center pointer-events-none",children:r.jsxs("div",{className:"bg-white/90 dark:bg-gray-900/95 backdrop-blur-xl border border-light-border dark:border-dark-border shadow-2xl rounded-2xl p-4 w-[95%] max-w-sm pointer-events-auto relative overflow-hidden mx-auto mb-4 md:mb-6",children:[r.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-primary-500/20 rounded-full blur-2xl pointer-events-none"}),r.jsx("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 bg-secondary-500/20 rounded-full blur-2xl pointer-events-none"}),r.jsx("button",{onClick:i,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors z-10",children:r.jsx(Le,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{className:"flex flex-col items-center text-center",children:[r.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/premium-logo.png",alt:"Baptizo",className:"w-12 h-12 rounded-xl shadow-md mb-2"}),r.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Install Baptizo Application"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4 max-w-[90%]",children:"Get the best experience with offline access and real-time updates."}),r.jsxs("div",{className:"flex gap-2 w-full",children:[r.jsx(I,{variant:"outline",className:"flex-1 h-9 text-xs",onClick:i,children:"Not Now"}),r.jsxs(I,{className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white shadow-lg shadow-primary-500/25 h-9 text-xs",onClick:n,children:[r.jsx(ud,{className:"w-3 h-3 mr-1.5"}),"Install App"]})]})]})]})})}):null}function wE({users:e,selectedUserId:t,onSelect:s,label:a="Assign To"}){const[n,i]=g.useState(!1),[o,l]=g.useState(""),d=g.useRef(null),c=e.find(m=>m._id===t),u=e.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())||m.role.toLowerCase().includes(o.toLowerCase()));return g.useEffect(()=>{const m=h=>{d.current&&!d.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),r.jsxs("div",{className:"w-full relative",ref:d,children:[a&&r.jsx("label",{className:"block text-sm font-medium mb-1.5 text-light-text dark:text-dark-text",children:a}),r.jsxs("button",{type:"button",onClick:()=>i(!n),className:`w-full flex items-center justify-between p-3 rounded-xl border transition-all ${n?"border-primary-500 ring-2 ring-primary-500/20 bg-light-card/80 dark:bg-dark-card/80":"border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg hover:border-primary-500/50"}`,children:[c?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:r.jsx("div",{className:"w-full h-full rounded-lg bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:c.avatarUrl?r.jsx("img",{src:c.avatarUrl,alt:c.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xs font-bold",children:c.name[0]})})}),r.jsxs("div",{className:"flex flex-col items-start leading-none",children:[r.jsx("span",{className:"font-semibold text-sm",children:c.name}),r.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted font-bold uppercase tracking-wider mt-0.5",children:c.role.replace("_"," ")})]})]}):r.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Select a member..."}),r.jsx(ts,{className:`w-5 h-5 text-light-muted dark:text-dark-muted transition-transform ${n?"rotate-180":""}`})]}),r.jsx(ae,{children:n&&r.jsxs(P.div,{initial:{opacity:0,y:5,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"absolute top-full left-0 right-0 mt-2 z-50 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-xl border border-light-border/20 dark:border-dark-border/20 rounded-xl shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-light-border/10 dark:border-dark-border/10",children:r.jsxs("div",{className:"relative",children:[r.jsx(tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),r.jsx("input",{type:"text",placeholder:"Search members...",value:o,onChange:m=>l(m.target.value),className:"w-full pl-9 pr-3 py-2 bg-light-bg/50 dark:bg-dark-bg/50 rounded-lg text-sm border-none focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0})]})}),r.jsx("div",{className:"max-h-[250px] overflow-y-auto thin-scrollbar p-1",children:u.length>0?u.map(m=>r.jsxs("button",{onClick:()=>{s(m._id),i(!1)},className:`w-full flex items-center justify-between p-2 rounded-lg transition-colors ${t===m._id?"bg-primary-500/10 text-primary-500":"hover:bg-light-bg/80 dark:hover:bg-dark-bg/80"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:r.jsx("div",{className:"w-full h-full rounded-lg bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:m.avatarUrl?r.jsx("img",{src:m.avatarUrl,alt:m.name,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-xs font-bold",children:m.name[0]})})}),r.jsxs("div",{className:"flex flex-col items-start leading-none",children:[r.jsx("span",{className:"font-semibold text-sm",children:m.name}),r.jsx("span",{className:"text-[10px] opacity-70 font-bold uppercase tracking-wider mt-0.5",children:m.role.replace("_"," ")})]})]}),t===m._id&&r.jsx(mt,{className:"w-4 h-4"})]},m._id)):r.jsx("div",{className:"p-4 text-center text-sm text-light-muted dark:text-dark-muted",children:"No members found"})})]})})]})}function NE(){const{user:e,isLoading:t}=Y(),s=ie(),a=$(S.boardTasks.createTask),[n,i]=g.useState(""),[o,l]=g.useState(""),[d,c]=g.useState("Ministry Assignment"),[u,m]=g.useState("medium"),[h,x]=g.useState(""),[b,v]=g.useState(""),[y,p]=g.useState(!1),f=D(S.users.getAllUsers,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),j=(f==null?void 0:f.filter(w=>w.role==="board_member"||w.role==="admin"||w.role==="super_admin"))||[];if(t)return r.jsx("div",{className:"min-h-screen py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[r.jsx(Ht,{}),r.jsx(ja,{count:4})]})});if(!e)return r.jsx(Te,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Te,{to:"/board",replace:!0});const k=async()=>{if(!(!n||!o||!h)){p(!0);try{await a({adminId:e._id,title:n,description:o,type:d,priority:u,assignedTo:h,dueDate:b?new Date(b).getTime():void 0}),s("/board/admin")}catch(w){console.error("Failed to create task:",w)}finally{p(!1)}}};return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-primary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary-500",children:"Operation Command"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Issue Directive"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Formulate and deploy a new mission objective."})]}),r.jsxs(M,{glass:!0,className:"overflow-hidden border-primary-500/20",children:[r.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-500 via-secondary-500 to-primary-500"}),r.jsxs(R,{className:"p-8 md:p-12 space-y-10",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx(de,{label:"Directive Title",value:n,onChange:w=>i(w.target.value),placeholder:"State the core objective...",className:"text-lg font-bold h-14 rounded-2xl border-2 focus:border-primary-500 transition-all"}),r.jsx(Hi,{label:"Operational Details",value:o,onChange:w=>l(w.target.value),rows:6,placeholder:"Elucidate the mission requirements and expected outcomes...",className:"rounded-[24px] border-2 focus:border-primary-500 transition-all p-6 text-base italic"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(Ar,{label:"Mission Classification",value:d,onChange:c,options:[{value:"Ministry Assignment",label:"Ministry Assignment"},{value:"Administrative",label:"Administrative"},{value:"Training",label:"Training"},{value:"Personal Development",label:"Personal Development"},{value:"Team Project",label:"Team Project"}]}),r.jsx(Ar,{label:"Intensity Priority",value:u,onChange:m,options:[{value:"low",label:"Low Priority"},{value:"medium",label:"Standard Priority"},{value:"high",label:"High Priority"},{value:"urgent",label:"Immediate Attention"}]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"relative z-40",children:r.jsx(wE,{users:j,selectedUserId:h,onSelect:x,label:"Assigned Personnel"})}),r.jsx(de,{type:"date",label:"Deadline Alignment",value:b,onChange:w=>v(w.target.value),className:"h-14 rounded-2xl border-2 focus:border-primary-500"})]}),r.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-4 pt-8",children:[r.jsx(I,{variant:"ghost",onClick:()=>s(-1),className:"h-14 px-8 rounded-2xl font-black text-[10px] uppercase tracking-widest border-2 hover:bg-light-muted/10",children:"Abort"}),r.jsx(I,{variant:"primary",onClick:k,disabled:y,className:"h-14 px-12 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl shadow-primary-500/40",children:y?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Deploying..."})]}):"Deploy Directive"})]})]})]})]})}function SE(){const{user:e,isLoading:t}=Y(),s=ie(),a=$(S.training.createModule),n=D(S.training.getTrainingStats,e?{userId:e._id}:"skip"),[i,o]=g.useState(""),[l,d]=g.useState(""),[c,u]=g.useState("Leadership"),[m,h]=g.useState(""),[x,b]=g.useState(""),[v,y]=g.useState(""),[p,f]=g.useState(""),[j,k]=g.useState(!1);if(t)return r.jsx("div",{className:"flex justify-center p-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(!e)return r.jsx(Te,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return r.jsx(Te,{to:"/board",replace:!0});const w=async()=>{if(!(!i||!l)){k(!0);try{const C=(n==null?void 0:n.totalModules)||0;await a({adminId:e._id,title:i,description:l,category:c,content:m,videoUrl:x||void 0,documentUrl:v||void 0,duration:p?parseInt(p):void 0,order:C+1}),s("/board/admin")}catch(C){console.error("Failed to create module:",C)}finally{k(!1)}}};return r.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-1 bg-secondary-500 rounded-full"}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-secondary-500",children:"Wisdom Forge"})]}),r.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gradient font-display mb-2 tracking-tight",children:"Author Wisdom"}),r.jsx("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:"Create a transformative learning experience for the board."})]}),r.jsxs(M,{glass:!0,className:"overflow-hidden border-secondary-500/20",children:[r.jsx("div",{className:"h-2 bg-gradient-to-r from-secondary-500 via-primary-500 to-secondary-500"}),r.jsxs(R,{className:"p-8 md:p-12 space-y-10",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsx(de,{label:"Module Title",value:i,onChange:C=>o(C.target.value),placeholder:"Enter a compelling title...",className:"text-lg font-bold h-14 rounded-2xl border-2 focus:border-secondary-500 transition-all"}),r.jsx(Hi,{label:"Executive Summary",value:l,onChange:C=>d(C.target.value),rows:2,placeholder:"What is the core essence of this wisdom?",className:"rounded-[24px] border-2 focus:border-secondary-500 transition-all p-6 text-base italic"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(Ar,{label:"Sector Category",value:c,onChange:u,options:[{value:"Leadership",label:"Leadership"},{value:"Ministry Skills",label:"Ministry Skills"},{value:"Spiritual Growth",label:"Spiritual Growth"},{value:"Technical Skills",label:"Technical Skills"},{value:"Team Building",label:"Team Building"}]}),r.jsx(de,{label:"Estimated Duration (MIN)",type:"number",value:p,onChange:C=>f(C.target.value),placeholder:"e.g., 30",className:"h-14 rounded-2xl border-2 focus:border-secondary-500"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-light-muted/60 ml-1",children:"Deep Content (Markdown/HTML Compatible)"}),r.jsx(Hi,{value:m,onChange:C=>h(C.target.value),rows:10,placeholder:"<h2>Core Principles</h2><p>Synthesize the wisdom here...</p>",className:"rounded-[32px] border-2 focus:border-secondary-500 transition-all p-8 text-base font-mono bg-light-muted/5"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(de,{label:"Visual Transmission (Video URL)",value:x,onChange:C=>b(C.target.value),placeholder:"Embed URL (YT/Vimeo)...",className:"h-14 rounded-2xl border-2 focus:border-secondary-500"}),r.jsx(de,{label:"Resource Reference (Document URL)",value:v,onChange:C=>y(C.target.value),placeholder:"Cloud Link (Drive/Dropbox)...",className:"h-14 rounded-2xl border-2 focus:border-secondary-500"})]}),r.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-4 pt-8 border-t border-light-border dark:border-dark-border",children:[r.jsx(I,{variant:"ghost",onClick:()=>s(-1),className:"h-14 px-8 rounded-2xl font-black text-[10px] uppercase tracking-widest border-2 hover:bg-light-muted/10 transition-all",children:"Discard Draft"}),r.jsx(I,{variant:"primary",onClick:w,disabled:j,className:"h-14 px-12 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] bg-secondary-500 hover:bg-secondary-600 shadow-2xl shadow-secondary-500/40 border-none",children:j?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),r.jsx("span",{children:"Forging Module..."})]}):"Authorize Wisdom"})]})]})]})]})}function CE(){const{user:e,isLoading:t}=Y(),s=ie(),[a,n]=g.useState(()=>{const f=localStorage.getItem("teachings_activeTab");return f==="ancient"||f==="wisdom"?f:"wisdom"}),[i,o]=g.useState(0),[l,d]=g.useState(0),[c,u]=g.useState(()=>{const f=localStorage.getItem("ancientCulture_postsVisible");return f!==null?JSON.parse(f):!0}),[m,h]=g.useState(()=>{const f=localStorage.getItem("wisdomNow_postsVisible");return f!==null?JSON.parse(f):!0});if(g.useEffect(()=>{localStorage.setItem("teachings_activeTab",a)},[a]),g.useEffect(()=>{localStorage.setItem("ancientCulture_postsVisible",JSON.stringify(c))},[c]),g.useEffect(()=>{localStorage.setItem("wisdomNow_postsVisible",JSON.stringify(m))},[m]),t)return r.jsx("div",{className:"min-h-screen py-4 md:py-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsx(Ht,{}),r.jsx(uj,{}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(_e,{}),r.jsx(_e,{})]})]})});if(!e)return r.jsx(Te,{to:"/login",replace:!0});const x=a==="ancient"?"Ancient Culture":"Wisdom of The Now",b=a==="ancient"?c:m,v=a==="ancient"?u:h,y=a==="ancient"?i:l,p=()=>{a==="ancient"?o(f=>f+1):d(f=>f+1)};return r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:K("mb-6 md:mb-8 p-6 md:p-8 rounded-2xl border transition-all duration-300",a==="ancient"?"bg-gradient-to-br from-primary-500/10 via-primary-500/5 to-primary-600/10 border-primary-500/20":"bg-gradient-to-br from-secondary-500/10 via-secondary-500/5 to-secondary-600/10 border-secondary-500/20"),children:[r.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:K("w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0 transition-colors duration-300",a==="ancient"?"bg-primary-500 shadow-primary-500/30":"bg-secondary-500 shadow-secondary-500/30"),children:a==="ancient"?r.jsx(zs,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}):r.jsx(Ws,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})},a),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h1",{className:K("text-2xl md:text-4xl font-bold font-display transition-colors duration-300",a==="ancient"?"text-primary-600 dark:text-primary-400":"text-secondary-600 dark:text-secondary-400"),children:a==="ancient"?"Ancient Culture":"Wisdom of The Now"}),r.jsx(zh,{title:a==="ancient"?"Ancient Culture":"Wisdom of The Now",content:a==="ancient"?"This section features teachings based on prophetic wisdom and systems from the Old Testament. Admin-created posts appear here for community learning and discussion.":"This section features teachings based on spiritual identity and insights from the New Testament. Engage with admin posts to deepen your understanding."})]}),r.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:a==="ancient"?"Prophetic wisdom and systems from the Old Testament":"Spiritual identity and insights from the New Testament"})]})]}),r.jsx(P.button,{whileTap:{scale:.95},onClick:async()=>{const f=`${window.location.origin}/teachings`;navigator.share?await navigator.share({title:"Teachings - Baptizo",url:f}):(await navigator.clipboard.writeText(f),alert("Link copied to clipboard!"))},className:K("p-2 rounded-lg transition-all flex-shrink-0",a==="ancient"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 text-primary-500":"hover:bg-secondary-100 dark:hover:bg-secondary-900/20 text-secondary-500"),title:"Share this page",children:r.jsx(Tn,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex p-1 bg-light-bg/50 dark:bg-dark-bg/50 backdrop-blur-sm rounded-xl border border-light-border dark:border-dark-border mt-6 relative",children:[r.jsx(P.div,{layout:!0,className:K("absolute top-1 bottom-1 rounded-lg bg-white dark:bg-dark-card shadow-sm z-0",a==="ancient"?"left-1 right-1/2":"left-1/2 right-1"),initial:!1,transition:{type:"spring",bounce:.2,duration:.6}}),r.jsx("button",{onClick:()=>n("wisdom"),className:K("flex-1 py-2 text-sm md:text-base font-bold rounded-lg relative z-10 transition-colors duration-300",a==="wisdom"?"text-secondary-600 dark:text-secondary-400":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"),children:"Wisdom of The Now"}),r.jsx("button",{onClick:()=>n("ancient"),className:K("flex-1 py-2 text-sm md:text-base font-bold rounded-lg relative z-10 transition-colors duration-300",a==="ancient"?"text-primary-600 dark:text-primary-400":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"),children:"Ancient Culture"})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx(Cd,{onSuccess:p,defaultCategory:x})}),r.jsx("div",{className:"flex justify-end",children:r.jsx($h,{isVisible:b,onToggle:()=>v(!b),category:x})}),b?r.jsxs("div",{children:[" ",r.jsx(Sd,{category:x,onlyOfficial:!0,onCommentClick:f=>s(`/post/${f._id}`)},`${a}-${y}`)]},a):r.jsx("div",{className:"text-center py-12 glass rounded-xl",children:r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Posts" to view them.'})})]})]})})}function TE(){const{user:e,isLoading:t}=Y(),s=ie(),[a,n]=g.useState(null),i=D(S.settings.canUserCreatePosts,e!=null&&e._id?{userId:e._id}:"skip");if(t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return r.jsx(Te,{to:"/login",replace:!0});const o=e.role==="admin"||e.role==="super_admin",l=()=>{s(o?"/teachings":"/feed")},d=()=>a==="question"?"question":a==="prayer"?"prayer":"general",c=()=>{if(a==="Ancient Culture"||a==="Wisdom of The Now")return a};return r.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6 md:mb-8",children:[r.jsx("button",{onClick:()=>a?n(null):s(-1),className:"p-2 -ml-2 rounded-full hover:bg-light-card dark:hover:bg-dark-card transition-colors",children:r.jsx(xr,{className:"w-6 h-6 text-light-text dark:text-dark-text"})}),r.jsx("h1",{className:"text-2xl font-bold font-display text-light-text dark:text-dark-text",children:a?"Create Post":"Choose Category"})]}),r.jsx("div",{className:"space-y-6",children:a?r.jsx(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-light-bg dark:bg-dark-bg",children:r.jsx(Cd,{defaultCategory:c(),postType:d(),onSuccess:l,variant:"default"})}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:o?"Select the category where you want to share your thoughts.":"What would you like to share today?"}),r.jsxs("div",{className:"grid gap-4",children:[(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(P.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("Wisdom of The Now"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-secondary-500/20 bg-gradient-to-br from-secondary-500/5 to-secondary-500/10 hover:shadow-lg hover:shadow-secondary-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-secondary-500/10 text-secondary-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsx(Ws,{className:"w-8 h-8"}):r.jsx(rr,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-secondary-600 dark:text-secondary-400":"text-gray-500 dark:text-gray-400"}`,children:"Wisdom of The Now"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Share spiritual insights and identity from the New Testament":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})(),(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(P.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("Ancient Culture"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-primary-500/10 hover:shadow-lg hover:shadow-primary-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-primary-500/10 text-primary-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsx(zs,{className:"w-8 h-8"}):r.jsx(rr,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`,children:"Ancient Culture"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Discuss prophetic wisdom from the Old Testament":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})(),(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(P.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("question"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-blue-500/20 bg-gradient-to-br from-blue-500/5 to-blue-500/10 hover:shadow-lg hover:shadow-blue-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-blue-500/10 text-blue-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),r.jsx("path",{d:"M12 17h.01"})]}):r.jsx(rr,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:"Ask a Question"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Submit a question about a teaching or topic":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})(),(()=>{const u=o||(i==null?void 0:i.canCreate)||!1;return r.jsxs(P.button,{whileHover:u?{scale:1.02}:{},whileTap:u?{scale:.98}:{},onClick:()=>u&&n("prayer"),disabled:!u,className:`w-full p-6 rounded-2xl border ${u?"border-purple-500/20 bg-gradient-to-br from-purple-500/5 to-purple-500/10 hover:shadow-lg hover:shadow-purple-500/10 cursor-pointer":"border-gray-300/20 bg-gray-50 dark:bg-gray-900/20 opacity-60 cursor-not-allowed"} transition-all text-left flex items-start gap-4`,children:[r.jsx("div",{className:`p-3 rounded-xl ${u?"bg-purple-500/10 text-purple-500":"bg-gray-300/10 text-gray-400"}`,children:u?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M19 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M24 6h-6a2 2 0 0 0-2 2v10.17a3 3 0 0 1-.5 1.7l-2 2.83"}),r.jsx("path",{d:"M13 14c1.49-1.28 3.6-1.28 5.09 0 1.49 1.28 1.49 3.36 0 4.63-1.49 1.28-3.6 1.28-5.09 0-1.49-1.28-1.49-3.36 0-4.63z"}),r.jsx("path",{d:"M7 6h6a2 2 0 0 1 2 2v10.17a3 3 0 0 0 .5 1.7l2 2.83"})]}):r.jsx(rr,{className:"w-8 h-8"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-xl font-bold font-display mb-1 ${u?"text-purple-600 dark:text-purple-400":"text-gray-500 dark:text-gray-400"}`,children:"Prayer Point"}),r.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:u?"Share a prayer request with the community":(i==null?void 0:i.reason)||"No permission to create posts"})]})]})})()]}),!o&&(i==null?void 0:i.canCreate)===!1&&r.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 rounded-xl bg-orange-500/5 border border-orange-500/20 flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:r.jsx(rr,{className:"w-4 h-4 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 font-display",children:"Post Creation Paused"}),r.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5 leading-relaxed",children:"This feature is currently inactive. It will be available once an administrator enables post creation permissions."})]})]})]})})]})})}function PE(){const{user:e}=Y(),t=ie(),s=D(S.wordUnderPressure.getActivePassageStatus,e?{userId:e._id}:"skip"),a=$(S.wordUnderPressure.startAttempt),n=$(S.wordUnderPressure.getQuestion),i=$(S.wordUnderPressure.submitAnswer),[o,l]=g.useState("loading"),[d,c]=g.useState(""),[u,m]=g.useState(""),h=g.useRef(""),[x,b]=g.useState(20),[v,y]=g.useState(0),[p,f]=g.useState([]),[j,k]=g.useState(""),[w,C]=g.useState([]),[N,T]=g.useState(null),[L,A]=g.useState(null),[H,_]=g.useState(null),X=g.useRef(null),[oe,E]=g.useState(!0),V=g.useRef(!1);g.useEffect(()=>{s!==void 0&&oe&&(l("landing"),E(!1))},[s,oe]),g.useEffect(()=>{const J=()=>{document.hidden&&(o==="viewing"||o==="answering")&&re("Focus lost. Challenge failed.")};return document.addEventListener("visibilitychange",J),()=>{document.removeEventListener("visibilitychange",J)}},[o]);const re=async J=>{if(!V.current&&(V.current=!0,l("error"),c(J),X.current&&clearInterval(X.current),H))try{await i({attemptId:H,selectedOptionId:"failed_focus_lost",userId:e==null?void 0:e._id})}catch(le){console.error("Failed to report failure",le)}},F=async()=>{if(!(!(s!=null&&s.hasActivePassage)||!e)){X.current&&clearInterval(X.current),V.current=!1;try{const J=await a({userId:e._id});_(J.attemptId),f(J.textLines),y(J.displayTime),l("viewing"),X.current=setInterval(()=>{y(le=>le<=1?(clearInterval(X.current),B(J.attemptId),0):le-1)},1e3)}catch(J){c(J.message||"Failed to start"),l("error")}}},B=async J=>{X.current&&clearInterval(X.current),f([]);try{l("loading"),await new Promise(fe=>setTimeout(fe,800));const le=await n({attemptId:J,userId:e==null?void 0:e._id});k(le.question),C(le.options),y(le.timeLimit),l("answering"),V.current=!1,X.current=setInterval(()=>{y(fe=>fe<=1?(clearInterval(X.current),W(J),0):fe-1)},1e3)}catch(le){c(le.message||"Failed to fetch question"),l("error")}},W=async J=>{if(!(V.current||o!=="answering")){V.current=!0,X.current&&clearInterval(X.current),l("error"),c("Time expired.");try{await i({attemptId:J,selectedOptionId:"timeout",userId:e==null?void 0:e._id})}catch{}}},Q=async J=>{if(!(V.current||o!=="answering")){V.current=!0,T(J),X.current&&clearInterval(X.current);try{const le=await i({attemptId:H,selectedOptionId:J,userId:e==null?void 0:e._id});if(A({isCorrect:le.isCorrect||!1,participationRuby:le.participationRuby||0}),le.skipExplanation){l("result");return}l("explaining"),b(20),X.current&&clearInterval(X.current),X.current=setInterval(()=>{b(fe=>fe<=1?(clearInterval(X.current),pt(),0):fe-1)},1e3)}catch(le){c(le.message||"Failed to submit answer"),l("error")}}},ce=$(S.wordUnderPressure.submitExplanation),pt=async J=>{if(X.current&&clearInterval(X.current),o==="result")return;const le=h.current;try{await ce({attemptId:H,explanation:le,userId:e==null?void 0:e._id}),l("result")}catch(fe){console.error(fe),l("result")}};return s===void 0?r.jsx("div",{className:"min-h-screen bg-black/95 flex items-center justify-center text-white",children:"Loading..."}):r.jsx("div",{className:"min-h-screen bg-black text-white font-sans selection:bg-none",children:r.jsxs("div",{className:"max-w-md mx-auto min-h-screen flex flex-col p-6 items-center justify-center relative",children:[r.jsxs("div",{className:"absolute top-6 left-0 w-full flex justify-between px-6 opacity-40",children:[r.jsx("span",{className:"text-[10px] tracking-[0.3em] font-medium uppercase text-emerald-500",children:"Word Under Pressure"}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx(ye,{className:"w-3 h-3 text-emerald-400"}),r.jsx("span",{className:"text-[10px] font-mono font-medium text-emerald-200/50",children:s!=null&&s.rewardClaimed?"PRACTICE MODE":"MONTHLY CHALLENGE"})]})]}),o==="landing"&&r.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center w-full",children:[r.jsx("div",{className:"w-20 h-20 rounded-full border border-emerald-500/20 flex items-center justify-center mx-auto mb-8 bg-emerald-950/20 shadow-[0_0_40px_rgba(16,185,129,0.05)]",children:r.jsx(pr,{className:"w-8 h-8 text-emerald-400"})}),r.jsx("h1",{className:"text-4xl font-display font-light mb-2 tracking-tight",children:"Focus."}),r.jsx("p",{className:"text-emerald-200/40 text-sm mb-10 font-light",children:"Memorize the Word accurately."}),s!=null&&s.hasActivePassage?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-emerald-500/60 mb-10 font-mono tracking-[0.2em]",children:[r.jsx("span",{className:"bg-emerald-500/10 px-2 py-0.5 rounded",children:"FREE ENTRY"}),r.jsx("span",{className:"opacity-30",children:""}),r.jsx("span",{className:"bg-emerald-500/10 px-2 py-0.5 rounded",children:s.rewardClaimed?"PRACTICE ONLY":"WINNER: 11.5 RUBIES"})]}),s.hasAttempted&&r.jsxs("div",{className:"bg-emerald-950/40 border border-emerald-500/10 text-emerald-200/60 text-[10px] p-4 rounded-xl mb-6 font-mono leading-relaxed",children:[s.rewardClaimed?r.jsx("span",{className:"text-emerald-400",children:"Monthly reward claimed. "}):r.jsx("span",{children:"Participated. "}),"Improve your time to win the month! ",r.jsx("br",{}),s.bestTime?r.jsxs("span",{className:"text-emerald-400 mt-1 block",children:["Your Best: ",s.bestTime,"ms"]}):""]}),r.jsx(I,{className:"w-full h-16 bg-emerald-600 hover:bg-emerald-500 text-white tracking-[0.3em] text-xs font-bold shadow-[0_10px_30px_rgba(5,150,105,0.2)] transition-all active:scale-[0.98] rounded-2xl",onClick:F,children:s.hasAttempted?"RETRY CHALLENGE":"BEGIN CHALLENGE"}),r.jsxs("p",{className:"text-[10px] text-emerald-200/20 max-w-[220px] mx-auto leading-relaxed uppercase tracking-widest font-medium",children:["No interruptions. No screenshots.",r.jsx("br",{}),s.memoTime,"s study  ",s.recallTime,"s recall."]})]}):r.jsx(M,{className:"bg-emerald-950/20 border-emerald-500/10 backdrop-blur-xl",children:r.jsxs(R,{className:"p-8 text-center",children:[r.jsx(pr,{className:"w-12 h-12 text-emerald-500/10 mx-auto mb-4"}),r.jsx("h3",{className:"text-emerald-100 text-lg font-light mb-2",children:"No Active Challenge"}),r.jsx("p",{className:"text-emerald-200/30 text-xs mb-8 leading-relaxed",children:"The scribes are preparing the next monthly portion. Check back soon."}),r.jsx(I,{variant:"ghost",className:"w-full text-emerald-400/50 hover:text-emerald-300 hover:bg-emerald-500/5 text-xs tracking-widest uppercase font-bold",onClick:()=>t("/leaderboard"),children:"View Leaderboard"})]})})]}),o==="viewing"&&r.jsxs("div",{className:"w-full h-full flex flex-col justify-center select-none",onContextMenu:J=>J.preventDefault(),children:[r.jsx("div",{className:"mb-12 flex justify-center",children:r.jsxs("div",{className:"relative w-20 h-20 rounded-full border border-emerald-500/10 flex items-center justify-center bg-emerald-950/20",children:[r.jsx("span",{className:"font-mono text-3xl font-light text-emerald-400",children:v}),r.jsxs("svg",{className:"absolute w-full h-full -rotate-90",children:[r.jsx("circle",{cx:"40",cy:"40",r:"38",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-emerald-500/10"}),r.jsx("circle",{cx:"40",cy:"40",r:"38",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"238.7",strokeDashoffset:238.7-238.7*v/((s==null?void 0:s.memoTime)||20),className:"text-emerald-500 transition-all duration-1000 ease-linear shadow-[0_0_10px_rgba(16,185,129,0.5)]"})]})]})}),r.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-8 text-center",children:[r.jsx("div",{className:"space-y-4",children:p.map((J,le)=>r.jsx("p",{className:"text-xl md:text-2xl font-serif text-emerald-50/90 leading-relaxed tracking-wide italic",children:J},le))}),r.jsxs("div",{className:"pt-8 opacity-20",children:[r.jsx("div",{className:"h-px w-12 bg-emerald-500 mx-auto mb-4"}),r.jsx("p",{className:"text-[10px] uppercase tracking-[0.4em] text-emerald-200 font-medium",children:"Internalize"})]})]})]}),o==="answering"&&r.jsxs("div",{className:"w-full max-w-sm",children:[r.jsxs("div",{className:"mb-12 text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-4 px-4 py-2 bg-emerald-500/10 rounded-full border border-emerald-500/20 mb-8",children:[r.jsx(ze,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("span",{className:"font-mono text-lg font-medium text-emerald-400",children:[v,"s"]})]}),r.jsx("h2",{className:"text-2xl font-light leading-snug text-emerald-50 px-4",children:j})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.map(J=>r.jsxs(I,{variant:"outline",className:K("h-16 justify-start px-6 text-sm font-light tracking-wide rounded-2xl transition-all border-emerald-500/10 bg-emerald-950/10 hover:bg-emerald-500/10 hover:border-emerald-500/30",N===J.id?"bg-emerald-500/20 border-emerald-500":"text-emerald-200/80"),onClick:()=>Q(J.id),children:[r.jsx("span",{className:"w-6 text-[10px] font-mono text-emerald-500/50 uppercase",children:J.id}),r.jsx("span",{className:"flex-1 text-left",children:J.text})]},J.id))})]}),o==="explaining"&&r.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-4 px-4 py-2 bg-emerald-500/10 rounded-full border border-emerald-500/20 mb-8",children:[r.jsx(ze,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("span",{className:"font-mono text-lg font-medium text-emerald-400",children:[x,"s"]})]}),r.jsx("h2",{className:"text-2xl font-light mb-2 text-emerald-50",children:"Reasoning."}),r.jsx("p",{className:"text-emerald-200/40 text-sm",children:"Why did you choose this answer? Explain in less than 250 words."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("textarea",{className:"w-full h-40 p-4 rounded-2xl bg-emerald-950/20 border border-emerald-500/10 text-emerald-50 text-sm font-light leading-relaxed focus:outline-none focus:border-emerald-500/30 transition-all resize-none",placeholder:"Explain your logic...",value:u,onChange:J=>{(J.target.value.trim().split(/\s+/).filter(fe=>fe!=="").length<=250||J.target.value.length<u.length)&&(m(J.target.value),h.current=J.target.value)},onPaste:J=>{J.preventDefault()}}),r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsxs("span",{className:K("text-[10px] font-mono tracking-widest",u.trim().split(/\s+/).filter(J=>J!=="").length>240?"text-amber-500":"text-emerald-500/40"),children:[u.trim().split(/\s+/).filter(J=>J!=="").length," / 250 WORDS"]}),r.jsx(I,{className:"bg-emerald-600 hover:bg-emerald-500 text-white px-8 rounded-xl h-10 text-[10px] tracking-widest uppercase font-bold",onClick:()=>pt(),disabled:u.trim().length<5,children:"SUBMIT"})]})]})]}),o==="result"&&L&&r.jsxs(P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center w-full",children:[L.isCorrect?r.jsxs("div",{className:"mb-10",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-500/20 flex items-center justify-center mx-auto mb-6",children:r.jsx(ye,{className:"w-10 h-10 text-emerald-400"})}),r.jsx("h2",{className:"text-3xl font-display font-light mb-2",children:"Well Done."}),r.jsx("p",{className:"text-emerald-200/50 text-sm mb-10",children:"Focus rewarded."}),L.participationRuby>0?r.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-emerald-500/10 rounded-3xl border border-emerald-500/20 shadow-[0_10px_40px_rgba(16,185,129,0.1)]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(T5,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("span",{className:"text-4xl font-mono text-emerald-400",children:["+",L.participationRuby]})]}),r.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] text-emerald-500/60 font-bold",children:"Rubies Earned"})]}):r.jsxs("div",{className:"inline-flex flex-col items-center p-6 bg-emerald-950/40 rounded-3xl border border-white/5",children:[r.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-white/30 font-bold mb-1",children:"Practice Complete"}),r.jsx("p",{className:"text-[10px] text-emerald-500/40",children:"Monthly reward already claimed."})]})]}):r.jsxs("div",{className:"mb-10",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-6",children:r.jsx(pr,{className:"w-10 h-10 text-red-400"})}),r.jsx("h2",{className:"text-3xl font-display font-light mb-2 text-red-200",children:"Refocus."}),r.jsx("p",{className:"text-red-200/40 text-sm mb-10",children:"Try again to improve your standing."})]}),r.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[240px] mx-auto",children:[r.jsx(I,{className:"w-full h-14 bg-white text-emerald-950 hover:bg-emerald-50 rounded-2xl font-bold tracking-widest text-[10px] uppercase",onClick:()=>l("landing"),children:"Play Again"}),r.jsx(I,{variant:"outline",className:"w-full h-14 border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/5 rounded-2xl font-bold tracking-widest text-[10px] uppercase",onClick:()=>t("/leaderboard"),children:"Leaderboard"})]})]}),o==="error"&&r.jsxs("div",{className:"text-center w-full",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:r.jsx(ze,{className:"w-8 h-8 text-red-500"})}),r.jsx("h2",{className:"text-2xl font-light mb-4",children:"Interrupted."}),r.jsx("p",{className:"text-red-200/40 text-sm mb-10 bg-red-500/5 p-4 rounded-xl border border-red-500/10",children:d}),r.jsx(I,{className:"bg-emerald-600 hover:bg-emerald-500 text-white rounded-2xl px-8 h-12",onClick:()=>l("landing"),children:"Return to Start"})]})]})})}const AE=new J2("https://perceptive-kudu-144.convex.cloud");function IE(){const e=xt(),[t,s]=Pr.useState(!0);if(jE(),Pr.useEffect(()=>{const d=setTimeout(()=>s(!1),2e3);return()=>clearTimeout(d)},[]),t)return r.jsx(fj,{});const a=e.pathname.startsWith("/admin")||e.pathname.startsWith("/board"),n=e.pathname==="/",o=!a&&["/feed","/ancient-culture","/wisdom-now","/teachings","/profile","/admin","/board","/notifications","/tasks","/leaderboard","/admin/reward-responses","/my-responses","/admin/responses","/post","/search","/banking","/chat"].some(d=>e.pathname.startsWith(d))&&e.pathname!=="/chat";return r.jsxs("div",{className:"flex flex-col min-h-screen",children:[!a&&e.pathname!=="/chat"&&r.jsx(zT,{}),!1,r.jsx("main",{className:`flex-1 ${!a&&e.pathname!=="/chat"?"pt-14 md:pt-20":""} ${o?"pb-20 md:pb-0":""}`,children:r.jsxs(ac,{children:[r.jsx(Z,{path:"/",element:r.jsx(HT,{})}),r.jsx(Z,{path:"/login",element:r.jsx(GT,{})}),r.jsx(Z,{path:"/register",element:r.jsx(ZT,{})}),r.jsx(Z,{path:"/feed",element:r.jsx(ZA,{})}),r.jsx(Z,{path:"/ancient-culture",element:r.jsx(t6,{})}),r.jsx(Z,{path:"/wisdom-now",element:r.jsx(r6,{})}),r.jsx(Z,{path:"/profile",element:r.jsx(u6,{})}),r.jsx(Z,{path:"/profile/followers",element:r.jsx(Lo,{})}),r.jsx(Z,{path:"/profile/following",element:r.jsx(Lo,{})}),r.jsx(Z,{path:"/profile/:userId/followers",element:r.jsx(Lo,{})}),r.jsx(Z,{path:"/profile/:userId/following",element:r.jsx(Lo,{})}),r.jsx(Z,{path:"/saved-posts",element:r.jsx(e6,{})}),r.jsx(Z,{path:"/admin/*",element:r.jsx(ig,{children:r.jsxs(ac,{children:[r.jsx(Z,{index:!0,element:r.jsx(m6,{})}),r.jsx(Z,{path:"banking",element:r.jsx(f6,{})}),r.jsx(Z,{path:"master-pool",element:r.jsx(N6,{})}),r.jsx(Z,{path:"announcements",element:r.jsx(C6,{})}),r.jsx(Z,{path:"polls",element:r.jsx(T6,{})}),r.jsx(Z,{path:"diamond-challenge",element:r.jsx(j6,{})}),r.jsx(Z,{path:"questions",element:r.jsx(k6,{})}),r.jsx(Z,{path:"user-tags",element:r.jsx(w6,{})}),r.jsx(Z,{path:"contacts",element:r.jsx(A6,{})}),r.jsx(Z,{path:"settings",element:r.jsx(S6,{})}),r.jsx(Z,{path:"roles",element:r.jsx(Q6,{})}),r.jsx(Z,{path:"user/:userId",element:r.jsx(G6,{})})]})})}),r.jsx(Z,{path:"/my-responses",element:r.jsx(I6,{})}),r.jsx(Z,{path:"/banking",element:r.jsx(vI,{})}),r.jsx(Z,{path:"/tasks",element:r.jsx(x6,{})}),r.jsx(Z,{path:"/leaderboard",element:r.jsx(_6,{})}),r.jsx(Z,{path:"/notifications",element:r.jsx(h6,{})}),r.jsx(Z,{path:"/setup",element:r.jsx(p6,{})}),r.jsx(Z,{path:"/search",element:r.jsx(O6,{})}),r.jsx(Z,{path:"/member-onboarding",element:r.jsx(pI,{})}),r.jsx(Z,{path:"/board/*",element:r.jsx(ig,{children:r.jsxs(ac,{children:[r.jsx(Z,{index:!0,element:r.jsx(Y6,{})}),r.jsx(Z,{path:"tasks",element:r.jsx(X6,{})}),r.jsx(Z,{path:"task/new",element:r.jsx(NE,{})}),r.jsx(Z,{path:"training",element:r.jsx(J6,{})}),r.jsx(Z,{path:"training/new",element:r.jsx(SE,{})}),r.jsx(Z,{path:"attendance",element:r.jsx(lI,{})}),r.jsx(Z,{path:"finance",element:r.jsx(dI,{})}),r.jsx(Z,{path:"contributions",element:r.jsx(xI,{})}),r.jsx(Z,{path:"admin",element:r.jsx(oI,{})})]})})}),r.jsx(Z,{path:"/profile/:userId",element:r.jsx(F6,{})}),r.jsx(Z,{path:"/about",element:r.jsx(B6,{})}),r.jsx(Z,{path:"/privacy",element:r.jsx(U6,{})}),r.jsx(Z,{path:"/terms",element:r.jsx(V6,{})}),r.jsx(Z,{path:"/contact",element:r.jsx($6,{})}),r.jsx(Z,{path:"/faq",element:r.jsx(q6,{})}),r.jsx(Z,{path:"/guidelines",element:r.jsx(H6,{})}),r.jsx(Z,{path:"/post/:postId/responses",element:r.jsx(R6,{})}),r.jsx(Z,{path:"/post/:postId",element:r.jsx(L6,{})}),r.jsx(Z,{path:"/official-response/:postId",element:r.jsx(fI,{})}),r.jsx(Z,{path:"/teachings",element:r.jsx(CE,{})}),r.jsx(Z,{path:"/create-post",element:r.jsx(TE,{})}),r.jsx(Z,{path:"/announcement/:id",element:r.jsx(K6,{})}),r.jsx(Z,{path:"/chat",element:r.jsx(gj,{})}),r.jsx(Z,{path:"/diamond-challenge",element:r.jsx(PE,{})})]})}),n&&r.jsx(qT,{}),o&&r.jsx(WT,{})]})}function ME(){return r.jsx(Z2,{client:AE,children:r.jsx(m5,{children:r.jsx(x5,{children:r.jsx(lT,{children:r.jsxs(P1,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[r.jsx(kE,{}),r.jsx(IE,{})]})})})})})}Bc.createRoot(document.getElementById("root")).render(r.jsx(Pr.StrictMode,{children:r.jsx(ME,{})}));
//# sourceMappingURL=index-B4lz6aus.js.map
