function ub(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function db(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jp={exports:{}},Mo={},Zp={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),hb=Symbol.for("react.portal"),fb=Symbol.for("react.fragment"),mb=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),xb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),bb=Symbol.for("react.memo"),wb=Symbol.for("react.lazy"),Dh=Symbol.iterator;function kb(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg=Object.assign,rg={};function Cs(e,t,r){this.props=e,this.context=t,this.refs=rg,this.updater=r||eg}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ng(){}ng.prototype=Cs.prototype;function Hu(e,t,r){this.props=e,this.context=t,this.refs=rg,this.updater=r||eg}var Qu=Hu.prototype=new ng;Qu.constructor=Hu;tg(Qu,Cs.prototype);Qu.isPureReactComponent=!0;var Lh=Array.isArray,sg=Object.prototype.hasOwnProperty,Gu={current:null},ig={key:!0,ref:!0,__self:!0,__source:!0};function ag(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)sg.call(t,n)&&!ig.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Gi,type:e,key:i,ref:o,props:s,_owner:Gu.current}}function jb(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function Nb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Oh=/\/+/g;function pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nb(""+e.key):t.toString(36)}function Ea(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gi:case hb:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+pl(o,0):n,Lh(s)?(r="",e!=null&&(r=e.replace(Oh,"$&/")+"/"),Ea(s,t,r,"",function(u){return u})):s!=null&&(Ku(s)&&(s=jb(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Oh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Lh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+pl(i,l);o+=Ea(i,t,r,c,s)}else if(c=kb(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+pl(i,l++),o+=Ea(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sa(e,t,r){if(e==null)return e;var n=[],s=0;return Ea(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Sb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Ra={transition:null},Cb={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Ra,ReactCurrentOwner:Gu};function og(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:sa,forEach:function(e,t,r){sa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sa(e,function(){t++}),t},toArray:function(e){return sa(e,function(t){return t})||[]},only:function(e){if(!Ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Cs;W.Fragment=fb;W.Profiler=pb;W.PureComponent=Hu;W.StrictMode=mb;W.Suspense=vb;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cb;W.act=og;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Gu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)sg.call(t,c)&&!ig.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Gi,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:xb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gb,_context:e},e.Consumer=e};W.createElement=ag;W.createFactory=function(e){var t=ag.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:yb,render:e}};W.isValidElement=Ku;W.lazy=function(e){return{$$typeof:wb,_payload:{_status:-1,_result:e},_init:Sb}};W.memo=function(e,t){return{$$typeof:bb,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Ra.transition;Ra.transition={};try{e()}finally{Ra.transition=t}};W.unstable_act=og;W.useCallback=function(e,t){return Ge.current.useCallback(e,t)};W.useContext=function(e){return Ge.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ge.current.useEffect(e,t)};W.useId=function(){return Ge.current.useId()};W.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ge.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};W.useRef=function(e){return Ge.current.useRef(e)};W.useState=function(e){return Ge.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ge.current.useTransition()};W.version="18.3.1";Zp.exports=W;var b=Zp.exports;const ar=db(b),Tb=ub({__proto__:null,default:ar},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=b,Ab=Symbol.for("react.element"),Eb=Symbol.for("react.fragment"),Rb=Object.prototype.hasOwnProperty,Ib=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_b={key:!0,ref:!0,__self:!0,__source:!0};function lg(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Rb.call(t,n)&&!_b.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ab,type:e,key:i,ref:o,props:s,_owner:Ib.current}}Mo.Fragment=Eb;Mo.jsx=lg;Mo.jsxs=lg;Jp.exports=Mo;var a=Jp.exports,jc={},cg={exports:{}},dt={},ug={exports:{}},dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,_){var V=P.length;P.push(_);e:for(;0<V;){var D=V-1>>>1,ee=P[D];if(0<s(ee,_))P[D]=_,P[V]=ee,V=D;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var _=P[0],V=P.pop();if(V!==_){P[0]=V;e:for(var D=0,ee=P.length,Wt=ee>>>1;D<Wt;){var ft=2*(D+1)-1,gr=P[ft],Me=ft+1,_t=P[Me];if(0>s(gr,V))Me<ee&&0>s(_t,gr)?(P[D]=_t,P[Me]=V,D=Me):(P[D]=gr,P[ft]=V,D=ft);else if(Me<ee&&0>s(_t,V))P[D]=_t,P[Me]=V,D=Me;else break e}}return _}function s(P,_){var V=P.sortIndex-_.sortIndex;return V!==0?V:P.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(P){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=P)n(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(u)}}function k(P){if(v=!1,m(P),!y)if(r(c)!==null)y=!0,J(j);else{var _=r(u);_!==null&&Ne(k,_.startTime-P)}}function j(P,_){y=!1,v&&(v=!1,p(S),S=-1),g=!0;var V=f;try{for(m(_),h=r(c);h!==null&&(!(h.expirationTime>_)||P&&!M());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var ee=D(h.expirationTime<=_);_=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),m(_)}else n(c);h=r(c)}if(h!==null)var Wt=!0;else{var ft=r(u);ft!==null&&Ne(k,ft.startTime-_),Wt=!1}return Wt}finally{h=null,f=V,g=!1}}var N=!1,C=null,S=-1,R=5,E=-1;function M(){return!(e.unstable_now()-E<R)}function O(){if(C!==null){var P=e.unstable_now();E=P;var _=!0;try{_=C(!0,P)}finally{_?ne():(N=!1,C=null)}}else N=!1}var ne;if(typeof x=="function")ne=function(){x(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,it=Q.port2;Q.port1.onmessage=O,ne=function(){it.postMessage(null)}}else ne=function(){w(O,0)};function J(P){C=P,N||(N=!0,ne())}function Ne(P,_){S=w(function(){P(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,J(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var _=3;break;default:_=f}var V=f;f=_;try{return P()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,_){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=f;f=P;try{return _()}finally{f=V}},e.unstable_scheduleCallback=function(P,_,V){var D=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,P){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,P={id:d++,callback:_,priorityLevel:P,startTime:V,expirationTime:ee,sortIndex:-1},V>D?(P.sortIndex=V,t(u,P),r(c)===null&&P===r(u)&&(v?(p(S),S=-1):v=!0,Ne(k,V-D))):(P.sortIndex=ee,t(c,P),y||g||(y=!0,J(j))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var _=f;return function(){var V=f;f=_;try{return P.apply(this,arguments)}finally{f=V}}}})(dg);ug.exports=dg;var Mb=ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=b,ct=Mb;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hg=new Set,xi={};function In(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(xi[e]=t,e=0;e<t.length;e++)hg.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=Object.prototype.hasOwnProperty,Lb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},Fh={};function Ob(e){return Nc.call(Fh,e)?!0:Nc.call(Vh,e)?!1:Lb.test(e)?Fh[e]=!0:(Vh[e]=!0,!1)}function Vb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fb(e,t,r,n){if(t===null||typeof t>"u"||Vb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_e[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_e[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_e[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_e[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_e[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_e[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_e[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_e[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_e[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yu=/[\-:]([a-z])/g;function Xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yu,Xu);_e[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yu,Xu);_e[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yu,Xu);_e[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_e[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_e[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ju(e,t,r,n){var s=_e.hasOwnProperty(t)?_e[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fb(t,r,s,n)&&(r=null),n||s===null?Ob(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fr=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ia=Symbol.for("react.element"),$n=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),Sc=Symbol.for("react.profiler"),fg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),ed=Symbol.for("react.forward_ref"),Cc=Symbol.for("react.suspense"),Tc=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),pg=Symbol.for("react.offscreen"),Bh=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,gl;function Ks(e){if(gl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||""}return`
`+gl+e}var xl=!1;function yl(e,t){if(!e||xl)return"";xl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{xl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ks(e):""}function Bb(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function Pc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case $n:return"Portal";case Sc:return"Profiler";case Zu:return"StrictMode";case Cc:return"Suspense";case Tc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mg:return(e.displayName||"Context")+".Consumer";case fg:return(e._context.displayName||"Context")+".Provider";case ed:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case td:return t=e.displayName||null,t!==null?t:Pc(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return Pc(e(t))}catch{}}return null}function $b(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pc(t);case 8:return t===Zu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zb(e){var t=gg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function aa(e){e._valueTracker||(e._valueTracker=zb(e))}function xg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ac(e,t){var r=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $h(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yg(e,t){t=t.checked,t!=null&&Ju(e,"checked",t,!1)}function Ec(e,t){yg(e,t);var r=zr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rc(e,t.type,zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rc(e,t,r){(t!=="number"||Qa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ys=Array.isArray;function ss(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ic(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(T(92));if(Ys(r)){if(1<r.length)throw Error(T(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zr(r)}}function vg(e,t){var r=zr(t.value),n=zr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _c(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oa,wg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ub=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(e){Ub.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ti[t]=ti[e]})});function kg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ti.hasOwnProperty(e)&&ti[e]?(""+t).trim():t+"px"}function jg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=kg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qb=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mc(e,t){if(t){if(qb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=null;function rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oc=null,is=null,as=null;function Wh(e){if(e=Xi(e)){if(typeof Oc!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Fo(t),Oc(e.stateNode,e.type,t))}}function Ng(e){is?as?as.push(e):as=[e]:is=e}function Sg(){if(is){var e=is,t=as;if(as=is=null,Wh(e),t)for(e=0;e<t.length;e++)Wh(t[e])}}function Cg(e,t){return e(t)}function Tg(){}var vl=!1;function Pg(e,t,r){if(vl)return e(t,r);vl=!0;try{return Cg(e,t,r)}finally{vl=!1,(is!==null||as!==null)&&(Tg(),Sg())}}function vi(e,t){var r=e.stateNode;if(r===null)return null;var n=Fo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(T(231,t,typeof r));return r}var Vc=!1;if(or)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Vc=!1}function Wb(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ri=!1,Ga=null,Ka=!1,Fc=null,Hb={onError:function(e){ri=!0,Ga=e}};function Qb(e,t,r,n,s,i,o,l,c){ri=!1,Ga=null,Wb.apply(Hb,arguments)}function Gb(e,t,r,n,s,i,o,l,c){if(Qb.apply(this,arguments),ri){if(ri){var u=Ga;ri=!1,Ga=null}else throw Error(T(198));Ka||(Ka=!0,Fc=u)}}function _n(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ag(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hh(e){if(_n(e)!==e)throw Error(T(188))}function Kb(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(T(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Hh(s),e;if(i===n)return Hh(s),t;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?e:t}function Eg(e){return e=Kb(e),e!==null?Rg(e):null}function Rg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rg(e);if(t!==null)return t;e=e.sibling}return null}var Ig=ct.unstable_scheduleCallback,Qh=ct.unstable_cancelCallback,Yb=ct.unstable_shouldYield,Xb=ct.unstable_requestPaint,pe=ct.unstable_now,Jb=ct.unstable_getCurrentPriorityLevel,nd=ct.unstable_ImmediatePriority,_g=ct.unstable_UserBlockingPriority,Ya=ct.unstable_NormalPriority,Zb=ct.unstable_LowPriority,Mg=ct.unstable_IdlePriority,Do=null,Bt=null;function ew(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:nw,tw=Math.log,rw=Math.LN2;function nw(e){return e>>>=0,e===0?32:31-(tw(e)/rw|0)|0}var la=64,ca=4194304;function Xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Xs(l):(i&=o,i!==0&&(n=Xs(i)))}else o=r&~s,o!==0?n=Xs(o):i!==0&&(n=Xs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-At(t),s=1<<r,n|=e[r],t&=~s;return n}function sw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-At(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=sw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dg(){var e=la;return la<<=1,!(la&4194240)&&(la=64),e}function bl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ki(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=r}function aw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-At(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function sd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-At(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Y=0;function Lg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Og,id,Vg,Fg,Bg,$c=!1,ua=[],Er=null,Rr=null,Ir=null,bi=new Map,wi=new Map,Nr=[],ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Os(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xi(t),t!==null&&id(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lw(e,t,r,n,s){switch(t){case"focusin":return Er=Os(Er,e,t,r,n,s),!0;case"dragenter":return Rr=Os(Rr,e,t,r,n,s),!0;case"mouseover":return Ir=Os(Ir,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return bi.set(i,Os(bi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,wi.set(i,Os(wi.get(i)||null,e,t,r,n,s)),!0}return!1}function $g(e){var t=hn(e.target);if(t!==null){var r=_n(t);if(r!==null){if(t=r.tag,t===13){if(t=Ag(r),t!==null){e.blockedOn=t,Bg(e.priority,function(){Vg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lc=n,r.target.dispatchEvent(n),Lc=null}else return t=Xi(r),t!==null&&id(t),e.blockedOn=r,!1;t.shift()}return!0}function Kh(e,t,r){Ia(e)&&r.delete(t)}function cw(){$c=!1,Er!==null&&Ia(Er)&&(Er=null),Rr!==null&&Ia(Rr)&&(Rr=null),Ir!==null&&Ia(Ir)&&(Ir=null),bi.forEach(Kh),wi.forEach(Kh)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,cw)))}function ki(e){function t(s){return Vs(s,e)}if(0<ua.length){Vs(ua[0],e);for(var r=1;r<ua.length;r++){var n=ua[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Er!==null&&Vs(Er,e),Rr!==null&&Vs(Rr,e),Ir!==null&&Vs(Ir,e),bi.forEach(t),wi.forEach(t),r=0;r<Nr.length;r++)n=Nr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nr.length&&(r=Nr[0],r.blockedOn===null);)$g(r),r.blockedOn===null&&Nr.shift()}var os=fr.ReactCurrentBatchConfig,Ja=!0;function uw(e,t,r,n){var s=Y,i=os.transition;os.transition=null;try{Y=1,ad(e,t,r,n)}finally{Y=s,os.transition=i}}function dw(e,t,r,n){var s=Y,i=os.transition;os.transition=null;try{Y=4,ad(e,t,r,n)}finally{Y=s,os.transition=i}}function ad(e,t,r,n){if(Ja){var s=zc(e,t,r,n);if(s===null)El(e,t,n,Za,r),Gh(e,n);else if(lw(s,e,t,r,n))n.stopPropagation();else if(Gh(e,n),t&4&&-1<ow.indexOf(e)){for(;s!==null;){var i=Xi(s);if(i!==null&&Og(i),i=zc(e,t,r,n),i===null&&El(e,t,n,Za,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else El(e,t,n,null,r)}}var Za=null;function zc(e,t,r,n){if(Za=null,e=rd(n),e=hn(e),e!==null)if(t=_n(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ag(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Za=e,null}function zg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jb()){case nd:return 1;case _g:return 4;case Ya:case Zb:return 16;case Mg:return 536870912;default:return 16}default:return 16}}var Cr=null,od=null,_a=null;function Ug(){if(_a)return _a;var e,t=od,r=t.length,n,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return _a=s.slice(e,1<n?1-n:void 0)}function Ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function da(){return!0}function Yh(){return!1}function ht(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?da:Yh,this.isPropagationStopped=Yh,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=ht(Ts),Yi=fe({},Ts,{view:0,detail:0}),hw=ht(Yi),wl,kl,Fs,Lo=fe({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(wl=e.screenX-Fs.screenX,kl=e.screenY-Fs.screenY):kl=wl=0,Fs=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),Xh=ht(Lo),fw=fe({},Lo,{dataTransfer:0}),mw=ht(fw),pw=fe({},Yi,{relatedTarget:0}),jl=ht(pw),gw=fe({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=ht(gw),yw=fe({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vw=ht(yw),bw=fe({},Ts,{data:0}),Jh=ht(bw),ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jw[e])?!!t[e]:!1}function cd(){return Nw}var Sw=fe({},Yi,{key:function(e){if(e.key){var t=ww[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(e){return e.type==="keypress"?Ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cw=ht(Sw),Tw=fe({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=ht(Tw),Pw=fe({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),Aw=ht(Pw),Ew=fe({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rw=ht(Ew),Iw=fe({},Lo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_w=ht(Iw),Mw=[9,13,27,32],ud=or&&"CompositionEvent"in window,ni=null;or&&"documentMode"in document&&(ni=document.documentMode);var Dw=or&&"TextEvent"in window&&!ni,qg=or&&(!ud||ni&&8<ni&&11>=ni),ef=" ",tf=!1;function Wg(e,t){switch(e){case"keyup":return Mw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function Lw(e,t){switch(e){case"compositionend":return Hg(t);case"keypress":return t.which!==32?null:(tf=!0,ef);case"textInput":return e=t.data,e===ef&&tf?null:e;default:return null}}function Ow(e,t){if(Un)return e==="compositionend"||!ud&&Wg(e,t)?(e=Ug(),_a=od=Cr=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qg&&t.locale!=="ko"?null:t.data;default:return null}}var Vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vw[e.type]:t==="textarea"}function Qg(e,t,r,n){Ng(n),t=eo(t,"onChange"),0<t.length&&(r=new ld("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var si=null,ji=null;function Fw(e){sx(e,0)}function Oo(e){var t=Hn(e);if(xg(t))return e}function Bw(e,t){if(e==="change")return t}var Gg=!1;if(or){var Nl;if(or){var Sl="oninput"in document;if(!Sl){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),Sl=typeof nf.oninput=="function"}Nl=Sl}else Nl=!1;Gg=Nl&&(!document.documentMode||9<document.documentMode)}function sf(){si&&(si.detachEvent("onpropertychange",Kg),ji=si=null)}function Kg(e){if(e.propertyName==="value"&&Oo(ji)){var t=[];Qg(t,ji,e,rd(e)),Pg(Fw,t)}}function $w(e,t,r){e==="focusin"?(sf(),si=t,ji=r,si.attachEvent("onpropertychange",Kg)):e==="focusout"&&sf()}function zw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(ji)}function Uw(e,t){if(e==="click")return Oo(t)}function qw(e,t){if(e==="input"||e==="change")return Oo(t)}function Ww(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Ww;function Ni(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Nc.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function of(e,t){var r=af(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=af(r)}}function Yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xg(){for(var e=window,t=Qa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qa(e.document)}return t}function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hw(e){var t=Xg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yg(r.ownerDocument.documentElement,r)){if(n!==null&&dd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=of(r,i);var o=of(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qw=or&&"documentMode"in document&&11>=document.documentMode,qn=null,Uc=null,ii=null,qc=!1;function lf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qc||qn==null||qn!==Qa(n)||(n=qn,"selectionStart"in n&&dd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ii&&Ni(ii,n)||(ii=n,n=eo(Uc,"onSelect"),0<n.length&&(t=new ld("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qn)))}function ha(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wn={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionend:ha("Transition","TransitionEnd")},Cl={},Jg={};or&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Vo(e){if(Cl[e])return Cl[e];if(!Wn[e])return e;var t=Wn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jg)return Cl[e]=t[r];return e}var Zg=Vo("animationend"),ex=Vo("animationiteration"),tx=Vo("animationstart"),rx=Vo("transitionend"),nx=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(e,t){nx.set(e,t),In(t,[e])}for(var Tl=0;Tl<cf.length;Tl++){var Pl=cf[Tl],Gw=Pl.toLowerCase(),Kw=Pl[0].toUpperCase()+Pl.slice(1);Yr(Gw,"on"+Kw)}Yr(Zg,"onAnimationEnd");Yr(ex,"onAnimationIteration");Yr(tx,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(rx,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function uf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gb(n,t,void 0,e),e.currentTarget=null}function sx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;uf(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;uf(s,l,u),i=c}}}if(Ka)throw e=Fc,Ka=!1,Fc=null,e}function ie(e,t){var r=t[Kc];r===void 0&&(r=t[Kc]=new Set);var n=e+"__bubble";r.has(n)||(ix(t,e,2,!1),r.add(n))}function Al(e,t,r){var n=0;t&&(n|=4),ix(r,e,n,t)}var fa="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[fa]){e[fa]=!0,hg.forEach(function(r){r!=="selectionchange"&&(Yw.has(r)||Al(r,!1,e),Al(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fa]||(t[fa]=!0,Al("selectionchange",!1,t))}}function ix(e,t,r,n){switch(zg(t)){case 1:var s=uw;break;case 4:s=dw;break;default:s=ad}r=s.bind(null,t,r,e),s=void 0,!Vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function El(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Pg(function(){var u=i,d=rd(r),h=[];e:{var f=nx.get(e);if(f!==void 0){var g=ld,y=e;switch(e){case"keypress":if(Ma(r)===0)break e;case"keydown":case"keyup":g=Cw;break;case"focusin":y="focus",g=jl;break;case"focusout":y="blur",g=jl;break;case"beforeblur":case"afterblur":g=jl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Aw;break;case Zg:case ex:case tx:g=xw;break;case rx:g=Rw;break;case"scroll":g=hw;break;case"wheel":g=_w;break;case"copy":case"cut":case"paste":g=vw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Zh}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var x=u,m;x!==null;){m=x;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,p!==null&&(k=vi(x,p),k!=null&&v.push(Ci(x,k,m)))),w)break;x=x.return}0<v.length&&(f=new g(f,y,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Lc&&(y=r.relatedTarget||r.fromElement)&&(hn(y)||y[lr]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?hn(y):null,y!==null&&(w=_n(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=Xh,k="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zh,k="onPointerLeave",p="onPointerEnter",x="pointer"),w=g==null?f:Hn(g),m=y==null?f:Hn(y),f=new v(k,x+"leave",g,r,d),f.target=w,f.relatedTarget=m,k=null,hn(d)===u&&(v=new v(p,x+"enter",y,r,d),v.target=m,v.relatedTarget=w,k=v),w=k,g&&y)t:{for(v=g,p=y,x=0,m=v;m;m=Fn(m))x++;for(m=0,k=p;k;k=Fn(k))m++;for(;0<x-m;)v=Fn(v),x--;for(;0<m-x;)p=Fn(p),m--;for(;x--;){if(v===p||p!==null&&v===p.alternate)break t;v=Fn(v),p=Fn(p)}v=null}else v=null;g!==null&&df(h,f,g,v,!1),y!==null&&w!==null&&df(h,w,y,v,!0)}}e:{if(f=u?Hn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=Bw;else if(rf(f))if(Gg)j=qw;else{j=zw;var N=$w}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Uw);if(j&&(j=j(e,u))){Qg(h,j,r,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Rc(f,"number",f.value)}switch(N=u?Hn(u):window,e){case"focusin":(rf(N)||N.contentEditable==="true")&&(qn=N,Uc=u,ii=null);break;case"focusout":ii=Uc=qn=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,lf(h,r,d);break;case"selectionchange":if(Qw)break;case"keydown":case"keyup":lf(h,r,d)}var C;if(ud)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Un?Wg(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(qg&&r.locale!=="ko"&&(Un||S!=="onCompositionStart"?S==="onCompositionEnd"&&Un&&(C=Ug()):(Cr=d,od="value"in Cr?Cr.value:Cr.textContent,Un=!0)),N=eo(u,S),0<N.length&&(S=new Jh(S,e,null,r,d),h.push({event:S,listeners:N}),C?S.data=C:(C=Hg(r),C!==null&&(S.data=C)))),(C=Dw?Lw(e,r):Ow(e,r))&&(u=eo(u,"onBeforeInput"),0<u.length&&(d=new Jh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}sx(h,t)})}function Ci(e,t,r){return{instance:e,listener:t,currentTarget:r}}function eo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vi(e,r),i!=null&&n.unshift(Ci(e,i,s)),i=vi(e,t),i!=null&&n.push(Ci(e,i,s))),e=e.return}return n}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function df(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=vi(r,i),c!=null&&o.unshift(Ci(r,c,l))):s||(c=vi(r,i),c!=null&&o.push(Ci(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Xw=/\r\n?/g,Jw=/\u0000|\uFFFD/g;function hf(e){return(typeof e=="string"?e:""+e).replace(Xw,`
`).replace(Jw,"")}function ma(e,t,r){if(t=hf(t),hf(e)!==t&&r)throw Error(T(425))}function to(){}var Wc=null,Hc=null;function Qc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(e){return ff.resolve(null).then(e).catch(tk)}:Gc;function tk(e){setTimeout(function(){throw e})}function Rl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ki(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ki(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Ps,Ti="__reactProps$"+Ps,lr="__reactContainer$"+Ps,Kc="__reactEvents$"+Ps,rk="__reactListeners$"+Ps,nk="__reactHandles$"+Ps;function hn(e){var t=e[Vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lr]||r[Vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mf(e);e!==null;){if(r=e[Vt])return r;e=mf(e)}return t}e=r,r=e.parentNode}return null}function Xi(e){return e=e[Vt]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Fo(e){return e[Ti]||null}var Yc=[],Qn=-1;function Xr(e){return{current:e}}function oe(e){0>Qn||(e.current=Yc[Qn],Yc[Qn]=null,Qn--)}function te(e,t){Qn++,Yc[Qn]=e.current,e.current=t}var Ur={},$e=Xr(Ur),tt=Xr(!1),kn=Ur;function gs(e,t){var r=e.type.contextTypes;if(!r)return Ur;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rt(e){return e=e.childContextTypes,e!=null}function ro(){oe(tt),oe($e)}function pf(e,t,r){if($e.current!==Ur)throw Error(T(168));te($e,t),te(tt,r)}function ax(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,$b(e)||"Unknown",s));return fe({},r,n)}function no(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,kn=$e.current,te($e,e),te(tt,tt.current),!0}function gf(e,t,r){var n=e.stateNode;if(!n)throw Error(T(169));r?(e=ax(e,t,kn),n.__reactInternalMemoizedMergedChildContext=e,oe(tt),oe($e),te($e,e)):oe(tt),te(tt,r)}var Yt=null,Bo=!1,Il=!1;function ox(e){Yt===null?Yt=[e]:Yt.push(e)}function sk(e){Bo=!0,ox(e)}function Jr(){if(!Il&&Yt!==null){Il=!0;var e=0,t=Y;try{var r=Yt;for(Y=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yt=null,Bo=!1}catch(s){throw Yt!==null&&(Yt=Yt.slice(e+1)),Ig(nd,Jr),s}finally{Y=t,Il=!1}}return null}var Gn=[],Kn=0,so=null,io=0,yt=[],vt=0,jn=null,Zt=1,er="";function an(e,t){Gn[Kn++]=io,Gn[Kn++]=so,so=e,io=t}function lx(e,t,r){yt[vt++]=Zt,yt[vt++]=er,yt[vt++]=jn,jn=e;var n=Zt;e=er;var s=32-At(n)-1;n&=~(1<<s),r+=1;var i=32-At(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Zt=1<<32-At(t)+s|r<<s|n,er=i+e}else Zt=1<<i|r<<s|n,er=e}function hd(e){e.return!==null&&(an(e,1),lx(e,1,0))}function fd(e){for(;e===so;)so=Gn[--Kn],Gn[Kn]=null,io=Gn[--Kn],Gn[Kn]=null;for(;e===jn;)jn=yt[--vt],yt[vt]=null,er=yt[--vt],yt[vt]=null,Zt=yt[--vt],yt[vt]=null}var lt=null,ot=null,le=!1,Pt=null;function cx(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jn!==null?{id:Zt,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,ot=null,!0):!1;default:return!1}}function Xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jc(e){if(le){var t=ot;if(t){var r=t;if(!xf(e,t)){if(Xc(e))throw Error(T(418));t=_r(r.nextSibling);var n=lt;t&&xf(e,t)?cx(n,r):(e.flags=e.flags&-4097|2,le=!1,lt=e)}}else{if(Xc(e))throw Error(T(418));e.flags=e.flags&-4097|2,le=!1,lt=e}}}function yf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function pa(e){if(e!==lt)return!1;if(!le)return yf(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qc(e.type,e.memoizedProps)),t&&(t=ot)){if(Xc(e))throw ux(),Error(T(418));for(;t;)cx(e,t),t=_r(t.nextSibling)}if(yf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ot=_r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?_r(e.stateNode.nextSibling):null;return!0}function ux(){for(var e=ot;e;)e=_r(e.nextSibling)}function xs(){ot=lt=null,le=!1}function md(e){Pt===null?Pt=[e]:Pt.push(e)}var ik=fr.ReactCurrentBatchConfig;function Bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vf(e){var t=e._init;return t(e._payload)}function dx(e){function t(p,x){if(e){var m=p.deletions;m===null?(p.deletions=[x],p.flags|=16):m.push(x)}}function r(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function n(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function s(p,x){return p=Or(p,x),p.index=0,p.sibling=null,p}function i(p,x,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<x?(p.flags|=2,x):m):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,x,m,k){return x===null||x.tag!==6?(x=Fl(m,p.mode,k),x.return=p,x):(x=s(x,m),x.return=p,x)}function c(p,x,m,k){var j=m.type;return j===zn?d(p,x,m.props.children,k,m.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&vf(j)===x.type)?(k=s(x,m.props),k.ref=Bs(p,x,m),k.return=p,k):(k=$a(m.type,m.key,m.props,null,p.mode,k),k.ref=Bs(p,x,m),k.return=p,k)}function u(p,x,m,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=Bl(m,p.mode,k),x.return=p,x):(x=s(x,m.children||[]),x.return=p,x)}function d(p,x,m,k,j){return x===null||x.tag!==7?(x=vn(m,p.mode,k,j),x.return=p,x):(x=s(x,m),x.return=p,x)}function h(p,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fl(""+x,p.mode,m),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ia:return m=$a(x.type,x.key,x.props,null,p.mode,m),m.ref=Bs(p,null,x),m.return=p,m;case $n:return x=Bl(x,p.mode,m),x.return=p,x;case wr:var k=x._init;return h(p,k(x._payload),m)}if(Ys(x)||Ds(x))return x=vn(x,p.mode,m,null),x.return=p,x;ga(p,x)}return null}function f(p,x,m,k){var j=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:l(p,x,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ia:return m.key===j?c(p,x,m,k):null;case $n:return m.key===j?u(p,x,m,k):null;case wr:return j=m._init,f(p,x,j(m._payload),k)}if(Ys(m)||Ds(m))return j!==null?null:d(p,x,m,k,null);ga(p,m)}return null}function g(p,x,m,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(m)||null,l(x,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ia:return p=p.get(k.key===null?m:k.key)||null,c(x,p,k,j);case $n:return p=p.get(k.key===null?m:k.key)||null,u(x,p,k,j);case wr:var N=k._init;return g(p,x,m,N(k._payload),j)}if(Ys(k)||Ds(k))return p=p.get(m)||null,d(x,p,k,j,null);ga(x,k)}return null}function y(p,x,m,k){for(var j=null,N=null,C=x,S=x=0,R=null;C!==null&&S<m.length;S++){C.index>S?(R=C,C=null):R=C.sibling;var E=f(p,C,m[S],k);if(E===null){C===null&&(C=R);break}e&&C&&E.alternate===null&&t(p,C),x=i(E,x,S),N===null?j=E:N.sibling=E,N=E,C=R}if(S===m.length)return r(p,C),le&&an(p,S),j;if(C===null){for(;S<m.length;S++)C=h(p,m[S],k),C!==null&&(x=i(C,x,S),N===null?j=C:N.sibling=C,N=C);return le&&an(p,S),j}for(C=n(p,C);S<m.length;S++)R=g(C,p,S,m[S],k),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?S:R.key),x=i(R,x,S),N===null?j=R:N.sibling=R,N=R);return e&&C.forEach(function(M){return t(p,M)}),le&&an(p,S),j}function v(p,x,m,k){var j=Ds(m);if(typeof j!="function")throw Error(T(150));if(m=j.call(m),m==null)throw Error(T(151));for(var N=j=null,C=x,S=x=0,R=null,E=m.next();C!==null&&!E.done;S++,E=m.next()){C.index>S?(R=C,C=null):R=C.sibling;var M=f(p,C,E.value,k);if(M===null){C===null&&(C=R);break}e&&C&&M.alternate===null&&t(p,C),x=i(M,x,S),N===null?j=M:N.sibling=M,N=M,C=R}if(E.done)return r(p,C),le&&an(p,S),j;if(C===null){for(;!E.done;S++,E=m.next())E=h(p,E.value,k),E!==null&&(x=i(E,x,S),N===null?j=E:N.sibling=E,N=E);return le&&an(p,S),j}for(C=n(p,C);!E.done;S++,E=m.next())E=g(C,p,S,E.value,k),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?S:E.key),x=i(E,x,S),N===null?j=E:N.sibling=E,N=E);return e&&C.forEach(function(O){return t(p,O)}),le&&an(p,S),j}function w(p,x,m,k){if(typeof m=="object"&&m!==null&&m.type===zn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ia:e:{for(var j=m.key,N=x;N!==null;){if(N.key===j){if(j=m.type,j===zn){if(N.tag===7){r(p,N.sibling),x=s(N,m.props.children),x.return=p,p=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wr&&vf(j)===N.type){r(p,N.sibling),x=s(N,m.props),x.ref=Bs(p,N,m),x.return=p,p=x;break e}r(p,N);break}else t(p,N);N=N.sibling}m.type===zn?(x=vn(m.props.children,p.mode,k,m.key),x.return=p,p=x):(k=$a(m.type,m.key,m.props,null,p.mode,k),k.ref=Bs(p,x,m),k.return=p,p=k)}return o(p);case $n:e:{for(N=m.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(p,x.sibling),x=s(x,m.children||[]),x.return=p,p=x;break e}else{r(p,x);break}else t(p,x);x=x.sibling}x=Bl(m,p.mode,k),x.return=p,p=x}return o(p);case wr:return N=m._init,w(p,x,N(m._payload),k)}if(Ys(m))return y(p,x,m,k);if(Ds(m))return v(p,x,m,k);ga(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(p,x.sibling),x=s(x,m),x.return=p,p=x):(r(p,x),x=Fl(m,p.mode,k),x.return=p,p=x),o(p)):r(p,x)}return w}var ys=dx(!0),hx=dx(!1),ao=Xr(null),oo=null,Yn=null,pd=null;function gd(){pd=Yn=oo=null}function xd(e){var t=ao.current;oe(ao),e._currentValue=t}function Zc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ls(e,t){oo=e,pd=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(pd!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(oo===null)throw Error(T(308));Yn=e,oo.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var fn=null;function yd(e){fn===null?fn=[e]:fn.push(e)}function fx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,yd(t)):(r.next=s.next,s.next=r),t.interleaved=r,cr(e,n)}function cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,cr(e,r)}return s=n.interleaved,s===null?(t.next=t,yd(n)):(t.next=s.next,s.next=t),n.interleaved=t,cr(e,r)}function Da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sd(e,r)}}function bf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lo(e,t,r,n){var s=e.updateQueue;kr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(f=t,g=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=fe({},h,f);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sn|=o,e.lanes=o,e.memoizedState=h}}function wf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Ji={},$t=Xr(Ji),Pi=Xr(Ji),Ai=Xr(Ji);function mn(e){if(e===Ji)throw Error(T(174));return e}function bd(e,t){switch(te(Ai,t),te(Pi,e),te($t,Ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_c(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_c(t,e)}oe($t),te($t,t)}function vs(){oe($t),oe(Pi),oe(Ai)}function px(e){mn(Ai.current);var t=mn($t.current),r=_c(t,e.type);t!==r&&(te(Pi,e),te($t,r))}function wd(e){Pi.current===e&&(oe($t),oe(Pi))}var ue=Xr(0);function co(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _l=[];function kd(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var La=fr.ReactCurrentDispatcher,Ml=fr.ReactCurrentBatchConfig,Nn=0,he=null,ke=null,Se=null,uo=!1,ai=!1,Ei=0,ak=0;function De(){throw Error(T(321))}function jd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function Nd(e,t,r,n,s,i){if(Nn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=e===null||e.memoizedState===null?uk:dk,e=r(n,s),ai){i=0;do{if(ai=!1,Ei=0,25<=i)throw Error(T(301));i+=1,Se=ke=null,t.updateQueue=null,La.current=hk,e=r(n,s)}while(ai)}if(La.current=ho,t=ke!==null&&ke.next!==null,Nn=0,Se=ke=he=null,uo=!1,t)throw Error(T(300));return e}function Sd(){var e=Ei!==0;return Ei=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?he.memoizedState=Se=e:Se=Se.next=e,Se}function jt(){if(ke===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Se===null?he.memoizedState:Se.next;if(t!==null)Se=t,ke=e;else{if(e===null)throw Error(T(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Se===null?he.memoizedState=Se=e:Se=Se.next=e}return Se}function Ri(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=jt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=ke,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Nn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,he.lanes|=d,Sn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Rt(n,t.memoizedState)||(Ze=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Sn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ll(e){var t=jt(),r=t.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Rt(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gx(){}function xx(e,t){var r=he,n=jt(),s=t(),i=!Rt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ze=!0),n=n.queue,Cd(bx.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,Ii(9,vx.bind(null,r,n,s,t),void 0,null),Ce===null)throw Error(T(349));Nn&30||yx(r,t,s)}return s}function yx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vx(e,t,r,n){t.value=r,t.getSnapshot=n,wx(t)&&kx(e)}function bx(e,t,r){return r(function(){wx(t)&&kx(e)})}function wx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function kx(e){var t=cr(e,1);t!==null&&Et(t,e,1,-1)}function kf(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=ck.bind(null,he,e),[t.memoizedState,e]}function Ii(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jx(){return jt().memoizedState}function Oa(e,t,r,n){var s=Ot();he.flags|=e,s.memoizedState=Ii(1|t,r,void 0,n===void 0?null:n)}function $o(e,t,r,n){var s=jt();n=n===void 0?null:n;var i=void 0;if(ke!==null){var o=ke.memoizedState;if(i=o.destroy,n!==null&&jd(n,o.deps)){s.memoizedState=Ii(t,r,i,n);return}}he.flags|=e,s.memoizedState=Ii(1|t,r,i,n)}function jf(e,t){return Oa(8390656,8,e,t)}function Cd(e,t){return $o(2048,8,e,t)}function Nx(e,t){return $o(4,2,e,t)}function Sx(e,t){return $o(4,4,e,t)}function Cx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tx(e,t,r){return r=r!=null?r.concat([e]):null,$o(4,4,Cx.bind(null,t,e),r)}function Td(){}function Px(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ax(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ex(e,t,r){return Nn&21?(Rt(r,t)||(r=Dg(),he.lanes|=r,Sn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=r)}function ok(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var n=Ml.transition;Ml.transition={};try{e(!1),t()}finally{Y=r,Ml.transition=n}}function Rx(){return jt().memoizedState}function lk(e,t,r){var n=Lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ix(e))_x(t,r);else if(r=fx(e,t,r,n),r!==null){var s=He();Et(r,e,n,s),Mx(r,t,n)}}function ck(e,t,r){var n=Lr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ix(e))_x(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,o)){var c=t.interleaved;c===null?(s.next=s,yd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=fx(e,t,s,n),r!==null&&(s=He(),Et(r,e,n,s),Mx(r,t,n))}}function Ix(e){var t=e.alternate;return e===he||t!==null&&t===he}function _x(e,t){ai=uo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sd(e,r)}}var ho={readContext:kt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},uk={readContext:kt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:jf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Oa(4194308,4,Cx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var r=Ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lk.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:kf,useDebugValue:Td,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=kf(!1),t=e[0];return e=ok.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=he,s=Ot();if(le){if(r===void 0)throw Error(T(407));r=r()}else{if(r=t(),Ce===null)throw Error(T(349));Nn&30||yx(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,jf(bx.bind(null,n,i,e),[e]),n.flags|=2048,Ii(9,vx.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ot(),t=Ce.identifierPrefix;if(le){var r=er,n=Zt;r=(n&~(1<<32-At(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ei++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ak++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dk={readContext:kt,useCallback:Px,useContext:kt,useEffect:Cd,useImperativeHandle:Tx,useInsertionEffect:Nx,useLayoutEffect:Sx,useMemo:Ax,useReducer:Dl,useRef:jx,useState:function(){return Dl(Ri)},useDebugValue:Td,useDeferredValue:function(e){var t=jt();return Ex(t,ke.memoizedState,e)},useTransition:function(){var e=Dl(Ri)[0],t=jt().memoizedState;return[e,t]},useMutableSource:gx,useSyncExternalStore:xx,useId:Rx,unstable_isNewReconciler:!1},hk={readContext:kt,useCallback:Px,useContext:kt,useEffect:Cd,useImperativeHandle:Tx,useInsertionEffect:Nx,useLayoutEffect:Sx,useMemo:Ax,useReducer:Ll,useRef:jx,useState:function(){return Ll(Ri)},useDebugValue:Td,useDeferredValue:function(e){var t=jt();return ke===null?t.memoizedState=e:Ex(t,ke.memoizedState,e)},useTransition:function(){var e=Ll(Ri)[0],t=jt().memoizedState;return[e,t]},useMutableSource:gx,useSyncExternalStore:xx,useId:Rx,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function eu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zo={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=He(),s=Lr(e),i=rr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Mr(e,i,s),t!==null&&(Et(t,e,s,n),Da(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=He(),s=Lr(e),i=rr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Mr(e,i,s),t!==null&&(Et(t,e,s,n),Da(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=He(),n=Lr(e),s=rr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mr(e,s,n),t!==null&&(Et(t,e,n,r),Da(t,e,n))}};function Nf(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ni(r,n)||!Ni(s,i):!0}function Dx(e,t,r){var n=!1,s=Ur,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(s=rt(t)?kn:$e.current,n=t.contextTypes,i=(n=n!=null)?gs(e,s):Ur),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Sf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function tu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},vd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=kt(i):(i=rt(t)?kn:$e.current,s.context=gs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zo.enqueueReplaceState(s,s.state,null),lo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=Bb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ol(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ru(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function Lx(e,t,r){r=rr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mo||(mo=!0,hu=n),ru(e,t)},r}function Ox(e,t,r){r=rr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ru(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ru(e,t),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Cf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Tk.bind(null,e,t,r),t.then(e,e))}function Tf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rr(-1,1),t.tag=2,Mr(r,t,1))),r.lanes|=1),e)}var mk=fr.ReactCurrentOwner,Ze=!1;function We(e,t,r,n){t.child=e===null?hx(t,null,r,n):ys(t,e.child,r,n)}function Af(e,t,r,n,s){r=r.render;var i=t.ref;return ls(t,s),n=Nd(e,t,r,n,i,s),r=Sd(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ur(e,t,s)):(le&&r&&hd(t),t.flags|=1,We(e,t,n,s),t.child)}function Ef(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Dd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Vx(e,t,i,n,s)):(e=$a(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ni,r(o,n)&&e.ref===t.ref)return ur(e,t,s)}return t.flags|=1,e=Or(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vx(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Ni(i,n)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,ur(e,t,s)}return nu(e,t,r,n,s)}function Fx(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Jn,at),at|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Jn,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(Jn,at),at|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,te(Jn,at),at|=n;return We(e,t,s,r),t.child}function Bx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nu(e,t,r,n,s){var i=rt(r)?kn:$e.current;return i=gs(t,i),ls(t,s),r=Nd(e,t,r,n,i,s),n=Sd(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ur(e,t,s)):(le&&n&&hd(t),t.flags|=1,We(e,t,r,s),t.child)}function Rf(e,t,r,n,s){if(rt(r)){var i=!0;no(t)}else i=!1;if(ls(t,s),t.stateNode===null)Va(e,t),Dx(t,r,n),tu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=rt(r)?kn:$e.current,u=gs(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Sf(t,o,n,u),kr=!1;var f=t.memoizedState;o.state=f,lo(t,n,o,s),c=t.memoizedState,l!==n||f!==c||tt.current||kr?(typeof d=="function"&&(eu(t,r,d,n),c=t.memoizedState),(l=kr||Nf(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,mx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ct(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=rt(r)?kn:$e.current,c=gs(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Sf(t,o,n,c),kr=!1,f=t.memoizedState,o.state=f,lo(t,n,o,s);var y=t.memoizedState;l!==h||f!==y||tt.current||kr?(typeof g=="function"&&(eu(t,r,g,n),y=t.memoizedState),(u=kr||Nf(t,r,u,n,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return su(e,t,r,n,i,s)}function su(e,t,r,n,s,i){Bx(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&gf(t,r,!1),ur(e,t,i);n=t.stateNode,mk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,i),t.child=ys(t,null,l,i)):We(e,t,l,i),t.memoizedState=n.state,s&&gf(t,r,!0),t.child}function $x(e){var t=e.stateNode;t.pendingContext?pf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pf(e,t.context,!1),bd(e,t.containerInfo)}function If(e,t,r,n,s){return xs(),md(s),t.flags|=256,We(e,t,r,n),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function au(e){return{baseLanes:e,cachePool:null,transitions:null}}function zx(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ue,s&1),e===null)return Jc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wo(o,n,0,null),e=vn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=au(r),t.memoizedState=iu,e):Pd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pk(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Or(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Or(l,i):(i=vn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?au(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=iu,n}return i=e.child,e=i.sibling,n=Or(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pd(e,t){return t=Wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xa(e,t,r,n){return n!==null&&md(n),ys(t,e.child,null,r),e=Pd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pk(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ol(Error(T(422))),xa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Wo({mode:"visible",children:n.children},s,0,null),i=vn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=au(o),t.memoizedState=iu,i);if(!(t.mode&1))return xa(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=Ol(i,n,void 0),xa(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ze||l){if(n=Ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cr(e,s),Et(n,e,s,-1))}return Md(),n=Ol(Error(T(421))),xa(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Pk.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ot=_r(s.nextSibling),lt=t,le=!0,Pt=null,e!==null&&(yt[vt++]=Zt,yt[vt++]=er,yt[vt++]=jn,Zt=e.id,er=e.overflow,jn=t),t=Pd(t,n.children),t.flags|=4096,t)}function _f(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zc(e.return,t,r)}function Vl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ux(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(We(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,r,t);else if(e.tag===19)_f(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&co(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Vl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&co(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Vl(t,!0,r,null,i);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,r=Or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gk(e,t,r){switch(t.tag){case 3:$x(t),xs();break;case 5:px(t);break;case 1:rt(t.type)&&no(t);break;case 4:bd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;te(ao,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?zx(e,t,r):(te(ue,ue.current&1),e=ur(e,t,r),e!==null?e.sibling:null);te(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ux(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Fx(e,t,r)}return ur(e,t,r)}var qx,ou,Wx,Hx;qx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ou=function(){};Wx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,mn($t.current);var i=null;switch(r){case"input":s=Ac(e,s),n=Ac(e,n),i=[];break;case"select":s=fe({},s,{value:void 0}),n=fe({},n,{value:void 0}),i=[];break;case"textarea":s=Ic(e,s),n=Ic(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=to)}Mc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Hx=function(e,t,r,n){r!==n&&(t.flags|=4)};function $s(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xk(e,t,r){var n=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return rt(t.type)&&ro(),Le(t),null;case 3:return n=t.stateNode,vs(),oe(tt),oe($e),kd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(pu(Pt),Pt=null))),ou(e,t),Le(t),null;case 5:wd(t);var s=mn(Ai.current);if(r=t.type,e!==null&&t.stateNode!=null)Wx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return Le(t),null}if(e=mn($t.current),pa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Vt]=t,n[Ti]=i,e=(t.mode&1)!==0,r){case"dialog":ie("cancel",n),ie("close",n);break;case"iframe":case"object":case"embed":ie("load",n);break;case"video":case"audio":for(s=0;s<Js.length;s++)ie(Js[s],n);break;case"source":ie("error",n);break;case"img":case"image":case"link":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"input":$h(n,i),ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ie("invalid",n);break;case"textarea":Uh(n,i),ie("invalid",n)}Mc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ma(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ma(n.textContent,l,e),s=["children",""+l]):xi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ie("scroll",n)}switch(r){case"input":aa(n),zh(n,i,!0);break;case"textarea":aa(n),qh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=to)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Vt]=t,e[Ti]=n,qx(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dc(r,n),r){case"dialog":ie("cancel",e),ie("close",e),s=n;break;case"iframe":case"object":case"embed":ie("load",e),s=n;break;case"video":case"audio":for(s=0;s<Js.length;s++)ie(Js[s],e);s=n;break;case"source":ie("error",e),s=n;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=n;break;case"details":ie("toggle",e),s=n;break;case"input":$h(e,n),s=Ac(e,n),ie("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fe({},n,{value:void 0}),ie("invalid",e);break;case"textarea":Uh(e,n),s=Ic(e,n),ie("invalid",e);break;default:s=n}Mc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?jg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yi(e,c):typeof c=="number"&&yi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ie("scroll",e):c!=null&&Ju(e,i,c,o))}switch(r){case"input":aa(e),zh(e,n,!1);break;case"textarea":aa(e),qh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ss(e,!!n.multiple,i,!1):n.defaultValue!=null&&ss(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=to)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Hx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(r=mn(Ai.current),mn($t.current),pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vt]=t,(i=n.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:ma(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ma(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vt]=t,t.stateNode=n}return Le(t),null;case 13:if(oe(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&ot!==null&&t.mode&1&&!(t.flags&128))ux(),xs(),t.flags|=98560,i=!1;else if(i=pa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Vt]=t}else xs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else Pt!==null&&(pu(Pt),Pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?je===0&&(je=3):Md())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return vs(),ou(e,t),e===null&&Si(t.stateNode.containerInfo),Le(t),null;case 10:return xd(t.type._context),Le(t),null;case 17:return rt(t.type)&&ro(),Le(t),null;case 19:if(oe(ue),i=t.memoizedState,i===null)return Le(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)$s(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=co(e),o!==null){for(t.flags|=128,$s(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>ws&&(t.flags|=128,n=!0,$s(i,!1),t.lanes=4194304)}else{if(!n)if(e=co(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$s(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return Le(t),null}else 2*pe()-i.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,$s(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,r=ue.current,te(ue,n?r&1|2:r&1),t):(Le(t),null);case 22:case 23:return _d(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?at&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function yk(e,t){switch(fd(t),t.tag){case 1:return rt(t.type)&&ro(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vs(),oe(tt),oe($e),kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(oe(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ue),null;case 4:return vs(),null;case 10:return xd(t.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var ya=!1,Ve=!1,vk=typeof WeakSet=="function"?WeakSet:Set,A=null;function Xn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(e,t,n)}else r.current=null}function lu(e,t,r){try{r()}catch(n){me(e,t,n)}}var Mf=!1;function bk(e,t){if(Wc=Ja,e=Xg(),dd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hc={focusedElem:e,selectionRange:r},Ja=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,p=t.stateNode,x=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ct(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){me(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=Mf,Mf=!1,y}function oi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lu(t,r,i)}s=s.next}while(s!==n)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function cu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Qx(e){var t=e.alternate;t!==null&&(e.alternate=null,Qx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[Ti],delete t[Kc],delete t[rk],delete t[nk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gx(e){return e.tag===5||e.tag===3||e.tag===4}function Df(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=to));else if(n!==4&&(e=e.child,e!==null))for(uu(e,t,r),e=e.sibling;e!==null;)uu(e,t,r),e=e.sibling}function du(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(du(e,t,r),e=e.sibling;e!==null;)du(e,t,r),e=e.sibling}var Pe=null,Tt=!1;function xr(e,t,r){for(r=r.child;r!==null;)Kx(e,t,r),r=r.sibling}function Kx(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Do,r)}catch{}switch(r.tag){case 5:Ve||Xn(r,t);case 6:var n=Pe,s=Tt;Pe=null,xr(e,t,r),Pe=n,Tt=s,Pe!==null&&(Tt?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(Tt?(e=Pe,r=r.stateNode,e.nodeType===8?Rl(e.parentNode,r):e.nodeType===1&&Rl(e,r),ki(e)):Rl(Pe,r.stateNode));break;case 4:n=Pe,s=Tt,Pe=r.stateNode.containerInfo,Tt=!0,xr(e,t,r),Pe=n,Tt=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lu(r,t,o),s=s.next}while(s!==n)}xr(e,t,r);break;case 1:if(!Ve&&(Xn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){me(r,t,l)}xr(e,t,r);break;case 21:xr(e,t,r);break;case 22:r.mode&1?(Ve=(n=Ve)||r.memoizedState!==null,xr(e,t,r),Ve=n):xr(e,t,r);break;default:xr(e,t,r)}}function Lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vk),t.forEach(function(n){var s=Ak.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,Tt=!1;break e;case 3:Pe=l.stateNode.containerInfo,Tt=!0;break e;case 4:Pe=l.stateNode.containerInfo,Tt=!0;break e}l=l.return}if(Pe===null)throw Error(T(160));Kx(i,o,s),Pe=null,Tt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yx(t,e),t=t.sibling}function Yx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Dt(e),n&4){try{oi(3,e,e.return),Uo(3,e)}catch(v){me(e,e.return,v)}try{oi(5,e,e.return)}catch(v){me(e,e.return,v)}}break;case 1:St(t,e),Dt(e),n&512&&r!==null&&Xn(r,r.return);break;case 5:if(St(t,e),Dt(e),n&512&&r!==null&&Xn(r,r.return),e.flags&32){var s=e.stateNode;try{yi(s,"")}catch(v){me(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&yg(s,i),Dc(l,o);var u=Dc(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?jg(s,h):d==="dangerouslySetInnerHTML"?wg(s,h):d==="children"?yi(s,h):Ju(s,d,h,u)}switch(l){case"input":Ec(s,i);break;case"textarea":vg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ss(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?ss(s,!!i.multiple,i.defaultValue,!0):ss(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ti]=i}catch(v){me(e,e.return,v)}}break;case 6:if(St(t,e),Dt(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){me(e,e.return,v)}}break;case 3:if(St(t,e),Dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(v){me(e,e.return,v)}break;case 4:St(t,e),Dt(e);break;case 13:St(t,e),Dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rd=pe())),n&4&&Lf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ve=(u=Ve)||d,St(t,e),Ve=u):St(t,e),Dt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,g=f.child,f.tag){case 0:case 11:case 14:case 15:oi(4,f,f.return);break;case 1:Xn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){me(n,r,v)}}break;case 5:Xn(f,f.return);break;case 22:if(f.memoizedState!==null){Vf(h);continue}}g!==null?(g.return=f,A=g):Vf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kg("display",o))}catch(v){me(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){me(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:St(t,e),Dt(e),n&4&&Lf(e);break;case 21:break;default:St(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gx(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yi(s,""),n.flags&=-33);var i=Df(e);du(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Df(e);uu(e,l,o);break;default:throw Error(T(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wk(e,t,r){A=e,Xx(e)}function Xx(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ya;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ve;l=ya;var u=Ve;if(ya=o,(Ve=c)&&!u)for(A=s;A!==null;)o=A,c=o.child,o.tag===22&&o.memoizedState!==null?Ff(s):c!==null?(c.return=o,A=c):Ff(s);for(;i!==null;)A=i,Xx(i),i=i.sibling;A=s,ya=l,Ve=u}Of(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Of(e)}}function Of(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Uo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wf(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ki(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ve||t.flags&512&&cu(t)}catch(f){me(t,t.return,f)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function Vf(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function Ff(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uo(4,t)}catch(c){me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{cu(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{cu(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var kk=Math.ceil,fo=fr.ReactCurrentDispatcher,Ad=fr.ReactCurrentOwner,wt=fr.ReactCurrentBatchConfig,G=0,Ce=null,we=null,Ie=0,at=0,Jn=Xr(0),je=0,_i=null,Sn=0,qo=0,Ed=0,li=null,Je=null,Rd=0,ws=1/0,Gt=null,mo=!1,hu=null,Dr=null,va=!1,Tr=null,po=0,ci=0,fu=null,Fa=-1,Ba=0;function He(){return G&6?pe():Fa!==-1?Fa:Fa=pe()}function Lr(e){return e.mode&1?G&2&&Ie!==0?Ie&-Ie:ik.transition!==null?(Ba===0&&(Ba=Dg()),Ba):(e=Y,e!==0||(e=window.event,e=e===void 0?16:zg(e.type)),e):1}function Et(e,t,r,n){if(50<ci)throw ci=0,fu=null,Error(T(185));Ki(e,r,n),(!(G&2)||e!==Ce)&&(e===Ce&&(!(G&2)&&(qo|=r),je===4&&Sr(e,Ie)),nt(e,n),r===1&&G===0&&!(t.mode&1)&&(ws=pe()+500,Bo&&Jr()))}function nt(e,t){var r=e.callbackNode;iw(e,t);var n=Xa(e,e===Ce?Ie:0);if(n===0)r!==null&&Qh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qh(r),t===1)e.tag===0?sk(Bf.bind(null,e)):ox(Bf.bind(null,e)),ek(function(){!(G&6)&&Jr()}),r=null;else{switch(Lg(n)){case 1:r=nd;break;case 4:r=_g;break;case 16:r=Ya;break;case 536870912:r=Mg;break;default:r=Ya}r=iy(r,Jx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Jx(e,t){if(Fa=-1,Ba=0,G&6)throw Error(T(327));var r=e.callbackNode;if(cs()&&e.callbackNode!==r)return null;var n=Xa(e,e===Ce?Ie:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=go(e,n);else{t=n;var s=G;G|=2;var i=ey();(Ce!==e||Ie!==t)&&(Gt=null,ws=pe()+500,yn(e,t));do try{Sk();break}catch(l){Zx(e,l)}while(!0);gd(),fo.current=i,G=s,we!==null?t=0:(Ce=null,Ie=0,t=je)}if(t!==0){if(t===2&&(s=Bc(e),s!==0&&(n=s,t=mu(e,s))),t===1)throw r=_i,yn(e,0),Sr(e,n),nt(e,pe()),r;if(t===6)Sr(e,n);else{if(s=e.current.alternate,!(n&30)&&!jk(s)&&(t=go(e,n),t===2&&(i=Bc(e),i!==0&&(n=i,t=mu(e,i))),t===1))throw r=_i,yn(e,0),Sr(e,n),nt(e,pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:on(e,Je,Gt);break;case 3:if(Sr(e,n),(n&130023424)===n&&(t=Rd+500-pe(),10<t)){if(Xa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){He(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gc(on.bind(null,e,Je,Gt),t);break}on(e,Je,Gt);break;case 4:if(Sr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-At(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kk(n/1960))-n,10<n){e.timeoutHandle=Gc(on.bind(null,e,Je,Gt),n);break}on(e,Je,Gt);break;case 5:on(e,Je,Gt);break;default:throw Error(T(329))}}}return nt(e,pe()),e.callbackNode===r?Jx.bind(null,e):null}function mu(e,t){var r=li;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=go(e,t),e!==2&&(t=Je,Je=r,t!==null&&pu(t)),e}function pu(e){Je===null?Je=e:Je.push.apply(Je,e)}function jk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Rt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t){for(t&=~Ed,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-At(t),n=1<<r;e[r]=-1,t&=~n}}function Bf(e){if(G&6)throw Error(T(327));cs();var t=Xa(e,0);if(!(t&1))return nt(e,pe()),null;var r=go(e,t);if(e.tag!==0&&r===2){var n=Bc(e);n!==0&&(t=n,r=mu(e,n))}if(r===1)throw r=_i,yn(e,0),Sr(e,t),nt(e,pe()),r;if(r===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Je,Gt),nt(e,pe()),null}function Id(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(ws=pe()+500,Bo&&Jr())}}function Cn(e){Tr!==null&&Tr.tag===0&&!(G&6)&&cs();var t=G;G|=1;var r=wt.transition,n=Y;try{if(wt.transition=null,Y=1,e)return e()}finally{Y=n,wt.transition=r,G=t,!(G&6)&&Jr()}}function _d(){at=Jn.current,oe(Jn)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zw(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ro();break;case 3:vs(),oe(tt),oe($e),kd();break;case 5:wd(n);break;case 4:vs();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:xd(n.type._context);break;case 22:case 23:_d()}r=r.return}if(Ce=e,we=e=Or(e.current,null),Ie=at=t,je=0,_i=null,Ed=qo=Sn=0,Je=li=null,fn!==null){for(t=0;t<fn.length;t++)if(r=fn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}fn=null}return e}function Zx(e,t){do{var r=we;try{if(gd(),La.current=ho,uo){for(var n=he.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uo=!1}if(Nn=0,Se=ke=he=null,ai=!1,Ei=0,Ad.current=null,r===null||r.return===null){je=1,_i=t,we=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ie,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Tf(o);if(g!==null){g.flags&=-257,Pf(g,o,l,i,t),g.mode&1&&Cf(i,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){Cf(i,u,t),Md();break e}c=Error(T(426))}}else if(le&&l.mode&1){var w=Tf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Pf(w,o,l,i,t),md(bs(c,l));break e}}i=c=bs(c,l),je!==4&&(je=2),li===null?li=[i]:li.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Lx(i,c,t);bf(i,p);break e;case 1:l=c;var x=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Dr===null||!Dr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Ox(i,l,t);bf(i,k);break e}}i=i.return}while(i!==null)}ry(r)}catch(j){t=j,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function ey(){var e=fo.current;return fo.current=ho,e===null?ho:e}function Md(){(je===0||je===3||je===2)&&(je=4),Ce===null||!(Sn&268435455)&&!(qo&268435455)||Sr(Ce,Ie)}function go(e,t){var r=G;G|=2;var n=ey();(Ce!==e||Ie!==t)&&(Gt=null,yn(e,t));do try{Nk();break}catch(s){Zx(e,s)}while(!0);if(gd(),G=r,fo.current=n,we!==null)throw Error(T(261));return Ce=null,Ie=0,je}function Nk(){for(;we!==null;)ty(we)}function Sk(){for(;we!==null&&!Yb();)ty(we)}function ty(e){var t=sy(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?ry(e):we=t,Ad.current=null}function ry(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yk(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,we=null;return}}else if(r=xk(r,t,at),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);je===0&&(je=5)}function on(e,t,r){var n=Y,s=wt.transition;try{wt.transition=null,Y=1,Ck(e,t,r,n)}finally{wt.transition=s,Y=n}return null}function Ck(e,t,r,n){do cs();while(Tr!==null);if(G&6)throw Error(T(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(aw(e,i),e===Ce&&(we=Ce=null,Ie=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||va||(va=!0,iy(Ya,function(){return cs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=Y;Y=1;var l=G;G|=4,Ad.current=null,bk(e,r),Yx(r,e),Hw(Hc),Ja=!!Wc,Hc=Wc=null,e.current=r,wk(r),Xb(),G=l,Y=o,wt.transition=i}else e.current=r;if(va&&(va=!1,Tr=e,po=s),i=e.pendingLanes,i===0&&(Dr=null),ew(r.stateNode),nt(e,pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mo)throw mo=!1,e=hu,hu=null,e;return po&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===fu?ci++:(ci=0,fu=e):ci=0,Jr(),null}function cs(){if(Tr!==null){var e=Lg(po),t=wt.transition,r=Y;try{if(wt.transition=null,Y=16>e?16:e,Tr===null)var n=!1;else{if(e=Tr,Tr=null,po=0,G&6)throw Error(T(331));var s=G;for(G|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:oi(8,d,i)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,g=d.return;if(Qx(d),d===u){A=null;break}if(f!==null){f.return=g,A=f;break}A=g}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oi(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,A=p;break e}A=i.return}}var x=e.current;for(A=x;A!==null;){o=A;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,A=m;else e:for(o=x;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uo(9,l)}}catch(j){me(l,l.return,j)}if(l===o){A=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,A=k;break e}A=l.return}}if(G=s,Jr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Do,e)}catch{}n=!0}return n}finally{Y=r,wt.transition=t}}return!1}function $f(e,t,r){t=bs(r,t),t=Lx(e,t,1),e=Mr(e,t,1),t=He(),e!==null&&(Ki(e,1,t),nt(e,t))}function me(e,t,r){if(e.tag===3)$f(e,e,r);else for(;t!==null;){if(t.tag===3){$f(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){e=bs(r,e),e=Ox(t,e,1),t=Mr(t,e,1),e=He(),t!==null&&(Ki(t,1,e),nt(t,e));break}}t=t.return}}function Tk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&(Ie&r)===r&&(je===4||je===3&&(Ie&130023424)===Ie&&500>pe()-Rd?yn(e,0):Ed|=r),nt(e,t)}function ny(e,t){t===0&&(e.mode&1?(t=ca,ca<<=1,!(ca&130023424)&&(ca=4194304)):t=1);var r=He();e=cr(e,t),e!==null&&(Ki(e,t,r),nt(e,r))}function Pk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ny(e,r)}function Ak(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),ny(e,r)}var sy;sy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)Ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ze=!1,gk(e,t,r);Ze=!!(e.flags&131072)}else Ze=!1,le&&t.flags&1048576&&lx(t,io,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Va(e,t),e=t.pendingProps;var s=gs(t,$e.current);ls(t,r),s=Nd(null,t,n,e,s,r);var i=Sd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(n)?(i=!0,no(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vd(t),s.updater=zo,t.stateNode=s,s._reactInternals=t,tu(t,n,e,r),t=su(null,t,n,!0,i,r)):(t.tag=0,le&&i&&hd(t),We(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Rk(n),e=Ct(n,e),s){case 0:t=nu(null,t,n,e,r);break e;case 1:t=Rf(null,t,n,e,r);break e;case 11:t=Af(null,t,n,e,r);break e;case 14:t=Ef(null,t,n,Ct(n.type,e),r);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),nu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Rf(e,t,n,s,r);case 3:e:{if($x(t),e===null)throw Error(T(387));n=t.pendingProps,i=t.memoizedState,s=i.element,mx(e,t),lo(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bs(Error(T(423)),t),t=If(e,t,n,r,s);break e}else if(n!==s){s=bs(Error(T(424)),t),t=If(e,t,n,r,s);break e}else for(ot=_r(t.stateNode.containerInfo.firstChild),lt=t,le=!0,Pt=null,r=hx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xs(),n===s){t=ur(e,t,r);break e}We(e,t,n,r)}t=t.child}return t;case 5:return px(t),e===null&&Jc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Qc(n,s)?o=null:i!==null&&Qc(n,i)&&(t.flags|=32),Bx(e,t),We(e,t,o,r),t.child;case 6:return e===null&&Jc(t),null;case 13:return zx(e,t,r);case 4:return bd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):We(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Af(e,t,n,s,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,te(ao,n._currentValue),n._currentValue=o,i!==null)if(Rt(i.value,o)){if(i.children===s.children&&!tt.current){t=ur(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=rr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zc(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Zc(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}We(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ls(t,r),s=kt(s),n=n(s),t.flags|=1,We(e,t,n,r),t.child;case 14:return n=t.type,s=Ct(n,t.pendingProps),s=Ct(n.type,s),Ef(e,t,n,s,r);case 15:return Vx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ct(n,s),Va(e,t),t.tag=1,rt(n)?(e=!0,no(t)):e=!1,ls(t,r),Dx(t,n,s),tu(t,n,s,r),su(null,t,n,!0,e,r);case 19:return Ux(e,t,r);case 22:return Fx(e,t,r)}throw Error(T(156,t.tag))};function iy(e,t){return Ig(e,t)}function Ek(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,n){return new Ek(e,t,r,n)}function Dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rk(e){if(typeof e=="function")return Dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ed)return 11;if(e===td)return 14}return 2}function Or(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $a(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Dd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zn:return vn(r.children,s,i,t);case Zu:o=8,s|=8;break;case Sc:return e=bt(12,r,t,s|2),e.elementType=Sc,e.lanes=i,e;case Cc:return e=bt(13,r,t,s),e.elementType=Cc,e.lanes=i,e;case Tc:return e=bt(19,r,t,s),e.elementType=Tc,e.lanes=i,e;case pg:return Wo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fg:o=10;break e;case mg:o=9;break e;case ed:o=11;break e;case td:o=14;break e;case wr:o=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=bt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function vn(e,t,r,n){return e=bt(7,e,n,t),e.lanes=r,e}function Wo(e,t,r,n){return e=bt(22,e,n,t),e.elementType=pg,e.lanes=r,e.stateNode={isHidden:!1},e}function Fl(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function Bl(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ik(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ld(e,t,r,n,s,i,o,l,c){return e=new Ik(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(i),e}function _k(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$n,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ay(e){if(!e)return Ur;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var r=e.type;if(rt(r))return ax(e,r,t)}return t}function oy(e,t,r,n,s,i,o,l,c){return e=Ld(r,n,!0,e,s,i,o,l,c),e.context=ay(null),r=e.current,n=He(),s=Lr(r),i=rr(n,s),i.callback=t??null,Mr(r,i,s),e.current.lanes=s,Ki(e,s,n),nt(e,n),e}function Ho(e,t,r,n){var s=t.current,i=He(),o=Lr(s);return r=ay(r),t.context===null?t.context=r:t.pendingContext=r,t=rr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mr(s,t,o),e!==null&&(Et(e,s,o,i),Da(e,s,o)),o}function xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Od(e,t){zf(e,t),(e=e.alternate)&&zf(e,t)}function Mk(){return null}var ly=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vd(e){this._internalRoot=e}Qo.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Ho(e,t,null,null)};Qo.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Ho(null,e,null,null)}),t[lr]=null}};function Qo(e){this._internalRoot=e}Qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nr.length&&t!==0&&t<Nr[r].priority;r++);Nr.splice(r,0,e),r===0&&$g(e)}};function Fd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function Dk(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=xo(o);i.call(u)}}var o=oy(t,n,e,0,null,!1,!1,"",Uf);return e._reactRootContainer=o,e[lr]=o.current,Si(e.nodeType===8?e.parentNode:e),Cn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=xo(c);l.call(u)}}var c=Ld(e,0,!1,null,null,!1,!1,"",Uf);return e._reactRootContainer=c,e[lr]=c.current,Si(e.nodeType===8?e.parentNode:e),Cn(function(){Ho(t,c,r,n)}),c}function Ko(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=xo(o);l.call(c)}}Ho(t,o,e,s)}else o=Dk(r,t,e,s,n);return xo(o)}Og=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xs(t.pendingLanes);r!==0&&(sd(t,r|1),nt(t,pe()),!(G&6)&&(ws=pe()+500,Jr()))}break;case 13:Cn(function(){var n=cr(e,1);if(n!==null){var s=He();Et(n,e,1,s)}}),Od(e,1)}};id=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var r=He();Et(t,e,134217728,r)}Od(e,134217728)}};Vg=function(e){if(e.tag===13){var t=Lr(e),r=cr(e,t);if(r!==null){var n=He();Et(r,e,t,n)}Od(e,t)}};Fg=function(){return Y};Bg=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};Oc=function(e,t,r){switch(t){case"input":if(Ec(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fo(n);if(!s)throw Error(T(90));xg(n),Ec(n,s)}}}break;case"textarea":vg(e,r);break;case"select":t=r.value,t!=null&&ss(e,!!r.multiple,t,!1)}};Cg=Id;Tg=Cn;var Lk={usingClientEntryPoint:!1,Events:[Xi,Hn,Fo,Ng,Sg,Id]},zs={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ok={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Eg(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||Mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{Do=ba.inject(Ok),Bt=ba}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;dt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(t))throw Error(T(200));return _k(e,t,null,r)};dt.createRoot=function(e,t){if(!Fd(e))throw Error(T(299));var r=!1,n="",s=ly;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ld(e,1,!1,null,null,r,!1,n,s),e[lr]=t.current,Si(e.nodeType===8?e.parentNode:e),new Vd(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Eg(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return Cn(e)};dt.hydrate=function(e,t,r){if(!Go(t))throw Error(T(200));return Ko(null,e,t,!0,r)};dt.hydrateRoot=function(e,t,r){if(!Fd(e))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ly;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=oy(t,null,e,1,r??null,s,!1,i,o),e[lr]=t.current,Si(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Qo(t)};dt.render=function(e,t,r){if(!Go(t))throw Error(T(200));return Ko(null,e,t,!1,r)};dt.unmountComponentAtNode=function(e){if(!Go(e))throw Error(T(40));return e._reactRootContainer?(Cn(function(){Ko(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};dt.unstable_batchedUpdates=Id;dt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Go(r))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ko(e,t,r,!1,n)};dt.version="18.3.1-next-f1338f8080-20240426";function cy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cy)}catch(e){console.error(e)}}cy(),cg.exports=dt;var uy=cg.exports,qf=uy;jc.createRoot=qf.createRoot,jc.hydrateRoot=qf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}var Pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pr||(Pr={}));const Wf="popstate";function Vk(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return gu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yo(s)}return Bk(t,r,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fk(){return Math.random().toString(36).substr(2,8)}function Hf(e,t){return{usr:e.state,key:e.key,idx:t}}function gu(e,t,r,n){return r===void 0&&(r=null),Mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?As(t):t,{state:r,key:t&&t.key||n||Fk()})}function yo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function As(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Bk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Pr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Pr.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:p})}function f(w,p){l=Pr.Push;let x=gu(v.location,w,p);u=d()+1;let m=Hf(x,u),k=v.createHref(x);try{o.pushState(m,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&c&&c({action:l,location:v.location,delta:1})}function g(w,p){l=Pr.Replace;let x=gu(v.location,w,p);u=d();let m=Hf(x,u),k=v.createHref(x);o.replaceState(m,"",k),i&&c&&c({action:l,location:v.location,delta:0})}function y(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:yo(w);return x=x.replace(/ $/,"%20"),xe(p,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,p)}let v={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Wf,h),c=w,()=>{s.removeEventListener(Wf,h),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let p=y(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(w){return o.go(w)}};return v}var Qf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qf||(Qf={}));function $k(e,t,r){return r===void 0&&(r="/"),zk(e,t,r)}function zk(e,t,r,n){let s=typeof t=="string"?As(t):t,i=$d(s.pathname||"/",r);if(i==null)return null;let o=dy(e);Uk(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=t1(i);l=Jk(o[c],u)}return l}function dy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vr([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dy(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Yk(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of hy(i.path))s(i,o,c)}),t}function hy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=hy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Uk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Xk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const qk=/^:[\w-]+$/,Wk=3,Hk=2,Qk=1,Gk=10,Kk=-2,Gf=e=>e==="*";function Yk(e,t){let r=e.split("/"),n=r.length;return r.some(Gf)&&(n+=Kk),t&&(n+=Hk),r.filter(s=>!Gf(s)).reduce((s,i)=>s+(qk.test(i)?Wk:i===""?Qk:Gk),n)}function Xk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Jk(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Zk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Vr([i,h.pathname]),pathnameBase:a1(Vr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Vr([i,h.pathnameBase]))}return o}function Zk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function e1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function t1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $d(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n1=e=>r1.test(e);function s1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?As(e):e,i;if(r)if(n1(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Bd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Kf(r.substring(1),"/"):i=Kf(r,t)}else i=t;return{pathname:i,search:o1(n),hash:l1(s)}}function Kf(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function $l(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zd(e,t){let r=i1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ud(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=As(e):(s=Mi({},e),xe(!s.pathname||!s.pathname.includes("?"),$l("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),$l("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),$l("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=s1(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vr=e=>e.join("/").replace(/\/\/+/g,"/"),a1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fy=["post","put","patch","delete"];new Set(fy);const u1=["get",...fy];new Set(u1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}const qd=b.createContext(null),d1=b.createContext(null),Zr=b.createContext(null),Yo=b.createContext(null),mr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),my=b.createContext(null);function h1(e,t){let{relative:r}=t===void 0?{}:t;Es()||xe(!1);let{basename:n,navigator:s}=b.useContext(Zr),{hash:i,pathname:o,search:l}=xy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Vr([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Es(){return b.useContext(Yo)!=null}function en(){return Es()||xe(!1),b.useContext(Yo).location}function py(e){b.useContext(Zr).static||b.useLayoutEffect(e)}function It(){let{isDataRoute:e}=b.useContext(mr);return e?S1():f1()}function f1(){Es()||xe(!1);let e=b.useContext(qd),{basename:t,future:r,navigator:n}=b.useContext(Zr),{matches:s}=b.useContext(mr),{pathname:i}=en(),o=JSON.stringify(zd(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return py(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Ud(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function gy(){let{matches:e}=b.useContext(mr),t=e[e.length-1];return t?t.params:{}}function xy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Zr),{matches:s}=b.useContext(mr),{pathname:i}=en(),o=JSON.stringify(zd(s,n.v7_relativeSplatPath));return b.useMemo(()=>Ud(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function m1(e,t){return p1(e,t)}function p1(e,t,r,n){Es()||xe(!1);let{navigator:s}=b.useContext(Zr),{matches:i}=b.useContext(mr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=en(),d;if(t){var h;let w=typeof t=="string"?As(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||xe(!1),d=w}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=$k(e,{pathname:g}),v=b1(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Vr([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Vr([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&v?b.createElement(Yo.Provider,{value:{location:Di({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pr.Pop}},v):v}function g1(){let e=N1(),t=c1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const x1=b.createElement(g1,null);class y1 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(mr.Provider,{value:this.props.routeContext},b.createElement(my.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v1(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(qd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(mr.Provider,{value:t},n)}function b1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,y=!1,v=null,w=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||x1,c&&(u<0&&f===0?(C1("route-fallback"),y=!0,w=null):u===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),x=()=>{let m;return g?m=v:y?m=w:h.route.Component?m=b.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,b.createElement(v1,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(y1,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var yy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yy||{}),vy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vy||{});function w1(e){let t=b.useContext(qd);return t||xe(!1),t}function k1(e){let t=b.useContext(d1);return t||xe(!1),t}function j1(e){let t=b.useContext(mr);return t||xe(!1),t}function by(e){let t=j1(),r=t.matches[t.matches.length-1];return r.route.id||xe(!1),r.route.id}function N1(){var e;let t=b.useContext(my),r=k1(),n=by();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function S1(){let{router:e}=w1(yy.UseNavigateStable),t=by(vy.UseNavigateStable),r=b.useRef(!1);return py(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Di({fromRouteId:t},i)))},[e,t])}const Yf={};function C1(e,t,r){Yf[e]||(Yf[e]=!0)}function T1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pr(e){let{to:t,replace:r,state:n,relative:s}=e;Es()||xe(!1);let{future:i,static:o}=b.useContext(Zr),{matches:l}=b.useContext(mr),{pathname:c}=en(),u=It(),d=Ud(t,zd(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function ve(e){xe(!1)}function P1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Pr.Pop,navigator:i,static:o=!1,future:l}=e;Es()&&xe(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Di({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=As(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:y="default"}=n,v=b.useMemo(()=>{let w=$d(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:y},navigationType:s}},[c,d,h,f,g,y,s]);return v==null?null:b.createElement(Zr.Provider,{value:u},b.createElement(Yo.Provider,{children:r,value:v}))}function A1(e){let{children:t,location:r}=e;return m1(xu(t),r)}new Promise(()=>{});function xu(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,xu(n.props.children,i));return}n.type!==ve&&xe(!1),!n.props.index||!n.props.children||xe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function E1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function R1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I1(e,t){return e.button===0&&(!t||t==="_self")&&!R1(e)}const _1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M1="6";try{window.__reactRouterVersion=M1}catch{}const D1="startTransition",Xf=Tb[D1];function L1(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=Vk({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&Xf?Xf(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>T1(n),[n]),b.createElement(P1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=E1(t,_1),{basename:g}=b.useContext(Zr),y,v=!1;if(typeof u=="string"&&V1.test(u)&&(y=u,O1))try{let m=new URL(window.location.href),k=u.startsWith("//")?new URL(m.protocol+u):new URL(u),j=$d(k.pathname,g);k.origin===m.origin&&j!=null?u=j+k.search+k.hash:v=!0}catch{}let w=h1(u,{relative:s}),p=F1(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(m){n&&n(m),m.defaultPrevented||p(m)}return b.createElement("a",yu({},f,{href:y||w,onClick:v||i?n:x,ref:r,target:c}))});var Jf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jf||(Jf={}));var Zf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zf||(Zf={}));function F1(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=It(),u=en(),d=xy(e,{relative:o});return b.useCallback(h=>{if(I1(h,r)){h.preventDefault();let f=n!==void 0?n:yo(u)===yo(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}var Ft=[],xt=[],B1=Uint8Array,zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Bn=0,$1=zl.length;Bn<$1;++Bn)Ft[Bn]=zl[Bn],xt[zl.charCodeAt(Bn)]=Bn;xt[45]=62;xt[95]=63;function z1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function U1(e,t,r){return(t+r)*3/4-r}function Li(e){var t,r=z1(e),n=r[0],s=r[1],i=new B1(U1(e,n,s)),o=0,l=s>0?n-4:n,c;for(c=0;c<l;c+=4)t=xt[e.charCodeAt(c)]<<18|xt[e.charCodeAt(c+1)]<<12|xt[e.charCodeAt(c+2)]<<6|xt[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=xt[e.charCodeAt(c)]<<2|xt[e.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=xt[e.charCodeAt(c)]<<10|xt[e.charCodeAt(c+1)]<<4|xt[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function q1(e){return Ft[e>>18&63]+Ft[e>>12&63]+Ft[e>>6&63]+Ft[e&63]}function W1(e,t,r){for(var n,s=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(q1(n));return s.join("")}function Oi(e){for(var t,r=e.length,n=r%3,s=[],i=16383,o=0,l=r-n;o<l;o+=i)s.push(W1(e,o,o+i>l?l:o+i));return n===1?(t=e[r-1],s.push(Ft[t>>2]+Ft[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],s.push(Ft[t>>10]+Ft[t>>4&63]+Ft[t<<2&63]+"=")),s.join("")}function Xt(e){if(e===void 0)return{};if(!wy(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function H1(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function wy(e){var s;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((s=r==null?void 0:r.constructor)==null?void 0:s.name)==="Object";return t&&n}const ky=!0,ks=BigInt("-9223372036854775808"),Wd=BigInt("9223372036854775807"),vu=BigInt("0"),Q1=BigInt("8"),G1=BigInt("256");function jy(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function K1(e){e<vu&&(e-=ks+ks);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const s of t.match(/.{2}/g).reverse())r.set([parseInt(s,16)],n++),e>>=Q1;return Oi(r)}function Y1(e){const t=Li(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=vu,n=vu;for(const s of t)r+=BigInt(s)*G1**n,n++;return r>Wd&&(r+=ks+ks),r}function X1(e){if(e<ks||Wd<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Oi(new Uint8Array(t))}function J1(e){const t=Li(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const Z1=DataView.prototype.setBigInt64?X1:K1,ej=DataView.prototype.getBigInt64?J1:Y1,em=1024;function Ny(e){if(e.length>em)throw new Error(`Field name ${e} exceeds maximum field name length ${em}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function js(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>js(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Li(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return ej(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const s=Li(e.$float);if(s.byteLength!==8)throw new Error(`Received ${s.byteLength} bytes, expected 8 for $float`);const o=new DataView(s.buffer).getFloat64(0,ky);if(!jy(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,s]of Object.entries(e))Ny(n),r[n]=js(s);return r}const tm=16384;function ui(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>tm){const r="[...truncated]";let n=tm-r.length;const s=t.codePointAt(n-1);return s!==void 0&&s>65535&&(n-=1),t.substring(0,n)+r}return t}function bu(e,t,r,n){var o;if(e===void 0){const l=r&&` (present at path ${r} in original object ${ui(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<ks||Wd<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:Z1(e)}}if(typeof e=="number")if(jy(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,ky),{$float:Oi(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Oi(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,c)=>bu(l,t,r+`[${c}]`));if(e instanceof Set)throw new Error(Ul(r,"Set",[...e],t));if(e instanceof Map)throw new Error(Ul(r,"Map",[...e],t));if(!wy(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,c=l?`${l} `:"";throw new Error(Ul(r,c,e,t))}const s={},i=Object.entries(e);i.sort(([l,c],[u,d])=>l===u?0:l<u?-1:1);for(const[l,c]of i)c!==void 0&&(Ny(l),s[l]=bu(c,t,r+`.${l}`));return s}function Ul(e,t,r,n){return e?`${t}${ui(r)} is not a supported Convex type (present at path ${e} in original object ${ui(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ui(r)} is not a supported Convex type.`}function Ut(e){return bu(e,e,"")}var tj=Object.defineProperty,rj=(e,t,r)=>t in e?tj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ql=(e,t,r)=>rj(e,typeof t!="symbol"?t+"":t,r),rm,nm;const nj=Symbol.for("ConvexError");class wu extends(nm=Error,rm=nj,nm){constructor(t){super(typeof t=="string"?t:ui(t)),ql(this,"name","ConvexError"),ql(this,"data"),ql(this,rm,!0),this.data=t}}const Sy=()=>Array.from({length:4},()=>0);Sy();Sy();const sm="1.30.0";var sj=Object.defineProperty,ij=(e,t,r)=>t in e?sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,im=(e,t,r)=>ij(e,typeof t!="symbol"?t+"":t,r);const aj="color:rgb(0, 145, 255)";function Cy(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class Ty{constructor(t){im(this,"_onLogLineFuncs"),im(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function Py(e){const t=new Ty(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function Ay(e){return new Ty(e)}function vo(e,t,r,n,s){const i=Cy(r);if(typeof s=="object"&&(s=`ConvexError ${JSON.stringify(s.errorData,null,2)}`),t==="info"){const o=s.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const l=s.slice(1,o[0].length-2),c=s.slice(o[0].length);e.log(`%c[CONVEX ${i}(${n})] [${l}]`,aj,c)}else e.error(`[CONVEX ${i}(${n})] ${s}`)}function oj(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function Zn(e,t,r){return`[CONVEX ${Cy(e)}(${t})] ${r.errorMessage}
  Called by client`}function ku(e,t){return t.data=e.errorData,t}function Tn(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function bn(e,t){return JSON.stringify({udfPath:Tn(e),args:Ut(t)})}function am(e,t,r){const{initialNumItems:n,id:s}=r;return JSON.stringify({type:"paginated",udfPath:Tn(e),args:Ut(t),options:Ut({initialNumItems:n,id:s})})}var lj=Object.defineProperty,cj=(e,t,r)=>t in e?lj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lt=(e,t,r)=>cj(e,typeof t!="symbol"?t+"":t,r);class uj{constructor(){Lt(this,"nextQueryId"),Lt(this,"querySetVersion"),Lt(this,"querySet"),Lt(this,"queryIdToToken"),Lt(this,"identityVersion"),Lt(this,"auth"),Lt(this,"outstandingQueriesOlderThanRestart"),Lt(this,"outstandingAuthOlderThanRestart"),Lt(this,"paused"),Lt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,s){const i=Tn(t),o=bn(i,r),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const c=this.nextQueryId++,u={id:c,canonicalizedUdfPath:i,args:r,numSubscribers:1,journal:n,componentPath:s};this.querySet.set(o,u),this.queryIdToToken.set(c,o);const d=this.querySetVersion,h=this.querySetVersion+1,f={type:"Add",queryId:c,udfPath:i,args:[Ut(r)],journal:n,componentPath:s};return this.paused?this.pendingQuerySetModifications.set(c,f):this.querySetVersion=h,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:d,newVersion:h,modifications:[f]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const s=this.queryIdToToken.get(r.queryId);s!==void 0&&(this.querySet.get(s).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=Tn(t),s=bn(n,r),i=this.querySet.get(s);return i!==void 0?i.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const s=this.identityVersion;return this.paused||(this.identityVersion=s+1),{type:"Authenticate",baseVersion:s,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const i of this.querySet.values()){const o={type:"Add",queryId:i.id,udfPath:i.canonicalizedUdfPath,args:[Ut(i.args)],journal:i.journal,componentPath:i.componentPath};r.push(o),t.has(i.id)||this.outstandingQueriesOlderThanRestart.add(i.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const s={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,s]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,s=this.querySetVersion+1,i={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,i):this.querySetVersion=s,{type:"ModifyQuerySet",baseVersion:n,newVersion:s,modifications:[i]}}}}var dj=Object.defineProperty,hj=(e,t,r)=>t in e?dj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wa=(e,t,r)=>hj(e,typeof t!="symbol"?t+"":t,r);class fj{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,wa(this,"inflightRequests"),wa(this,"requestsOlderThanRestart"),wa(this,"inflightMutationsCount",0),wa(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(s=>{const i=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:i,requestedAt:new Date,onResult:s}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",s=r.message.udfPath;for(const c of t.logLines)vo(this.logger,"info",n,s,c);const i=r.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:js(t.result)},l=()=>i.onResult(o);else{const c=t.result,{errorData:u}=t;vo(this.logger,"error",n,s,c),o={success:!1,errorMessage:c,errorData:u!==void 0?js(u):void 0,logLines:t.logLines},l=()=>i.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(r.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,s]of this.inflightRequests.entries()){const i=s.status;i.status==="Completed"&&i.ts.lessThanOrEqual(t)&&(i.onResolve(),r.set(n,i.result),s.message.type==="Mutation"?this.inflightMutationsCount--:s.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Vi=Symbol.for("functionName"),Ey=Symbol.for("toReferencePath");function mj(e){return e[Ey]??null}function pj(e){return e.startsWith("function://")}function gj(e){let t;if(typeof e=="string")pj(e)?t={functionHandle:e}:t={name:e};else if(e[Vi])t={name:e[Vi]};else{const r=mj(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function et(e){const t=gj(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[Vi];if(!r)throw new Error(`${e} is not a functionReference`);return r}function Ry(e){return{[Vi]:e}}function Iy(e=[]){const t={get(r,n){if(typeof n=="string"){const s=[...e,n];return Iy(s)}else if(n===Vi){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const s=e.slice(0,-1).join("/"),i=e[e.length-1];return i==="default"?s:s+":"+i}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const xj=Iy();var yj=Object.defineProperty,vj=(e,t,r)=>t in e?yj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bo=(e,t,r)=>vj(e,typeof t!="symbol"?t+"":t,r);class Fi{constructor(t){bo(this,"queryResults"),bo(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=Xt(r[0]),s=et(t),i=this.queryResults.get(bn(s,n));if(i!==void 0)return Fi.queryValue(i.result)}getAllQueries(t){const r=[],n=et(t);for(const s of this.queryResults.values())s.udfPath===Tn(n)&&r.push({args:s.args,value:Fi.queryValue(s.result)});return r}setQuery(t,r,n){const s=Xt(r),i=et(t),o=bn(i,s);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const c={udfPath:i,args:s,result:l};this.queryResults.set(o,c),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class bj{constructor(){bo(this,"queryResults"),bo(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!r.has(o.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const s=new Fi(this.queryResults);for(const o of this.optimisticUpdates)o.update(s);const i=[];for(const[o,l]of this.queryResults){const c=n.get(o);(c===void 0||c.result!==l.result)&&i.push(o)}return i}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new Fi(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){const r=this.queryResults.get(t);if(r!==void 0)return r.result}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?ku(n,new wu(Zn("query",r.udfPath,n))):new Error(Zn("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var wj=Object.defineProperty,kj=(e,t,r)=>t in e?wj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wl=(e,t,r)=>kj(e,typeof t!="symbol"?t+"":t,r);class Xe{constructor(t,r){Wl(this,"low"),Wl(this,"high"),Wl(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new Xe(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?om:t>=jj?Nj:new Xe(t%di|0,t/di|0)}toString(){return(BigInt(this.high)*BigInt(di)+BigInt(this.low)).toString()}equals(t){return Xe.isLong(t)||(t=Xe.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return Xe.isLong(t)||(t=Xe.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?Xe.fromNumber(t):new Xe(t.low,t.high)}}const om=new Xe(0,0),lm=65536,di=lm*lm,jj=di*di,Nj=new Xe(-1,-1);var Sj=Object.defineProperty,Cj=(e,t,r)=>t in e?Sj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ka=(e,t,r)=>Cj(e,typeof t!="symbol"?t+"":t,r);class cm{constructor(t,r){ka(this,"version"),ka(this,"remoteQuerySet"),ka(this,"queryPath"),ka(this,"logger"),this.version={querySet:0,ts:Xe.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const s=this.queryPath(n.queryId);if(s)for(const o of n.logLines)vo(this.logger,"info","query",s,o);const i=js(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:i,logLines:n.logLines});break}case"QueryFailed":{const s=this.queryPath(n.queryId);if(s)for(const o of n.logLines)vo(this.logger,"info","query",s,o);const{errorData:i}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:i!==void 0?js(i):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function Hl(e){const t=Li(e);return Xe.fromBytesLE(Array.from(t))}function Tj(e){const t=new Uint8Array(e.toBytesLE());return Oi(t)}function um(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:Hl(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:Hl(e.startVersion.ts)},endVersion:{...e.endVersion,ts:Hl(e.endVersion.ts)}}}}function Pj(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:Tj(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var Aj=Object.defineProperty,Ej=(e,t,r)=>t in e?Aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Te=(e,t,r)=>Ej(e,typeof t!="symbol"?t+"":t,r);const Rj=1e3,Ij=1001,_j=1005,Mj=4040;let za;function Ua(){return za===void 0&&(za=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(za+performance.now())}function dm(){return`t=${Math.round((Ua()-za)/100)/10}s`}const _y={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function Dj(e){if(e===void 0)return"Unknown";for(const t of Object.keys(_y))if(e.startsWith(t))return t;return"Unknown"}class Lj{constructor(t,r,n,s,i,o){this.markConnectionStateDirty=i,this.debug=o,Te(this,"socket"),Te(this,"connectionCount"),Te(this,"_hasEverConnected",!1),Te(this,"lastCloseReason"),Te(this,"transitionChunkBuffer",null),Te(this,"defaultInitialBackoff"),Te(this,"maxBackoff"),Te(this,"retries"),Te(this,"serverInactivityThreshold"),Te(this,"reconnectDueToServerInactivityTimeout"),Te(this,"uri"),Te(this,"onOpen"),Te(this,"onResume"),Te(this,"onMessage"),Te(this,"webSocketConstructor"),Te(this,"logger"),Te(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=s,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=um(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ua()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",dm(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",dm())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let s=um(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${s.type}`),s.type==="Ping")return;if(s.type==="TransitionChunk"){const o=this.assembleTransition(s);if(!o)return;s=o,this._logVerbose(`assembled full ws message of type ${s.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${s.type} while buffering TransitionChunks`)),s.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:s}),this.onMessage(s).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==Rj&&r.code!==Ij&&r.code!==_j&&r.code!==Mj){let s=`WebSocket closed with code ${r.code}`;r.reason&&(s+=`: ${r.reason}`),this.logger.log(s),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(s)}const n=Dj(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=Pj(t),s=JSON.stringify(n);let i=!1;try{this.socket.ws.send(s),i=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${i?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ua()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:_y[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const s=Math.min(n,this.maxBackoff),i=s*(Math.random()-.5);return s+i}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=Ua()-t.clientClockSkew-t.serverTs/1e6,s=`${Math.round(n)}ms`,i=`${Math.round(r/1e4)/100}MB`,o=r/(n/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${i} transition in ${s} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${i}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${i} which took more than 20s to arrive (${s})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function Oj(){return Vj()}function Vj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Zs extends Error{}Zs.prototype.name="InvalidTokenError";function Fj(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Bj(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Fj(t)}catch{return atob(t)}}function My(e,t){if(typeof e!="string")throw new Zs("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new Zs(`Invalid token specified: missing part #${r+1}`);let s;try{s=Bj(n)}catch(i){throw new Zs(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new Zs(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}var $j=Object.defineProperty,zj=(e,t,r)=>t in e?$j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mt=(e,t,r)=>zj(e,typeof t!="symbol"?t+"":t,r);const Uj=20*24*60*60*1e3,hm=2;class qj{constructor(t,r,n){mt(this,"authState",{state:"noAuth"}),mt(this,"configVersion",0),mt(this,"syncState"),mt(this,"authenticate"),mt(this,"stopSocket"),mt(this,"tryRestartSocket"),mt(this,"pauseSocket"),mt(this,"resumeSocket"),mt(this,"clearAuth"),mt(this,"logger"),mt(this,"refreshTokenLeewaySeconds"),mt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=hm){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${hm-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:s}=r;if(!n||!s){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const i=s-n;if(i<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(Uj,(i-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${i}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const s=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:s}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return My(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const Wj=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Hj(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function Qj(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function Gj(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of Wj){const n=performance.getEntriesByName(r).filter(s=>s.entryType==="mark").filter(s=>s.detail.sessionId===e);t.push(...n)}return t.map(Qj)}var Kj=Object.defineProperty,Yj=(e,t,r)=>t in e?Kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ye=(e,t,r)=>Yj(e,typeof t!="symbol"?t+"":t,r);class Xj{constructor(t,r,n){if(ye(this,"address"),ye(this,"state"),ye(this,"requestManager"),ye(this,"webSocketManager"),ye(this,"authenticationManager"),ye(this,"remoteQuerySet"),ye(this,"optimisticQueryResults"),ye(this,"_transitionHandlerCounter",0),ye(this,"_nextRequestId"),ye(this,"_onTransitionFns",new Map),ye(this,"_sessionId"),ye(this,"firstMessageReceived",!1),ye(this,"debug"),ye(this,"logger"),ye(this,"maxObservedTimestamp"),ye(this,"connectionStateSubscribers",new Map),ye(this,"nextConnectionStateSubscriberId",0),ye(this,"_lastPublishedConnectionState"),ye(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const g=this.connectionState();if(JSON.stringify(g)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=g;for(const y of this.connectionStateSubscribers.values())y(g)}})}),ye(this,"mark",g=>{this.debug&&Hj(g,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&H1(t),n={...n};const s=n.authRefreshTokenLeewaySeconds??2;let i=n.webSocketConstructor;if(!i&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");i=i||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?Ay({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:Py({verbose:n.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),c=t.substring(0,o);let u;if(c==="http")u="ws";else if(c==="https")u="wss";else throw new Error(`Unknown parent protocol ${c}`);const d=`${u}://${l}/api/${sm}/sync`;this.state=new uj,this.remoteQuerySet=new cm(g=>this.state.queryPath(g),this.logger),this.requestManager=new fj(this.logger,this.markConnectionStateDirty);const h=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new qj(this.state,{authenticate:g=>{const y=this.state.setAuth(g);return this.webSocketManager.sendMessage(y),y.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:h,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:s}),this.optimisticQueryResults=new bj,this.addOnTransitionHandler(g=>{r(g.queries.map(y=>y.token))}),this._nextRequestId=0,this._sessionId=Oj();const{unsavedChangesWarning:f}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(f===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else f!==!1&&window.addEventListener("beforeunload",g=>{if(this.requestManager.hasIncompleteRequests()){g.preventDefault();const y="Are you sure you want to leave? Your changes may not be saved.";return(g||window.event).returnValue=y,y}});this.webSocketManager=new Lj(d,{onOpen:g=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...g,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const y=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new cm(p=>this.state.queryPath(p),this.logger);const[v,w]=this.state.restart(y);w&&this.webSocketManager.sendMessage(w),this.webSocketManager.sendMessage(v);for(const p of this.requestManager.restart())this.webSocketManager.sendMessage(p)},onResume:()=>{const[g,y]=this.state.resume();y&&this.webSocketManager.sendMessage(y),g&&this.webSocketManager.sendMessage(g);for(const v of this.requestManager.resume())this.webSocketManager.sendMessage(v)},onMessage:g=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),g.type){case"Transition":{this.observedTimestamp(g.endVersion.ts),this.authenticationManager.onTransition(g),this.remoteQuerySet.transition(g),this.state.transition(g);const y=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(y);break}case"MutationResponse":{g.success&&this.observedTimestamp(g.ts);const y=this.requestManager.onResponse(g);y!==null&&this.notifyOnQueryResultChanges(new Map([[y.requestId,y.result]]));break}case"ActionResponse":{this.requestManager.onResponse(g);break}case"AuthError":{this.authenticationManager.onAuthError(g);break}case"FatalError":{const y=oj(this.logger,g.error);throw this.webSocketManager.terminate(),y}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},i,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&h()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[i,o]of r){const l=this.state.queryToken(i);if(l!==null){const c={result:o,udfPath:this.state.queryPath(i),args:this.state.queryArgs(i)};n.set(l,c)}}const s=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:s.map(i=>{const o=this.optimisticQueryResults.rawQueryResult(i);return{token:i,modification:{kind:"Updated",result:o}}}),reflectedMutations:Array.from(t).map(([i,o])=>({requestId:i,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?My(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const s=Xt(r),{modification:i,queryToken:o,unsubscribe:l}=this.state.subscribe(t,s,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return i!==null&&this.webSocketManager.sendMessage(i),{queryToken:o,unsubscribe:()=>{const c=l();c&&this.webSocketManager.sendMessage(c)}}}localQueryResult(t,r){const n=Xt(r),s=bn(t,n);return this.optimisticQueryResults.queryResult(s)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=Xt(r),s=bn(t,n);return this.optimisticQueryResults.queryLogs(s)}queryJournal(t,r){const n=Xt(r),s=bn(t,n);return this.state.queryJournal(s)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const s=await this.mutationInternal(t,r,n);if(!s.success)throw s.errorData!==void 0?ku(s,new wu(Zn("mutation",t,s))):new Error(Zn("mutation",t,s));return s.value}async mutationInternal(t,r,n,s){const{mutationPromise:i}=this.enqueueMutation(t,r,n,s);return i}enqueueMutation(t,r,n,s){const i=Xt(r);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const d=n.optimisticUpdate;if(d!==void 0){const h=y=>{d(y,i)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},g=this.optimisticQueryResults.applyOptimisticUpdate(h,o).map(y=>{const v=this.localQueryResultByToken(y);return{token:y,modification:{kind:"Updated",result:v===void 0?void 0:{success:!0,value:v,logLines:[]}}}});this.handleTransition({queries:g,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:s,args:[Ut(i)]},c=this.webSocketManager.sendMessage(l),u=this.requestManager.request(l,c);return{requestId:o,mutationPromise:u}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?ku(n,new wu(Zn("action",t,n))):new Error(Zn("action",t,n));return n.value}async actionInternal(t,r,n){const s=Xt(r),i=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:i,udfPath:t,componentPath:n,args:[Ut(s)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=Gj(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${sm}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function Ql(e){if(typeof e!="object"||e===null||!Array.isArray(e.page)||typeof e.isDone!="boolean"||typeof e.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${e==null?void 0:e.toString()}`);return e}var Jj=Object.defineProperty,Zj=(e,t,r)=>t in e?Jj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fm=(e,t,r)=>Zj(e,typeof t!="symbol"?t+"":t,r);class eN{constructor(t,r){this.client=t,this.onTransition=r,fm(this,"paginatedQuerySet",new Map),fm(this,"lastTransitionTs"),this.lastTransitionTs=Xe.fromNumber(0),this.client.addOnTransitionHandler(n=>this.onBaseTransition(n))}subscribe(t,r,n){const s=Tn(t),i=am(s,r,n),o=()=>this.removePaginatedQuerySubscriber(i),l=this.paginatedQuerySet.get(i);return l?(l.numSubscribers+=1,{paginatedQueryToken:i,unsubscribe:o}):(this.paginatedQuerySet.set(i,{token:i,canonicalizedUdfPath:s,args:r,numSubscribers:1,options:{initialNumItems:n.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:n.id}),this.addPageToPaginatedQuery(i,null,n.initialNumItems),{paginatedQueryToken:i,unsubscribe:o})}localQueryResult(t,r,n){const s=Tn(t),i=am(s,r,n);return this.localQueryResultByToken(i)}localQueryResultByToken(t){const r=this.paginatedQuerySet.get(t);if(!r)return;const n=this.activePageQueryTokens(r);if(n.length===0)return{results:[],status:"LoadingFirstPage",loadMore:c=>this.loadMoreOfPaginatedQuery(t,c)};let s=[],i=!1,o=!1;for(const c of n){const u=this.client.localQueryResultByToken(c);if(u===void 0){i=!0,o=!1;continue}const d=Ql(u);s=s.concat(d.page),o=!!d.isDone}let l;return i?l=s.length===0?"LoadingFirstPage":"LoadingMore":o?l="Exhausted":l="CanLoadMore",{results:s,status:l,loadMore:c=>this.loadMoreOfPaginatedQuery(t,c)}}onBaseTransition(t){const r=t.queries.map(o=>o.token),n=this.queriesContainingTokens(r);let s=[];n.length>0&&(this.processPaginatedQuerySplits(n,o=>this.client.localQueryResultByToken(o)),s=n.map(o=>({token:o,modification:{kind:"Updated",result:this.localQueryResultByToken(o)}})));const i={...t,paginatedQueries:s};this.onTransition(i)}loadMoreOfPaginatedQuery(t,r){this.mustGetPaginatedQuery(t);const n=this.queryTokenForLastPageOfPaginatedQuery(t),s=this.client.localQueryResultByToken(n);if(!s)return!1;const i=Ql(s);if(i.isDone)return!1;this.addPageToPaginatedQuery(t,i.continueCursor,r);const o={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:t,modification:{kind:"Updated",result:this.localQueryResultByToken(t)}}]};return this.onTransition(o),!0}queriesContainingTokens(t){if(t.length===0)return[];const r=[],n=new Set(t);for(const[s,i]of this.paginatedQuerySet)for(const o of this.allQueryTokens(i))if(n.has(o)){r.push(s);break}return r}processPaginatedQuerySplits(t,r){for(const n of t){const s=this.mustGetPaginatedQuery(n),{ongoingSplits:i,pageKeyToQuery:o,pageKeys:l}=s;for(const[c,[u,d]]of i)r(o.get(u).queryToken)!==void 0&&r(o.get(d).queryToken)!==void 0&&this.completePaginatedQuerySplit(s,c,u,d);for(const c of l){if(i.has(c))continue;const u=o.get(c).queryToken,d=r(u);if(!d)continue;const h=Ql(d);h.splitCursor&&(h.pageStatus==="SplitRecommended"||h.pageStatus==="SplitRequired"||h.page.length>s.options.initialNumItems*2)&&this.splitPaginatedQueryPage(s,c,h.splitCursor,h.continueCursor)}}}splitPaginatedQueryPage(t,r,n,s){const i=t.nextPageKey++,o=t.nextPageKey++,l={cursor:s,numItems:t.options.initialNumItems,id:t.id},c=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:null,endCursor:n}});t.pageKeyToQuery.set(i,c);const u=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:n,endCursor:s}});t.pageKeyToQuery.set(o,u),t.ongoingSplits.set(r,[i,o])}addPageToPaginatedQuery(t,r,n){const s=this.mustGetPaginatedQuery(t),i=s.nextPageKey++,o={cursor:r,numItems:n,id:s.id},l={...s.args,paginationOpts:o},c=this.client.subscribe(s.canonicalizedUdfPath,l);return s.pageKeys.push(i),s.pageKeyToQuery.set(i,c),c}removePaginatedQuerySubscriber(t){const r=this.paginatedQuerySet.get(t);if(r&&(r.numSubscribers-=1,!(r.numSubscribers>0))){for(const n of r.pageKeyToQuery.values())n.unsubscribe();this.paginatedQuerySet.delete(t)}}completePaginatedQuerySplit(t,r,n,s){const i=t.pageKeyToQuery.get(r);t.pageKeyToQuery.delete(r);const o=t.pageKeys.indexOf(r);t.pageKeys.splice(o,1,n,s),t.ongoingSplits.delete(r),i.unsubscribe()}activePageQueryTokens(t){return t.pageKeys.map(r=>t.pageKeyToQuery.get(r).queryToken)}allQueryTokens(t){return Array.from(t.pageKeyToQuery.values()).map(r=>r.queryToken)}queryTokenForLastPageOfPaginatedQuery(t){const r=this.mustGetPaginatedQuery(t),n=r.pageKeys[r.pageKeys.length-1];if(n===void 0)throw new Error(`No pages for paginated query ${t}`);return r.pageKeyToQuery.get(n).queryToken}mustGetPaginatedQuery(t){const r=this.paginatedQuerySet.get(t);if(!r)throw new Error("paginated query no longer exists for token "+t);return r}}function tN({getCurrentValue:e,subscribe:t}){const[r,n]=b.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let s=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(s=e(),n({getCurrentValue:e,subscribe:t,value:s})),b.useEffect(()=>{let i=!1;const o=()=>{i||n(c=>{if(c.getCurrentValue!==e||c.subscribe!==t)return c;const u=e();return c.value===u?c:{...c,value:u}})},l=t(o);return o(),()=>{i=!0,l()}},[e,t]),s}var rN=Object.defineProperty,nN=(e,t,r)=>t in e?rN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ht=(e,t,r)=>nN(e,typeof t!="symbol"?t+"":t,r);const sN=5e3;if(typeof ar>"u")throw new Error("Required dependency 'react' not found");function Dy(e,t,r){function n(s){return lN(s),t.mutation(e,s,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(i){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${et(e)}`);return Dy(e,t,i)},n}class iN{constructor(t,r){if(Ht(this,"address"),Ht(this,"cachedSync"),Ht(this,"cachedPaginatedQueryClient"),Ht(this,"listeners"),Ht(this,"options"),Ht(this,"closed",!1),Ht(this,"_logger"),Ht(this,"adminAuth"),Ht(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?Ay({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:Py({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new Xj(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new eN(this.cachedSync,t=>this.handleTransition(t)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,s]=r,i=et(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:c}=this.sync.subscribe(i,n,s),u=this.listeners.get(l);return u!==void 0?u.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const d=this.listeners.get(l);d.delete(o),d.size===0&&this.listeners.delete(l),c()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(i,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(i,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(i,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??sN,s=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(s,r)}watchPaginatedQuery(t,r,n){const s=et(t);return{onUpdate:i=>{const{paginatedQueryToken:o,unsubscribe:l}=this.paginatedQueryClient.subscribe(s,r||{},n),c=this.listeners.get(o);return c!==void 0?c.add(i):this.listeners.set(o,new Set([i])),()=>{if(this.closed)return;const u=this.listeners.get(o);u.delete(i),u.size===0&&this.listeners.delete(o),l()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(s,r,n)}}mutation(t,...r){const[n,s]=r,i=et(t);return this.sync.mutation(i,n,s)}action(t,...r){const n=et(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),s=n.localQueryResult();return s!==void 0?Promise.resolve(s):new Promise((i,o)=>{const l=n.onUpdate(()=>{l();try{i(n.localQueryResult())}catch(c){o(c)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}handleTransition(t){const r=t.queries.map(s=>s.token),n=t.paginatedQueries.map(s=>s.token);this.transition([...r,...n])}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const s of n)s()}}}const Hd=ar.createContext(void 0);function aN(){return b.useContext(Hd)}const oN=({client:e,children:t})=>ar.createElement(Hd.Provider,{value:e},t);function Z(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:Xt(t[0]),s=typeof e=="string"?Ry(e):e,i=et(s),o=b.useMemo(()=>r?{}:{query:{query:s,args:n}},[JSON.stringify(Ut(n)),i,r]),c=hN(o).query;if(c instanceof Error)throw c;return c}function K(e){const t=typeof e=="string"?Ry(e):e,r=b.useContext(Hd);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return b.useMemo(()=>Dy(t,r),[r,et(t)])}function lN(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var cN=Object.defineProperty,uN=(e,t,r)=>t in e?cN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gl=(e,t,r)=>uN(e,typeof t!="symbol"?t+"":t,r);class dN{constructor(t){Gl(this,"createWatch"),Gl(this,"queries"),Gl(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:s,paginationOptions:i}=t[r];if(et(n),this.queries[r]===void 0)this.addQuery(r,n,s,i?{paginationOptions:i}:{});else{const o=this.queries[r];(et(n)!==et(o.query)||JSON.stringify(Ut(s))!==JSON.stringify(Ut(o.args))||JSON.stringify(i)!==JSON.stringify(o.paginationOptions))&&(this.removeQuery(r),this.addQuery(r,n,s,i?{paginationOptions:i}:{}))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:s,args:i}=t[n],o=t[n].paginationOptions;et(s);const l=this.createWatch(s,i,o?{paginationOptions:o}:{});let c;try{c=l.localQueryResult()}catch(u){if(u instanceof Error)c=u;else throw u}r[n]=c}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:s,watch:i,paginationOptions:o}=this.queries[r],l="journal"in i?i.journal():void 0;this.removeQuery(r),this.addQuery(r,n,s,{...l?{journal:l}:[],...o?{paginationOptions:o}:{}})}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,{paginationOptions:s,journal:i}){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(r,n,{...i?{journal:i}:[],...s?{paginationOptions:s}:{}}),l=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:o,unsubscribe:l,...s?{paginationOptions:s}:{}}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function hN(e){const t=aN();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=b.useMemo(()=>(n,s,{journal:i,paginationOptions:o})=>o?t.watchPaginatedQuery(n,s,o):t.watchQuery(n,s,i?{journal:i}:{}),[t]);return fN(e,r)}function fN(e,t){const[r]=b.useState(()=>new dN(t));r.createWatch!==t&&r.setCreateWatch(t),b.useEffect(()=>()=>r.destroy(),[r]);const n=b.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:s=>(r.setQueries(e),r.subscribe(s))}),[r,e]);return tN(n)}const Ly=b.createContext(void 0);function mN({children:e}){const[t,r]=b.useState(()=>{const i=localStorage.getItem("baptizo-theme");return i==="dark"||i==="light"?i:"light"});b.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("baptizo-theme",t)},[t]);const n=()=>{r(i=>i==="light"?"dark":"light")},s=i=>{r(i)};return a.jsx(Ly.Provider,{value:{theme:t,toggleTheme:n,setTheme:s},children:e})}function pN(){const e=b.useContext(Ly);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Oy(e,t){const r={get(n,s){if(typeof s=="string"){const i=[...t,s];return Oy(e,i)}else if(s===Ey){if(t.length<1){const i=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${i}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const gN=()=>Oy("components",[]),L=xj;gN();const Vy=b.createContext(void 0),ja="baptizo-auth-user";function xN({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{const u=localStorage.getItem(ja);if(u)try{const d=JSON.parse(u);r(d)}catch(d){console.error("Failed to parse stored user:",d),localStorage.removeItem(ja)}s(!1)},[]);const i=Z(L.users.getUser,t?{userId:t._id}:"skip");b.useEffect(()=>{if(i&&t&&(i.role!==t.role||i.name!==t.name||i.avatarUrl!==t.avatarUrl)){const u={...t,...i};console.log("Syncing fresh user data from DB:",u),r(u)}},[i,t]),b.useEffect(()=>{t?localStorage.setItem(ja,JSON.stringify(t)):localStorage.removeItem(ja)},[t]);const o=u=>{r(u)},l=()=>{r(null)},c=u=>{t&&r({...t,...u})};return a.jsx(Vy.Provider,{value:{user:t,isLoading:n,login:o,logout:l,updateUser:c},children:e})}function yN(){const e=b.useContext(Vy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Fy=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xo=b.createContext({}),Jo=b.createContext(null),Zo=typeof document<"u",Qd=Zo?b.useLayoutEffect:b.useEffect,By=b.createContext({strict:!1}),Gd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vN="framerAppearId",$y="data-"+Gd(vN);function bN(e,t,r,n){const{visualElement:s}=b.useContext(Xo),i=b.useContext(By),o=b.useContext(Jo),l=b.useContext(Fy).reducedMotion,c=b.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(r,o)});const d=b.useRef(!!(r[$y]&&!window.HandoffComplete));return Qd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function es(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wN(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):es(r)&&(r.current=n))},[t])}function Bi(e){return typeof e=="string"||Array.isArray(e)}function el(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Kd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yd=["initial",...Kd];function tl(e){return el(e.animate)||Yd.some(t=>Bi(e[t]))}function zy(e){return!!(tl(e)||e.variants)}function kN(e,t){if(tl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Bi(r)?r:void 0,animate:Bi(n)?n:void 0}}return e.inherit!==!1?t:{}}function jN(e){const{initial:t,animate:r}=kN(e,b.useContext(Xo));return b.useMemo(()=>({initial:t,animate:r}),[mm(t),mm(r)])}function mm(e){return Array.isArray(e)?e.join(" "):e}const pm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$i={};for(const e in pm)$i[e]={isEnabled:t=>pm[e].some(r=>!!t[r])};function NN(e){for(const t in e)$i[t]={...$i[t],...e[t]}}const Xd=b.createContext({}),Uy=b.createContext({}),SN=Symbol.for("motionComponentSymbol");function CN({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&NN(e);function i(l,c){let u;const d={...b.useContext(Fy),...l,layoutId:TN(l)},{isStatic:h}=d,f=jN(l),g=n(l,h);if(!h&&Zo){f.visualElement=bN(s,g,d,t);const y=b.useContext(Uy),v=b.useContext(By).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,v,e,y))}return b.createElement(Xo.Provider,{value:f},u&&f.visualElement?b.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,l,wN(g,f.visualElement,c),g,h,f.visualElement))}const o=b.forwardRef(i);return o[SN]=s,o}function TN({layoutId:e}){const t=b.useContext(Xd).id;return t&&e!==void 0?t+"-"+e:e}function PN(e){function t(n,s={}){return CN(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const AN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jd(e){return typeof e!="string"||e.includes("-")?!1:!!(AN.indexOf(e)>-1||/[A-Z]/.test(e))}const wo={};function EN(e){Object.assign(wo,e)}const Zi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mn=new Set(Zi);function qy(e,{layout:t,layoutId:r}){return Mn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!wo[e]||e==="opacity")}const st=e=>!!(e&&e.getVelocity),RN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IN=Zi.length;function _N(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<IN;o++){const l=Zi[o];if(e[l]!==void 0){const c=RN[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const Wy=e=>t=>typeof t=="string"&&t.startsWith(e),Hy=Wy("--"),ju=Wy("var(--"),MN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qr=(e,t,r)=>Math.min(Math.max(r,e),t),Dn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hi={...Dn,transform:e=>qr(0,1,e)},Na={...Dn,default:1},fi=e=>Math.round(e*1e5)/1e5,rl=/(-)?([\d]*\.?[\d])+/g,Qy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,LN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ea(e){return typeof e=="string"}const ta=e=>({test:t=>ea(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),br=ta("deg"),zt=ta("%"),F=ta("px"),ON=ta("vh"),VN=ta("vw"),gm={...zt,parse:e=>zt.parse(e)/100,transform:e=>zt.transform(e*100)},xm={...Dn,transform:Math.round},Gy={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,size:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:Na,scaleX:Na,scaleY:Na,scaleZ:Na,skew:br,skewX:br,skewY:br,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:hi,originX:gm,originY:gm,originZ:F,zIndex:xm,fillOpacity:hi,strokeOpacity:hi,numOctaves:xm};function Zd(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(Hy(h)){i[h]=f;continue}const g=Gy[h],y=DN(f,g);if(Mn.has(h)){if(c=!0,o[h]=y,!d)continue;f!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=y):s[h]=y}if(t.transform||(c||n?s.transform=_N(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;s.transformOrigin=`${h} ${f} ${g}`}}const eh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ky(e,t,r){for(const n in t)!st(t[n])&&!qy(n,r)&&(e[n]=t[n])}function FN({transformTemplate:e},t,r){return b.useMemo(()=>{const n=eh();return Zd(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function BN(e,t,r){const n=e.style||{},s={};return Ky(s,n,e),Object.assign(s,FN(e,t,r)),e.transformValues?e.transformValues(s):s}function $N(e,t,r){const n={},s=BN(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const zN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ko(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zN.has(e)}let Yy=e=>!ko(e);function UN(e){e&&(Yy=t=>t.startsWith("on")?!ko(t):e(t))}try{UN(require("@emotion/is-prop-valid").default)}catch{}function qN(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Yy(s)||r===!0&&ko(s)||!t&&!ko(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function ym(e,t,r){return typeof e=="string"?e:F.transform(t+r*e)}function WN(e,t,r){const n=ym(t,e.x,e.width),s=ym(r,e.y,e.height);return`${n} ${s}`}const HN={offset:"stroke-dashoffset",array:"stroke-dasharray"},QN={offset:"strokeDashoffset",array:"strokeDasharray"};function GN(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?HN:QN;e[i.offset]=F.transform(-n);const o=F.transform(t),l=F.transform(r);e[i.array]=`${o} ${l}`}function th(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(Zd(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:y,dimensions:v}=e;g.transform&&(v&&(y.transform=g.transform),delete g.transform),v&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=WN(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&GN(g,o,l,c,!1)}const Xy=()=>({...eh(),attrs:{}}),rh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KN(e,t,r,n){const s=b.useMemo(()=>{const i=Xy();return th(i,t,{enableHardwareAcceleration:!1},rh(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ky(i,e.style,e),s.style={...i,...s.style}}return s}function YN(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(Jd(r)?KN:$N)(n,i,o,r),d={...qN(n,typeof r=="string",e),...c,ref:s},{children:h}=n,f=b.useMemo(()=>st(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function Jy(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Zy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e0(e,t,r,n){Jy(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Zy.has(s)?s:Gd(s),t.attrs[s])}function nh(e,t){const{style:r}=e,n={};for(const s in r)(st(r[s])||t.style&&st(t.style[s])||qy(s,e))&&(n[s]=r[s]);return n}function t0(e,t){const r=nh(e,t);for(const n in e)if(st(e[n])||st(t[n])){const s=Zi.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function sh(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function r0(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const jo=e=>Array.isArray(e),XN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),JN=e=>jo(e)?e[e.length-1]||0:e;function qa(e){const t=st(e)?e.get():e;return XN(t)?t.toValue():t}function ZN({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:eS(n,s,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const n0=e=>(t,r)=>{const n=b.useContext(Xo),s=b.useContext(Jo),i=()=>ZN(e,t,n,s);return r?i():r0(i)};function eS(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=qa(i[f]);let{initial:o,animate:l}=e;const c=tl(e),u=zy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!el(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const y=sh(e,g);if(!y)return;const{transitionEnd:v,transition:w,...p}=y;for(const x in p){let m=p[x];if(Array.isArray(m)){const k=d?m.length-1:0;m=m[k]}m!==null&&(s[x]=m)}for(const x in v)s[x]=v[x]}),s}const ge=e=>e;class vm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function tS(e){let t=new vm,r=new vm,n=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&o.add(c),f.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Sa=["prepare","read","update","preRender","render","postRender"],rS=40;function nS(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Sa.reduce((h,f)=>(h[f]=tS(()=>r=!0),h),{}),o=h=>i[h].process(s),l=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,rS),1),s.timestamp=h,s.isProcessing=!0,Sa.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,s.isProcessing||e(l)};return{schedule:Sa.reduce((h,f)=>{const g=i[f];return h[f]=(y,v=!1,w=!1)=>(r||c(),g.schedule(y,v,w)),h},{}),cancel:h=>Sa.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:re,cancel:dr,state:Oe,steps:Kl}=nS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ge,!0),sS={useVisualState:n0({scrapeMotionValuesFromProps:t0,createRenderState:Xy,onMount:(e,t,{renderState:r,latestValues:n})=>{re.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),re.render(()=>{th(r,n,{enableHardwareAcceleration:!1},rh(t.tagName),e.transformTemplate),e0(t,r)})}})},iS={useVisualState:n0({scrapeMotionValuesFromProps:nh,createRenderState:eh})};function aS(e,{forwardMotionProps:t=!1},r,n){return{...Jd(e)?sS:iS,preloadedFeatures:r,useRender:YN(t),createVisualElement:n,Component:e}}function tr(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const s0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function nl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const oS=e=>t=>s0(t)&&e(t,nl(t));function nr(e,t,r,n){return tr(e,t,oS(r),n)}const lS=(e,t)=>r=>t(e(r)),Fr=(...e)=>e.reduce(lS);function i0(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const bm=i0("dragHorizontal"),wm=i0("dragVertical");function a0(e){let t=!1;if(e==="y")t=wm();else if(e==="x")t=bm();else{const r=bm(),n=wm();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function o0(){const e=a0(!0);return e?(e(),!1):!0}class tn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function km(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||o0())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&re.update(()=>l[n](i,o))};return nr(e.current,r,s,{passive:!e.getProps()[n]})}class cS extends tn{mount(){this.unmount=Fr(km(this.node,!0),km(this.node,!1))}unmount(){}}class uS extends tn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fr(tr(this.node.current,"focus",()=>this.onFocus()),tr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const l0=(e,t)=>t?e===t?!0:l0(e,t.parentElement):!1;function Yl(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,nl(r))}class dS extends tn{constructor(){super(...arguments),this.removeStartListeners=ge,this.removeEndListeners=ge,this.removeAccessibleListeners=ge,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=nr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();re.update(()=>{!h&&!l0(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=nr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Fr(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Yl("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&re.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=tr(this.node.current,"keyup",o),Yl("down",(l,c)=>{this.startPress(l,c)})},r=tr(this.node.current,"keydown",t),n=()=>{this.isPressing&&Yl("cancel",(i,o)=>this.cancelPress(i,o))},s=tr(this.node.current,"blur",n);this.removeAccessibleListeners=Fr(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&re.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!o0()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&re.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=nr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=tr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Nu=new WeakMap,Xl=new WeakMap,hS=e=>{const t=Nu.get(e.target);t&&t(e)},fS=e=>{e.forEach(hS)};function mS({root:e,...t}){const r=e||document;Xl.has(r)||Xl.set(r,{});const n=Xl.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(fS,{root:e,...t})),n[s]}function pS(e,t,r){const n=mS(t);return Nu.set(e,r),n.observe(e),()=>{Nu.delete(e),n.unobserve(e)}}const gS={some:0,all:1};class xS extends tn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:gS[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return pS(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(yS(t,r))&&this.startObserver()}unmount(){}}function yS({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const vS={inView:{Feature:xS},tap:{Feature:dS},focus:{Feature:uS},hover:{Feature:cS}};function c0(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function bS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function wS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function sl(e,t,r){const n=e.getProps();return sh(n,t,r!==void 0?r:n.custom,bS(e),wS(e))}let ih=ge;const wn=e=>e*1e3,sr=e=>e/1e3,kS={current:!1},u0=e=>Array.isArray(e)&&typeof e[0]=="number";function d0(e){return!!(!e||typeof e=="string"&&h0[e]||u0(e)||Array.isArray(e)&&e.every(d0))}const ei=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,h0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ei([0,.65,.55,1]),circOut:ei([.55,0,1,.45]),backIn:ei([.31,.01,.66,-.59]),backOut:ei([.33,1.53,.69,.99])};function f0(e){if(e)return u0(e)?ei(e):Array.isArray(e)?e.map(f0):h0[e]}function jS(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=f0(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function NS(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const m0=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,SS=1e-7,CS=12;function TS(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=m0(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>SS&&++l<CS);return o}function ra(e,t,r,n){if(e===t&&r===n)return ge;const s=i=>TS(i,0,1,e,r);return i=>i===0||i===1?i:m0(s(i),t,n)}const PS=ra(.42,0,1,1),AS=ra(0,0,.58,1),p0=ra(.42,0,.58,1),ES=e=>Array.isArray(e)&&typeof e[0]!="number",g0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,x0=e=>t=>1-e(1-t),ah=e=>1-Math.sin(Math.acos(e)),y0=x0(ah),RS=g0(ah),v0=ra(.33,1.53,.69,.99),oh=x0(v0),IS=g0(oh),_S=e=>(e*=2)<1?.5*oh(e):.5*(2-Math.pow(2,-10*(e-1))),MS={linear:ge,easeIn:PS,easeInOut:p0,easeOut:AS,circIn:ah,circInOut:RS,circOut:y0,backIn:oh,backInOut:IS,backOut:v0,anticipate:_S},jm=e=>{if(Array.isArray(e)){ih(e.length===4);const[t,r,n,s]=e;return ra(t,r,n,s)}else if(typeof e=="string")return MS[e];return e},lh=(e,t)=>r=>!!(ea(r)&&LN.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),b0=(e,t,r)=>n=>{if(!ea(n))return n;const[s,i,o,l]=n.match(rl);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},DS=e=>qr(0,255,e),Jl={...Dn,transform:e=>Math.round(DS(e))},pn={test:lh("rgb","red"),parse:b0("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Jl.transform(e)+", "+Jl.transform(t)+", "+Jl.transform(r)+", "+fi(hi.transform(n))+")"};function LS(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Su={test:lh("#"),parse:LS,transform:pn.transform},ts={test:lh("hsl","hue"),parse:b0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+zt.transform(fi(t))+", "+zt.transform(fi(r))+", "+fi(hi.transform(n))+")"},qe={test:e=>pn.test(e)||Su.test(e)||ts.test(e),parse:e=>pn.test(e)?pn.parse(e):ts.test(e)?ts.parse(e):Su.parse(e),transform:e=>ea(e)?e:e.hasOwnProperty("red")?pn.transform(e):ts.transform(e)},de=(e,t,r)=>-r*e+r*t+e;function Zl(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function OS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=Zl(c,l,e+1/3),i=Zl(c,l,e),o=Zl(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const ec=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},VS=[Su,pn,ts],FS=e=>VS.find(t=>t.test(e));function Nm(e){const t=FS(e);let r=t.parse(e);return t===ts&&(r=OS(r)),r}const w0=(e,t)=>{const r=Nm(e),n=Nm(t),s={...r};return i=>(s.red=ec(r.red,n.red,i),s.green=ec(r.green,n.green,i),s.blue=ec(r.blue,n.blue,i),s.alpha=de(r.alpha,n.alpha,i),pn.transform(s))};function BS(e){var t,r;return isNaN(e)&&ea(e)&&(((t=e.match(rl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Qy))===null||r===void 0?void 0:r.length)||0)>0}const k0={regex:MN,countKey:"Vars",token:"${v}",parse:ge},j0={regex:Qy,countKey:"Colors",token:"${c}",parse:qe.parse},N0={regex:rl,countKey:"Numbers",token:"${n}",parse:Dn.parse};function tc(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function No(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&tc(r,k0),tc(r,j0),tc(r,N0),r}function S0(e){return No(e).values}function C0(e){const{values:t,numColors:r,numVars:n,tokenised:s}=No(e),i=t.length;return o=>{let l=s;for(let c=0;c<i;c++)c<n?l=l.replace(k0.token,o[c]):c<n+r?l=l.replace(j0.token,qe.transform(o[c])):l=l.replace(N0.token,fi(o[c]));return l}}const $S=e=>typeof e=="number"?0:e;function zS(e){const t=S0(e);return C0(e)(t.map($S))}const Wr={test:BS,parse:S0,createTransformer:C0,getAnimatableNone:zS},T0=(e,t)=>r=>`${r>0?t:e}`;function P0(e,t){return typeof e=="number"?r=>de(e,t,r):qe.test(e)?w0(e,t):e.startsWith("var(")?T0(e,t):E0(e,t)}const A0=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>P0(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},US=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=P0(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},E0=(e,t)=>{const r=Wr.createTransformer(t),n=No(e),s=No(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Fr(A0(n.values,s.values),r):T0(e,t)},zi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Sm=(e,t)=>r=>de(e,t,r);function qS(e){return typeof e=="number"?Sm:typeof e=="string"?qe.test(e)?w0:E0:Array.isArray(e)?A0:typeof e=="object"?US:Sm}function WS(e,t,r){const n=[],s=r||qS(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ge:t;l=Fr(c,l)}n.push(l)}return n}function R0(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ih(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=WS(t,n,s),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=zi(e[d],e[d+1],u);return o[d](h)};return r?u=>c(qr(e[0],e[i-1],u)):c}function HS(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=zi(0,t,n);e.push(de(r,1,s))}}function QS(e){const t=[0];return HS(t,e.length-1),t}function GS(e,t){return e.map(r=>r*t)}function KS(e,t){return e.map(()=>t||p0).splice(0,e.length-1)}function So({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=ES(n)?n.map(jm):jm(n),i={done:!1,value:t[0]},o=GS(r&&r.length===t.length?r:QS(t),e),l=R0(o,t,{ease:Array.isArray(s)?s:KS(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function I0(e,t){return t?e*(1e3/t):0}const YS=5;function _0(e,t,r){const n=Math.max(t-YS,0);return I0(r-e(n),t-n)}const rc=.001,XS=.01,JS=10,ZS=.05,e2=1;function t2({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,o=1-t;o=qr(ZS,e2,o),e=qr(XS,JS,sr(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,g=Cu(u,o),y=Math.exp(-h);return rc-f/g*y},i=u=>{const h=u*o*e,f=h*r+r,g=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),v=Cu(Math.pow(u,2),o);return(-s(u)+rc>0?-1:1)*((f-g)*y)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-rc+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=n2(s,i,l);if(e=wn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const r2=12;function n2(e,t,r){let n=r;for(let s=1;s<r2;s++)n=n-e(n)/t(n);return n}function Cu(e,t){return e*Math.sqrt(1-t*t)}const s2=["duration","bounce"],i2=["stiffness","damping","mass"];function Cm(e,t){return t.some(r=>e[r]!==void 0)}function a2(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Cm(e,i2)&&Cm(e,s2)){const r=t2(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function M0({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=a2({...n,velocity:-sr(n.velocity||0)}),g=h||0,y=c/(2*Math.sqrt(l*u)),v=i-s,w=sr(Math.sqrt(l/u)),p=Math.abs(v)<5;r||(r=p?.01:2),t||(t=p?.005:.5);let x;if(y<1){const m=Cu(w,y);x=k=>{const j=Math.exp(-y*w*k);return i-j*((g+y*w*v)/m*Math.sin(m*k)+v*Math.cos(m*k))}}else if(y===1)x=m=>i-Math.exp(-w*m)*(v+(g+w*v)*m);else{const m=w*Math.sqrt(y*y-1);x=k=>{const j=Math.exp(-y*w*k),N=Math.min(m*k,300);return i-j*((g+y*w*v)*Math.sinh(N)+m*v*Math.cosh(N))/m}}return{calculatedDuration:f&&d||null,next:m=>{const k=x(m);if(f)o.done=m>=d;else{let j=g;m!==0&&(y<1?j=_0(x,m,k):j=0);const N=Math.abs(j)<=r,C=Math.abs(i-k)<=t;o.done=N&&C}return o.value=o.done?i:k,o}}}function Tm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=S=>l!==void 0&&S<l||c!==void 0&&S>c,y=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let v=r*t;const w=h+v,p=o===void 0?w:o(w);p!==w&&(v=p-h);const x=S=>-v*Math.exp(-S/n),m=S=>p+x(S),k=S=>{const R=x(S),E=m(S);f.done=Math.abs(R)<=u,f.value=f.done?p:E};let j,N;const C=S=>{g(f.value)&&(j=S,N=M0({keyframes:[f.value,y(f.value)],velocity:_0(m,S,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let R=!1;return!N&&j===void 0&&(R=!0,k(S),C(S)),j!==void 0&&S>j?N.next(S-j):(!R&&k(S),f)}}}const o2=e=>{const t=({timestamp:r})=>e(r);return{start:()=>re.update(t,!0),stop:()=>dr(t),now:()=>Oe.isProcessing?Oe.timestamp:performance.now()}},Pm=2e4;function Am(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Pm;)t+=r,n=e.next(t);return t>=Pm?1/0:t}const l2={decay:Tm,inertia:Tm,tween:So,keyframes:So,spring:M0};function Co({autoplay:e=!0,delay:t=0,driver:r=o2,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let g=1,y=!1,v,w;const p=()=>{w=new Promise(D=>{v=D})};p();let x;const m=l2[s]||So;let k;m!==So&&typeof n[0]!="number"&&(k=R0([0,100],n,{clamp:!1}),n=[0,100]);const j=m({...f,keyframes:n});let N;l==="mirror"&&(N=m({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let C="idle",S=null,R=null,E=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=Am(j));const{calculatedDuration:M}=j;let O=1/0,ne=1/0;M!==null&&(O=M+o,ne=O*(i+1)-o);let Q=0;const it=D=>{if(R===null)return;g>0&&(R=Math.min(R,D)),g<0&&(R=Math.min(D-ne/g,R)),S!==null?Q=S:Q=Math.round(D-R)*g;const ee=Q-t*(g>=0?1:-1),Wt=g>=0?ee<0:ee>ne;Q=Math.max(ee,0),C==="finished"&&S===null&&(Q=ne);let ft=Q,gr=j;if(i){const Vn=Math.min(Q,ne)/O;let nn=Math.floor(Vn),Mt=Vn%1;!Mt&&Vn>=1&&(Mt=1),Mt===1&&nn--,nn=Math.min(nn,i+1),!!(nn%2)&&(l==="reverse"?(Mt=1-Mt,o&&(Mt-=o/O)):l==="mirror"&&(gr=N)),ft=qr(0,1,Mt)*O}const Me=Wt?{done:!1,value:n[0]}:gr.next(ft);k&&(Me.value=k(Me.value));let{done:_t}=Me;!Wt&&M!==null&&(_t=g>=0?Q>=ne:Q<=0);const na=S===null&&(C==="finished"||C==="running"&&_t);return h&&h(Me.value),na&&P(),Me},J=()=>{x&&x.stop(),x=void 0},Ne=()=>{C="idle",J(),v(),p(),R=E=null},P=()=>{C="finished",d&&d(),J(),v()},_=()=>{if(y)return;x||(x=r(it));const D=x.now();c&&c(),S!==null?R=D-S:(!R||C==="finished")&&(R=D),C==="finished"&&p(),E=R,S=null,C="running",x.start()};e&&_();const V={then(D,ee){return w.then(D,ee)},get time(){return sr(Q)},set time(D){D=wn(D),Q=D,S!==null||!x||g===0?S=D:R=x.now()-D/g},get duration(){const D=j.calculatedDuration===null?Am(j):j.calculatedDuration;return sr(D)},get speed(){return g},set speed(D){D===g||!x||(g=D,V.time=sr(Q))},get state(){return C},play:_,pause:()=>{C="paused",S=Q},stop:()=>{y=!0,C!=="idle"&&(C="idle",u&&u(),Ne())},cancel:()=>{E!==null&&it(E),Ne()},complete:()=>{C="finished"},sample:D=>(R=0,it(D))};return V}function c2(e){let t;return()=>(t===void 0&&(t=e()),t)}const u2=c2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),d2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ca=10,h2=2e4,f2=(e,t)=>t.type==="spring"||e==="backgroundColor"||!d0(t.ease);function m2(e,t,{onUpdate:r,onComplete:n,...s}){if(!(u2()&&d2.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(m=>{l=m})};d();let{keyframes:h,duration:f=300,ease:g,times:y}=s;if(f2(t,s)){const m=Co({...s,repeat:0,delay:0});let k={done:!1,value:h[0]};const j=[];let N=0;for(;!k.done&&N<h2;)k=m.sample(N),j.push(k.value),N+=Ca;y=void 0,h=j,f=N-Ca,g="linear"}const v=jS(e.owner.current,t,h,{...s,duration:f,ease:g,times:y}),w=()=>{u=!1,v.cancel()},p=()=>{u=!0,re.update(w),l(),d()};return v.onfinish=()=>{u||(e.set(NS(h,s)),n&&n(),p())},{then(m,k){return c.then(m,k)},attachTimeline(m){return v.timeline=m,v.onfinish=null,ge},get time(){return sr(v.currentTime||0)},set time(m){v.currentTime=wn(m)},get speed(){return v.playbackRate},set speed(m){v.playbackRate=m},get duration(){return sr(f)},play:()=>{o||(v.play(),dr(w))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:m}=v;if(m){const k=Co({...s,autoplay:!1});e.setWithVelocity(k.sample(m-Ca).value,k.sample(m).value,Ca)}p()},complete:()=>{u||v.finish()},cancel:p}}function p2({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ge,pause:ge,stop:ge,then:i=>(i(),Promise.resolve()),cancel:ge,complete:ge});return t?Co({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const g2={type:"spring",stiffness:500,damping:25,restSpeed:10},x2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),y2={type:"keyframes",duration:.8},v2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b2=(e,{keyframes:t})=>t.length>2?y2:Mn.has(e)?e.startsWith("scale")?x2(t[1]):g2:v2,Tu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url(")),w2=new Set(["brightness","contrast","saturate","opacity"]);function k2(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(rl)||[];if(!n)return e;const s=r.replace(n,"");let i=w2.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const j2=/([a-z-]*)\(.*?\)/g,Pu={...Wr,getAnimatableNone:e=>{const t=e.match(j2);return t?t.map(k2).join(" "):e}},N2={...Gy,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:Pu,WebkitFilter:Pu},ch=e=>N2[e];function D0(e,t){let r=ch(e);return r!==Pu&&(r=Wr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const L0=e=>/^0[^.\s]+$/.test(e);function S2(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||L0(e)}function C2(e,t,r,n){const s=Tu(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),S2(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=D0(t,l)}return i}function T2({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function uh(e,t){return e[t]||e.default||e}const P2={skipAnimations:!1},dh=(e,t,r,n={})=>s=>{const i=uh(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-wn(o);const c=C2(t,e,r,i),u=c[0],d=c[c.length-1],h=Tu(e,u),f=Tu(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(T2(i)||(g={...g,...b2(e,g)}),g.duration&&(g.duration=wn(g.duration)),g.repeatDelay&&(g.repeatDelay=wn(g.repeatDelay)),!h||!f||kS.current||i.type===!1||P2.skipAnimations)return p2(g);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=m2(t,e,g);if(y)return y}return Co(g)};function To(e){return!!(st(e)&&e.add)}const O0=e=>/^\-?\d*\.?\d+$/.test(e);function hh(e,t){e.indexOf(t)===-1&&e.push(t)}function fh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class mh{constructor(){this.subscriptions=[]}add(t){return hh(this.subscriptions,t),()=>fh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const A2=e=>!isNaN(parseFloat(e));class E2{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Oe;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,re.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>re.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=A2(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new mh);const n=this.events[t].add(r);return t==="change"?()=>{n(),re.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?I0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(e,t){return new E2(e,t)}const V0=e=>t=>t.test(e),R2={test:e=>e==="auto",parse:e=>e},F0=[Dn,F,zt,br,VN,ON,R2],Us=e=>F0.find(V0(e)),I2=[...F0,qe,Wr],_2=e=>I2.find(V0(e));function M2(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ns(r))}function D2(e,t){const r=sl(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const l=JN(i[o]);M2(e,o,l)}}function L2(e,t,r){var n,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(O0(d)||L0(d))?d=parseFloat(d):!_2(d)&&Wr.test(u)&&(d=D0(c,u)),e.addValue(c,Ns(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function O2(e,t){return t?(t[e]||t.default||t).from:void 0}function V2(e,t,r){const n={};for(const s in e){const i=O2(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function F2({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function B2(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function B0(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),g=l[h];if(!f||g===void 0||d&&F2(d,h))continue;const y={delay:r,elapsed:0,...uh(i||{},h)};if(window.HandoffAppearAnimations){const p=e.getProps()[$y];if(p){const x=window.HandoffAppearAnimations(p,h,f,re);x!==null&&(y.elapsed=x,y.isHandoff=!0)}}let v=!y.isHandoff&&!B2(f,g);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(v=!1),f.animation&&(v=!1),v)continue;f.start(dh(h,f,g,e.shouldReduceMotion&&Mn.has(h)?{type:!1}:y));const w=f.animation;To(c)&&(c.add(h),w.then(()=>c.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&D2(e,o)}),u}function Au(e,t,r={}){const n=sl(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(B0(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return $2(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function $2(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(z2).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Au(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function z2(e,t){return e.sortNodePosition(t)}function U2(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Au(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Au(e,t,r);else{const s=typeof t=="function"?sl(e,t,r.custom):t;n=Promise.all(B0(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const q2=[...Kd].reverse(),W2=Kd.length;function H2(e){return t=>Promise.all(t.map(({animation:r,options:n})=>U2(e,r,n)))}function Q2(e){let t=H2(e);const r=K2();let n=!0;const s=(c,u)=>{const d=sl(e,u);if(d){const{transition:h,transitionEnd:f,...g}=d;c={...c,...g,...f}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],g=new Set;let y={},v=1/0;for(let p=0;p<W2;p++){const x=q2[p],m=r[x],k=d[x]!==void 0?d[x]:h[x],j=Bi(k),N=x===u?m.isActive:null;N===!1&&(v=p);let C=k===h[x]&&k!==d[x]&&j;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),m.protectedKeys={...y},!m.isActive&&N===null||!k&&!m.prevProp||el(k)||typeof k=="boolean")continue;let R=G2(m.prevProp,k)||x===u&&m.isActive&&!C&&j||p>v&&j,E=!1;const M=Array.isArray(k)?k:[k];let O=M.reduce(s,{});N===!1&&(O={});const{prevResolvedValues:ne={}}=m,Q={...ne,...O},it=J=>{R=!0,g.has(J)&&(E=!0,g.delete(J)),m.needsAnimating[J]=!0};for(const J in Q){const Ne=O[J],P=ne[J];if(y.hasOwnProperty(J))continue;let _=!1;jo(Ne)&&jo(P)?_=!c0(Ne,P):_=Ne!==P,_?Ne!==void 0?it(J):g.add(J):Ne!==void 0&&g.has(J)?it(J):m.protectedKeys[J]=!0}m.prevProp=k,m.prevResolvedValues=O,m.isActive&&(y={...y,...O}),n&&e.blockInitialAnimation&&(R=!1),R&&(!C||E)&&f.push(...M.map(J=>({animation:J,options:{type:x,...c}})))}if(g.size){const p={};g.forEach(x=>{const m=e.getBaseTarget(x);m!==void 0&&(p[x]=m)}),f.push({animation:p})}let w=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(f):Promise.resolve()}function l(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),r[c].isActive=u;const f=o(d,c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function G2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!c0(t,e):!1}function sn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K2(){return{animate:sn(!0),whileInView:sn(),whileHover:sn(),whileTap:sn(),whileDrag:sn(),whileFocus:sn(),exit:sn()}}class Y2 extends tn{constructor(t){super(t),t.animationState||(t.animationState=Q2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),el(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let X2=0;class J2 extends tn{constructor(){super(...arguments),this.id=X2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Z2={animation:{Feature:Y2},exit:{Feature:J2}},Em=(e,t)=>Math.abs(e-t);function eC(e,t){const r=Em(e.x,t.x),n=Em(e.y,t.y);return Math.sqrt(r**2+n**2)}class $0{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=sc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=eC(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:y}=h,{timestamp:v}=Oe;this.history.push({...y,timestamp:v});const{onStart:w,onMove:p}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nc(f,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=sc(h.type==="pointercancel"?this.lastMoveEventInfo:nc(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,w),y&&y(h,w)},!s0(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=nl(t),l=nc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Oe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,sc(l,this.history)),this.removeListeners=Fr(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function nc(e,t){return t?{point:t(e.point)}:e}function Rm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sc({point:e},t){return{point:e,delta:Rm(e,z0(t)),offset:Rm(e,tC(t)),velocity:rC(t,.1)}}function tC(e){return e[0]}function z0(e){return e[e.length-1]}function rC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=z0(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>wn(t)));)r--;if(!n)return{x:0,y:0};const i=sr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ut(e){return e.max-e.min}function Eu(e,t=0,r=.01){return Math.abs(e-t)<=r}function Im(e,t,r,n=.5){e.origin=n,e.originPoint=de(t.min,t.max,e.origin),e.scale=ut(r)/ut(t),(Eu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=de(r.min,r.max,e.origin)-e.originPoint,(Eu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mi(e,t,r,n){Im(e.x,t.x,r.x,n?n.originX:void 0),Im(e.y,t.y,r.y,n?n.originY:void 0)}function _m(e,t,r){e.min=r.min+t.min,e.max=e.min+ut(t)}function nC(e,t,r){_m(e.x,t.x,r.x),_m(e.y,t.y,r.y)}function Mm(e,t,r){e.min=t.min-r.min,e.max=e.min+ut(t)}function pi(e,t,r){Mm(e.x,t.x,r.x),Mm(e.y,t.y,r.y)}function sC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?de(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?de(r,e,n.max):Math.min(e,r)),e}function Dm(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function iC(e,{top:t,left:r,bottom:n,right:s}){return{x:Dm(e.x,r,s),y:Dm(e.y,t,n)}}function Lm(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function aC(e,t){return{x:Lm(e.x,t.x),y:Lm(e.y,t.y)}}function oC(e,t){let r=.5;const n=ut(e),s=ut(t);return s>n?r=zi(t.min,t.max-n,e.min):n>s&&(r=zi(e.min,e.max-s,t.min)),qr(0,1,r)}function lC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ru=.35;function cC(e=Ru){return e===!1?e=0:e===!0&&(e=Ru),{x:Om(e,"left","right"),y:Om(e,"top","bottom")}}function Om(e,t,r){return{min:Vm(e,t),max:Vm(e,r)}}function Vm(e,t){return typeof e=="number"?e:e[t]||0}const Fm=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:Fm(),y:Fm()}),Bm=()=>({min:0,max:0}),be=()=>({x:Bm(),y:Bm()});function gt(e){return[e("x"),e("y")]}function U0({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function uC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ic(e){return e===void 0||e===1}function Iu({scale:e,scaleX:t,scaleY:r}){return!ic(e)||!ic(t)||!ic(r)}function ln(e){return Iu(e)||q0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function q0(e){return $m(e.x)||$m(e.y)}function $m(e){return e&&e!=="0%"}function Po(e,t,r){const n=e-r,s=t*n;return r+s}function zm(e,t,r,n,s){return s!==void 0&&(e=Po(e,s,n)),Po(e,r,n)+t}function _u(e,t=0,r=1,n,s){e.min=zm(e.min,t,r,n,s),e.max=zm(e.max,t,r,n,s)}function W0(e,{x:t,y:r}){_u(e.x,t.translate,t.scale,t.originPoint),_u(e.y,r.translate,r.scale,r.originPoint)}function hC(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ns(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,W0(e,o)),n&&ln(i.latestValues)&&ns(e,i.latestValues))}t.x=Um(t.x),t.y=Um(t.y)}function Um(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jr(e,t){e.min=e.min+t,e.max=e.max+t}function qm(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=de(e.min,e.max,i);_u(e,t[r],t[n],o,t.scale)}const fC=["x","scaleX","originX"],mC=["y","scaleY","originY"];function ns(e,t){qm(e.x,t,fC),qm(e.y,t,mC)}function H0(e,t){return U0(dC(e.getBoundingClientRect(),t))}function pC(e,t,r){const n=H0(e,r),{scroll:s}=t;return s&&(jr(n.x,s.offset.x),jr(n.y,s.offset.y)),n}const Q0=({current:e})=>e?e.ownerDocument.defaultView:null,gC=new WeakMap;class xC{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(nl(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:y}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=a0(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gt(w=>{let p=this.getAxisMotionValue(w).get()||0;if(zt.test(p)){const{projection:x}=this.visualElement;if(x&&x.layout){const m=x.layout.layoutBox[w];m&&(p=ut(m)*(parseFloat(p)/100))}}this.originPoint[w]=p}),y&&re.update(()=>y(d,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=h;if(g&&this.currentDirection===null){this.currentDirection=yC(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(d,h)},l=(d,h)=>this.stop(d,h),c=()=>gt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $0(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Q0(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&re.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ta(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=sC(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&es(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=iC(s.layoutBox,r):this.constraints=!1,this.elastic=cC(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&gt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=lC(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!es(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=pC(n,s.root,this.visualElement.getTransformPagePoint());let o=aC(s.layout.layoutBox,i);if(r){const l=r(uC(o));this.hasMutatedConstraints=!!l,l&&(o=U0(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=gt(d=>{if(!Ta(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,y={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(dh(t,n,0,r))}stopAnimation(){gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){gt(r=>{const{drag:n}=this.getProps();if(!Ta(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-de(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!es(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();s[o]=oC({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gt(o=>{if(!Ta(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(de(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;gC.set(this.visualElement,this);const t=this.visualElement.current,r=nr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();es(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=tr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(gt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ru,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ta(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vC extends tn{constructor(t){super(t),this.removeGroupControls=ge,this.removeListeners=ge,this.controls=new xC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wm=e=>(t,r)=>{e&&re.update(()=>e(t,r))};class bC extends tn{constructor(){super(...arguments),this.removePointerDownListener=ge}onPointerDown(t){this.session=new $0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Wm(t),onStart:Wm(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&re.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function wC(){const e=b.useContext(Jo);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=b.useId();return b.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Wa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const r=Hm(e,t.target.x),n=Hm(e,t.target.y);return`${r}% ${n}%`}},kC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Wr.parse(e);if(s.length>5)return n;const i=Wr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=de(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class jC extends ar.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;EN(NC),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Wa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function G0(e){const[t,r]=wC(),n=b.useContext(Xd);return ar.createElement(jC,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Uy),isPresent:t,safeToRemove:r})}const NC={borderRadius:{...qs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qs,borderTopRightRadius:qs,borderBottomLeftRadius:qs,borderBottomRightRadius:qs,boxShadow:kC},K0=["TopLeft","TopRight","BottomLeft","BottomRight"],SC=K0.length,Qm=e=>typeof e=="string"?parseFloat(e):e,Gm=e=>typeof e=="number"||F.test(e);function CC(e,t,r,n,s,i){s?(e.opacity=de(0,r.opacity!==void 0?r.opacity:1,TC(n)),e.opacityExit=de(t.opacity!==void 0?t.opacity:1,0,PC(n))):i&&(e.opacity=de(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<SC;o++){const l=`border${K0[o]}Radius`;let c=Km(t,l),u=Km(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Gm(c)===Gm(u)?(e[l]=Math.max(de(Qm(c),Qm(u),n),0),(zt.test(u)||zt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=de(t.rotate||0,r.rotate||0,n))}function Km(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TC=Y0(0,.5,y0),PC=Y0(.5,.95,ge);function Y0(e,t,r){return n=>n<e?0:n>t?1:r(zi(e,t,n))}function Ym(e,t){e.min=t.min,e.max=t.max}function pt(e,t){Ym(e.x,t.x),Ym(e.y,t.y)}function Xm(e,t,r,n,s){return e-=t,e=Po(e,1/r,n),s!==void 0&&(e=Po(e,1/s,n)),e}function AC(e,t=0,r=1,n=.5,s,i=e,o=e){if(zt.test(t)&&(t=parseFloat(t),t=de(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=de(i.min,i.max,n);e===i&&(l-=t),e.min=Xm(e.min,t,r,l,s),e.max=Xm(e.max,t,r,l,s)}function Jm(e,t,[r,n,s],i,o){AC(e,t[r],t[n],t[s],t.scale,i,o)}const EC=["x","scaleX","originX"],RC=["y","scaleY","originY"];function Zm(e,t,r,n){Jm(e.x,t,EC,r?r.x:void 0,n?n.x:void 0),Jm(e.y,t,RC,r?r.y:void 0,n?n.y:void 0)}function ep(e){return e.translate===0&&e.scale===1}function X0(e){return ep(e.x)&&ep(e.y)}function IC(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function J0(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function tp(e){return ut(e.x)/ut(e.y)}class _C{constructor(){this.members=[]}add(t){hh(this.members,t),t.scheduleRender()}remove(t){if(fh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rp(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const MC=(e,t)=>e.depth-t.depth;class DC{constructor(){this.children=[],this.isDirty=!1}add(t){hh(this.children,t),this.isDirty=!0}remove(t){fh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MC),this.isDirty=!1,this.children.forEach(t)}}function LC(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(dr(n),e(i-t))};return re.read(n,!0),()=>dr(n)}function OC(e){window.MotionDebug&&window.MotionDebug.record(e)}function VC(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FC(e,t,r){const n=st(e)?e:Ns(e);return n.start(dh("",n,t,r)),n.animation}const np=["","X","Y","Z"],BC={visibility:"hidden"},sp=1e3;let $C=0;const cn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Z0({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=$C++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cn.totalNodes=cn.resolvedTargetDeltas=cn.recalculatedProjection=0,this.nodes.forEach(qC),this.nodes.forEach(KC),this.nodes.forEach(YC),this.nodes.forEach(WC),OC(cn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new DC)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VC(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=LC(f,250),Wa.hasAnimatedSinceResize&&(Wa.hasAnimatedSinceResize=!1,this.nodes.forEach(ap))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||tT,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=d.getProps(),x=!this.targetLayout||!J0(this.targetLayout,y)||g,m=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const k={...uh(v,"layout"),onPlay:w,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else f||ap(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ip);return}this.isUpdating||this.nodes.forEach(QC),this.isUpdating=!1,this.nodes.forEach(GC),this.nodes.forEach(zC),this.nodes.forEach(UC),this.clearAllSnapshots();const l=performance.now();Oe.delta=qr(0,1e3/60,l-Oe.timestamp),Oe.timestamp=l,Oe.isProcessing=!0,Kl.update.process(Oe),Kl.preRender.process(Oe),Kl.render.process(Oe),Oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(HC),this.sharedNodes.forEach(JC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!X0(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ln(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),rT(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return be();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(jr(l.x,c.offset.x),jr(l.y,c.offset.y)),l}removeElementScroll(o){const l=be();pt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){pt(l,o);const{scroll:f}=this.root;f&&(jr(l.x,-f.offset.x),jr(l.y,-f.offset.y))}jr(l.x,d.offset.x),jr(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=be();pt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ns(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ln(d.latestValues)&&ns(c,d.latestValues)}return ln(this.latestValues)&&ns(c,this.latestValues),c}removeTransform(o){const l=be();pt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ln(u.latestValues))continue;Iu(u.latestValues)&&u.updateSnapshot();const d=be(),h=u.measurePageBox();pt(d,h),Zm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ln(this.latestValues)&&Zm(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Oe.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),pi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pt(this.target,this.layout.layoutBox),W0(this.target,this.targetDelta)):pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),pi(this.relativeTargetOrigin,this.target,g.target),pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Iu(this.parent.latestValues)||q0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Oe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;pt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;hC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=rs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs());const v=this.projectionTransform;mi(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=rp(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),cn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=be(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=g!==y,w=this.getStack(),p=!w||w.members.length<=1,x=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(eT));this.animationProgress=0;let m;this.mixTargetDelta=k=>{const j=k/1e3;op(h.x,o.x,j),op(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZC(this.relativeTarget,this.relativeTargetOrigin,f,j),m&&IC(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=be()),pt(m,this.relativeTarget)),v&&(this.animationValues=d,CC(d,u,this.latestValues,j,x,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Wa.hasAnimatedSinceResize=!0,this.currentAnimation=FC(0,sp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&ev(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||be();const h=ut(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ut(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}pt(l,c),ns(l,d),mi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _C),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<np.length;d++){const h="rotate"+np[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BC;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=qa(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=qa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ln(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=rp(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in wo){if(f[v]===void 0)continue;const{correct:w,applyTo:p}=wo[v],x=u.transform==="none"?f[v]:w(f[v],h);if(p){const m=p.length;for(let k=0;k<m;k++)u[p[k]]=x}else u[v]=x}return this.options.layoutId&&(u.pointerEvents=h===this?qa(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ip),this.root.sharedNodes.clear()}}}function zC(e){e.updateLayout()}function UC(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?gt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=ut(f);f.min=n[h].min,f.max=f.min+g}):ev(i,r.layoutBox,n)&&gt(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],g=ut(n[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=rs();mi(l,n,r.layoutBox);const c=rs();o?mi(c,e.applyTransform(s,!0),r.measuredBox):mi(c,n,r.layoutBox);const u=!X0(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const y=be();pi(y,r.layoutBox,f.layoutBox);const v=be();pi(v,n,g.layoutBox),J0(y,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function qC(e){cn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function WC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HC(e){e.clearSnapshot()}function ip(e){e.clearMeasurements()}function QC(e){e.isLayoutDirty=!1}function GC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ap(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KC(e){e.resolveTargetDelta()}function YC(e){e.calcProjection()}function XC(e){e.resetRotation()}function JC(e){e.removeLeadSnapshot()}function op(e,t,r){e.translate=de(t.translate,0,r),e.scale=de(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function lp(e,t,r,n){e.min=de(t.min,r.min,n),e.max=de(t.max,r.max,n)}function ZC(e,t,r,n){lp(e.x,t.x,r.x,n),lp(e.y,t.y,r.y,n)}function eT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tT={duration:.45,ease:[.4,0,.1,1]},cp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),up=cp("applewebkit/")&&!cp("chrome/")?Math.round:ge;function dp(e){e.min=up(e.min),e.max=up(e.max)}function rT(e){dp(e.x),dp(e.y)}function ev(e,t,r){return e==="position"||e==="preserve-aspect"&&!Eu(tp(t),tp(r),.2)}const nT=Z0({attachResizeListener:(e,t)=>tr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ac={current:void 0},tv=Z0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ac.current){const e=new nT({});e.mount(window),e.setOptions({layoutScroll:!0}),ac.current=e}return ac.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sT={pan:{Feature:bC},drag:{Feature:vC,ProjectionNode:tv,MeasureLayout:G0}},iT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function aT(e){const t=iT.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Mu(e,t,r=1){const[n,s]=aT(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return O0(o)?parseFloat(o):o}else return ju(s)?Mu(s,t,r+1):s}function oT(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!ju(i))return;const o=Mu(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!ju(i))continue;const o=Mu(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const lT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rv=e=>lT.has(e),cT=e=>Object.keys(e).some(rv),hp=e=>e===Dn||e===F,fp=(e,t)=>parseFloat(e.split(", ")[t]),mp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return fp(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?fp(i[1],e):0}},uT=new Set(["x","y","z"]),dT=Zi.filter(e=>!uT.has(e));function hT(e){const t=[];return dT.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ss={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mp(4,13),y:mp(5,14)};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const fT=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Ss[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Ss[u](c,i)}),e},mT=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(rv);let i=[],o=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=Us(d);const f=t[c];let g;if(jo(f)){const y=f.length,v=f[0]===null?1:0;d=f[v],h=Us(d);for(let w=v;w<y&&f[w]!==null;w++)g?ih(Us(f[w])===g):g=Us(f[w])}else g=Us(f);if(h!==g)if(hp(h)&&hp(g)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&g===F&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(d===0||f===0)?d===0?u.set(g.transform(d)):t[c]=h.transform(f):(o||(i=hT(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=fT(t,e,l);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Zo&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function pT(e,t,r,n){return cT(t)?mT(e,t,r,n):{target:t,transitionEnd:n}}const gT=(e,t,r,n)=>{const s=oT(e,t,n);return t=s.target,n=s.transitionEnd,pT(e,t,r,n)},Du={current:null},nv={current:!1};function xT(){if(nv.current=!0,!!Zo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Du.current=e.matches;e.addListener(t),t()}else Du.current=!1}function yT(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(st(i))e.addValue(s,i),To(n)&&n.add(s);else if(st(o))e.addValue(s,Ns(i,{owner:e})),To(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,Ns(l!==void 0?l:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const pp=new WeakMap,sv=Object.keys($i),vT=sv.length,gp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bT=Yd.length;class wT{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>re.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=tl(r),this.isVariantNode=zy(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];l[h]!==void 0&&st(f)&&(f.set(l[h],!1),To(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,pp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),nv.current||xT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Du.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pp.delete(this.current),this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Mn.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&re.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,l;for(let c=0;c<vT;c++){const u=sv[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:g}=$i[u];f&&(o=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:g}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&es(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:g})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<gp.length;n++){const s=gp[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=yT(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<bT;n++){const s=Yd[n],i=this.props[s];(Bi(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ns(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=sh(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!st(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new mh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class iv extends wT{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=V2(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){L2(this,n,o);const l=gT(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function kT(e){return window.getComputedStyle(e)}class jT extends iv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Mn.has(r)){const n=ch(r);return n&&n.default||0}else{const n=kT(t),s=(Hy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return H0(t,r)}build(t,r,n,s){Zd(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return nh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;st(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){Jy(t,r,n,s)}}class NT extends iv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Mn.has(r)){const n=ch(r);return n&&n.default||0}return r=Zy.has(r)?r:Gd(r),t.getAttribute(r)}measureInstanceViewportBox(){return be()}scrapeMotionValuesFromProps(t,r){return t0(t,r)}build(t,r,n,s){th(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){e0(t,r,n,s)}mount(t){this.isSVGTag=rh(t.tagName),super.mount(t)}}const ST=(e,t)=>Jd(e)?new NT(t,{enableHardwareAcceleration:!1}):new jT(t,{enableHardwareAcceleration:!0}),CT={layout:{ProjectionNode:tv,MeasureLayout:G0}},TT={...Z2,...vS,...sT,...CT},B=PN((e,t)=>aS(e,t,TT,ST));function av(){const e=b.useRef(!1);return Qd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function PT(){const e=av(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>re.postRender(n),[n]),t]}class AT extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ET({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(AT,{isPresent:t,childRef:n,sizeRef:s},b.cloneElement(e,{ref:n}))}const oc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=r0(RT),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return b.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=b.createElement(ET,{isPresent:r},e)),b.createElement(Jo.Provider,{value:u},e)};function RT(){return new Map}function IT(e){return b.useEffect(()=>()=>e(),[])}const un=e=>e.key||"";function _T(e,t){e.forEach(r=>{const n=un(r);t.set(n,r)})}function MT(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const Ln=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=b.useContext(Xd).forceRender||PT()[0],c=av(),u=MT(e);let d=u;const h=b.useRef(new Map).current,f=b.useRef(d),g=b.useRef(new Map).current,y=b.useRef(!0);if(Qd(()=>{y.current=!1,_T(u,g),f.current=d}),IT(()=>{y.current=!0,g.clear(),h.clear()}),y.current)return b.createElement(b.Fragment,null,d.map(x=>b.createElement(oc,{key:un(x),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},x)));d=[...d];const v=f.current.map(un),w=u.map(un),p=v.length;for(let x=0;x<p;x++){const m=v[x];w.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((x,m)=>{if(w.indexOf(m)!==-1)return;const k=g.get(m);if(!k)return;const j=v.indexOf(m);let N=x;if(!N){const C=()=>{h.delete(m);const S=Array.from(g.keys()).filter(R=>!w.includes(R));if(S.forEach(R=>g.delete(R)),f.current=u.filter(R=>{const E=un(R);return E===m||S.includes(E)}),!h.size){if(c.current===!1)return;l(),n&&n()}};N=b.createElement(oc,{key:un(k),isPresent:!1,onExitComplete:C,custom:t,presenceAffectsLayout:i,mode:o},k),h.set(m,N)}d.splice(j,0,N)}),d=d.map(x=>{const m=x.key;return h.has(m)?x:b.createElement(oc,{key:un(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),b.createElement(b.Fragment,null,h.size?d:d.map(x=>b.cloneElement(x)))};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...DT,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${LT(e)}`,l].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=I("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=I("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=I("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=I("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=I("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=I("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=I("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=I("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=I("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=I("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=I("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=I("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=I("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=I("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=I("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=I("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=I("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=I("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=I("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=I("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=I("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=I("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=I("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=I("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=I("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=I("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=I("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=I("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=I("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=I("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=I("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=I("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=I("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=I("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=I("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=I("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),X=yN;function gv(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=gv(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function eP(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=gv(e))&&(n&&(n+=" "),n+=t);return n}const vh="-",tP=e=>{const t=nP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(vh);return l[0]===""&&l.length!==1&&l.shift(),xv(l,t)||rP(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},xv=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?xv(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(vh);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},jp=/^\[(.+)\]$/,rP=e=>{if(jp.test(e)){const t=jp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},nP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return iP(Object.entries(e.classGroups),r).forEach(([i,o])=>{Vu(o,n,i,t)}),n},Vu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Np(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(sP(s)){Vu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Vu(o,Np(t,i),r,n)})})},Np=(e,t)=>{let r=e;return t.split(vh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},sP=e=>e.isThemeGetter,iP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,aP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},yv="!",oP=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let p=l[w];if(u===0){if(p===s&&(n||l.slice(w,w+i)===t)){c.push(l.slice(d,w)),d=w+i;continue}if(p==="/"){h=w;continue}}p==="["?u++:p==="]"&&u--}const f=c.length===0?l:l.substring(d),g=f.startsWith(yv),y=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},lP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},cP=e=>({cache:aP(e.cacheSize),parseClassName:oP(e),...tP(e)}),uP=/\s+/,dP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(uP);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(u);let y=!!g,v=n(y?f.substring(0,g):f);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=n(f),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=lP(d).join(":"),p=h?w+yv:w,x=p+v;if(i.includes(x))continue;i.push(x);const m=s(v,y);for(let k=0;k<m.length;++k){const j=m[k];i.push(p+j)}l=u+(l.length>0?" "+l:l)}return l};function hP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vv(t))&&(n&&(n+=" "),n+=r);return n}const vv=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vv(e[n]))&&(r&&(r+=" "),r+=t);return r};function fP(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=cP(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=dP(c,r);return s(c,d),d}return function(){return i(hP.apply(null,arguments))}}const se=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},bv=/^\[(?:([a-z-]+):)?(.+)\]$/i,mP=/^\d+\/\d+$/,pP=new Set(["px","full","screen"]),gP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qt=e=>fs(e)||pP.has(e)||mP.test(e),yr=e=>Is(e,"length",PP),fs=e=>!!e&&!Number.isNaN(Number(e)),lc=e=>Is(e,"number",fs),Ws=e=>!!e&&Number.isInteger(Number(e)),wP=e=>e.endsWith("%")&&fs(e.slice(0,-1)),z=e=>bv.test(e),vr=e=>gP.test(e),kP=new Set(["length","size","percentage"]),jP=e=>Is(e,kP,wv),NP=e=>Is(e,"position",wv),SP=new Set(["image","url"]),CP=e=>Is(e,SP,EP),TP=e=>Is(e,"",AP),Hs=()=>!0,Is=(e,t,r)=>{const n=bv.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},PP=e=>xP.test(e)&&!yP.test(e),wv=()=>!1,AP=e=>vP.test(e),EP=e=>bP.test(e),RP=()=>{const e=se("colors"),t=se("spacing"),r=se("blur"),n=se("brightness"),s=se("borderColor"),i=se("borderRadius"),o=se("borderSpacing"),l=se("borderWidth"),c=se("contrast"),u=se("grayscale"),d=se("hueRotate"),h=se("invert"),f=se("gap"),g=se("gradientColorStops"),y=se("gradientColorStopPositions"),v=se("inset"),w=se("margin"),p=se("opacity"),x=se("padding"),m=se("saturate"),k=se("scale"),j=se("sepia"),N=se("skew"),C=se("space"),S=se("translate"),R=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",z,t],O=()=>[z,t],ne=()=>["",Qt,yr],Q=()=>["auto",fs,z],it=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",z],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[fs,z];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[Qt,yr],blur:["none","",vr,z],brightness:D(),borderColor:[e],borderRadius:["none","","full",vr,z],borderSpacing:O(),borderWidth:ne(),contrast:D(),grayscale:_(),hueRotate:D(),invert:_(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[wP,yr],inset:M(),margin:M(),opacity:D(),padding:O(),saturate:D(),scale:D(),sepia:_(),skew:D(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",z]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...it(),z]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ws,z]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",z]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Ws,z]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Ws,z]},z]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Ws,z]},z]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",z]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",z,t]}],"min-w":[{"min-w":[z,t,"min","max","fit"]}],"max-w":[{"max-w":[z,t,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[z,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[z,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[z,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[z,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lc]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",z]}],"line-clamp":[{"line-clamp":["none",fs,lc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qt,z]}],"list-image":[{"list-image":["none",z]}],"list-style-type":[{list:["none","disc","decimal",z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qt,yr]}],"underline-offset":[{"underline-offset":["auto",Qt,z]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...it(),NP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Qt,z]}],"outline-w":[{outline:[Qt,yr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Qt,yr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vr,TP]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vr,z]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[m]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",z]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",z]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ws,z]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",z]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",z]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",z]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qt,yr,lc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IP=fP(RP);function Qe(...e){return IP(eP(e))}function q({variant:e="primary",size:t="md",children:r,isLoading:n=!1,className:s,disabled:i,...o}){const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-white shadow-lg shadow-primary-500/30 focus:ring-primary-500",secondary:"bg-gradient-to-r from-secondary-500 to-secondary-600 hover:from-secondary-600 hover:to-secondary-700 text-white shadow-lg shadow-secondary-500/30 focus:ring-secondary-500",ghost:"bg-transparent hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text focus:ring-primary-500",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-950 focus:ring-primary-500",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/30 focus:ring-red-500"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return a.jsx(B.button,{whileHover:{scale:i||n?1:1.02},whileTap:{scale:i||n?1:.98},className:Qe(l,c[e],u[t],s),disabled:i||n,...o,children:n?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r})}function _P(){const{user:e,logout:t}=X(),{theme:r,toggleTheme:n}=pN(),s=It(),[i,o]=b.useState(!1),l=()=>{t(),s("/")};return a.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-light-border dark:border-dark-border glass",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx(ce,{to:"/",className:"flex items-center space-x-2",children:a.jsxs(B.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:[a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-10 w-auto rounded-lg shadow-lg"}),a.jsx("span",{className:"text-2xl font-bold text-gradient font-display",children:"Baptizo"})]})}),a.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/feed",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-colors font-medium",children:"Feed"}),a.jsx(ce,{to:"/profile",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-colors font-medium",children:"Profile"}),e.role==="admin"||e.role==="super_admin"?a.jsxs(ce,{to:"/admin",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-colors font-medium flex items-center gap-2",children:[a.jsx(yp,{className:"w-4 h-4"}),"Admin"]}):null]}):a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/login",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-colors font-medium",children:"Login"}),a.jsx(ce,{to:"/register",children:a.jsx(q,{size:"sm",children:"Get Started"})})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors","aria-label":"Toggle theme",children:r==="dark"?a.jsx(KT,{className:"w-5 h-5 text-dark-text"}):a.jsx(WT,{className:"w-5 h-5 text-light-text"})}),e&&a.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-light-card dark:bg-dark-card",children:[a.jsx(qt,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("span",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:e.name})]}),a.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-950 text-red-500 transition-colors","aria-label":"Logout",children:a.jsx(vp,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:()=>o(!i),className:"md:hidden p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors","aria-label":"Toggle menu",children:i?a.jsx(Qr,{className:"w-6 h-6 text-light-text dark:text-dark-text"}):a.jsx(qT,{className:"w-6 h-6 text-light-text dark:text-dark-text"})})]})]}),i&&a.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden py-4 border-t border-light-border dark:border-dark-border",children:a.jsx("nav",{className:"flex flex-col space-y-3",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/feed",className:"px-4 py-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text transition-colors",onClick:()=>o(!1),children:"Feed"}),a.jsx(ce,{to:"/profile",className:"px-4 py-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text transition-colors",onClick:()=>o(!1),children:"Profile"}),e.role==="admin"||e.role==="super_admin"?a.jsxs(ce,{to:"/admin",className:"px-4 py-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text transition-colors flex items-center gap-2",onClick:()=>o(!1),children:[a.jsx(yp,{className:"w-4 h-4"}),"Admin Dashboard"]}):null,a.jsx("div",{className:"px-4 py-2 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qt,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:e.name})]})}),a.jsxs("button",{onClick:()=>{l(),o(!1)},className:"mx-4 px-4 py-2 rounded-lg bg-red-50 dark:bg-red-950 text-red-500 hover:bg-red-100 dark:hover:bg-red-900 transition-colors flex items-center gap-2",children:[a.jsx(vp,{className:"w-4 h-4"}),"Logout"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/login",className:"px-4 py-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text transition-colors",onClick:()=>o(!1),children:"Login"}),a.jsx(ce,{to:"/register",onClick:()=>o(!1),className:"mx-4",children:a.jsx(q,{className:"w-full",children:"Get Started"})})]})})})]})})}function MP(){return a.jsx("footer",{className:"mt-auto border-t border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-8 w-auto rounded shadow-sm"}),a.jsx("h3",{className:"text-xl font-bold text-gradient font-display",children:"Baptizo Community"})]}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"A premium platform for sharing spiritual wisdom and insights from Ancient Culture and Wisdom of The Now teachings."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-sm text-light-muted dark:text-dark-muted",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-primary-500 transition-colors",children:"About Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-primary-500 transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-primary-500 transition-colors",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-primary-500 transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Connect With Us"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors","aria-label":"Twitter",children:a.jsx(JT,{className:"w-5 h-5 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors"})}),a.jsx("a",{href:"#",className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors","aria-label":"GitHub",children:a.jsx(BT,{className:"w-5 h-5 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors"})})]})]})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-light-border dark:border-dark-border",children:a.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted flex items-center justify-center gap-1",children:["Made with ",a.jsx(ll,{className:"w-4 h-4 text-red-500 fill-red-500"})," for the community  ",new Date().getFullYear()]})})]})})}function DP(){const e=en(),t=Z(L.notifications.getUnreadCount)||0,r=[{to:"/feed",icon:$T,label:"Feed"},{to:"/ancient-culture",icon:Pn,label:"Ancient"},{to:"/wisdom-now",icon:rn,label:"Wisdom"},{to:"/notifications",icon:gi,label:"Alerts",badge:t},{to:"/tasks",icon:Pn,label:"Tasks"},{to:"/my-responses",icon:Hr,label:"Responses"}];return a.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-light-border dark:border-dark-border glass pb-safe",children:a.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:r.map(n=>{const s=n.icon,i=e.pathname===n.to;return a.jsxs(ce,{to:n.to,className:Qe("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",i?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[a.jsxs("div",{className:"relative",children:[a.jsx(s,{className:Qe("w-5 h-5 md:w-6 md:h-6",i&&"fill-primary-500/20")}),n.badge!==void 0&&n.badge>0&&a.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white text-[9px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full border-2 border-white dark:border-black shadow-sm touch-none pointer-events-none",children:n.badge>9?"9+":n.badge})]}),a.jsx("span",{className:Qe("text-[10px] font-semibold mt-1 truncate w-full text-center",i?"opacity-100":"opacity-70"),children:n.label})]},n.to)})})})}function LP(){const e=en(),t=Z(L.notifications.getUnreadCount)||0,r=[{path:"/feed",label:"Feed",icon:rn},{path:"/ancient-culture",label:"Ancient Culture",icon:Pn},{path:"/wisdom-now",label:"Wisdom of The Now",icon:UT},{path:"/tasks",label:"My Tasks",icon:al},{path:"/my-responses",label:"My Responses",icon:Hr},{path:"/notifications",label:"Notifications",icon:gi,badge:t}];return a.jsx("nav",{className:"hidden md:block sticky top-0 z-40 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md border-b border-light-border dark:border-dark-border",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:a.jsx("div",{className:"flex items-center justify-center gap-2 py-3",children:r.map(n=>{const s=n.icon,i=e.pathname===n.path;return a.jsxs(ce,{to:n.path,className:`
                                    flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all relative
                                    ${i?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                `,children:[a.jsxs("div",{className:"relative",children:[a.jsx(s,{className:"w-5 h-5"}),n.badge!==void 0&&n.badge>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center border-2 border-light-bg dark:border-dark-bg",children:n.badge>99?"99+":n.badge})]}),a.jsx("span",{children:n.label})]},n.path)})})})})}function $({children:e,className:t,glass:r=!1,hover:n=!1,onClick:s}){const i=B.div;return a.jsx(i,{onClick:s,whileHover:n?{y:-4,transition:{duration:.2}}:void 0,className:Qe("rounded-xl p-6 transition-all duration-200",r?"glass":"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",n&&"cursor-pointer shadow-lg hover:shadow-xl",t),children:e})}function Ae({children:e,className:t}){return a.jsx("div",{className:Qe("mb-4",t),children:e})}function Ee({children:e,className:t}){return a.jsx("h3",{className:Qe("text-xl font-semibold text-light-text dark:text-dark-text",t),children:e})}function U({children:e,className:t}){return a.jsx("div",{className:Qe("text-light-text dark:text-dark-text",t),children:e})}function H({children:e,variant:t="default",className:r,animate:n=!1}){const s={default:"bg-light-border dark:bg-dark-border text-light-text dark:text-dark-text",primary:"bg-primary-100 dark:bg-primary-950 text-primary-700 dark:text-primary-300 border border-primary-200 dark:border-primary-800",secondary:"bg-secondary-100 dark:bg-secondary-950 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-800",success:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800",danger:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",outline:"bg-transparent border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted"},i=n?B.span:"span",o=n?{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}}:{};return a.jsx(i,{...o,className:Qe("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s[t],r),children:e})}function OP(){const{user:e}=X(),t=[{icon:Pn,title:"Ancient Culture",subtitle:"Prophetic Wisdom",description:"Dive deep into prophetic wisdom and systems from the Old Testament. Understand the foundations of spiritual authority.",image:"/assets/images/ancient-culture.png",color:"from-primary-500 to-primary-700"},{icon:rn,title:"Wisdom of The Now",subtitle:"Modern Insights",description:"Explore spiritual identity and insights from the New Testament. Discover your place in the modern spiritual landscape.",image:"/assets/images/wisdom-now.png",color:"from-secondary-500 to-secondary-700"}],r=[{icon:Ro,title:"Vibrant Community",description:"Connect with a global network of believers seeking deeper truth."},{icon:Fe,title:"Real Impact",description:"Earn recognition and rewards for active participation and growth."},{icon:us,title:"Guided Path",description:"Structured learning paths designed for progressive spiritual maturity."}];return a.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg selection:bg-primary-500/30",children:[a.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:"/assets/images/hero-premium.png",alt:"Baptizo Spirit",className:"w-full h-full object-cover opacity-30 dark:opacity-40"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-light-bg via-transparent to-light-bg/50 dark:from-dark-bg dark:via-transparent dark:to-dark-bg/50"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-light-bg/80 via-transparent to-transparent dark:from-dark-bg/80"})]}),a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(B.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8},children:[a.jsx(H,{variant:"primary",className:"mb-6 px-4 py-1.5 text-sm uppercase tracking-widest font-bold",children:"The Pinnacle of Spiritual Growth"}),a.jsxs("h1",{className:"text-6xl md:text-8xl font-bold font-display leading-tight mb-6",children:["Elevate Your ",a.jsx("br",{}),a.jsx("span",{className:"text-gradient",children:"Spirituality"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-light-muted dark:text-dark-muted mb-10 leading-relaxed max-w-2xl",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),a.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:e?a.jsx(ce,{to:"/feed",children:a.jsxs(q,{size:"lg",className:"h-14 px-10 text-lg group shadow-xl shadow-primary-500/20",children:["Enter the Feed",a.jsx(us,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}):a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/register",children:a.jsx(q,{size:"lg",className:"h-14 px-10 text-lg shadow-xl shadow-primary-500/20",children:"Start Your Journey"})}),a.jsx(ce,{to:"/login",children:a.jsx(q,{size:"lg",variant:"outline",className:"h-14 px-10 text-lg backdrop-blur-sm",children:"Sign In"})})]})})]}),a.jsxs("div",{className:"relative mt-12 lg:mt-0",children:[a.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4 pt-12",children:[a.jsx(B.div,{whileHover:{scale:1.05,rotate:-2},className:"rounded-3xl overflow-hidden shadow-2xl border-4 border-white/10",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(2).png",alt:"Spiritual Insight",className:"w-full h-full object-cover"})}),a.jsx(B.div,{whileHover:{scale:1.05,rotate:2},className:"rounded-3xl overflow-hidden shadow-2xl border-4 border-white/10",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(5).png",alt:"Ancient Wisdom",className:"w-full h-full object-cover"})})]}),a.jsx("div",{className:"flex items-center",children:a.jsx(B.div,{whileHover:{scale:1.05,rotate:2},className:"rounded-3xl overflow-hidden shadow-2xl border-4 border-white/10",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(6).png",alt:"Community Growth",className:"w-full h-full object-cover"})})})]}),a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary-500/20 blur-[100px]"}),a.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-secondary-500/20 blur-[100px]"})]})]})}),a.jsx(B.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},className:"absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:block",children:a.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-light-muted/30 dark:border-dark-muted/30 flex justify-center p-1",children:a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-500"})})})]}),a.jsx("section",{className:"py-24 relative",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold font-display mb-6",children:"Explore Our Core Pillars"}),a.jsx("div",{className:"w-24 h-1 bg-primary-500 mx-auto rounded-full mb-6"}),a.jsx("p",{className:"text-xl text-light-muted dark:text-dark-muted max-w-2xl mx-auto",children:"We bridge the gap between ancient foundations and contemporary applications."})]}),a.jsx("div",{className:"grid lg:grid-cols-2 gap-12",children:t.map((n,s)=>a.jsxs(B.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{delay:s*.2},viewport:{once:!0},className:"group relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity rounded-3xl blur-2xl -z-10"}),a.jsxs($,{glass:!0,className:"overflow-hidden border-none shadow-2xl hover:scale-[1.02] transition-transform duration-500 h-full flex flex-col",children:[a.jsxs("div",{className:"relative h-64 overflow-hidden",children:[a.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),a.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(H,{variant:"success",className:"bg-white/90 dark:bg-black/90 text-black dark:text-white backdrop-blur-md",children:n.subtitle})})]}),a.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${n.color} flex items-center justify-center mb-6 shadow-lg`,children:a.jsx(n.icon,{className:"w-7 h-7 text-white"})}),a.jsx("h3",{className:"text-3xl font-bold mb-4",children:n.title}),a.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg mb-8 flex-1",children:n.description}),a.jsxs(ce,{to:"/register",className:"inline-flex items-center text-primary-500 font-bold group-hover:gap-3 transition-all",children:["Explore Deeply ",a.jsx(us,{className:"w-5 h-5 ml-1"})]})]})]})]},n.title))})]})}),a.jsx("section",{className:"py-24 border-y border-light-border dark:border-dark-border bg-light-card/30 dark:bg-dark-card/30 backdrop-blur-sm",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:r.map((n,s)=>a.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:s*.1},viewport:{once:!0},className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-500 mb-6",children:a.jsx(n.icon,{className:"w-6 h-6"})}),a.jsx("h4",{className:"text-xl font-bold mb-3",children:n.title}),a.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed",children:n.description})]},n.title))})})}),a.jsxs("section",{className:"py-32 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary-500 rounded-full blur-[120px]"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-secondary-500 rounded-full blur-[120px]"})]}),a.jsx("div",{className:"container mx-auto px-4 relative z-10",children:a.jsx("div",{className:"max-w-4xl mx-auto text-center",children:a.jsxs(B.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"glass rounded-3xl p-16 border border-white/10 dark:border-white/5 shadow-3xl",children:[a.jsxs("h2",{className:"text-5xl md:text-6xl font-bold font-display mb-8",children:["Ready for a ",a.jsx("br",{}),a.jsx("span",{className:"text-gradient",children:"Higher Experience?"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-light-muted dark:text-dark-muted mb-12 max-w-2xl mx-auto",children:"Join thousands of believers who have unlocked deeper spiritual dimensions through Baptizo."}),!e&&a.jsx(ce,{to:"/register",children:a.jsx(q,{size:"lg",className:"h-16 px-12 text-xl shadow-2xl shadow-primary-500/30",children:"Create Your Free Account"})})]})})})]})]})}const Jt=b.forwardRef(({label:e,error:t,icon:r,className:n,...s},i)=>a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),a.jsxs("div",{className:"relative",children:[r&&a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-light-muted dark:text-dark-muted",children:r}),a.jsx("input",{ref:i,className:Qe("w-full px-4 py-2.5 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg","border-light-border dark:border-dark-border","text-light-text dark:text-dark-text","placeholder:text-light-muted dark:placeholder:text-dark-muted","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-red-500 focus:ring-red-500",r&&"pl-10",n),...s})]}),t&&a.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:t})]}));Jt.displayName="Input";function VP(){const e=It(),{login:t}=X(),r=K(L.auth.loginUser),[n,s]=b.useState({email:"",password:""}),[i,o]=b.useState({}),[l,c]=b.useState(!1),u=async d=>{d.preventDefault(),o({}),c(!0);try{const h=await r({email:n.email.toLowerCase().trim(),password:n.password});h!=null&&h.success&&(h!=null&&h.user)?(t(h.user),e("/feed")):o({general:"Invalid email or password"})}catch{o({general:"Login failed. Please try again."})}finally{c(!1)}};return a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:a.jsxs($,{glass:!0,children:[a.jsxs(Ae,{className:"pt-8",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),a.jsx(Ee,{className:"text-center text-3xl",children:"Welcome Back"}),a.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Sign in to continue to Baptizo Community"})]}),a.jsx(U,{children:a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.general&&a.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:i.general})}),a.jsx(Jt,{label:"Email",type:"email",value:n.email,onChange:d=>s({...n,email:d.target.value}),icon:a.jsx(cl,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),a.jsx(Jt,{label:"Password",type:"password",value:n.password,onChange:d=>s({...n,password:d.target.value}),icon:a.jsx(Eo,{className:"w-5 h-5"}),placeholder:"",required:!0}),a.jsx(q,{type:"submit",variant:"primary",className:"w-full",isLoading:l,children:"Sign In"}),a.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Don't have an account?"," ",a.jsx(ce,{to:"/register",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign Up"})]})]})})]})})}function FP(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(VP,{})})}function BP(e){const r=e.replace(/\D/g,"").substring(0,4),n=["0703","0706","0803","0806","0810","0813","0814","0816","0903","0906","07025","07026","0704"],s=["0705","0805","0807","0811","0815","0905"],i=["0701","0708","0802","0808","0812","0901","0902","0904","0907"],o=["0809","0817","0818","0909","0908"];return n.some(l=>r.startsWith(l))?"MTN":s.some(l=>r.startsWith(l))?"Glo":i.some(l=>r.startsWith(l))?"Airtel":o.some(l=>r.startsWith(l))?"9Mobile":"Unknown"}function bh(e){const t=e.replace(/\D/g,"");return t.length===11?`${t.substring(0,4)} ${t.substring(4,7)} ${t.substring(7)}`:e}function $P(){return"https://chat.whatsapp.com/YOUR_GROUP_CODE"}function zP(){const e=$P();window.open(e,"_blank")}function UP(){const e=It(),{login:t}=X(),r=K(L.auth.registerUser),[n,s]=b.useState("form"),[i,o]=b.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",whatsappConfirm:!1}),[l,c]=b.useState(""),[u,d]=b.useState({}),[h,f]=b.useState(!1),g=w=>{o({...i,phone:w});const p=BP(w);c(p)},y=async w=>{if(w.preventDefault(),d({}),i.password.length<6){d({password:"Password must be at least 6 characters"});return}if(i.password!==i.confirmPassword){d({confirmPassword:"Passwords do not match"});return}if(!i.whatsappConfirm){d({whatsappConfirm:"Please confirm your WhatsApp number"});return}if(l==="Unknown"||!l){d({phone:"Please enter a valid phone number (MTN, Glo, Airtel, or 9Mobile)"});return}f(!0);try{const p=await r({email:i.email.toLowerCase().trim(),password:i.password,name:i.name.trim(),phone:i.phone.trim(),network:l});p!=null&&p.success&&(p!=null&&p.user)?(t(p.user),s("whatsapp")):d({general:(p==null?void 0:p.error)||"Registration failed"})}catch(p){const m=(p.message||p.toString()).replace("Uncaught Error: ","");d({general:m})}finally{f(!1)}},v=()=>{zP(),setTimeout(()=>{e("/feed")},1e3)};return n==="whatsapp"?a.jsx(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md mx-auto",children:a.jsxs($,{glass:!0,children:[a.jsxs(Ae,{children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:a.jsx(Rs,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),a.jsx(Ee,{className:"text-center text-3xl",children:"Welcome to Baptizo!"}),a.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Join our WhatsApp community to stay connected"})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsx(q,{onClick:v,variant:"primary",className:"w-full",children:"Join WhatsApp Group"}),a.jsx("button",{onClick:()=>e("/feed"),className:"text-sm text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:"Skip for now"})]})]})}):a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:a.jsxs($,{glass:!0,children:[a.jsxs(Ae,{className:"pt-8",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),a.jsx(Ee,{className:"text-center text-3xl",children:"Join Baptizo"}),a.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Create your account to get started"})]}),a.jsx(U,{children:a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.general&&a.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u.general})}),a.jsx(Jt,{label:"Full Name",type:"text",value:i.name,onChange:w=>o({...i,name:w.target.value}),icon:a.jsx(qt,{className:"w-5 h-5"}),placeholder:"John Doe",required:!0}),a.jsx(Jt,{label:"Email",type:"email",value:i.email,onChange:w=>o({...i,email:w.target.value}),icon:a.jsx(cl,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),a.jsxs("div",{children:[a.jsx(Jt,{label:"Phone Number",type:"tel",value:i.phone,onChange:w=>g(w.target.value),icon:a.jsx(yh,{className:"w-5 h-5"}),placeholder:"08012345678",required:!0}),l&&l!=="Unknown"&&a.jsx("div",{className:"mt-2",children:a.jsx(H,{variant:"primary",children:l})})]}),a.jsx(Jt,{label:"Password",type:"password",value:i.password,onChange:w=>o({...i,password:w.target.value}),icon:a.jsx(Eo,{className:"w-5 h-5"}),placeholder:"",error:u.password,required:!0}),a.jsx(Jt,{label:"Confirm Password",type:"password",value:i.confirmPassword,onChange:w=>o({...i,confirmPassword:w.target.value}),icon:a.jsx(Eo,{className:"w-5 h-5"}),placeholder:"",error:u.confirmPassword,required:!0}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("input",{type:"checkbox",id:"whatsappConfirm",checked:i.whatsappConfirm,onChange:w=>o({...i,whatsappConfirm:w.target.checked}),className:"mt-1"}),a.jsx("label",{htmlFor:"whatsappConfirm",className:"text-sm text-light-text dark:text-dark-text",children:"I confirm this phone number is on WhatsApp"})]}),u.whatsappConfirm&&a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:u.whatsappConfirm}),a.jsx(q,{type:"submit",variant:"primary",className:"w-full",isLoading:h,children:"Create Account"}),a.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Already have an account?"," ",a.jsx(ce,{to:"/login",className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign In"})]})]})})]})})}function qP(){return a.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(UP,{})})}function ms(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function WP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QP(e,t,r){return t&&HP(e.prototype,t),e}function kv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sp(Object(r),!0).forEach(function(n){kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GP(e,t){if(e){if(typeof e=="string")return Cp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cp(e,t)}}function Cp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KP(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=GP(e))||t){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,l;return{s:function(){r=e[Symbol.iterator]()},n:function(){var c=r.next();return i=c.done,c},e:function(c){o=!0,l=c},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var YP="3.1.0",Ue={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},PRIVATE_KEY_CLIENT_SIDE:{message:"privateKey should not be passed on the client side",help:""},MISSING_UPLOAD_DATA:{message:"Missing data for upload",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_AUTHENTICATION_ENDPOINT:{message:"Missing authentication endpoint for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},AUTH_ENDPOINT_TIMEOUT:{message:"The authenticationEndpoint you provided timed out in 60 seconds",help:""},AUTH_ENDPOINT_NETWORK_ERROR:{message:"Request to authenticationEndpoint failed due to network error",help:""},AUTH_INVALID_RESPONSE:{message:"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},INVALID_TRANSFORMATION:{message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},INVALID_PRE_TRANSFORMATION:{message:"Invalid pre transformation parameter.",help:""},INVALID_POST_TRANSFORMATION:{message:"Invalid post transformation parameter.",help:""}};function Ye(e,t,r){typeof r=="function"&&(e?r(t,null):r(null,t))}function XP(e){var t={},r=e.getAllResponseHeaders();return Object.keys(r).length&&r.trim().split(/[\r\n]+/).map(function(n){return n.split(/: /)}).forEach(function(n){t[n[0].trim()]=n[1].trim()}),t}var Tp=function(t,r){var n=gn({},t),s={statusCode:r.status,headers:XP(r)};return Object.defineProperty(n,"$ResponseMetadata",{value:s,enumerable:!1,writable:!1}),n},JP=function(t,r,n){ZP(t,r).then(function(s){return Ye(!1,s,n)},function(s){return Ye(!0,s,n)})},ZP=function(t,r){return new Promise(function(n,s){t.open("POST","https://upload.imagekit.io/api/v1/files/upload"),t.onerror=function(i){return s(Ue.UPLOAD_ENDPOINT_NETWORK_ERROR)},t.onload=function(){if(t.status===200)try{var i=JSON.parse(t.responseText),o=Tp(i,t);return n(o)}catch(c){return s(c)}else try{var i=JSON.parse(t.responseText),l=Tp(i,t);return s(l)}catch(c){return s(c)}},t.send(r)})},eA=function(t,r,n,s){if(!r.file){Ye(!0,Ue.MISSING_UPLOAD_FILE_PARAMETER,s);return}if(!r.fileName){Ye(!0,Ue.MISSING_UPLOAD_FILENAME_PARAMETER,s);return}if(!n.publicKey){Ye(!0,Ue.MISSING_PUBLIC_KEY,s);return}if(!r.token){Ye(!0,Ue.MISSING_TOKEN,s);return}if(!r.signature){Ye(!0,Ue.MISSING_SIGNATURE,s);return}if(!r.expire){Ye(!0,Ue.MISSING_EXPIRE,s);return}if(r.transformation){if(!(Object.keys(r.transformation).includes("pre")||Object.keys(r.transformation).includes("post"))){Ye(!0,Ue.INVALID_TRANSFORMATION,s);return}if(Object.keys(r.transformation).includes("pre")&&!r.transformation.pre){Ye(!0,Ue.INVALID_PRE_TRANSFORMATION,s);return}if(Object.keys(r.transformation).includes("post"))if(Array.isArray(r.transformation.post)){var i=KP(r.transformation.post),o;try{for(i.s();!(o=i.n()).done;){var l=o.value;if(l.type==="abs"&&!(l.protocol||l.value)){Ye(!0,Ue.INVALID_POST_TRANSFORMATION,s);return}else if(l.type==="transformation"&&!l.value){Ye(!0,Ue.INVALID_POST_TRANSFORMATION,s);return}}}catch(d){i.e(d)}finally{i.f()}}else{Ye(!0,Ue.INVALID_POST_TRANSFORMATION,s);return}}var c=new FormData,u;for(u in r)u&&(u==="file"&&typeof r.file!="string"?c.append("file",r.file,String(r.fileName)):u==="tags"&&Array.isArray(r.tags)?c.append("tags",r.tags.join(",")):u==="signature"?c.append("signature",r.signature):u==="expire"?c.append("expire",String(r.expire)):u==="token"?c.append("token",r.token):u==="responseFields"&&Array.isArray(r.responseFields)?c.append("responseFields",r.responseFields.join(",")):u==="extensions"&&Array.isArray(r.extensions)?c.append("extensions",JSON.stringify(r.extensions)):u==="customMetadata"&&ms(r.customMetadata)==="object"&&!Array.isArray(r.customMetadata)&&r.customMetadata!==null?c.append("customMetadata",JSON.stringify(r.customMetadata)):u==="transformation"&&ms(r.transformation)==="object"&&r.transformation!==null?c.append(u,JSON.stringify(r.transformation)):u==="checks"&&r.checks?c.append("checks",r.checks):r[u]!==void 0&&c.append(u,String(r[u])));c.append("publicKey",n.publicKey),JP(t,c,s)},Pp={width:"w",height:"h",aspectRatio:"ar",background:"bg",border:"b",crop:"c",cropMode:"cm",dpr:"dpr",focus:"fo",quality:"q",x:"x",xCenter:"xc",y:"y",yCenter:"yc",format:"f",videoCodec:"vc",audioCodec:"ac",radius:"r",rotation:"rt",blur:"bl",named:"n",defaultImage:"di",flip:"fl",original:"orig",startOffset:"so",endOffset:"eo",duration:"du",streamingResolutions:"sr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",effectShadow:"e-shadow",effectGradient:"e-gradient",rotate:"rt",grayscale:"e-grayscale",aiUpscale:"e-upscale",aiRetouch:"e-retouch",aiVariation:"e-genvar",aiDropShadow:"e-dropshadow",aiChangeBackground:"e-changebg",aiRemoveBackground:"e-bgremove",aiRemoveBackgroundExternal:"e-removedotbg",contrastStretch:"e-contrast",shadow:"e-shadow",sharpen:"e-sharpen",unsharpMask:"e-usm",gradient:"e-gradient",progressive:"pr",lossless:"lo",colorProfile:"cp",metadata:"md",opacity:"o",trim:"t",zoom:"z",page:"pg",raw:"raw"},jv="path",Nv="query",tA=[jv,Nv],rA=":",nA=",",sA="-",Ar={getDefault:function(){return jv},addAsQueryParameter:function(t){return t.transformationPosition===Nv},validParameters:function(t){return typeof t.transformationPosition>"u"?!1:tA.indexOf(t.transformationPosition)!=-1},getTransformKey:function(t){return t&&(Pp[t]||Pp[t.toLowerCase()])||""},getChainTransformDelimiter:function(){return rA},getTransformDelimiter:function(){return nA},getTransformKeyValueDelimiter:function(){return sA}},Ap="tr";function iA(e){return typeof e=="string"&&e[e.length-1]=="/"&&(e=e.substring(0,e.length-1)),e}function aA(e){return typeof e=="string"&&e[0]=="/"&&(e=e.slice(1)),e}function Pa(e,t){var r="/",n=new RegExp(r+"{1,}","g");return e.join(r).replace(n,r)}var oA=function(t){if(!t.path&&!t.src)return"";var r,n,s;try{t.path?(s=new URL(t.urlEndpoint).pathname,r=new URL(Pa([t.urlEndpoint.replace(s,""),t.path]))):(r=new URL(t.src),n=!0)}catch(l){return console.error(l),""}for(var i in t.queryParameters)r.searchParams.append(i,String(t.queryParameters[i]));var o=lA(t.transformation);return o&&o.length&&(Ar.addAsQueryParameter(t)||n?r.searchParams.append(Ap,o):r.pathname=Pa([Ap+Ar.getChainTransformDelimiter()+o,r.pathname])),s?r.pathname=Pa([s,r.pathname]):r.pathname=Pa([r.pathname]),r.href};function lA(e){if(!Array.isArray(e))return"";for(var t=[],r=0,n=e.length;r<n;r++){var s=[];for(var i in e[r]){var o=e[r][i];if(o!=null){var l=Ar.getTransformKey(i);if(l||(l=i),l!=="")if(["e-grayscale","e-contrast","e-removedotbg","e-bgremove","e-upscale","e-retouch","e-genvar"].includes(l))if(o===!0||o==="-"||o==="true")s.push(l);else continue;else["e-sharpen","e-shadow","e-gradient","e-usm","e-dropshadow"].includes(l)&&(o.toString().trim()===""||o===!0||o==="true")?s.push(l):i==="raw"?s.push(e[r][i]):(l==="di"&&(o=iA(aA(o||"")),o=o.replace(/\//g,"@@")),l==="sr"&&Array.isArray(o)&&(o=o.join("_")),l==="t"&&o.toString().trim()===""&&(o="true"),s.push([l,o].join(Ar.getTransformKeyValueDelimiter())))}}s.length&&t.push(s.join(Ar.getTransformDelimiter()))}return t.join(Ar.getChainTransformDelimiter())}var cA=function(t,r){return oA(gn(gn({},r),t))};function uA(e){return e.urlEndpoint}var dA=function(t,r){return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(s.length===r.length&&typeof s[s.length-1]<"u"){if(typeof s[s.length-1]!="function")throw new Error("Callback must be a function.");r.call.apply(r,[t].concat(s))}else return new Promise(function(o,l){var c=function(d){if(d)return l(d);for(var h=arguments.length,f=new Array(h>1?h-1:0),g=1;g<h;g++)f[g-1]=arguments[g];o(f.length>1?f:f[0])};s.pop(),s.push(c),r.call.apply(r,[t].concat(s))})}},hA=function(){function e(t){if(WP(this,e),kv(this,"options",{sdkVersion:"javascript-".concat(YP),publicKey:"",urlEndpoint:"",transformationPosition:Ar.getDefault()}),this.options=gn(gn({},this.options),t||{}),!uA(this.options))throw Ue.MANDATORY_INITIALIZATION_MISSING;if(!Ar.validParameters(this.options))throw Ue.INVALID_TRANSFORMATION_POSITION}return QP(e,[{key:"url",value:function(r){return cA(r,this.options)}},{key:"upload",value:function(r,n,s){var i;if(typeof n=="function"?i=n:s=n||{},!r||ms(r)!=="object")return Ye(!0,Ue.INVALID_UPLOAD_OPTIONS,i);var o=gn(gn({},this.options),s),l=r||{},c=l.xhr;delete r.xhr;var u=c||new XMLHttpRequest;return dA(this,eA)(u,r,o,i)}}]),e}();new hA({publicKey:"public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=",urlEndpoint:"https://ik.imagekit.io/h3qzmviwv"});const wh=async(e,t,r)=>new Promise((n,s)=>{const i=new FormData;i.append("file",e),i.append("fileName",e.name),i.append("folder",`/baptizo/${t}`),i.append("publicKey","public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=");const o=new XMLHttpRequest;o.upload.addEventListener("progress",c=>{if(c.lengthComputable&&r){const u=Math.round(c.loaded/c.total*100);r(u)}}),o.addEventListener("load",()=>{if(o.status===200)try{const c=JSON.parse(o.responseText);n(c.url)}catch{s(new Error("Failed to parse response"))}else s(new Error(`Upload failed with status ${o.status}`))}),o.addEventListener("error",()=>{s(new Error("Upload failed"))}),o.open("POST","https://upload.imagekit.io/api/v1/files/upload");const l=btoa("private_RDhLHlvGS4fKh49gv6q5Ygv2bHg=:");o.setRequestHeader("Authorization",`Basic ${l}`),o.send(i)}),Sv=e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type),fA=e=>["video/mp4","video/webm","video/ogg"].includes(e.type),Cv=(e,t,r)=>{if(!e)return"";const n=[];if(n.push(`w-${t}`),n.push(`h-${r}`),n.length===0)return e;const s=`tr:${n.join(",")}`;return e.replace("/baptizo/",`/baptizo/${s}/`)};function Gr({src:e,alt:t="Avatar",size:r="md",className:n}){const s={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-14 h-14",xl:"w-20 h-20"},i={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-7 h-7",xl:"w-10 h-10"};return a.jsx("div",{className:Qe("rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",s[r],n),children:e?a.jsx("img",{src:Cv(e,200,200),alt:t,className:"w-full h-full object-cover"}):a.jsx(qt,{className:Qe("text-white",i[r])})})}const mA={1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th"},pA={1:"from-yellow-400 to-yellow-600",2:"from-gray-300 to-gray-500",3:"from-orange-400 to-orange-600",4:"from-blue-400 to-blue-600",5:"from-green-400 to-green-600"};function Tv({position:e,className:t}){return e<1||e>5?null:a.jsx(B.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20},className:Qe("inline-flex items-center gap-1.5",t),children:a.jsxs("div",{className:Qe("px-3 py-1 rounded-full flex items-center gap-1.5 shadow-lg","bg-gradient-to-r text-white font-bold text-sm",pA[e]),children:[a.jsx(rn,{className:"w-4 h-4"}),a.jsx("span",{children:"SENT"}),a.jsxs("span",{className:"text-xs opacity-90",children:["(",mA[e],")"]})]})})}function Re(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gA(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Aa=43200,Ep=1440;let xA={};function yA(){return xA}function Rp(e){const t=Re(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ha(e,t){const r=Re(e),n=Re(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function vA(e){return gA(e,Date.now())}function bA(e,t){const r=Re(e),n=Re(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function wA(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function kA(e,t){return+Re(e)-+Re(t)}function jA(e){const t=Re(e);return t.setHours(23,59,59,999),t}function NA(e){const t=Re(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function SA(e){const t=Re(e);return+jA(t)==+NA(t)}function CA(e,t){const r=Re(e),n=Re(t),s=Ha(r,n),i=Math.abs(bA(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Ha(r,n)===-s;SA(Re(e))&&i===1&&Ha(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function TA(e,t,r){const n=kA(e,t)/1e3;return wA(r==null?void 0:r.roundingMethod)(n)}const PA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AA=(e,t,r)=>{let n;const s=PA[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const EA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_A={date:cc({formats:EA,defaultWidth:"full"}),time:cc({formats:RA,defaultWidth:"full"}),dateTime:cc({formats:IA,defaultWidth:"full"})},MA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DA=(e,t,r,n)=>MA[e];function Qs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const LA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$A={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zA=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},UA={ordinalNumber:zA,era:Qs({values:LA,defaultWidth:"wide"}),quarter:Qs({values:OA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qs({values:VA,defaultWidth:"wide"}),day:Qs({values:FA,defaultWidth:"wide"}),dayPeriod:Qs({values:BA,defaultWidth:"wide",formattingValues:$A,defaultFormattingWidth:"wide"})};function Gs(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?WA(l,h=>h.test(o)):qA(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function qA(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function WA(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function HA(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const QA=/^(\d+)(th|st|nd|rd)?/i,GA=/\d+/i,KA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YA={any:[/^b/i,/^(a|c)/i]},XA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JA={any:[/1/i,/2/i,/3/i,/4/i]},ZA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iE={ordinalNumber:HA({matchPattern:QA,parsePattern:GA,valueCallback:e=>parseInt(e,10)}),era:Gs({matchPatterns:KA,defaultMatchWidth:"wide",parsePatterns:YA,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:XA,defaultMatchWidth:"wide",parsePatterns:JA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gs({matchPatterns:ZA,defaultMatchWidth:"wide",parsePatterns:eE,defaultParseWidth:"any"}),day:Gs({matchPatterns:tE,defaultMatchWidth:"wide",parsePatterns:rE,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:nE,defaultMatchWidth:"any",parsePatterns:sE,defaultParseWidth:"any"})},aE={code:"en-US",formatDistance:AA,formatLong:_A,formatRelative:DA,localize:UA,match:iE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oE(e,t,r){const n=yA(),s=(r==null?void 0:r.locale)??n.locale??aE,i=2520,o=Ha(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Re(t),u=Re(e)):(c=Re(e),u=Re(t));const d=TA(u,c),h=(Rp(u)-Rp(c))/1e3,f=Math.round((d-h)/60);let g;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<Ep){const y=Math.round(f/60);return s.formatDistance("aboutXHours",y,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<Aa){const y=Math.round(f/Ep);return s.formatDistance("xDays",y,l)}else if(f<Aa*2)return g=Math.round(f/Aa),s.formatDistance("aboutXMonths",g,l)}if(g=CA(u,c),g<12){const y=Math.round(f/Aa);return s.formatDistance("xMonths",y,l)}else{const y=g%12,v=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",v,l):y<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function On(e,t){return oE(e,vA(e),t)}function _s({isOpen:e,onClose:t,children:r,title:n,className:s}){return b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),b.useEffect(()=>{const i=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e,t]),uy.createPortal(a.jsx(Ln,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:t}),a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:a.jsxs(B.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:Qe("w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar","bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl","border border-light-border dark:border-dark-border",s),onClick:i=>i.stopPropagation(),children:[n&&a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-light-border dark:border-dark-border",children:[a.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:n}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:a.jsx(Qr,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})})]}),a.jsxs("div",{className:n?"p-6":"p-6 relative",children:[!n&&a.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:a.jsx(Qr,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),r]})]})})]})}),document.body)}function lE({isOpen:e,onClose:t,postId:r}){var w;const{user:n}=X(),[s,i]=b.useState(""),[o,l]=b.useState(null),[c,u]=b.useState(""),[d,h]=b.useState(!1),f=Z(L.users.getAllUsers,n&&(n.role==="admin"||n.role==="super_admin")?{adminId:n._id}:"skip"),g=K(L.assignments.createAssignment),y=f==null?void 0:f.filter(p=>p.name.toLowerCase().includes(s.toLowerCase())||p.email.toLowerCase().includes(s.toLowerCase())).slice(0,5),v=async p=>{if(p.preventDefault(),!(!n||!o||!c.trim())){h(!0);try{await g({adminId:n._id,userId:o,postId:r,instructions:c.trim()}),t(),l(null),u(""),i("")}catch(x){console.error("Failed to assign task:",x),alert("Failed to assign task. Please try again.")}finally{h(!1)}}};return a.jsx(_s,{isOpen:e,onClose:t,title:"Assign Task",children:a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Select Member"}),a.jsxs("div",{className:"relative",children:[a.jsx(hv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),placeholder:"Search by name or email...",className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500"})]}),s&&y&&a.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:y.map(p=>a.jsxs("div",{onClick:()=>l(p._id),className:`p-2 rounded-lg cursor-pointer flex items-center gap-2 transition-colors ${o===p._id?"bg-primary-500 text-white":"bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg text-light-text dark:text-dark-text"}`,children:[a.jsx(qt,{className:"w-4 h-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:p.name}),a.jsx("p",{className:"text-xs opacity-80",children:p.email})]}),o===p._id&&a.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})]},p._id))}),o&&!s&&a.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-primary-100 dark:bg-primary-900 border border-primary-500 text-primary-700 dark:text-primary-300 text-sm",children:["Selected: ",(w=f==null?void 0:f.find(p=>p._id===o))==null?void 0:w.name]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Instructions"}),a.jsx("textarea",{value:c,onChange:p=>u(p.target.value),placeholder:"Describe the task for this member...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(q,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),a.jsx(q,{type:"submit",variant:"primary",disabled:!o||!c.trim()||d,children:d?"Assigning...":"Assign Task"})]})]})})}function cE({isOpen:e,onClose:t,postId:r,postContent:n}){const{user:s}=X(),i=K(L.responses.submitResponse),[o,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(""),f=async g=>{if(g.preventDefault(),!(!s||!o.trim())){u(!0),h("");try{await i({userId:s._id,postId:r,content:o.trim()}),t(),l("")}catch(y){console.error("Failed to submit response:",y),y.message.includes("Vacancy Filled")?h("Sorry, the response slots for this post are full."):y.message.includes("already responded")?h("You have already responded to this post."):h("Failed to submit response. Please try again.")}finally{u(!1)}}};return a.jsx(_s,{isOpen:e,onClose:t,title:"Submit Official Response",children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"bg-light-bg dark:bg-dark-bg p-3 rounded-lg text-sm text-light-muted dark:text-dark-muted mb-4 border-l-4 border-primary-500",children:[a.jsx("p",{className:"font-medium mb-1",children:"Replying to Official Post:"}),a.jsxs("p",{className:"line-clamp-2 italic",children:['"',n,'"']})]}),d&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg flex items-center gap-2 text-sm",children:[a.jsx(ov,{className:"w-4 h-4"}),d]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Your Response"}),a.jsx("textarea",{value:o,onChange:g=>l(g.target.value),placeholder:"Type your official response here...",className:"w-full min-h-[150px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text resize-y",autoFocus:!0}),a.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1 text-right",children:[o.length," characters"]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(q,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),a.jsxs(q,{type:"submit",variant:"primary",disabled:!o.trim()||c,className:"flex items-center gap-2",children:[a.jsx(fv,{className:"w-4 h-4"}),c?"Submitting...":"Submit Response"]})]})]})})}function uE({responses:e}){const t=It();if(!e||e.length===0)return null;const r=e.slice(0,2),n=e[0].postId;return a.jsxs("div",{className:"mt-4 space-y-3 border-t border-light-border dark:border-dark-border pt-4",children:[a.jsxs("h4",{className:"text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider flex items-center justify-between",children:["Official Responses",e.length>0&&a.jsxs("span",{className:"text-primary-500",children:[e.length," total"]})]}),a.jsx("div",{className:"space-y-2",children:r.map((s,i)=>a.jsx(dE,{response:s,rank:i+1,tier:i<5?"gold":"silver",compact:!0},s._id))}),e.length>0&&a.jsxs("button",{onClick:()=>t(`/post/${n}/responses`),className:"w-full py-2.5 text-sm text-primary-500 hover:text-primary-600 dark:text-primary-400 font-bold flex items-center justify-center gap-2 hover:bg-primary-50 dark:hover:bg-primary-900/10 rounded-xl transition-all border border-transparent hover:border-primary-500/20",children:["View Detailed Responses ",a.jsx(OT,{className:"w-4 h-4"})]})]})}function dE({response:e,rank:t,tier:r,compact:n}){const s=r==="gold";return a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border transition-all ${s?"bg-primary-50/50 dark:bg-primary-900/10 border-primary-200 dark:border-primary-800":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:[a.jsxs("div",{className:`flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold ${s?"bg-primary-500 text-white":"bg-secondary-500 text-white"}`,children:["#",t]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Gr,{src:e.userAvatar,alt:e.userName,size:"sm"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-semibold text-sm text-light-text dark:text-dark-text truncate",children:e.userName}),a.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted whitespace-nowrap",children:On(e.createdAt,{addSuffix:!0})})]}),a.jsx("p",{className:`text-sm text-light-text dark:text-dark-text mt-1 whitespace-pre-wrap ${n?"line-clamp-2":""}`,children:e.content}),e.grade!==void 0&&a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsxs(H,{variant:e.grade>=70?"success":"default",className:"text-[10px] md:text-xs",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&a.jsxs(H,{variant:"primary",className:"text-[10px] md:text-xs flex items-center gap-1 animate-pulse",children:[a.jsx(Fe,{className:"w-3 h-3"}),"Winner / Awarded"]}),!n&&e.feedback&&a.jsxs("span",{className:"text-xs text-light-muted italic text-ellipsis overflow-hidden",children:['"',e.feedback,'"']})]})]})]})}function hE({src:e,alt:t,onClose:r,layoutId:n}){return a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm shadow-2xl overflow-hidden",onClick:r,children:[a.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[110] flex items-center justify-between p-4 bg-gradient-to-b from-black/60 to-transparent",onClick:s=>s.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white","aria-label":"Back",children:a.jsx(cv,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-white font-medium truncate max-w-[200px]",children:t||"Image"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:a.jsx(mv,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:a.jsx(FT,{className:"w-5 h-5"})}),a.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:a.jsx(Qr,{className:"w-6 h-6"})})]})]}),a.jsx(B.div,{className:"relative z-[105] w-full h-full flex items-center justify-center p-4",onClick:s=>s.stopPropagation(),children:a.jsx(B.img,{layoutId:n,src:e,alt:t,className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm",draggable:!1})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent pointer-events-none",children:a.jsx("p",{className:"text-white/60 text-sm text-center max-w-2xl mx-auto",children:t})})]})}function fE({post:e,onLike:t,onCommentClick:r,hasUserLiked:n=!1}){var Me,_t,na,Vn,nn,Mt,ml;const{user:s}=X(),i=It(),o=K(L.posts.likePost),l=K(L.posts.pinPost),c=K(L.posts.deletePost),u=K(L.editDelete.editPost),[d,h]=b.useState(!1),[f,g]=b.useState(!1),[y,v]=b.useState(!1),[w,p]=b.useState(!1),[x,m]=b.useState(e.content),[k,j]=b.useState(!1),[N,C]=b.useState(!1),S=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="super_admin",R=((Me=e.author)==null?void 0:Me.role)==="admin"||((_t=e.author)==null?void 0:_t.role)==="super_admin",E=Z(L.responses.getPostResponses,R?{postId:e._id}:"skip"),O=((E==null?void 0:E.length)||0)>=10,ne=E==null?void 0:E.some(ze=>ze.userId===(s==null?void 0:s._id)),Q=e.isResponseEnabled,it=K(L.posts.toggleResponseStatus),[J,Ne]=b.useState(!1),P=async()=>{if(!(!s||!S)){Ne(!0);try{await it({adminId:s._id,postId:e._id,isEnabled:!Q})}catch(ze){console.error("Failed to toggle response status",ze)}finally{Ne(!1)}}},_=((na=e.author)==null?void 0:na.role)==="admin",V=((Vn=e.author)==null?void 0:Vn.role)==="super_admin",D=async()=>{if(!(!s||f)){g(!0);try{await o({userId:s._id,postId:e._id}),t==null||t()}catch(ze){console.error("Failed to like post:",ze)}finally{g(!1)}}},ee=async()=>{if(!(!s||!x.trim()))try{await u({userId:s._id,postId:e._id,content:x.trim()}),p(!1)}catch(ze){console.error("Failed to edit post:",ze),alert(ze instanceof Error?ze.message:"Failed to edit post")}},Wt=async()=>{if(!(!s||!S)){try{await l({adminId:s._id,postId:e._id,isPinned:!e.isPinned})}catch(ze){console.error("Failed to pin post:",ze)}h(!1)}},ft=async()=>{if(!(!s||!S)){if(confirm("Are you sure you want to delete this post?"))try{await c({adminId:s._id,postId:e._id})}catch(ze){console.error("Failed to delete post:",ze)}h(!1)}},gr=`glass rounded-xl p-4 md:p-6 shadow-md hover:shadow-xl transition-shadow duration-300 ${V?"border border-yellow-500/30 bg-gradient-to-br from-yellow-500/5 to-transparent":_?"border border-primary-500/30 bg-gradient-to-br from-primary-500/5 to-transparent":""}`;return a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:gr,children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx(Gr,{src:(nn=e.author)==null?void 0:nn.avatarUrl,alt:((Mt=e.author)==null?void 0:Mt.name)||"User",size:"md",className:V?"ring-2 ring-yellow-500":_?"ring-2 ring-primary-500":""}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[a.jsxs("h4",{className:"font-semibold text-light-text dark:text-dark-text flex items-center gap-2",children:[((ml=e.author)==null?void 0:ml.name)||"Unknown User",V&&a.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-400 font-bold tracking-wider uppercase bg-yellow-100 dark:bg-yellow-900/30 px-2 py-0.5 rounded-full border border-yellow-200 dark:border-yellow-800",children:"Super Admin"})]}),V?a.jsxs(H,{variant:"primary",className:"text-xs flex items-center gap-1 bg-gradient-to-r from-yellow-500 to-amber-600 text-white border border-yellow-300",children:[a.jsx(hs,{className:"w-3 h-3 fill-yellow-200"}),"Official"]}):_?a.jsxs(H,{variant:"primary",className:"text-xs flex items-center gap-1 bg-gradient-to-r from-primary-500 to-primary-600 text-white",children:[a.jsx(hs,{className:"w-3 h-3"}),"Admin"]}):a.jsxs(H,{variant:"default",className:"text-xs flex items-center gap-1",children:[a.jsx(qt,{className:"w-3 h-3"}),"Member"]}),e.isPinned&&a.jsx(bp,{className:"w-4 h-4 text-accent-500 fill-accent-500"}),e.rewardPosition&&a.jsx(Tv,{position:e.rewardPosition})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-light-muted dark:text-dark-muted",children:[a.jsx("span",{children:On(e.createdAt,{addSuffix:!0})}),a.jsx("span",{children:""}),a.jsx(H,{variant:e.category==="Ancient Culture"?"primary":"secondary",className:"text-xs",children:e.category})]})]})]}),S&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>h(!d),className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:a.jsx(HT,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),d&&a.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute right-0 mt-2 w-48 glass rounded-lg shadow-xl p-2 z-10",children:[a.jsxs("button",{onClick:()=>{h(!1),j(!0)},className:"w-full flex items-center gap-2 px-3 py-2 rounded hover:bg-light-bg dark:hover:bg-dark-bg text-left text-sm text-primary-500",children:[a.jsx(QT,{className:"w-4 h-4"}),"Assign Task"]}),a.jsxs("button",{onClick:Wt,className:"w-full flex items-center gap-2 px-3 py-2 rounded hover:bg-light-bg dark:hover:bg-dark-bg text-left text-sm",children:[a.jsx(bp,{className:"w-4 h-4"}),e.isPinned?"Unpin":"Pin"," Post"]}),a.jsxs("button",{onClick:ft,className:"w-full flex items-center gap-2 px-3 py-2 rounded hover:bg-red-50 dark:hover:bg-red-950 text-red-500 text-left text-sm",children:[a.jsx(pv,{className:"w-4 h-4"}),"Delete Post"]})]})]})]}),w?a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsx("textarea",{value:x,onChange:ze=>m(ze.target.value),className:"w-full min-h-[100px] p-3 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Edit your post..."}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{onClick:()=>{p(!1),m(e.content)},className:"px-4 py-2 rounded-lg border border-light-border dark:border-dark-border hover:bg-light-card dark:hover:bg-dark-card transition-colors flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4"}),"Cancel"]}),a.jsxs("button",{onClick:ee,disabled:!x.trim(),className:"px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(Rs,{className:"w-4 h-4"}),"Save"]})]})]}):a.jsxs("div",{onClick:()=>i(`/post/${e._id}`),className:"cursor-pointer group",children:[a.jsx("p",{className:"text-light-text dark:text-dark-text mb-2 whitespace-pre-wrap line-clamp-3",children:e.content}),e.content.length>150&&a.jsx("span",{className:"text-primary-500 text-sm font-medium group-hover:underline",children:"Read more..."})]}),e.imageUrl&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4 rounded-lg overflow-hidden cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>v(!0),children:a.jsx(B.img,{layoutId:`post-image-${e._id}`,src:e.imageUrl,alt:"Post image",className:"w-full max-h-96 object-cover"})}),a.jsx(Ln,{children:y&&a.jsx(hE,{layoutId:`post-image-${e._id}`,src:e.imageUrl,alt:"Full post image",onClose:()=>v(!1)})})]}),e.videoUrl&&a.jsx("div",{className:"mb-4 rounded-lg overflow-hidden bg-black",children:a.jsx("video",{src:e.videoUrl,controls:!0,className:"w-full max-h-96"})}),a.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[a.jsxs(B.button,{onClick:D,disabled:f,whileTap:{scale:.9},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all ${n?"text-red-500 bg-red-50 dark:bg-red-950":"text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card"}`,children:[a.jsx(B.div,{animate:n?{scale:[1,1.3,1]}:{scale:1},transition:{duration:.3},children:a.jsx(ll,{className:`w-5 h-5 transition-all duration-300 ${n?"fill-red-500 text-red-500":""}`})}),a.jsx("span",{className:"text-sm font-medium",children:e.likeCount})]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-light-muted dark:text-dark-muted hover:bg-light-card dark:hover:bg-dark-card transition-all",children:[a.jsx(qi,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:e.commentCount})]})]}),R&&a.jsxs("div",{className:"px-4 pb-4",children:[S&&a.jsxs("div",{className:"flex items-center justify-between mb-3 bg-light-bg dark:bg-dark-bg p-2 rounded-lg border border-light-border dark:border-dark-border",children:[a.jsxs("span",{className:"text-xs font-medium text-light-muted dark:text-dark-muted flex items-center gap-2",children:[a.jsx(hs,{className:"w-3 h-3"}),"Official Responses: ",a.jsx("span",{className:Q?"text-green-500":"text-gray-500",children:Q?"ENABLED":"DISABLED"})]}),a.jsxs("button",{onClick:P,disabled:J,className:`text-xs px-2 py-1 rounded transition-colors flex items-center gap-1 ${Q?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200"}`,children:[Q?a.jsx(XT,{className:"w-4 h-4"}):a.jsx(YT,{className:"w-4 h-4"}),Q?"Disable":"Enable"]})]}),!S&&!ne&&!O&&Q&&a.jsxs("button",{onClick:()=>C(!0),className:"w-full mt-3 py-2 px-4 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-medium flex items-center justify-center gap-2 transition-colors shadow-lg shadow-primary-500/20",children:[a.jsx(xp,{className:"w-4 h-4"}),"Submit Official Response"]}),!S&&!Q&&!ne&&a.jsx("div",{className:"mt-3 py-2 text-center text-xs text-light-muted italic",children:"Responses are currently closed for this post."}),O&&!S&&a.jsxs("div",{className:"mt-3 py-2 px-4 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 font-medium flex items-center justify-center gap-2 border border-gray-200 dark:border-gray-700",children:[a.jsx(ov,{className:"w-4 h-4"}),"Vacancy Filled (Max 10 Responses)"]}),ne&&a.jsxs("div",{className:"mt-3 py-2 px-4 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 font-medium flex items-center justify-center gap-2 border border-green-200 dark:border-green-800",children:[a.jsx(xp,{className:"w-4 h-4"}),"Response Submitted"]}),E&&E.length>0&&a.jsx(uE,{responses:E})]}),S&&a.jsx(lE,{isOpen:k,onClose:()=>j(!1),postId:e._id}),R&&a.jsx(cE,{isOpen:N,onClose:()=>C(!1),postId:e._id,postContent:e.content})]})}function uc(){return a.jsxs("div",{className:"glass rounded-xl p-6 shadow-md animate-pulse",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"h-4 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),a.jsx("div",{className:"h-4 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),a.jsx("div",{className:"h-3 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),a.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),a.jsx("div",{className:"h-4 w-4/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),a.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[a.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"}),a.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]})]})}function kh({category:e,onCommentClick:t}){const{user:r}=X(),[n,s]=b.useState(e),[i,o]=b.useState(0),l=Z(L.posts.getPosts,{category:n,limit:50}),c=()=>{o(u=>u+1)};return l===void 0?a.jsxs("div",{className:"space-y-4",children:[a.jsx(uc,{}),a.jsx(uc,{}),a.jsx(uc,{})]}):a.jsxs("div",{className:"space-y-6",children:[!e&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>s(void 0),className:`px-4 py-2 rounded-lg font-medium transition-all ${n===void 0?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"All Posts"}),a.jsx("button",{onClick:()=>s("Ancient Culture"),className:`px-4 py-2 rounded-lg font-medium transition-all ${n==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient Culture"}),a.jsx("button",{onClick:()=>s("Wisdom of The Now"),className:`px-4 py-2 rounded-lg font-medium transition-all ${n==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom of The Now"})]}),l.length===0?a.jsx("div",{className:"text-center py-12 glass rounded-xl",children:a.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts yet. Be the first to share your learning!"})}):a.jsx(Ln,{mode:"popLayout",children:a.jsx("div",{className:"space-y-4",children:l.map(u=>a.jsx(fE,{post:u,onLike:c,onCommentClick:()=>t==null?void 0:t(u),hasUserLiked:!1},`${u._id}-${i}`))})})]})}function mE({title:e,description:t,imageUrl:r}){return a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden",children:[a.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-2",children:e}),a.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed",children:t})]})]})}function pE(){const{user:e,isLoading:t}=X(),r=It(),n=Z(L.announcements.getAnnouncements,e?{category:"General"}:"skip");return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?(console.log("Announcements:",n),a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[n&&n.length>0&&a.jsx("div",{className:"mb-8 space-y-6",children:n.map(s=>a.jsx(mE,{title:s.title,description:s.description,imageUrl:s.imageUrl},s._id))}),a.jsx(kh,{onCommentClick:s=>r(`/post/${s._id}`)})]})})):a.jsx(pr,{to:"/login",replace:!0})}function gE({onUploadComplete:e,allowVideo:t=!1,currentMedia:r}){const[n,s]=b.useState(!1),[i,o]=b.useState(0),[l,c]=b.useState(r),u=b.useRef(null),d=b.useRef(null),h=async(g,y)=>{if(y==="image"&&!Sv(g)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}if(y==="video"&&!fA(g)){alert("Please upload a valid video file (MP4, WebM, or OGG)");return}const v=new FileReader;v.onloadend=()=>{c({url:v.result,type:y})},v.readAsDataURL(g),s(!0),o(0);try{const p=await wh(g,y==="image"?"posts/images":"posts/videos",o);e(p,y),c({url:p,type:y})}catch(w){console.error("Upload failed:",w),alert(`Failed to upload ${y}. Please try again.`),c(r)}finally{s(!1),o(0)}},f=()=>{c(void 0),e("","image"),u.current&&(u.current.value=""),d.current&&(d.current.value="")};return a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ln,{children:l&&a.jsxs(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative rounded-lg overflow-hidden bg-light-card dark:bg-dark-card",children:[l.type==="image"?a.jsx("img",{src:l.url,alt:"Preview",className:"w-full max-h-96 object-contain"}):a.jsx("video",{src:l.url,controls:!0,className:"w-full max-h-96 object-contain"}),n&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(dv,{className:"w-8 h-8 text-white animate-spin mx-auto mb-2"}),a.jsxs("span",{className:"text-sm text-white font-medium",children:[i,"%"]})]})}),!n&&a.jsx("button",{onClick:f,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:a.jsx(Qr,{className:"w-5 h-5 text-white"})})]})}),!l&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];y&&h(y,"image")},className:"hidden",disabled:n}),a.jsxs("button",{type:"button",onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},disabled:n,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[a.jsx(zT,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Add Image"})]}),t&&a.jsxs(a.Fragment,{children:[a.jsx("input",{ref:d,type:"file",accept:"video/*",onChange:g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];y&&h(y,"video")},className:"hidden",disabled:n}),a.jsxs("button",{type:"button",onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},disabled:n,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-secondary-500 dark:hover:border-secondary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-secondary-500",children:[a.jsx(ZT,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Add Video"})]})]})]})]})}function Pv({onSuccess:e}){const{user:t}=X(),r=K(L.posts.createPost),[n,s]=b.useState(""),[i,o]=b.useState("Ancient Culture"),[l,c]=b.useState(""),[u,d]=b.useState(null),[h,f]=b.useState(!1),[g,y]=b.useState(""),v=(p,x)=>{c(p),d(x)},w=async p=>{if(p.preventDefault(),!t){y("You must be logged in to post");return}if(n.trim().length<10){y("Post must be at least 10 characters");return}y(""),f(!0);try{await r({authorId:t._id,content:n.trim(),category:i,imageUrl:u==="image"?l:void 0,videoUrl:u==="video"?l:void 0}),s(""),c(""),d(null),e==null||e()}catch(x){y(x instanceof Error?x.message:"Failed to create post")}finally{f(!1)}};return a.jsxs(B.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:w,className:"glass rounded-xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(rn,{className:"w-5 h-5 text-primary-500"}),a.jsx("h3",{className:"text-xl font-semibold text-light-text dark:text-dark-text",children:"Share Your Learning"})]}),g&&a.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:g})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>o("Ancient Culture"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${i==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient Culture"}),a.jsx("button",{type:"button",onClick:()=>o("Wisdom of The Now"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${i==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom of The Now"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"What did you learn?"}),a.jsx("textarea",{value:n,onChange:p=>s(p.target.value),placeholder:"Share your insights, revelations, and key takeaways from today's teaching session...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0}),a.jsxs("p",{className:"mt-1 text-xs text-light-muted dark:text-dark-muted",children:[n.length," characters"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Add Media (Optional)"}),a.jsx(gE,{onUploadComplete:v,allowVideo:(t==null?void 0:t.role)==="admin",currentMedia:l?{url:l,type:u}:void 0}),(t==null?void 0:t.role)==="admin"&&a.jsx("p",{className:"mt-1 text-xs text-accent-500",children:" As an admin, you can upload both images and videos"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:[" Be among the first 5 to post and earn the ",a.jsx("strong",{className:"text-primary-500",children:"SENT"})," badge!"]}),a.jsx(q,{type:"submit",variant:"primary",isLoading:h,disabled:n.trim().length<10,children:"Post"})]})]})]})}function xE(){const{user:e,isLoading:t}=X(),[r,n]=b.useState(0);return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-primary-500/10 to-primary-600/10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(Pn,{className:"w-6 h-6 md:w-8 md:h-8 text-primary-500"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 font-display",children:"Ancient Culture"})]}),a.jsx("p",{className:"text-light-text dark:text-dark-text text-base md:text-lg",children:"Teachings based on prophetic wisdom and systems from the Old Testament"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Pv,{onSuccess:()=>n(s=>s+1)}),a.jsx(kh,{category:"Ancient Culture"},r)]})]})}):a.jsx(pr,{to:"/login",replace:!0})}function yE(){const{user:e,isLoading:t}=X(),[r,n]=b.useState(0);return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-secondary-500/10 to-secondary-600/10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(rn,{className:"w-6 h-6 md:w-8 md:h-8 text-secondary-500"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary-600 dark:text-secondary-400 font-display",children:"Wisdom of The Now"})]}),a.jsx("p",{className:"text-light-text dark:text-dark-text text-base md:text-lg",children:"Teachings based on spiritual identity and insights from the New Testament"})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(Pv,{onSuccess:()=>n(s=>s+1)}),a.jsx(kh,{category:"Wisdom of The Now"},r)]})]})}):a.jsx(pr,{to:"/login",replace:!0})}function vE({currentAvatarUrl:e,onUploadComplete:t,size:r="lg"}){const[n,s]=b.useState(!1),[i,o]=b.useState(0),[l,c]=b.useState(e),[u,d]=b.useState(!1),h=b.useRef(null),f={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},g=async v=>{var x;const w=(x=v.target.files)==null?void 0:x[0];if(!w)return;if(!Sv(w)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}const p=new FileReader;p.onloadend=()=>{c(p.result)},p.readAsDataURL(w),s(!0),o(0),d(!1);try{const m=await wh(w,"avatars",o);t(m),c(m),d(!0),setTimeout(()=>d(!1),3e3)}catch(m){console.error("Upload failed:",m),alert("Failed to upload avatar. Please try again."),c(e)}finally{s(!1),o(0)}},y=()=>{c(void 0),t(""),h.current&&(h.current.value="")};return a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`${f[r]} rounded-full overflow-hidden border-4 border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card flex items-center justify-center`,children:l?a.jsx("img",{src:Cv(l,200,200),alt:"Avatar",className:"w-full h-full object-cover"}):a.jsx(Ou,{className:"w-8 h-8 text-light-muted dark:text-dark-muted"})}),n&&a.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(dv,{className:"w-6 h-6 text-white animate-spin mx-auto mb-1"}),a.jsxs("span",{className:"text-xs text-white font-medium",children:[i,"%"]})]})}),l&&!n&&a.jsx("button",{onClick:y,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:a.jsx(Qr,{className:"w-4 h-4 text-white"})})]}),a.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:g,className:"hidden",disabled:n}),a.jsxs(q,{onClick:()=>{var v;return(v=h.current)==null?void 0:v.click()},variant:"outline",size:"sm",disabled:n,children:[a.jsx(Ou,{className:"w-4 h-4 mr-2"}),l?"Change Avatar":"Upload Avatar"]}),a.jsx(Ln,{children:u&&a.jsxs(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:[a.jsx(Rs,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),a.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Avatar saved successfully!"})]})})]})}const jh=e=>{if(!e)return"";if(e.length<=4)return e;const t=e.slice(-4);return"*".repeat(e.length-4)+t},bE=e=>{const t=e.replace(/[\s-]/g,"");return/^\d{10}$/.test(t)},wE=e=>e.trim().length>=2&&e.trim().length<=100,kE=e=>e.trim().length>=2&&e.trim().length<=100,jE=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Fidelity Bank","Union Bank","Sterling Bank","Polaris Bank","Wema Bank","Ecobank","Stanbic IBTC","Keystone Bank","FCMB","Unity Bank","Jaiz Bank","Providus Bank","Kuda Bank","OPay","PalmPay","Moniepoint","Other"];function NE({userId:e,isAdminView:t=!1}){const{user:r}=X(),n=e||(r==null?void 0:r._id),s=Z(L.bankingCredentials.getBankingCredentials,n&&(r!=null&&r._id)?{userId:n,viewerId:r._id}:"skip"),i=K(L.bankingCredentials.updateBankingCredentials),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState({bankName:"",accountNumber:"",accountName:""}),[f,g]=b.useState({}),[y,v]=b.useState(!1);b.useEffect(()=>{s&&h({bankName:s.bankName||"",accountNumber:s.accountNumber||"",accountName:s.accountName||""})},[s]);const w=async m=>{m.preventDefault();const k={};if(wE(d.bankName)||(k.bankName="Please enter a valid bank name"),bE(d.accountNumber)||(k.accountNumber="Account number must be 10 digits"),kE(d.accountName)||(k.accountName="Please enter a valid account name"),g(k),!(Object.keys(k).length>0)&&n){v(!0);try{await i({userId:n,bankName:d.bankName.trim(),accountNumber:d.accountNumber.replace(/[\s-]/g,""),accountName:d.accountName.trim()}),l(!1),u(!1)}catch(j){console.error("Failed to update banking credentials:",j),g({submit:"Failed to save banking credentials. Please try again."})}finally{v(!1)}}},p=(s==null?void 0:s.bankName)&&(s==null?void 0:s.accountNumber)&&(s==null?void 0:s.accountName),x=!t&&(r==null?void 0:r._id)===n;return a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(ds,{className:"w-5 h-5 text-accent-500"}),"Banking Information"]})}),a.jsxs(U,{children:[!t&&a.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-light-bg dark:bg-dark-bg flex items-start gap-2",children:[a.jsx(Eo,{className:"w-4 h-4 text-light-muted dark:text-dark-muted mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Your banking information is secure and only visible to you and administrators. This is required to receive rewards for participating in teaching sessions."})]}),o?a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Bank Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:d.bankName,onChange:m=>h({...d,bankName:m.target.value}),className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"",children:"Select your bank"}),jE.map(m=>a.jsx("option",{value:m,children:m},m))]}),f.bankName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.bankName})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:d.accountNumber,onChange:m=>h({...d,accountNumber:m.target.value}),placeholder:"0123456789",maxLength:10,className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono"}),f.accountNumber&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.accountNumber})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:d.accountName,onChange:m=>h({...d,accountName:m.target.value}),placeholder:"John Doe",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500"}),f.accountName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.accountName})]}),f.submit&&a.jsx("p",{className:"text-red-500 text-sm",children:f.submit}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(q,{type:"submit",variant:"primary",className:"flex-1",disabled:y,children:y?"Saving...":"Save"}),a.jsx(q,{type:"button",onClick:()=>{l(!1),g({}),s&&h({bankName:s.bankName||"",accountNumber:s.accountNumber||"",accountName:s.accountName||""})},variant:"secondary",className:"flex-1",disabled:y,children:"Cancel"})]})]}):a.jsx("div",{className:"space-y-4",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Bank Name"}),a.jsx("p",{className:"text-light-text dark:text-dark-text",children:s.bankName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-light-text dark:text-dark-text font-mono",children:c?s.accountNumber:jh(s.accountNumber||"")}),a.jsx("button",{onClick:()=>u(!c),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:c?a.jsx(gh,{className:"w-4 h-4"}):a.jsx(xh,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Name"}),a.jsx("p",{className:"text-light-text dark:text-dark-text",children:s.accountName})]}),x&&a.jsx(q,{onClick:()=>l(!0),variant:"secondary",className:"w-full",children:"Update Banking Information"})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:t?"This user has not added banking information yet.":"Add your banking information to receive rewards."}),x&&a.jsx(q,{onClick:()=>l(!0),variant:"primary",children:"Add Banking Information"})]})})]})]})}function Nt(){const e=It();return a.jsxs("button",{onClick:()=>e(-1),className:"fixed top-20 left-4 z-50 p-3 rounded-full bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md border border-light-border dark:border-dark-border shadow-xl text-light-muted dark:text-dark-muted hover:text-primary-500 dark:hover:text-primary-400 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Go Back",children:[a.jsx(cv,{className:"w-5 h-5 md:w-6 md:h-6"}),a.jsx("span",{className:"sr-only",children:"Back"})]})}function SE(){const{user:e,isLoading:t,updateUser:r}=X(),n=K(L.presence.updateAvatar),s=e?Z(L.users.getUserStats,{userId:e._id}):void 0,i=async o=>{if(e)try{await n({userId:e._id,avatarUrl:o}),r({avatarUrl:o})}catch(l){console.error("Failed to update avatar:",l)}};return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Profile"}),a.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View your account details and community stats"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(qt,{className:"w-5 h-5 text-primary-500"}),"Profile Information"]})}),a.jsxs(U,{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center pb-4 border-b border-light-border dark:border-dark-border",children:a.jsx(vE,{currentAvatarUrl:e.avatarUrl,onUploadComplete:i,size:"lg"})}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Name"}),a.jsx("p",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:e.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Email"}),a.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:e.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Phone"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:bh(e.phone)}),a.jsx(H,{variant:"primary",children:e.network})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Role"}),a.jsx("div",{className:"mt-1",children:a.jsx(H,{variant:e.role==="super_admin"?"secondary":e.role==="admin"?"primary":"default",children:e.role==="super_admin"?"Super Admin":e.role==="admin"?"Admin":"Member"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-light-muted dark:text-dark-muted",children:"WhatsApp Status"}),a.jsx("div",{className:"mt-1",children:a.jsx(H,{variant:e.whatsappVerified?"success":"warning",children:e.whatsappVerified?"Verified":"Not Verified"})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:"w-5 h-5 text-primary-500"}),"Activity Stats"]})}),a.jsx(U,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[a.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Total Posts"}),a.jsx("span",{className:"text-2xl font-bold text-primary-500",children:(s==null?void 0:s.totalPosts)||0})]})})})]}),a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Fe,{className:"w-5 h-5 text-accent-500"}),"Rewards Earned"]})}),a.jsx(U,{children:a.jsx("div",{className:"space-y-3",children:s!=null&&s.rewardPositions&&s.rewardPositions.length>0?a.jsxs("div",{className:"space-y-2",children:[s.rewardPositions.map((o,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-light-bg dark:bg-dark-bg",children:[a.jsxs("span",{className:"text-sm text-light-muted dark:text-dark-muted",children:["Reward #",l+1]}),a.jsx(Tv,{position:o})]},l)),a.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:"Total Rewards"}),a.jsx("span",{className:"text-2xl font-bold text-accent-500",children:s.totalRewards})]})})]}):a.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-4",children:"No rewards yet. Be among the first 5 to post after a teaching session!"})})})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(NE,{})})]})}):a.jsx(pr,{to:"/login",replace:!0})}function CE(){const{user:e}=X(),t=K(L.announcements.createAnnouncement),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState("General"),[d,h]=b.useState(null),[f,g]=b.useState(null),[y,v]=b.useState(!1),[w,p]=b.useState(!1),[x,m]=b.useState(null),k=N=>{var S;const C=(S=N.target.files)==null?void 0:S[0];if(C){h(C);const R=new FileReader;R.onloadend=()=>g(R.result),R.readAsDataURL(C)}},j=async()=>{if(!e||!s||!o||!d){alert("Please fill all fields and select an image");return}v(!0);try{const N=await wh(d,"announcements",void 0);await t({adminId:e._id,title:s,description:o,imageUrl:N,category:c}),i(""),l(""),u("General"),h(null),g(null),n(!1),p(!0),m(null),setTimeout(()=>p(!1),3e3)}catch(N){console.error("Failed to create announcement:",N),m("Failed to create announcement. Please try again.")}finally{v(!1)}};return a.jsxs($,{glass:!0,className:"mb-8",children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsx("span",{children:"Announcement Cards"}),!r&&a.jsxs(q,{onClick:()=>n(!0),variant:"primary",className:"flex items-center justify-center gap-2 w-full sm:w-auto",children:[a.jsx(GT,{className:"w-4 h-4"}),"New Announcement"]})]})}),a.jsxs(U,{children:[w&&a.jsx("div",{className:"mb-4 p-4 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:a.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:" Announcement created successfully!"})}),x&&a.jsx("div",{className:"mb-4 p-4 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-red-800 dark:text-red-200",children:x})}),r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Title"}),a.jsx("input",{type:"text",value:s,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text",placeholder:"Announcement title..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Description"}),a.jsx("textarea",{value:o,onChange:N=>l(N.target.value),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text resize-none",rows:3,placeholder:"Announcement description..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Category"}),a.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text",children:[a.jsx("option",{value:"General",children:"General (Feed)"}),a.jsx("option",{value:"Ancient Culture",children:"Ancient Culture"}),a.jsx("option",{value:"Wisdom of The Now",children:"Wisdom of The Now"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",id:"announcement-image"}),a.jsxs("label",{htmlFor:"announcement-image",className:"flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 cursor-pointer transition-colors w-fit",children:[a.jsx(Ou,{className:"w-5 h-5"}),"Select Image"]}),f&&a.jsx("div",{className:"mt-4 relative w-full h-48 rounded-lg overflow-hidden",children:a.jsx("img",{src:f,alt:"Preview",className:"w-full h-full object-cover"})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[a.jsx(q,{onClick:()=>{n(!1),i(""),l(""),h(null),g(null)},variant:"secondary",className:"w-full sm:w-auto",children:"Cancel"}),a.jsx(q,{onClick:j,variant:"primary",className:"w-full sm:w-auto",disabled:y||!s||!o||!d,children:y?"Creating...":"Create Announcement"})]})]}):a.jsx("p",{className:"text-light-muted dark:text-dark-muted text-center py-8",children:'Click "New Announcement" to create an announcement card'})]})]})}function TE({category:e}){const{user:t}=X(),r=It(),[n,s]=b.useState(!1),i=Z(L.rewardActions.getTop5Responders,(t==null?void 0:t.role)==="admin"&&t._id?{category:e,adminId:t._id}:"skip");if(!t||t.role!=="admin"||!i)return null;const o=i.filter(c=>c.rewardStatus==="pending").length,l=i.filter(c=>c.rewardStatus==="approved").length;return a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Fe,{className:"w-5 h-5 text-accent-500"}),"Top 5 Responders"]})}),a.jsx(U,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"w-5 h-5 text-primary-500"}),a.jsx("span",{className:"font-medium text-light-text dark:text-dark-text",children:e})]}),a.jsxs(H,{variant:"primary",children:[i.length,"/5"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:o}),a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Pending"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-500",children:l}),a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Approved"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-accent-500",children:i.length}),a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Total"})]})]}),i.length>0?a.jsxs("div",{className:"space-y-2 mb-3",children:[i.slice(0,2).map(c=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-light-card dark:bg-dark-card",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-500 text-white flex items-center justify-center text-xs font-bold",children:c.position}),a.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:c.user.name})]}),a.jsx(H,{variant:c.rewardStatus==="approved"?"primary":"default",children:c.rewardStatus})]},c.position)),i.length>2&&a.jsxs("button",{onClick:()=>s(!0),className:"w-full text-center text-xs text-primary-500 hover:text-primary-600 font-medium py-1",children:["View all ",i.length," responders"]})]}):a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted text-center py-4",children:"No responders yet for this session"})]}),a.jsxs(q,{onClick:()=>r("/admin/rewards"),variant:"primary",className:"w-full flex items-center justify-center gap-2",children:["Manage Rewards",a.jsx(us,{className:"w-4 h-4"})]})]})}),a.jsxs(_s,{isOpen:n,onClose:()=>s(!1),title:`Top Responders - ${e}`,children:[a.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:i.map(c=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white shadow-lg ${c.position===1?"bg-yellow-500":c.position===2?"bg-gray-400":c.position===3?"bg-amber-600":"bg-primary-500"}`,children:c.position}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-light-text dark:text-dark-text",children:c.user.name}),a.jsxs("div",{className:"text-xs text-light-muted dark:text-dark-muted space-y-1 mt-1",children:[a.jsx("p",{className:"capitalize",children:c.user.role}),a.jsxs("p",{className:"font-mono text-primary-500",children:[c.user.phone," (",c.user.network,")"]}),c.user.bankName&&a.jsxs("div",{className:"p-1.5 bg-light-bg dark:bg-dark-bg rounded border border-light-border dark:border-dark-border mt-1",children:[a.jsx("p",{className:"font-bold",children:c.user.bankName}),a.jsx("p",{className:"font-mono",children:c.user.accountNumber}),a.jsx("p",{children:c.user.accountName})]})]})]})]}),a.jsx(H,{variant:c.rewardStatus==="approved"?"primary":"default",children:c.rewardStatus})]},c.position))}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(q,{onClick:()=>s(!1),children:"Close"})})]})]})}function PE(){var E;const{user:e,isLoading:t}=X(),[r,n]=b.useState("Ancient Culture"),s=Z(L.users.getAllUsers,e?{adminId:e._id}:"skip"),i=Z(L.sessions.getCurrentSession,{category:r}),o=Z(L.comments.getCommentSettings,{}),l=K(L.sessions.createSession),c=K(L.comments.toggleComments),u=K(L.users.updateUserRole),d=Z(L.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),h=(d==null?void 0:d.length)||0,[f,g]=b.useState(""),[y,v]=b.useState(!1),[w,p]=b.useState(null),x=(s==null?void 0:s.filter(M=>M.name.toLowerCase().includes(f.toLowerCase())||M.email.toLowerCase().includes(f.toLowerCase())))||[],m=(M,O,ne)=>{p({id:M,name:O,currentRole:ne,newRole:ne==="admin"?"member":"admin"}),v(!0)},k=async()=>{if(!(!w||!e))try{await u({adminId:e._id,userId:w.id,newRole:w.newRole}),v(!1),p(null)}catch(M){console.error("Failed to update role",M)}};if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return a.jsx(pr,{to:"/feed",replace:!0});const j=async()=>{if(e)try{await l({adminId:e._id,category:r})}catch(M){console.error("Failed to create session:",M)}},N=(s==null?void 0:s.length)||0,C=(s==null?void 0:s.filter(M=>M.role==="admin"||M.role==="super_admin").length)||0,S=N-C,R=((E=i==null?void 0:i.rewardSlots)==null?void 0:E.filter(M=>M!==void 0).length)||0;return a.jsxs("div",{className:"min-h-screen py-8",children:[a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Manage teaching sessions and view community statistics"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-8",children:[a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text",children:N})]}),a.jsx(Ro,{className:"w-10 h-10 text-primary-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Members"}),a.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text",children:S})]}),a.jsx(Ro,{className:"w-10 h-10 text-secondary-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Admins"}),a.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text",children:C})]}),a.jsx(Fe,{className:"w-10 h-10 text-accent-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-6",children:a.jsxs(ce,{to:"/admin/tasks",className:"flex items-center justify-between group",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Task Reviews"}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("p",{className:"text-3xl font-bold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:h}),a.jsx("span",{className:"text-xs text-light-muted",children:"pending"})]})]}),a.jsx(al,{className:"w-10 h-10 text-blue-500 opacity-20 group-hover:opacity-100 transition-opacity"})]})})})]}),a.jsxs($,{glass:!0,className:"mb-8",children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(kp,{className:"w-5 h-5 text-primary-500"}),"Quick Actions"]})}),a.jsx(U,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(ce,{to:"/admin/reward-responses",children:a.jsxs("div",{className:"p-4 rounded-lg border-2 border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:"Response Rewards"}),a.jsx(us,{className:"w-5 h-5 text-light-muted group-hover:text-primary-500 transition-colors"})]}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"View all responses to your posts with payment info"})]})}),a.jsx(ce,{to:"/admin/responses",children:a.jsxs("div",{className:"p-4 rounded-lg border-2 border-light-border dark:border-dark-border hover:border-accent-500 dark:hover:border-accent-500 transition-all cursor-pointer group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-accent-500 transition-colors",children:"Grade Responses"}),a.jsx(us,{className:"w-5 h-5 text-light-muted group-hover:text-accent-500 transition-colors"})]}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Review and grade pending responses"})]})})]})})]}),a.jsx(CE,{}),a.jsx("div",{className:"mb-8",children:a.jsx(TE,{category:r})}),a.jsxs($,{glass:!0,className:"mb-8",children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(kp,{className:"w-5 h-5 text-accent-500"}),"Session Management"]})}),a.jsx(U,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>n("Ancient Culture"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[a.jsx(Pn,{className:"w-4 h-4"}),"Ancient Culture"]}),a.jsxs("button",{onClick:()=>n("Wisdom of The Now"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[a.jsx(rn,{className:"w-4 h-4"}),"Wisdom of The Now"]})]})]}),i?a.jsxs("div",{className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:["Active Session #",i.sessionNumber]}),a.jsx(H,{variant:r==="Ancient Culture"?"primary":"secondary",children:"Active"})]}),a.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-2",children:["Reward Slots: ",R,"/5 filled"]}),a.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(M=>{var O;return a.jsx("div",{className:`h-2 flex-1 rounded-full ${(O=i.rewardSlots)!=null&&O[M]?"bg-accent-500":"bg-light-border dark:bg-dark-border"}`},M)})})]}):a.jsxs("div",{className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg text-center",children:[a.jsxs("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:["No active session for ",r]}),a.jsx(q,{onClick:j,variant:"primary",children:"Start New Session"})]})]})})]}),a.jsxs($,{glass:!0,className:"mb-8",children:[a.jsx(Ae,{children:a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"w-5 h-5 text-primary-500"}),"Comment Settings"]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-light-text dark:text-dark-text mb-1",children:"Allow Comments"}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:o?"Users can comment on posts":"Comments are disabled for all users"})]}),a.jsx("button",{onClick:async()=>{if(e)try{await c({adminId:e._id,enabled:!o})}catch(M){console.error("Failed to toggle comments:",M)}},className:`relative inline-flex h-7 w-14 items-center rounded-full transition-colors ${o?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${o?"translate-x-8":"translate-x-1"}`})})]})})]}),a.jsxs($,{glass:!0,children:[a.jsxs(Ae,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsx(Ee,{children:"Recent Users (Super Admin Enabled)"}),a.jsx("div",{className:"w-full sm:w-64",children:a.jsx(Jt,{placeholder:"Search by name or email...",value:f,onChange:M=>g(M.target.value),icon:a.jsx(hv,{className:"w-4 h-4"}),className:"h-9"})})]}),a.jsx(U,{children:a.jsx("div",{className:"space-y-3",children:x&&x.length>0?x.slice(0,10).map(M=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-light-text dark:text-dark-text truncate",children:M.name}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted truncate",children:M.email})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(H,{variant:"default",className:"text-[10px]",children:M.network}),a.jsx(H,{variant:M.role==="admin"||M.role==="super_admin"?"primary":"default",className:"text-[10px]",children:M.role}),e.role==="super_admin"&&M.role!=="super_admin"&&a.jsx("button",{onClick:()=>m(M._id,M.name,M.role),className:"px-3 py-1.5 rounded-lg bg-primary-100 dark:bg-primary-900/30 text-[10px] font-bold text-primary-500 hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors w-full sm:w-auto text-center",children:M.role==="admin"?"Demote":"Make Admin"})]})]},M._id)):a.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-4",children:"No users found"})})})]})]}),a.jsx(_s,{isOpen:y,onClose:()=>v(!1),title:"Confirm Role Change",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg",children:[a.jsx(lv,{className:"w-6 h-6 flex-shrink-0"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"Are you sure you want to change this user's role?"})]}),a.jsxs("div",{className:"py-2",children:[a.jsxs("p",{className:"text-light-text dark:text-dark-text",children:["User: ",a.jsx("span",{className:"font-bold",children:w==null?void 0:w.name})]}),a.jsxs("p",{className:"text-light-text dark:text-dark-text",children:["Action: ",a.jsx("span",{className:"font-bold",children:(w==null?void 0:w.currentRole)==="admin"?"Demote to Member":"Promote to Admin"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[a.jsx(q,{variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),a.jsx(q,{variant:"primary",onClick:k,children:"Confirm Change"})]})]})})]})}function AE(){const{user:e,isLoading:t}=X(),[r,n]=b.useState("Ancient Culture"),[s,i]=b.useState(new Set),o=Z(L.rewardActions.getTop5Responders,(e==null?void 0:e.role)==="admin"&&e._id?{category:r,adminId:e._id}:"skip"),l=K(L.rewardActions.approveReward),c=K(L.rewardActions.cancelReward),[u,d]=b.useState(new Set);if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin")return a.jsx(pr,{to:"/feed",replace:!0});const h=async p=>{if(e){d(x=>new Set(x).add(p));try{await l({rewardActionId:p,adminId:e._id})}catch(x){console.error("Failed to approve reward:",x)}finally{d(x=>{const m=new Set(x);return m.delete(p),m})}}},f=async p=>{if(e&&confirm("Are you sure you want to cancel this reward? The user will not be notified.")){d(x=>new Set(x).add(p));try{await c({rewardActionId:p,adminId:e._id})}catch(x){console.error("Failed to cancel reward:",x)}finally{d(x=>{const m=new Set(x);return m.delete(p),m})}}},g=p=>{i(x=>{const m=new Set(x);return m.has(p)?m.delete(p):m.add(p),m})},y=(o==null?void 0:o.filter(p=>p.rewardStatus==="pending").length)||0,v=(o==null?void 0:o.filter(p=>p.rewardStatus==="approved").length)||0,w=(o==null?void 0:o.filter(p=>p.rewardStatus==="cancelled").length)||0;return a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Reward Management"}),a.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Manage rewards for the top 5 responders to monthly teaching series"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(o==null?void 0:o.length)||0})]}),a.jsx(Fe,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-500",children:y})]}),a.jsx(ds,{className:"w-8 h-8 text-orange-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:v})]}),a.jsx(Ui,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Cancelled"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:w})]}),a.jsx(wp,{className:"w-8 h-8 text-red-500 opacity-20"})]})})})]}),a.jsx($,{glass:!0,className:"mb-8",children:a.jsxs(U,{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>n("Ancient Culture"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[a.jsx(Pn,{className:"w-4 h-4"}),"Ancient Culture"]}),a.jsxs("button",{onClick:()=>n("Wisdom of The Now"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[a.jsx(rn,{className:"w-4 h-4"}),"Wisdom of The Now"]})]})]})}),a.jsx("div",{className:"space-y-6",children:o&&o.length>0?o.map(p=>{const x=p.rewardActionId?u.has(p.rewardActionId):!1,m=s.has(p.position);return a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ee,{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center text-lg font-bold",children:["#",p.position]}),p.user.name]}),a.jsx(H,{variant:p.rewardStatus==="approved"?"primary":p.rewardStatus==="cancelled"?"default":"secondary",children:p.rewardStatus})]})}),a.jsx(U,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Contact Information"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cl,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:p.user.email})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yh,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:bh(p.user.phone)})]}),a.jsx(H,{variant:"default",className:"text-[10px] md:text-xs",children:p.user.network})]}),a.jsxs("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:[a.jsxs("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[a.jsx(ds,{className:"w-4 h-4 text-accent-500"}),"Banking Information"]}),p.user.bankName?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Bank Name"}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:p.user.bankName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text font-mono",children:m?p.user.accountNumber:jh(p.user.accountNumber||"")}),a.jsx("button",{onClick:()=>g(p.position),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:m?a.jsx(gh,{className:"w-4 h-4"}):a.jsx(xh,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Name"}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:p.user.accountName})]})]}):a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"Banking information not provided"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Response Post"}),p.post?a.jsxs("div",{className:"p-3 rounded-lg bg-light-bg dark:bg-dark-bg",children:[a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-4",children:p.post.content}),a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-2",children:new Date(p.post.createdAt).toLocaleDateString()})]}):a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"No post found"}),p.rewardActionId&&a.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:p.rewardStatus==="pending"?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(q,{onClick:()=>h(p.rewardActionId),variant:"primary",className:"flex-1 flex items-center justify-center gap-2",disabled:x,children:[a.jsx(Ui,{className:"w-4 h-4"}),x?"Processing...":"Reward"]}),a.jsxs(q,{onClick:()=>f(p.rewardActionId),variant:"secondary",className:"flex-1 flex items-center justify-center gap-2",disabled:x,children:[a.jsx(wp,{className:"w-4 h-4"}),"Cancel"]})]}):a.jsx("div",{className:"text-center p-3 rounded-lg bg-light-bg dark:bg-dark-bg",children:a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:p.rewardStatus==="approved"?" Reward has been approved and user notified":" Reward has been cancelled"})})})]})]})})]},p.position)}):a.jsx($,{glass:!0,children:a.jsxs(U,{className:"p-8 text-center",children:[a.jsx(Fe,{className:"w-16 h-16 text-light-muted dark:text-dark-muted mx-auto mb-4 opacity-20"}),a.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:["No responders yet for ",r]})]})})})]})})}function EE(){const{user:e}=X(),t=It(),r=Z(L.notifications.getNotifications),n=K(L.notifications.markAllAsRead),s=K(L.notifications.markAsRead),i=K(L.notifications.deleteNotification),o=async()=>{try{await n()}catch(h){console.error("Failed to mark all as read:",h)}},l=async h=>{h.read||await s({notificationId:h._id}),h.postId?h.type==="reward"?t(`/post/${h.postId}/responses`):t(`/post/${h.postId}`):h.type==="assignment"&&t("/tasks")},c=async(h,f)=>{if(h.stopPropagation(),confirm("Delete this notification?"))try{await i({notificationId:f})}catch(g){console.error("Failed to delete notification:",g)}},u=h=>{switch(h){case"like":return a.jsx(ll,{className:"w-5 h-5 text-red-500 fill-red-500"});case"comment":return a.jsx(qi,{className:"w-5 h-5 text-blue-500 fill-blue-500"});case"reply":return a.jsx(qi,{className:"w-5 h-5 text-indigo-500 fill-indigo-500"});case"new_post":return a.jsx(ol,{className:"w-5 h-5 text-green-500 fill-green-500"});case"reward":return a.jsx(il,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"});case"assignment":return a.jsx(al,{className:"w-5 h-5 text-purple-500 fill-purple-500"});default:return a.jsx(gi,{className:"w-5 h-5 text-primary-500"})}},d=h=>{var g;const f=((g=h.sender)==null?void 0:g.name)||"Someone";switch(h.type){case"like":return a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-primary-500",children:f})," liked your post"]});case"comment":return a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-primary-500",children:f})," commented on your post"]});case"new_post":return a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-primary-500",children:f})," shared a new post"]});case"reply":return a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold text-primary-500",children:f})," replied to your comment"]});case"reward":return a.jsxs("span",{children:["Congratulations! You were ",a.jsx("span",{className:"font-semibold text-yellow-500",children:"awarded"})," for your response"]});case"assignment":return a.jsxs("span",{children:["You have a new ",a.jsx("span",{className:"font-semibold text-purple-500",children:"assignment"})," from an admin"]});default:return a.jsxs("span",{children:["New notification from ",a.jsx("span",{className:"font-semibold text-primary-500",children:f})]})}};return e?a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[a.jsx(Nt,{}),a.jsxs($,{glass:!0,className:"mt-4",children:[a.jsxs(Ae,{className:"flex flex-row items-center justify-between border-b border-light-border dark:border-dark-border",children:[a.jsxs(Ee,{className:"flex items-center gap-2",children:[a.jsx(gi,{className:"w-6 h-6 text-primary-500"}),"Center of Alerts"]}),r&&r.some(h=>!h.read)&&a.jsxs("button",{onClick:o,className:"text-sm text-primary-500 hover:text-primary-600 font-medium flex items-center gap-1 px-3 py-1 rounded-full hover:bg-primary-50 dark:hover:bg-primary-950/20 transition-all",children:[a.jsx(Rs,{className:"w-4 h-4"}),"Mark all as read"]})]}),a.jsx(U,{className:"p-0",children:r?r.length===0?a.jsxs("div",{className:"text-center py-20 text-light-muted dark:text-dark-muted",children:[a.jsx("div",{className:"w-20 h-20 bg-light-card dark:bg-dark-card rounded-full flex items-center justify-center mx-auto mb-4 border border-light-border dark:border-dark-border",children:a.jsx(gi,{className:"w-10 h-10 opacity-20"})}),a.jsx("h3",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:"All Caught Up!"}),a.jsx("p",{className:"text-sm",children:"No new notifications at the moment."})]}):a.jsx("div",{className:"divide-y divide-light-border dark:divide-dark-border",children:r.map(h=>{var f,g;return a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>l(h),className:`
                                            flex items-start gap-4 p-4 cursor-pointer transition-all group relative
                                            ${h.read?"bg-transparent":"bg-primary-50/30 dark:bg-primary-900/5"}
                                            hover:bg-light-card dark:hover:bg-dark-card
                                        `,children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx(Gr,{src:(f=h.sender)==null?void 0:f.avatarUrl,alt:((g=h.sender)==null?void 0:g.name)||"User",size:"md",className:"ring-2 ring-transparent group-hover:ring-primary-500/20"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-dark-bg rounded-full p-1 shadow-md border border-light-border dark:border-dark-border",children:u(h.type)})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-light-text dark:text-dark-text text-sm leading-relaxed",children:d(h)}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wider",children:On(h.createdAt,{addSuffix:!0})}),!h.read&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]})]}),a.jsx("div",{className:"flex flex-col gap-2",children:a.jsx("button",{onClick:y=>c(y,h._id),className:"p-2 text-light-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete notification",children:a.jsx(pv,{className:"w-4 h-4"})})})]},h._id)})}):a.jsx("div",{className:"space-y-4 p-6",children:[1,2,3].map(h=>a.jsxs("div",{className:"flex gap-4 animate-pulse",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-light-border dark:bg-dark-border"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-3/4 bg-light-border dark:bg-dark-border rounded"}),a.jsx("div",{className:"h-3 w-1/4 bg-light-border dark:bg-dark-border rounded"})]})]},h))})})]})]})}):null}function Nh(){return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsxs(B.div,{className:"w-24 h-24 mb-8 relative",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-500/20 animate-ping"}),a.jsx("div",{className:"absolute inset-2 rounded-full bg-primary-500/40 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_21j3u821j3u821j3%20(1).png",alt:"Baptizo",className:"w-16 h-16 rounded-2xl shadow-2xl z-10"})})]}),a.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col items-center gap-2",children:[a.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent",children:"Baptizo Community"}),a.jsx("div",{className:"flex gap-1",children:[0,1,2].map(e=>a.jsx(B.div,{className:"w-2 h-2 rounded-full bg-primary-500",animate:{y:[0,-6,0],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:e*.2}},e))})]})]})})}function RE(){const{user:e}=X(),[t,r]=b.useState(""),[n,s]=b.useState(null),i=Z(L.assignments.getUserAssignments,e?{userId:e._id}:"skip"),o=K(L.assignments.submitAssignment);if(!e)return null;if(i===void 0)return a.jsx(Nh,{});const l=i.filter(d=>d.status==="pending"),c=i.filter(d=>d.status!=="pending"),u=async d=>{if(t.trim())try{await o({assignmentId:d,userId:e._id,content:t}),s(null),r("")}catch(h){console.error("Failed to submit:",h),alert("Failed to submit assignment")}};return a.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[a.jsx(Nt,{}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"My Tasks"}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[a.jsx(VT,{className:"w-5 h-5 text-amber-500"}),"Pending (",l.length,")"]}),l.length===0?a.jsx("p",{className:"text-light-muted dark:text-dark-muted italic",children:"No pending tasks."}):a.jsx("div",{className:"space-y-4",children:l.map(d=>{var h;return a.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-amber-500/20",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Instruction from ",d.adminName]}),a.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(h=d.postContent)==null?void 0:h.substring(0,50),'..."']})]}),a.jsx(H,{variant:"warning",children:"Pending"})]}),a.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg mb-4 text-light-text dark:text-dark-text",children:d.instructions}),n===d._id?a.jsxs("div",{className:"space-y-3",children:[a.jsx("textarea",{value:t,onChange:f=>r(f.target.value),placeholder:"Type your response here...",className:"w-full min-h-[150px] p-4 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500"}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(q,{variant:"ghost",onClick:()=>s(null),children:"Cancel"}),a.jsx(q,{variant:"primary",onClick:()=>u(d._id),disabled:!t.trim(),children:"Submit Response"})]})]}):a.jsx(q,{variant:"primary",onClick:()=>s(d._id),children:"Start Task"})]},d._id)})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[a.jsx(ol,{className:"w-5 h-5 text-primary-500"}),"History"]}),a.jsx("div",{className:"space-y-4",children:c.map(d=>{var h;return a.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm opacity-80 hover:opacity-100 transition-opacity",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Task from ",d.adminName]}),a.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(h=d.postContent)==null?void 0:h.substring(0,30),'..."']})]}),a.jsx(H,{variant:d.status==="approved"?"success":d.status==="rejected"?"danger":"default",children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})]}),a.jsxs("div",{className:"mb-4 space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Instructions:"}),a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted bg-light-bg dark:bg-dark-bg p-2 rounded",children:d.instructions})]}),a.jsxs("div",{className:"mb-4 space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Your Submission:"}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text bg-light-bg dark:bg-dark-bg p-3 rounded",children:d.submissionContent})]}),(d.grade||d.feedback)&&a.jsxs("div",{className:`p-4 rounded-lg ${d.status==="approved"?"bg-green-500/10 border border-green-500/20":d.status==="rejected"?"bg-red-500/10 border border-red-500/20":"bg-primary-500/10 border border-primary-500/20"}`,children:[d.grade&&a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ui,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-bold",children:["Grade: ",d.grade]})]}),d.feedback&&a.jsxs("p",{className:"text-sm italic",children:['"',d.feedback,'"']})]})]},d._id)})})]})]})}function IE(){const{user:e}=X(),[t,r]=b.useState(null),[n,s]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(!1),u=Z(L.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),d=K(L.assignments.reviewAssignment);if(!e||e.role!=="admin"&&e.role!=="super_admin")return a.jsx("div",{className:"p-8 text-center",children:"Unauthorized"});if(u===void 0)return a.jsx(Nh,{});const h=async f=>{if(!(!t||!e)){c(!0);try{await d({assignmentId:t,adminId:e._id,status:f,grade:n.trim(),feedback:i.trim()}),r(null),s(""),o("")}catch(g){console.error("Failed to review:",g),alert("Failed to submitting review")}finally{c(!1)}}};return a.jsxs("div",{className:"container max-w-5xl mx-auto px-4 py-8 pb-20",children:[a.jsx(Nt,{}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"Task Reviews"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h2",{className:"font-semibold text-lg mb-2 text-light-text dark:text-dark-text",children:["Pending Submissions (",u.length,")"]}),u.length===0&&a.jsx("div",{className:"glass p-8 text-center text-light-muted dark:text-dark-muted",children:"No tasks waiting for review."}),u.map(f=>a.jsxs("div",{onClick:()=>r(f._id),className:`glass p-4 rounded-xl cursor-pointer transition-all border ${t===f._id?"border-primary-500 ring-1 ring-primary-500":"border-transparent hover:border-primary-500/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-light-bg dark:bg-dark-bg flex items-center justify-center",children:a.jsx(qt,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-light-text dark:text-dark-text",children:f.userName}),a.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:["Submitted ",new Date(f.updatedAt).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted mb-1",children:"Task"}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-2",children:f.instructions})]}),a.jsx(H,{variant:"warning",className:"mt-2",children:"Needs Review"})]},f._id))]}),a.jsx("div",{className:"glass p-6 rounded-xl h-fit sticky top-24",children:t?(()=>{const f=u.find(g=>g._id===t);return f?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-light-border dark:border-dark-border pb-4",children:[a.jsxs("h3",{className:"font-bold text-xl text-light-text dark:text-dark-text mb-1",children:["Reviewing ",f.userName,"'s Work"]}),a.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["Original Task: ",f.instructions]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Submission:"}),a.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-light-text dark:text-dark-text whitespace-pre-wrap",children:f.submissionContent})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-light-border dark:border-dark-border",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grade / Score (Optional)"}),a.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),placeholder:"e.g. A+, 95/100, Passed",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Feedback (Optional)"}),a.jsx("textarea",{value:i,onChange:g=>o(g.target.value),placeholder:"Great work! Just one thing...",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border min-h-[100px]"})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs(q,{className:"flex-1 bg-red-500 hover:bg-red-600 text-white",onClick:()=>h("rejected"),disabled:l,children:[a.jsx(Qr,{className:"w-4 h-4 mr-2"}),"Reject"]}),a.jsxs(q,{className:"flex-1 bg-green-500 hover:bg-green-600 text-white",onClick:()=>h("approved"),disabled:l,children:[a.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]})]}):null})():a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-light-muted dark:text-dark-muted py-12",children:[a.jsx(Hr,{className:"w-12 h-12 mb-4 opacity-50"}),a.jsx("p",{children:"Select a submission to review"})]})})]})]})}function _E(){const{user:e}=X(),t=K(L.users.claimSuperAdmin),[r,n]=b.useState("idle"),[s,i]=b.useState(""),o=async()=>{if(e){n("loading");try{await t({userId:e._id}),n("success"),setTimeout(()=>{window.location.href="/admin"},2e3)}catch(l){n("error"),i(l.message||"Failed to claim super admin.")}}};return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsx($,{className:"max-w-md w-full bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border",children:a.jsxs(U,{className:"p-8 text-center space-y-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_zcvetszcvetszcve%20(1).png",alt:"Baptizo",className:"h-20 w-auto rounded-3xl shadow-2xl"})}),a.jsx("div",{className:"mx-auto w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:a.jsx(hs,{className:"w-6 h-6 text-primary-500"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-2",children:"Super Admin Setup"}),a.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Initialize the system by claiming the first Super Admin role. This is a one-time setup step."})]}),r==="idle"&&a.jsx(q,{variant:"primary",size:"lg",className:"w-full",onClick:o,children:"Claim Super Admin Role"}),r==="loading"&&a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}),r==="success"&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[a.jsx(Ui,{className:"w-6 h-6"}),a.jsx("p",{className:"font-medium",children:"Success! Redirecting..."})]}),r==="error"&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[a.jsx(lv,{className:"w-6 h-6"}),a.jsx("p",{className:"font-medium",children:s}),a.jsx(q,{variant:"outline",size:"sm",onClick:()=>n("idle"),className:"mt-2",children:"Try Again"})]})]})})}):a.jsx("div",{className:"p-8 text-center",children:"Please login first."})}function ME({isOpen:e,onClose:t,responseId:r,userName:n,content:s}){const{user:i}=X(),o=K(L.responses.gradeResponse),[l,c]=b.useState(0),[u,d]=b.useState(""),[h,f]=b.useState(!1),g=async y=>{if(y.preventDefault(),!(!i||i.role!=="admin"&&i.role!=="super_admin")){f(!0);try{await o({adminId:i._id,responseId:r,grade:l,feedback:u.trim()}),t()}catch(v){console.error("Failed to grade response:",v),alert("Failed to save grade. Please try again.")}finally{f(!1)}}};return a.jsx(_s,{isOpen:e,onClose:t,title:`Grade Response from ${n}`,children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text border border-light-border dark:border-dark-border max-h-40 overflow-y-auto",children:a.jsx("p",{className:"whitespace-pre-wrap",children:s})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Score (0-100)"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:l,onChange:y=>c(parseInt(y.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),a.jsx("input",{type:"number",min:"0",max:"100",value:l,onChange:y=>c(Math.min(100,Math.max(0,parseInt(y.target.value)||0))),className:"w-16 p-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-center font-bold"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Feedback (Optional)"}),a.jsx("textarea",{value:u,onChange:y=>d(y.target.value),placeholder:"Great job! Next time try to...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(q,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),a.jsxs(q,{type:"submit",variant:"primary",disabled:h,className:"flex items-center gap-2",children:[a.jsx(il,{className:"w-4 h-4"}),h?"Saving...":"Save Grade"]})]})]})})}function DE(){const{user:e,isLoading:t}=X(),r=e&&(e.role==="admin"||e.role==="super_admin"),n=Z(L.responses.getPendingResponses,r?{adminId:e._id}:"skip"),[s,i]=b.useState(null);return t?a.jsx("div",{className:"p-8 text-center text-light-muted",children:"Loading..."}):!e||e.role!=="admin"&&e.role!=="super_admin"?a.jsx(pr,{to:"/feed",replace:!0}):a.jsxs("div",{className:"min-h-screen py-8",children:[a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Official Response Reviews"}),a.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Review and grade responses to Official Posts."})]}),a.jsx("div",{className:"grid gap-6",children:n&&n.length>0?n.map(o=>a.jsx($,{glass:!0,className:"hover:border-primary-500/50 transition-colors",children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"outline",className:"text-xs",children:o.postTitle}),a.jsx("span",{className:"text-xs text-light-muted",children:new Date(o._creationTime||0).toLocaleDateString()})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-light-text dark:text-dark-text mb-1",children:o.userName}),a.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text whitespace-pre-wrap",children:o.content})]})]}),a.jsx("div",{className:"flex flex-col justify-center items-end gap-2 md:w-48 border-t md:border-t-0 md:border-l border-light-border dark:border-dark-border pt-4 md:pt-0 md:pl-6",children:a.jsxs(q,{variant:"primary",onClick:()=>i({_id:o._id,userName:o.userName,content:o.content}),className:"w-full flex items-center justify-center gap-2",children:[a.jsx(Ui,{className:"w-4 h-4"}),"Grade"]})})]})})},o._id)):a.jsx($,{glass:!0,children:a.jsxs(U,{className:"p-12 text-center text-light-muted flex flex-col items-center gap-4",children:[a.jsx(al,{className:"w-12 h-12 text-light-muted opacity-50"}),a.jsx("p",{children:"No pending responses to review."})]})})})]}),s&&a.jsx(ME,{isOpen:!!s,onClose:()=>i(null),responseId:s._id,userName:s.userName,content:s.content})]})}function LE(){const{user:e,isLoading:t}=X(),[r,n]=b.useState(null),[s,i]=b.useState(new Set),[o,l]=b.useState(new Set),[c,u]=b.useState(new Set),[d,h]=b.useState(!1),f=K(L.responses.markResponseAsPaid),g=Z(L.posts.getPosts,(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"?{}:"skip"),y=Z(L.responses.getResponsesByPost,r&&(e!=null&&e._id)?{postId:r,adminId:e._id}:"skip");if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return a.jsx(pr,{to:"/feed",replace:!0});const v=(g==null?void 0:g.filter(m=>m.authorId===e._id))||[],w=v.find(m=>m._id===r),p=m=>{i(k=>{const j=new Set(k);return j.has(m)?j.delete(m):j.add(m),j})},x=m=>{l(k=>{const j=new Set(k);return j.has(m)?j.delete(m):j.add(m),j})};return a.jsxs("div",{className:"min-h-screen py-8",children:[a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Response Rewards"}),a.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View responders by position and manage rewards"})]}),a.jsx($,{glass:!0,className:"mb-8",children:a.jsxs(U,{className:"p-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Select Your Post"}),a.jsx("div",{className:"md:hidden",children:a.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text",children:[a.jsx("span",{className:"truncate",children:w?`[${w.category}] ${w.content.substring(0,40)}...`:"Choose a post..."}),a.jsx(Ao,{className:"w-4 h-4 text-light-muted"})]})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs("select",{value:r||"",onChange:m=>n(m.target.value),className:"w-full px-4 py-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"",children:"Choose a post..."}),v.map(m=>a.jsxs("option",{value:m._id,children:["[",m.category,"] ",m.content.substring(0,60),m.content.length>60?"...":""," ","(",new Date(m.createdAt).toLocaleDateString(),")"]},m._id))]})}),v.length===0&&a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-2",children:"You haven't created any posts yet."})]})}),w&&y&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Responses"}),a.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:y.length})]}),a.jsx(Fe,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:y.filter(m=>m.grade!==void 0).length})]}),a.jsx(il,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-500",children:y.filter(m=>m.grade===void 0).length})]}),a.jsx(ds,{className:"w-8 h-8 text-orange-500 opacity-20"})]})})})]}),a.jsx("div",{className:"space-y-4",children:r?y&&y.length>0?y.map(m=>{const k=s.has(m.position),j=o.has(m.position);return a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ee,{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`w-12 h-12 rounded-full text-white flex items-center justify-center text-lg font-bold shadow-lg ${m.position===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":m.position===2?"bg-gradient-to-br from-gray-300 to-gray-500":m.position===3?"bg-gradient-to-br from-amber-600 to-amber-800":"bg-gradient-to-br from-primary-500 to-secondary-500"}`,children:["#",m.position]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-light-text dark:text-dark-text",children:m.user.name}),a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted font-normal",children:new Date(m.createdAt).toLocaleString()})]})]}),m.grade!==void 0&&a.jsxs(H,{variant:"primary",children:["Grade: ",m.grade,"/100"]})]})}),a.jsx(U,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3 flex items-center gap-2",children:[a.jsx(ds,{className:"w-5 h-5 text-accent-500"}),"Payment Information"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cl,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:m.user.email})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yh,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),a.jsx("span",{className:"text-sm text-light-text dark:text-dark-text font-mono",children:bh(m.user.phone)})]}),a.jsx(H,{variant:"default",className:"text-[10px] md:text-xs",children:m.user.network})]}),a.jsx("div",{className:"pt-2 border-t border-light-border dark:border-dark-border",children:m.user.bankName?a.jsxs("div",{className:"space-y-2 bg-light-bg dark:bg-dark-bg p-3 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Bank"}),a.jsx("p",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:m.user.bankName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Number"}),a.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[a.jsx("p",{className:"text-sm font-mono text-light-text dark:text-dark-text truncate",children:k?m.user.accountNumber:jh(m.user.accountNumber||"")}),a.jsx("button",{onClick:()=>p(m.position),className:"flex-shrink-0 p-1 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:k?a.jsx(gh,{className:"w-4 h-4"}):a.jsx(xh,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Name"}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:m.user.accountName})]})]}):a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"No banking info provided"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Response Content"}),a.jsxs("button",{onClick:()=>x(m.position),className:"text-primary-500 hover:text-primary-600 transition-colors flex items-center gap-1 text-sm",children:[j?"Collapse":"Expand",a.jsx(Ao,{className:`w-4 h-4 transition-transform ${j?"rotate-180":""}`})]})]}),a.jsx("div",{className:`bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text ${j?"":"line-clamp-4"}`,children:m.content}),m.feedback&&a.jsxs("div",{className:"pt-2 border-t border-light-border dark:border-dark-border",children:[a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Admin Feedback"}),a.jsxs("p",{className:"text-sm text-light-text dark:text-dark-text italic",children:['"',m.feedback,'"']})]})]}),a.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:m.rewardStatus==="paid"?a.jsx("div",{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium flex items-center justify-center gap-2",children:[a.jsx(Rs,{className:"w-4 h-4"}),"Reward Paid ",m.rewardPaidAt&&`on ${new Date(m.rewardPaidAt).toLocaleDateString()}`]})}):a.jsxs(q,{onClick:async()=>{if(e){u(N=>new Set(N).add(m._id));try{await f({responseId:m._id,adminId:e._id})}catch(N){console.error("Failed to mark as paid:",N),alert("Failed to mark as paid")}finally{u(N=>{const C=new Set(N);return C.delete(m._id),C})}}},variant:"primary",className:"w-full flex items-center justify-center gap-2",disabled:c.has(m._id),children:[a.jsx(ds,{className:"w-4 h-4"}),c.has(m._id)?"Processing...":"Mark as Paid"]})})]})})]},m._id)}):a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-12 text-center text-light-muted",children:a.jsx("p",{children:"No responses yet for this post"})})}):a.jsx($,{glass:!0,children:a.jsxs(U,{className:"p-12 text-center text-light-muted",children:[a.jsx(Fe,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),a.jsx("p",{children:"Select a post above to view responses and manage rewards"})]})})})]}),a.jsx(_s,{isOpen:d,onClose:()=>h(!1),title:"Select a Post",children:a.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto p-1",children:[v.map(m=>a.jsxs("button",{onClick:()=>{n(m._id),h(!1)},className:`w-full text-left p-4 rounded-xl border-2 transition-all ${r===m._id?"border-primary-500 bg-primary-50/50 dark:bg-primary-900/10":"border-light-border dark:border-dark-border hover:border-primary-500"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(H,{variant:m.category==="Ancient Culture"?"primary":"secondary",children:m.category}),a.jsx("span",{className:"text-xs text-light-muted",children:new Date(m.createdAt).toLocaleDateString()})]}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-2",children:m.content})]},m._id)),v.length===0&&a.jsx("p",{className:"text-center py-8 text-light-muted",children:"No posts found."})]})})]})}function OE(){const{user:e,isLoading:t}=X(),r=Z(L.responses.getMyResponses,e!=null&&e._id?{userId:e._id}:"skip");return t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Responses"}),a.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View all your responses and grades"})]}),r&&r.length>0&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:r.length})]}),a.jsx(Hr,{className:"w-8 h-8 text-primary-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:r.filter(n=>n.grade!==void 0).length})]}),a.jsx(il,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),a.jsx($,{glass:!0,children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Avg Grade"}),a.jsx("p",{className:"text-2xl font-bold text-accent-500",children:r.filter(n=>n.grade!==void 0).length>0?Math.round(r.filter(n=>n.grade!==void 0).reduce((n,s)=>n+(s.grade||0),0)/r.filter(n=>n.grade!==void 0).length):0})]}),a.jsx(Fe,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})})]}),a.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(n=>{const s=n.grade?n.grade>=80?"text-green-500":n.grade>=50?"text-yellow-500":"text-red-500":"text-light-muted dark:text-dark-muted";return a.jsxs($,{glass:!0,children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ee,{className:"text-lg mb-2",children:n.postTitle}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-light-muted dark:text-dark-muted",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ph,{className:"w-4 h-4"}),new Date(n.createdAt).toLocaleDateString()]}),a.jsx(H,{variant:"default",children:n.category})]})]}),n.grade!==void 0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:`text-3xl font-bold ${s}`,children:n.grade}),a.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"/ 100"})]})]})}),a.jsx(U,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2",children:"Your Response"}),a.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text",children:n.content})]}),n.feedback&&a.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[a.jsxs("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[a.jsx(ol,{className:"w-4 h-4 text-accent-500"}),"Admin Feedback"]}),a.jsxs("div",{className:"bg-accent-50 dark:bg-accent-900/20 p-3 rounded-lg text-sm text-light-text dark:text-dark-text italic border-l-4 border-accent-500",children:['"',n.feedback,'"']})]}),n.grade===void 0&&a.jsx("div",{className:"text-center p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800",children:a.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:" Waiting for admin to grade"})}),n.rewardStatus==="paid"&&a.jsxs(B.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"text-center p-4 rounded-xl bg-gradient-to-r from-green-500/10 via-green-500/20 to-green-500/10 border border-green-500/30 shadow-lg shadow-green-500/10",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 font-bold uppercase tracking-tight",children:[a.jsx(Fe,{className:"w-5 h-5 animate-bounce"}),a.jsx("span",{children:"Official Reward Paid!"}),a.jsx(Fe,{className:"w-5 h-5 animate-bounce"})]}),a.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"Check your bank account/wallet for the transfer."})]})]})})]},n._id)}):a.jsx($,{glass:!0,children:a.jsxs(U,{className:"p-12 text-center text-light-muted",children:[a.jsx(Hr,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"mb-2",children:"You haven't submitted any responses yet"}),a.jsx("p",{className:"text-sm",children:'Look for admin posts with "Official Response" enabled and submit your answers!'})]})})})]})}):a.jsx(pr,{to:"/login",replace:!0})}function VE(){const e=Z(L.responses.getLeaderboard);return e?a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Monthly Leaderboard"}),a.jsxs("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:["Top responders for ",new Date().toLocaleString("default",{month:"long",year:"numeric"})]})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx($,{glass:!0,children:a.jsxs(U,{className:"p-8 text-center",children:[a.jsx(Fe,{className:"w-16 h-16 text-primary-200 mx-auto mb-4"}),a.jsx("p",{className:"text-lg text-light-muted",children:"No graded responses yet this month."}),a.jsx("p",{className:"text-sm text-light-muted",children:"Be the first to respond to an Official Post!"})]})}):e.map((t,r)=>a.jsx(FE,{entry:t,rank:r+1},t.userId))})]})}):a.jsx("div",{className:"p-8 text-center text-light-muted",children:"Loading leaderboard..."})}function FE({entry:e,rank:t}){let r=null,n="bg-light-card dark:bg-dark-card";return t===1?(r=a.jsx(Fe,{className:"w-6 h-6 text-yellow-500"}),n="bg-yellow-50/50 dark:bg-yellow-900/10 border-yellow-200 dark:border-yellow-800"):t===2?(r=a.jsx(Lu,{className:"w-6 h-6 text-gray-400"}),n="bg-gray-50/50 dark:bg-gray-900/10 border-gray-200 dark:border-gray-800"):t===3&&(r=a.jsx(Lu,{className:"w-6 h-6 text-orange-400"}),n="bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800"),a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl border transition-all hover:scale-[1.01] ${n}`,children:[a.jsx("div",{className:"flex-shrink-0 w-12 text-center font-bold text-xl text-light-muted dark:text-dark-muted flex justify-center",children:r||a.jsxs("span",{children:["#",t]})}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600",children:e.avatarUrl?a.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-lg",children:e.name[0]})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-bold text-lg text-light-text dark:text-dark-text truncate",children:e.name}),a.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:[e.responsesCount," graded response",e.responsesCount!==1?"s":""]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.totalScore}),a.jsx("div",{className:"text-xs text-light-muted uppercase tracking-wider font-medium",children:"Points"})]})]})}function BE(){var i,o,l;const{postId:e}=gy(),t=Z(L.posts.getPost,{postId:e}),r=Z(L.responses.getPostResponses,{postId:e});if(!t||!r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const n=r.slice(0,5),s=r.slice(5,10);return a.jsx("div",{className:"min-h-screen py-8",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[a.jsx(Nt,{}),a.jsxs("div",{className:"mb-8 p-6 glass rounded-2xl border border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-transparent",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Gr,{src:(i=t.author)==null?void 0:i.avatarUrl,alt:((o=t.author)==null?void 0:o.name)||"Admin",size:"sm"}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-bold text-light-text dark:text-dark-text",children:(l=t.author)==null?void 0:l.name}),a.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted flex items-center gap-1",children:[a.jsx(ph,{className:"w-3 h-3"}),On(t.createdAt,{addSuffix:!0})]})]})]}),a.jsxs("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base whitespace-pre-wrap italic opacity-80",children:['"',t.content,'"']})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[a.jsx(Hr,{className:"w-6 h-6 text-primary-500"}),"Official Responses"]}),a.jsxs(H,{variant:"primary",className:"px-3 py-1",children:[r.length," Total"]})]}),a.jsxs("div",{className:"space-y-8",children:[n.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold uppercase tracking-wider text-xs",children:[a.jsx(Fe,{className:"w-4 h-4"}),"Top Tier Responders (1-5)"]}),a.jsx("div",{className:"grid gap-4",children:n.map((c,u)=>a.jsx(Ip,{response:c,rank:u+1,tier:"gold"},c._id))})]}),s.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-secondary-600 dark:text-secondary-400 font-bold uppercase tracking-wider text-xs",children:[a.jsx(Lu,{className:"w-4 h-4"}),"Second Tier Responders (6-10)"]}),a.jsx("div",{className:"grid gap-4",children:s.map((c,u)=>a.jsx(Ip,{response:c,rank:u+6,tier:"silver"},c._id))})]}),r.length===0&&a.jsxs("div",{className:"text-center py-12 glass rounded-xl border-dashed border-2 border-light-border dark:border-dark-border",children:[a.jsx(Hr,{className:"w-12 h-12 text-light-muted mx-auto mb-4 opacity-30"}),a.jsx("p",{className:"text-light-muted",children:"No responses yet for this post."})]})]})]})})}function Ip({response:e,rank:t,tier:r}){const n=r==="gold";return a.jsx(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:`flex flex-col md:flex-row gap-4 p-5 rounded-2xl border transition-all ${n?"bg-primary-500/5 border-primary-500/30":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx(Gr,{src:e.userAvatar,alt:e.userName,size:"md"}),a.jsxs("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg ${n?"bg-primary-500":"bg-secondary-500"}`,children:["#",t]})]}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text",children:e.userName}),a.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:On(e.createdAt,{addSuffix:!0})})]}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text leading-relaxed",children:e.content}),e.grade!==void 0&&a.jsxs("div",{className:"pt-3 flex flex-wrap gap-2 items-center",children:[a.jsxs(H,{variant:e.grade>=70?"success":"primary",className:"text-[10px] font-bold uppercase transition-all hover:scale-105",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&a.jsxs(H,{variant:"warning",className:"text-[10px] flex items-center gap-1 animate-pulse",children:[a.jsx(Fe,{className:"w-3 h-3"}),"Awarded"]}),e.feedback&&a.jsxs("div",{className:"w-full mt-2 p-3 rounded-lg bg-light-bg dark:bg-dark-bg/50 border border-light-border dark:border-dark-border/50 italic text-xs text-light-muted",children:['Admin feedback: "',e.feedback,'"']})]})]})]})})}function dc(){return a.jsxs("div",{className:"flex gap-3 animate-pulse",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-light-border dark:bg-dark-border"}),a.jsxs("div",{className:"flex-1 bg-light-card dark:bg-dark-card rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-4 w-24 bg-light-border dark:bg-dark-border rounded"}),a.jsx("div",{className:"h-3 w-16 bg-light-border dark:bg-dark-border rounded"})]}),a.jsx("div",{className:"h-3 w-full bg-light-border dark:bg-dark-border rounded"}),a.jsx("div",{className:"h-3 w-3/4 bg-light-border dark:bg-dark-border rounded"})]})]})}function $E({postId:e}){const{user:t}=X(),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(null),c=Z(L.comments.getComments,{postId:e}),u=Z(L.comments.getCommentSettings,{}),d=K(L.comments.createComment),h=async(v,w)=>{v.preventDefault();const p=r;if(!(!t||!p.trim()||s)){i(!0);try{await d({postId:e,authorId:t._id,content:p.trim(),parentId:w}),n(""),l(null)}catch(x){console.error("Failed to create comment:",x),alert(x instanceof Error?x.message:"Failed to post comment")}finally{i(!1)}}},g=(()=>{if(!c)return[];const v=[],w=new Map;return c.forEach(p=>{w.set(p._id,{...p,replies:[]})}),c.forEach(p=>{if(p.parentId){const x=w.get(p.parentId);x&&x.replies.push(w.get(p._id))}else v.push(w.get(p._id))}),v})(),y=({comment:v,isReply:w=!1})=>{var p,x,m,k,j,N;return a.jsxs("div",{className:`flex gap-3 ${w?"ml-10 mt-2":""}`,children:[a.jsx(Gr,{src:(p=v.author)==null?void 0:p.avatarUrl,alt:((x=v.author)==null?void 0:x.name)||"User",size:"sm"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-semibold text-sm text-light-text dark:text-dark-text",children:((m=v.author)==null?void 0:m.name)||"Unknown User"}),((k=v.author)==null?void 0:k.role)==="admin"?a.jsxs(H,{variant:"primary",className:"text-xs flex items-center gap-1",children:[a.jsx(hs,{className:"w-3 h-3"}),"Admin"]}):a.jsxs(H,{variant:"default",className:"text-xs flex items-center gap-1",children:[a.jsx(qt,{className:"w-3 h-3"}),"Member"]}),a.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:On(v.createdAt,{addSuffix:!0})})]}),a.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:v.content})]}),!w&&t&&a.jsx("button",{onClick:()=>l(o===v._id?null:v._id),className:"text-xs text-light-muted dark:text-dark-muted hover:text-primary-500 mt-1 ml-2 font-medium",children:"Reply"}),o===v._id&&a.jsxs("form",{onSubmit:C=>h(C,v._id),className:"mt-2 flex gap-2",children:[a.jsx("input",{type:"text",value:r,onChange:C=>n(C.target.value),placeholder:`Reply to ${(j=v.author)==null?void 0:j.name}...`,className:"flex-1 px-3 py-1.5 text-sm rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500",autoFocus:!0}),a.jsx("button",{type:"submit",disabled:!r.trim()||s,className:"px-3 py-1.5 rounded-lg bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium",children:"Reply"})]}),((N=v.replies)==null?void 0:N.length)>0&&a.jsx("div",{className:"space-y-2 mt-2",children:v.replies.map(C=>a.jsx(y,{comment:C,isReply:!0},C._id))})]})]})};return u===void 0||u===!1?a.jsx("div",{className:"mt-4 p-4 rounded-lg bg-light-card dark:bg-dark-card text-center",children:a.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Comments are currently disabled"})}):a.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border space-y-4",children:[t&&a.jsxs("form",{onSubmit:v=>h(v),className:"flex gap-3",children:[a.jsx(Gr,{src:t.avatarUrl,alt:t.name,size:"sm"}),a.jsxs("div",{className:"flex-1 flex gap-2",children:[a.jsx("input",{type:"text",value:o?"":r,onChange:v=>{l(null),n(v.target.value)},placeholder:"Write a comment...",className:"flex-1 px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s}),a.jsx("button",{type:"submit",disabled:!o&&!r.trim()||s,className:"px-4 py-2 rounded-lg bg-primary-500 hover:bg-primary-600 text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a.jsx(fv,{className:"w-4 h-4"})})]})]}),c?g.length>0?a.jsx("div",{className:"space-y-4",children:g.map(v=>a.jsx(y,{comment:v},v._id))}):a.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:a.jsx("p",{children:"No comments yet. Be the first to share your thoughts!"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(dc,{}),a.jsx(dc,{}),a.jsx(dc,{})]})]})}function zE(){var d,h,f,g,y;const{postId:e}=gy(),{user:t}=X(),r=Z(L.posts.getPost,{postId:e}),n=K(L.posts.likePost),[s,i]=b.useState(!1),[o,l]=b.useState(!1);if(!r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const c=async()=>{if(!(!t||o)){l(!0);try{await n({userId:t._id,postId:r._id})}catch(v){console.error("Failed to like post:",v)}finally{l(!1)}}},u=r.content.length>250;return a.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[a.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:a.jsx(Nt,{})}),a.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[a.jsxs("div",{className:"lg:sticky lg:top-24 space-y-4",children:[r.imageUrl?a.jsx(B.div,{layoutId:`post-image-${r._id}`,className:"rounded-2xl overflow-hidden glass border border-light-border dark:border-dark-border shadow-2xl",children:a.jsx("img",{src:r.imageUrl,alt:"Post",className:"w-full h-auto max-h-[70vh] object-contain bg-black/5"})}):r.videoUrl?a.jsx("div",{className:"rounded-2xl overflow-hidden bg-black shadow-2xl",children:a.jsx("video",{src:r.videoUrl,controls:!0,className:"w-full max-h-[70vh]"})}):a.jsx("div",{className:"aspect-square flex items-center justify-center glass rounded-2xl border border-dashed border-light-border dark:border-dark-border opacity-50",children:a.jsx("p",{className:"text-light-muted",children:"No visual media"})}),a.jsxs("div",{className:"hidden lg:block p-6 glass rounded-2xl border border-light-border dark:border-dark-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-light-text dark:text-dark-text hover:text-red-500 transition-colors",children:[a.jsx(ll,{className:`w-6 h-6 ${r.likeCount>0?"fill-red-500 text-red-500":""}`}),a.jsxs("span",{className:"font-bold",children:[r.likeCount," Likes"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-light-muted",children:[a.jsx(qi,{className:"w-6 h-6"}),a.jsxs("span",{className:"font-bold",children:[r.commentCount," Comments"]})]})]}),a.jsx("button",{className:"p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:a.jsx(mv,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"h-px bg-light-border dark:bg-dark-border mb-4"}),a.jsxs("p",{className:"text-xs text-light-muted flex items-center gap-2",children:[a.jsx(ph,{className:"w-3 h-3"}),"Posted on ",new Date(r.createdAt).toLocaleDateString(void 0,{dateStyle:"long"})," at ",new Date(r.createdAt).toLocaleTimeString(void 0,{timeStyle:"short"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-2xl border border-light-border dark:border-dark-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Gr,{src:(d=r.author)==null?void 0:d.avatarUrl,alt:((h=r.author)==null?void 0:h.name)||"User",size:"md"}),a.jsxs("div",{children:[a.jsxs("h2",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:[(f=r.author)==null?void 0:f.name,((g=r.author)==null?void 0:g.role)==="admin"&&a.jsx(hs,{className:"w-4 h-4 text-primary-500"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"outline",className:"text-[10px]",children:r.category}),a.jsx("span",{className:"text-xs text-light-muted",children:On(r.createdAt,{addSuffix:!0})})]})]})]}),((y=r.author)==null?void 0:y.role)==="admin"?a.jsx(H,{variant:"primary",className:"hidden sm:flex",children:"Official"}):a.jsx(H,{variant:"default",className:"hidden sm:flex",children:"Member"})]}),a.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:a.jsx(qt,{className:"w-20 h-20"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx(Ln,{initial:!1,children:a.jsx(B.p,{initial:{opacity:0},animate:{opacity:1},className:`text-light-text dark:text-dark-text leading-relaxed text-base md:text-lg ${!s&&u?"line-clamp-[6]":""}`,children:r.content},s?"expanded":"collapsed")}),u&&a.jsx("button",{onClick:()=>i(!s),className:"mt-4 flex items-center gap-1 text-primary-500 font-bold hover:underline transition-all",children:s?a.jsxs(a.Fragment,{children:["Show Less ",a.jsx(uv,{className:"w-4 h-4"})]}):a.jsxs(a.Fragment,{children:["Read Full Message ",a.jsx(Ao,{className:"w-4 h-4"})]})})]})]}),a.jsxs("div",{className:"p-4 md:p-6 glass rounded-2xl border border-light-border dark:border-dark-border min-h-[400px]",children:[a.jsxs("h3",{className:"text-xl font-bold text-gradient mb-6 flex items-center gap-2",children:[a.jsx(qi,{className:"w-6 h-6 text-primary-500"}),"Community Discussion"]}),a.jsx($E,{postId:r._id})]})]})]})})]})}function UE(){const[e,t]=b.useState(0),[r,n]=b.useState(!1);b.useEffect(()=>{const o=()=>{const l=document.documentElement.scrollHeight-window.innerHeight,c=window.pageYOffset,u=c/l*100;t(u),n(c>300)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})},i=()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return a.jsx(Ln,{children:r&&a.jsxs("div",{className:"fixed bottom-24 right-6 z-50 flex flex-col gap-3",children:[a.jsxs(B.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:s,className:"p-3 rounded-full glass border border-primary-500/30 text-primary-500 shadow-lg hover:bg-primary-500 hover:text-white transition-all group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx(uv,{className:"w-6 h-6"})]}),a.jsxs("div",{className:"relative p-1",children:[a.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",children:[a.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-light-border dark:text-dark-border opacity-30"}),a.jsx(B.circle,{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:"125.66",animate:{strokeDashoffset:125.66-125.66*e/100},className:"text-primary-500",strokeLinecap:"round"})]}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-primary-500",children:[Math.round(e),"%"]})]}),a.jsxs(B.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:i,className:"p-3 rounded-full glass border border-primary-500/30 text-primary-500 shadow-lg hover:bg-primary-500 hover:text-white transition-all group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx(Ao,{className:"w-6 h-6"})]})]})})}const qE=()=>{};var _p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},WE=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[r++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[r++],o=e[r++],l=e[r++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=e[r++],o=e[r++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(f=64)),n.push(r[d],r[h],r[f],r[g])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Av(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<e.length;){const i=r[e.charAt(s++)],l=s<e.length?r[e.charAt(s)]:0;++s;const u=s<e.length?r[e.charAt(s)]:64;++s;const h=s<e.length?r[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new HE;const f=i<<2|l>>4;if(n.push(f),u!==64){const g=l<<4&240|u>>2;if(n.push(g),h!==64){const y=u<<6&192|h;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QE=function(e){const t=Av(e);return Ev.encodeByteArray(t,!0)},Rv=function(e){return QE(e).replace(/\./g,"")},GE=function(e){try{return Ev.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=()=>KE().__FIREBASE_DEFAULTS__,XE=()=>{if(typeof process>"u"||typeof _p>"u")return;const e=_p.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},JE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&GE(e[1]);return t&&JSON.parse(t)},ZE=()=>{try{return qE()||YE()||XE()||JE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Iv=()=>{var e;return(e=ZE())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function _v(){try{return typeof indexedDB=="object"}catch{return!1}}function Mv(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(r){t(r)}})}function t4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="FirebaseError";class Ms extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=r4,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?n4(i,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ms(s,l,n)}}function n4(e,t){return e.replace(s4,(r,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const s4=/\{\$([^}]+)}/g;function Fu(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const i=e[s],o=t[s];if(Mp(i)&&Mp(o)){if(!Fu(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Mp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(e){return e&&e._delegate?e._delegate:e}class Kr{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new e4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o4(t))try{this.getOrInitializeService({instanceIdentifier:dn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=dn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=dn){return this.instances.has(t)}getOptions(t=dn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(s)}return s}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&t(i,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a4(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=dn){return this.component?this.component.multipleInstances?t:dn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a4(e){return e===dn?void 0:e}function o4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new i4(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ae||(ae={}));const c4={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},u4=ae.INFO,d4={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},h4=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),s=d4[t];if(s)console[s](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f4{constructor(t){this.name=t,this._logLevel=u4,this._logHandler=h4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const m4=(e,t)=>t.some(r=>e instanceof r);let Dp,Lp;function p4(){return Dp||(Dp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Bu=new WeakMap,Lv=new WeakMap,hc=new WeakMap,Ch=new WeakMap;function x4(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r(ir(e.result)),s()},o=()=>{n(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&Dv.set(r,e)}).catch(()=>{}),Ch.set(t,e),t}function y4(e){if(Bu.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Bu.set(e,t)}let $u={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Bu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Lv.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ir(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function v4(e){$u=e($u)}function b4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(fc(this),t,...r);return Lv.set(n,t.sort?t.sort():[t]),ir(n)}:g4().includes(e)?function(...t){return e.apply(fc(this),t),ir(Dv.get(this))}:function(...t){return ir(e.apply(fc(this),t))}}function w4(e){return typeof e=="function"?b4(e):(e instanceof IDBTransaction&&y4(e),m4(e,p4())?new Proxy(e,$u):e)}function ir(e){if(e instanceof IDBRequest)return x4(e);if(hc.has(e))return hc.get(e);const t=w4(e);return t!==e&&(hc.set(e,t),Ch.set(t,e)),t}const fc=e=>Ch.get(e);function dl(e,t,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=ir(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ir(o.result),c.oldVersion,c.newVersion,ir(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function mc(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),ir(r).then(()=>{})}const k4=["get","getKey","getAll","getAllKeys","count"],j4=["put","add","delete","clear"],pc=new Map;function Op(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pc.get(t))return pc.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=j4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||k4.includes(r)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return pc.set(t,i),i}v4(e=>({...e,get:(t,r,n)=>Op(t,r)||e.get(t,r,n),has:(t,r)=>!!Op(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(S4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function S4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zu="@firebase/app",Vp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new f4("@firebase/app"),C4="@firebase/app-compat",T4="@firebase/analytics-compat",P4="@firebase/analytics",A4="@firebase/app-check-compat",E4="@firebase/app-check",R4="@firebase/auth",I4="@firebase/auth-compat",_4="@firebase/database",M4="@firebase/data-connect",D4="@firebase/database-compat",L4="@firebase/functions",O4="@firebase/functions-compat",V4="@firebase/installations",F4="@firebase/installations-compat",B4="@firebase/messaging",$4="@firebase/messaging-compat",z4="@firebase/performance",U4="@firebase/performance-compat",q4="@firebase/remote-config",W4="@firebase/remote-config-compat",H4="@firebase/storage",Q4="@firebase/storage-compat",G4="@firebase/firestore",K4="@firebase/ai",Y4="@firebase/firestore-compat",X4="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="[DEFAULT]",J4={[zu]:"fire-core",[C4]:"fire-core-compat",[P4]:"fire-analytics",[T4]:"fire-analytics-compat",[E4]:"fire-app-check",[A4]:"fire-app-check-compat",[R4]:"fire-auth",[I4]:"fire-auth-compat",[_4]:"fire-rtdb",[M4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[L4]:"fire-fn",[O4]:"fire-fn-compat",[V4]:"fire-iid",[F4]:"fire-iid-compat",[B4]:"fire-fcm",[$4]:"fire-fcm-compat",[z4]:"fire-perf",[U4]:"fire-perf-compat",[q4]:"fire-rc",[W4]:"fire-rc-compat",[H4]:"fire-gcs",[Q4]:"fire-gcs-compat",[G4]:"fire-fst",[Y4]:"fire-fst-compat",[K4]:"fire-vertex","fire-js":"fire-js",[X4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,Z4=new Map,qu=new Map;function Fp(e,t){try{e.container.addComponent(t)}catch(r){hr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function An(e){const t=e.name;if(qu.has(t))return hr.debug(`There were multiple attempts to register component ${t}.`),!1;qu.set(t,e);for(const r of Io.values())Fp(r,e);for(const r of Z4.values())Fp(r,e);return!0}function Th(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new ul("app","Firebase",eR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}function Ov(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Uu,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Br.create("bad-app-name",{appName:String(s)});if(r||(r=Iv()),!r)throw Br.create("no-options");const i=Io.get(s);if(i){if(Fu(r,i.options)&&Fu(n,i.config))return i;throw Br.create("duplicate-app",{appName:s})}const o=new l4(s);for(const c of qu.values())o.addComponent(c);const l=new tR(r,n,o);return Io.set(s,l),l}function rR(e=Uu){const t=Io.get(e);if(!t&&e===Uu&&Iv())return Ov();if(!t)throw Br.create("no-app",{appName:e});return t}function $r(e,t,r){let n=J4[e]??e;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${n}" with version "${t}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hr.warn(o.join(" "));return}An(new Kr(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firebase-heartbeat-database",sR=1,Wi="firebase-heartbeat-store";let gc=null;function Vv(){return gc||(gc=dl(nR,sR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Wi)}catch(r){console.warn(r)}}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),gc}async function iR(e){try{const r=(await Vv()).transaction(Wi),n=await r.objectStore(Wi).get(Fv(e));return await r.done,n}catch(t){if(t instanceof Ms)hr.warn(t.message);else{const r=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hr.warn(r.message)}}}async function Bp(e,t){try{const n=(await Vv()).transaction(Wi,"readwrite");await n.objectStore(Wi).put(t,Fv(e)),await n.done}catch(r){if(r instanceof Ms)hr.warn(r.message);else{const n=Br.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hr.warn(n.message)}}}function Fv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1024,oR=30;class lR{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new uR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$p();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>oR){const o=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hr.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=$p(),{heartbeatsToSend:n,unsentEntries:s}=cR(this._heartbeatsCache.heartbeats),i=Rv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return hr.warn(r),""}}}function $p(){return new Date().toISOString().substring(0,10)}function cR(e,t=aR){const r=[];let n=e.slice();for(const s of e){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),zp(r)>t){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),zp(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class uR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _v()?Mv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await iR(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Bp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return Bp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function zp(e){return Rv(JSON.stringify({version:2,heartbeats:e})).length}function dR(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e){An(new Kr("platform-logger",t=>new N4(t),"PRIVATE")),An(new Kr("heartbeat",t=>new lR(t),"PRIVATE")),$r(zu,Vp,e),$r(zu,Vp,"esm2020"),$r("fire-js","")}hR("");var fR="firebase",mR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(fR,mR,"app");const Bv="@firebase/installations",Ph="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=1e4,zv=`w:${Ph}`,Uv="FIS_v2",pR="https://firebaseinstallations.googleapis.com/v1",gR=60*60*1e3,xR="installations",yR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},En=new ul(xR,yR,vR);function qv(e){return e instanceof Ms&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv({projectId:e}){return`${pR}/projects/${e}/installations`}function Hv(e){return{token:e.token,requestStatus:2,expiresIn:wR(e.expiresIn),creationTime:Date.now()}}async function Qv(e,t){const n=(await t.json()).error;return En.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Gv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function bR(e,{refreshToken:t}){const r=Gv(e);return r.append("Authorization",kR(t)),r}async function Kv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function wR(e){return Number(e.replace("s","000"))}function kR(e){return`${Uv} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Wv(e),s=Gv(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:r,authVersion:Uv,appId:e.appId,sdkVersion:zv},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Kv(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:Hv(u.authToken)}}else throw await Qv("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^[cdef][\w-]{21}$/,Wu="";function CR(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=TR(e);return SR.test(r)?r:Wu}catch{return Wu}}function TR(e){return NR(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;function Jv(e,t){const r=hl(e);Zv(r,t),PR(r,t)}function Zv(e,t){const r=Xv.get(e);if(r)for(const n of r)n(t)}function PR(e,t){const r=AR();r&&r.postMessage({key:e,fid:t}),ER()}let xn=null;function AR(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=e=>{Zv(e.data.key,e.data.fid)}),xn}function ER(){Xv.size===0&&xn&&(xn.close(),xn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebase-installations-database",IR=1,Rn="firebase-installations-store";let xc=null;function Ah(){return xc||(xc=dl(RR,IR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Rn)}}})),xc}async function _o(e,t){const r=hl(e),s=(await Ah()).transaction(Rn,"readwrite"),i=s.objectStore(Rn),o=await i.get(r);return await i.put(t,r),await s.done,(!o||o.fid!==t.fid)&&Jv(e,t.fid),t}async function eb(e){const t=hl(e),n=(await Ah()).transaction(Rn,"readwrite");await n.objectStore(Rn).delete(t),await n.done}async function fl(e,t){const r=hl(e),s=(await Ah()).transaction(Rn,"readwrite"),i=s.objectStore(Rn),o=await i.get(r),l=t(o);return l===void 0?await i.delete(r):await i.put(l,r),await s.done,l&&(!o||o.fid!==l.fid)&&Jv(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(e){let t;const r=await fl(e.appConfig,n=>{const s=_R(n),i=MR(e,s);return t=i.registrationPromise,i.installationEntry});return r.fid===Wu?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function _R(e){const t=e||{fid:CR(),registrationStatus:0};return tb(t)}function MR(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(En.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=DR(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:LR(e)}:{installationEntry:t}}async function DR(e,t){try{const r=await jR(e,t);return _o(e.appConfig,r)}catch(r){throw qv(r)&&r.customData.serverCode===409?await eb(e.appConfig):await _o(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function LR(e){let t=await Up(e.appConfig);for(;t.registrationStatus===1;)await Yv(100),t=await Up(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Eh(e);return n||r}return t}function Up(e){return fl(e,t=>{if(!t)throw En.create("installation-not-found");return tb(t)})}function tb(e){return OR(e)?{fid:e.fid,registrationStatus:0}:e}function OR(e){return e.registrationStatus===1&&e.registrationTime+$v<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR({appConfig:e,heartbeatServiceProvider:t},r){const n=FR(e,r),s=bR(e,r),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:zv,appId:e.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Kv(()=>fetch(n,l));if(c.ok){const u=await c.json();return Hv(u)}else throw await Qv("Generate Auth Token",c)}function FR(e,{fid:t}){return`${Wv(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(e,t=!1){let r;const n=await fl(e.appConfig,i=>{if(!rb(i))throw En.create("not-registered");const o=i.authToken;if(!t&&zR(o))return i;if(o.requestStatus===1)return r=BR(e,t),i;{if(!navigator.onLine)throw En.create("app-offline");const l=qR(i);return r=$R(e,l),l}});return r?await r:n.authToken}async function BR(e,t){let r=await qp(e.appConfig);for(;r.authToken.requestStatus===1;)await Yv(100),r=await qp(e.appConfig);const n=r.authToken;return n.requestStatus===0?Rh(e,t):n}function qp(e){return fl(e,t=>{if(!rb(t))throw En.create("not-registered");const r=t.authToken;return WR(r)?{...t,authToken:{requestStatus:0}}:t})}async function $R(e,t){try{const r=await VR(e,t),n={...t,authToken:r};return await _o(e.appConfig,n),r}catch(r){if(qv(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await eb(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await _o(e.appConfig,n)}throw r}}function rb(e){return e!==void 0&&e.registrationStatus===2}function zR(e){return e.requestStatus===2&&!UR(e)}function UR(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gR}function qR(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function WR(e){return e.requestStatus===1&&e.requestTime+$v<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(e){const t=e,{installationEntry:r,registrationPromise:n}=await Eh(t);return n?n.catch(console.error):Rh(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(e,t=!1){const r=e;return await GR(r),(await Rh(r,t)).token}async function GR(e){const{registrationPromise:t}=await Eh(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(e){if(!e||!e.options)throw yc("App Configuration");if(!e.name)throw yc("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw yc(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function yc(e){return En.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="installations",YR="installations-internal",XR=e=>{const t=e.getProvider("app").getImmediate(),r=KR(t),n=Th(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},JR=e=>{const t=e.getProvider("app").getImmediate(),r=Th(t,nb).getImmediate();return{getId:()=>HR(r),getToken:s=>QR(r,s)}};function ZR(){An(new Kr(nb,XR,"PUBLIC")),An(new Kr(YR,JR,"PRIVATE"))}ZR();$r(Bv,Ph);$r(Bv,Ph,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="/firebase-messaging-sw.js",tI="/firebase-cloud-messaging-push-scope",sb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rI="https://fcmregistrations.googleapis.com/v1",ib="google.c.a.c_id",nI="google.c.a.c_l",sI="google.c.a.ts",iI="google.c.a.e",Wp=1e4;var Hp;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Hp||(Hp={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Hi;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Hi||(Hi={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aI(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="fcm_token_details_db",oI=5,Qp="fcm_token_object_Store";async function lI(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(vc))return null;let t=null;return(await dl(vc,oI,{upgrade:async(n,s,i,o)=>{if(s<2||!n.objectStoreNames.contains(Qp))return;const l=o.objectStore(Qp),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Kt(u.vapidKey)}}}else if(s===3){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Kt(u.auth),p256dh:Kt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Kt(u.vapidKey)}}}else if(s===4){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Kt(u.auth),p256dh:Kt(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Kt(u.vapidKey)}}}}}})).close(),await mc(vc),await mc("fcm_vapid_details_db"),await mc("undefined"),cI(t)?t:null}function cI(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebase-messaging-database",dI=1,Qi="firebase-messaging-store";let bc=null;function ab(){return bc||(bc=dl(uI,dI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Qi)}}})),bc}async function hI(e){const t=ob(e),n=await(await ab()).transaction(Qi).objectStore(Qi).get(t);if(n)return n;{const s=await lI(e.appConfig.senderId);if(s)return await Ih(e,s),s}}async function Ih(e,t){const r=ob(e),s=(await ab()).transaction(Qi,"readwrite");return await s.objectStore(Qi).put(t,r),await s.done,t}function ob({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Be=new ul("messaging","Messaging",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(e,t){const r=await Mh(e),n=lb(t),s={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(_h(e.appConfig),s)).json()}catch(o){throw Be.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw Be.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Be.create("token-subscribe-no-token");return i.token}async function pI(e,t){const r=await Mh(e),n=lb(t.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(`${_h(e.appConfig)}/${t.token}`,s)).json()}catch(o){throw Be.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw Be.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Be.create("token-update-no-token");return i.token}async function gI(e,t){const n={method:"DELETE",headers:await Mh(e)};try{const i=await(await fetch(`${_h(e.appConfig)}/${t}`,n)).json();if(i.error){const o=i.error.message;throw Be.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Be.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function _h({projectId:e}){return`${rI}/projects/${e}/registrations`}async function Mh({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function lb({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const s={web:{endpoint:r,auth:t,p256dh:e}};return n!==sb&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=7*24*60*60*1e3;async function yI(e){const t=await bI(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Kt(t.getKey("auth")),p256dh:Kt(t.getKey("p256dh"))},n=await hI(e.firebaseDependencies);if(n){if(wI(n.subscriptionOptions,r))return Date.now()>=n.createTime+xI?vI(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await gI(e.firebaseDependencies,n.token)}catch(s){console.warn(s)}return Gp(e.firebaseDependencies,r)}else return Gp(e.firebaseDependencies,r)}async function vI(e,t){try{const r=await pI(e.firebaseDependencies,t),n={...t,token:r,createTime:Date.now()};return await Ih(e.firebaseDependencies,n),r}catch(r){throw r}}async function Gp(e,t){const n={token:await mI(e,t),createTime:Date.now(),subscriptionOptions:t};return await Ih(e,n),n.token}async function bI(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aI(t)})}function wI(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,s=t.auth===e.auth,i=t.p256dh===e.p256dh;return r&&n&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return kI(t,e),jI(t,e),NI(t,e),t}function kI(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const s=t.notification.image;s&&(e.notification.image=s);const i=t.notification.icon;i&&(e.notification.icon=i)}function jI(e,t){t.data&&(e.data=t.data)}function NI(e,t){var s,i,o,l;if(!t.fcmOptions&&!((s=t.notification)!=null&&s.click_action))return;e.fcmOptions={};const r=((i=t.fcmOptions)==null?void 0:i.link)??((o=t.notification)==null?void 0:o.click_action);r&&(e.fcmOptions.link=r);const n=(l=t.fcmOptions)==null?void 0:l.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(e){return typeof e=="object"&&!!e&&ib in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(e){if(!e||!e.options)throw wc("App Configuration Object");if(!e.name)throw wc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw wc(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function wc(e){return Be.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=CI(t);this.firebaseDependencies={app:t,appConfig:s,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(e){try{e.swRegistration=await navigator.serviceWorker.register(eI,{scope:tI}),e.swRegistration.update().catch(()=>{}),await AI(e.swRegistration)}catch(t){throw Be.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function AI(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${Wp} ms`)),Wp),s=e.installing||e.waiting;e.active?(clearTimeout(n),t()):s?s.onstatechange=i=>{var o;((o=i.target)==null?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(e,t){if(!t&&!e.swRegistration&&await PI(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Be.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=sb)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(e,t){if(!navigator)throw Be.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Be.create("permission-blocked");return await RI(e,t==null?void 0:t.vapidKey),await EI(e,t==null?void 0:t.serviceWorkerRegistration),yI(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(e,t,r){const n=_I(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[ib],message_name:r[nI],message_time:r[sI],message_device_time:Math.floor(Date.now()/1e3)})}function _I(e){switch(e){case Hi.NOTIFICATION_CLICKED:return"notification_open";case Hi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Hi.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Kp(r)):e.onMessageHandler.next(Kp(r)));const n=r.data;SI(n)&&n[iI]==="1"&&await II(e,r.messageType,n)}const Yp="@firebase/messaging",Xp="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=e=>{const t=new TI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>MI(t,r)),t},LI=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>cb(t,n)}};function OI(){An(new Kr("messaging",DI,"PUBLIC")),An(new Kr("messaging-internal",LI,"PRIVATE")),$r(Yp,Xp),$r(Yp,Xp,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(){try{await Mv()}catch{return!1}return typeof window<"u"&&_v()&&t4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t){if(!navigator)throw Be.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(e=rR()){return VI().then(t=>{if(!t)throw Be.create("unsupported-browser")},t=>{throw Be.create("indexed-db-unsupported")}),Th(Sh(e),"messaging").getImmediate()}async function $I(e,t){return e=Sh(e),cb(e,t)}function zI(e,t){return e=Sh(e),FI(e,t)}OI();const UI={apiKey:"AIzaSyD_zaEB4r9OdxRhqjh_3knPThewK0Xr98I",authDomain:"baptizo-community.firebaseapp.com",projectId:"baptizo-community",storageBucket:"baptizo-community.firebasestorage.app",messagingSenderId:"781281083216",appId:"1:781281083216:web:4236621528ef828ab03655",measurementId:"G-7LD94T1B5D"},qI=Ov(UI),kc=typeof window<"u"?BI(qI):null,WI="BGwc3-C9heX7WHfc8hJwJ08smI0rWbqoyoOXN1IoaHN33auBdJ7GIr82XZKUdl5MW9XZyElzyxIuMQA_J-xWhEE";function HI(){const{user:e}=X(),t=K(L.users.updateFcmToken),[r,n]=b.useState(typeof window<"u"?Notification.permission:"default");return b.useEffect(()=>{if(!e||!kc)return;(async()=>{try{const o=await Notification.requestPermission();if(n(o),o==="granted"){const l=await $I(kc,{vapidKey:WI});l&&(console.log("FCM Token:",l),await t({userId:e._id,fcmToken:l}))}}catch(o){console.error("Error setting up notifications:",o)}})();const i=zI(kc,o=>{console.log("Foreground message received:",o),o.notification&&new Notification(o.notification.title||"New Notification",{body:o.notification.body,icon:o.notification.image||"/logo192.png"})});return()=>i()},[e,t]),{permissionStatus:r}}const QI=new iN("https://perceptive-kudu-144.convex.cloud");function GI(){const e=en(),[t,r]=ar.useState(!0);if(HI(),ar.useEffect(()=>{const c=setTimeout(()=>r(!1),2e3);return()=>clearTimeout(c)},[]),t)return a.jsx(Nh,{});const n=["/feed","/ancient-culture","/wisdom-now","/profile","/admin","/notifications","/tasks","/leaderboard","/admin/reward-responses","/my-responses","/admin/responses","/post"],s=!n.some(c=>e.pathname.startsWith(c)),i=n.some(c=>e.pathname.startsWith(c)),l=["/feed","/ancient-culture","/wisdom-now","/notifications","/tasks","/admin/tasks","/leaderboard"].some(c=>e.pathname.startsWith(c));return a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(_P,{}),l&&a.jsx(LP,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(A1,{children:[a.jsx(ve,{path:"/",element:a.jsx(OP,{})}),a.jsx(ve,{path:"/login",element:a.jsx(FP,{})}),a.jsx(ve,{path:"/register",element:a.jsx(qP,{})}),a.jsx(ve,{path:"/feed",element:a.jsx(pE,{})}),a.jsx(ve,{path:"/ancient-culture",element:a.jsx(xE,{})}),a.jsx(ve,{path:"/wisdom-now",element:a.jsx(yE,{})}),a.jsx(ve,{path:"/profile",element:a.jsx(SE,{})}),a.jsx(ve,{path:"/admin",element:a.jsx(PE,{})}),a.jsx(ve,{path:"/admin/rewards",element:a.jsx(AE,{})}),a.jsx(ve,{path:"/admin/tasks",element:a.jsx(IE,{})}),a.jsx(ve,{path:"/admin/responses",element:a.jsx(DE,{})}),a.jsx(ve,{path:"/admin/reward-responses",element:a.jsx(LE,{})}),a.jsx(ve,{path:"/my-responses",element:a.jsx(OE,{})}),a.jsx(ve,{path:"/tasks",element:a.jsx(RE,{})}),a.jsx(ve,{path:"/leaderboard",element:a.jsx(VE,{})}),a.jsx(ve,{path:"/notifications",element:a.jsx(EE,{})}),a.jsx(ve,{path:"/setup",element:a.jsx(_E,{})}),a.jsx(ve,{path:"/post/:postId/responses",element:a.jsx(BE,{})}),a.jsx(ve,{path:"/post/:postId",element:a.jsx(zE,{})})]})}),s&&a.jsx(MP,{}),i&&a.jsx(DP,{}),a.jsx(UE,{})]})}function KI(){return a.jsx(oN,{client:QI,children:a.jsx(mN,{children:a.jsx(xN,{children:a.jsx(L1,{children:a.jsx(GI,{})})})})})}jc.createRoot(document.getElementById("root")).render(a.jsx(ar.StrictMode,{children:a.jsx(KI,{})}));
//# sourceMappingURL=index-CVM-ijyY.js.map
