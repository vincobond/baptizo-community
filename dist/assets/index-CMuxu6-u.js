function Kb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Yb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _g={exports:{}},Jo={},Mg={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),Jb=Symbol.for("react.portal"),Xb=Symbol.for("react.fragment"),Zb=Symbol.for("react.strict_mode"),ek=Symbol.for("react.profiler"),tk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),nk=Symbol.for("react.forward_ref"),sk=Symbol.for("react.suspense"),ik=Symbol.for("react.memo"),ak=Symbol.for("react.lazy"),pm=Symbol.iterator;function ok(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var Rg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dg=Object.assign,Lg={};function Fs(e,t,r){this.props=e,this.context=t,this.refs=Lg,this.updater=r||Rg}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Og(){}Og.prototype=Fs.prototype;function fu(e,t,r){this.props=e,this.context=t,this.refs=Lg,this.updater=r||Rg}var pu=fu.prototype=new Og;pu.constructor=fu;Dg(pu,Fs.prototype);pu.isPureReactComponent=!0;var gm=Array.isArray,Fg=Object.prototype.hasOwnProperty,gu={current:null},Vg={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Fg.call(t,n)&&!Vg.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:la,type:e,key:a,ref:o,props:i,_owner:gu.current}}function lk(e,t){return{$$typeof:la,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xu(e){return typeof e=="object"&&e!==null&&e.$$typeof===la}function ck(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xm=/\/+/g;function Ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ck(""+e.key):t.toString(36)}function Ha(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case la:case Jb:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ll(o,0):n,gm(i)?(r="",e!=null&&(r=e.replace(xm,"$&/")+"/"),Ha(i,t,r,"",function(d){return d})):i!=null&&(xu(i)&&(i=lk(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",gm(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ll(a,l);o+=Ha(a,t,r,c,i)}else if(c=ok(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ll(a,l++),o+=Ha(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(e,t,r){if(e==null)return e;var n=[],i=0;return Ha(e,n,"","",function(a){return t.call(r,a,i++)}),n}function dk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Qa={transition:null},uk={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:gu};function zg(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ba,forEach:function(e,t,r){ba(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ba(e,function(){t++}),t},toArray:function(e){return ba(e,function(t){return t})||[]},only:function(e){if(!xu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Fs;J.Fragment=Xb;J.Profiler=ek;J.PureComponent=fu;J.StrictMode=Zb;J.Suspense=sk;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;J.act=zg;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dg({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=gu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Fg.call(t,c)&&!Vg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:la,type:e.type,key:i,ref:a,props:n,_owner:o}};J.createContext=function(e){return e={$$typeof:rk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tk,_context:e},e.Consumer=e};J.createElement=Bg;J.createFactory=function(e){var t=Bg.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:nk,render:e}};J.isValidElement=xu;J.lazy=function(e){return{$$typeof:ak,_payload:{_status:-1,_result:e},_init:dk}};J.memo=function(e,t){return{$$typeof:ik,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Qa.transition;Qa.transition={};try{e()}finally{Qa.transition=t}};J.unstable_act=zg;J.useCallback=function(e,t){return et.current.useCallback(e,t)};J.useContext=function(e){return et.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return et.current.useDeferredValue(e)};J.useEffect=function(e,t){return et.current.useEffect(e,t)};J.useId=function(){return et.current.useId()};J.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return et.current.useMemo(e,t)};J.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};J.useRef=function(e){return et.current.useRef(e)};J.useState=function(e){return et.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return et.current.useTransition()};J.version="18.3.1";Mg.exports=J;var b=Mg.exports;const Xt=Yb(b),hk=Kb({__proto__:null,default:Xt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mk=b,fk=Symbol.for("react.element"),pk=Symbol.for("react.fragment"),gk=Object.prototype.hasOwnProperty,xk=mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yk={key:!0,ref:!0,__self:!0,__source:!0};function Ug(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)gk.call(t,n)&&!yk.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:fk,type:e,key:a,ref:o,props:i,_owner:xk.current}}Jo.Fragment=pk;Jo.jsx=Ug;Jo.jsxs=Ug;_g.exports=Jo;var s=_g.exports,qc={},$g={exports:{}},yt={},qg={exports:{}},Wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,F){var $=I.length;I.push(F);e:for(;0<$;){var D=$-1>>>1,ie=I[D];if(0<i(ie,F))I[D]=F,I[$]=ie,$=D;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],$=I.pop();if($!==F){I[0]=$;e:for(var D=0,ie=I.length,zt=ie>>>1;D<zt;){var ut=2*(D+1)-1,Tr=I[ut],He=ut+1,tr=I[He];if(0>i(Tr,$))He<ie&&0>i(tr,Tr)?(I[D]=tr,I[He]=$,D=He):(I[D]=Tr,I[ut]=$,D=ut);else if(He<ie&&0>i(tr,$))I[D]=tr,I[He]=$,D=He;else break e}}return F}function i(I,F){var $=I.sortIndex-F.sortIndex;return $!==0?$:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,v=!1,p=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=I)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function w(I){if(p=!1,g(I),!v)if(r(c)!==null)v=!0,ee(j);else{var F=r(d);F!==null&&re(w,F.startTime-I)}}function j(I,F){v=!1,p&&(p=!1,y(C),C=-1),f=!0;var $=m;try{for(g(F),h=r(c);h!==null&&(!(h.expirationTime>F)||I&&!ne());){var D=h.callback;if(typeof D=="function"){h.callback=null,m=h.priorityLevel;var ie=D(h.expirationTime<=F);F=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(c)&&n(c),g(F)}else n(c);h=r(c)}if(h!==null)var zt=!0;else{var ut=r(d);ut!==null&&re(w,ut.startTime-F),zt=!1}return zt}finally{h=null,m=$,f=!1}}var S=!1,N=null,C=-1,T=5,R=-1;function ne(){return!(e.unstable_now()-R<T)}function U(){if(N!==null){var I=e.unstable_now();R=I;var F=!0;try{F=N(!0,I)}finally{F?pe():(S=!1,N=null)}}else S=!1}var pe;if(typeof x=="function")pe=function(){x(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ce=Z.port2;Z.port1.onmessage=U,pe=function(){ce.postMessage(null)}}else pe=function(){k(U,0)};function ee(I){N=I,S||(S=!0,pe())}function re(I,F){C=k(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,ee(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var $=m;m=F;try{return I()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var $=m;m=I;try{return F()}finally{m=$}},e.unstable_scheduleCallback=function(I,F,$){var D=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?D+$:D):$=D,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=$+ie,I={id:u++,callback:F,priorityLevel:I,startTime:$,expirationTime:ie,sortIndex:-1},$>D?(I.sortIndex=$,t(d,I),r(c)===null&&I===r(d)&&(p?(y(C),C=-1):p=!0,re(w,$-D))):(I.sortIndex=ie,t(c,I),v||f||(v=!0,ee(j))),I},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(I){var F=m;return function(){var $=m;m=F;try{return I.apply(this,arguments)}finally{m=$}}}})(Wg);qg.exports=Wg;var vk=qg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=b,pt=vk;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hg=new Set,_i={};function Hn(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(_i[e]=t,e=0;e<t.length;e++)Hg.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=Object.prototype.hasOwnProperty,kk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},vm={};function wk(e){return Wc.call(vm,e)?!0:Wc.call(ym,e)?!1:kk.test(e)?vm[e]=!0:(ym[e]=!0,!1)}function jk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nk(e,t,r,n){if(t===null||typeof t>"u"||jk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yu=/[\-:]([a-z])/g;function vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yu,vu);Fe[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yu,vu);Fe[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yu,vu);Fe[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bu(e,t,r,n){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nk(t,r,i,n)&&(r=null),n||i===null?wk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nr=bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),ts=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),Hc=Symbol.for("react.profiler"),Qg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),wu=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),Gc=Symbol.for("react.suspense_list"),ju=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Kg=Symbol.for("react.offscreen"),bm=Symbol.iterator;function Ys(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Ol;function di(e){if(Ol===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Fl=!1;function Vl(e,t){if(!e||Fl)return"";Fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?di(e):""}function Sk(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=Vl(e.type,!1),e;case 11:return e=Vl(e.type.render,!1),e;case 1:return e=Vl(e.type,!0),e;default:return""}}function Kc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rs:return"Fragment";case ts:return"Portal";case Hc:return"Profiler";case ku:return"StrictMode";case Qc:return"Suspense";case Gc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gg:return(e.displayName||"Context")+".Consumer";case Qg:return(e._context.displayName||"Context")+".Provider";case wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ju:return t=e.displayName||null,t!==null?t:Kc(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return Kc(e(t))}catch{}}return null}function Ck(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(t);case 8:return t===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tk(e){var t=Yg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wa(e){e._valueTracker||(e._valueTracker=Tk(e))}function Jg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function uo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yc(e,t){var r=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function km(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=en(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xg(e,t){t=t.checked,t!=null&&bu(e,"checked",t,!1)}function Jc(e,t){Xg(e,t);var r=en(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xc(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xc(e,t,r){(t!=="number"||uo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ui=Array.isArray;function ys(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+en(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(ui(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:en(r)}}function Zg(e,t){var r=en(t.value),n=en(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Nm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ex(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ed(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ex(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ja,tx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pk=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(e){Pk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gi[t]=gi[e]})});function rx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||gi.hasOwnProperty(e)&&gi[e]?(""+t).trim():t+"px"}function nx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Ak=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function td(e,t){if(t){if(Ak[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function rd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=null;function Nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sd=null,vs=null,bs=null;function Sm(e){if(e=ua(e)){if(typeof sd!="function")throw Error(A(280));var t=e.stateNode;t&&(t=rl(t),sd(e.stateNode,e.type,t))}}function sx(e){vs?bs?bs.push(e):bs=[e]:vs=e}function ix(){if(vs){var e=vs,t=bs;if(bs=vs=null,Sm(e),t)for(e=0;e<t.length;e++)Sm(t[e])}}function ax(e,t){return e(t)}function ox(){}var Bl=!1;function lx(e,t,r){if(Bl)return e(t,r);Bl=!0;try{return ax(e,t,r)}finally{Bl=!1,(vs!==null||bs!==null)&&(ox(),ix())}}function Ri(e,t){var r=e.stateNode;if(r===null)return null;var n=rl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var id=!1;if(gr)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){id=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{id=!1}function Ek(e,t,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var xi=!1,ho=null,mo=!1,ad=null,Ik={onError:function(e){xi=!0,ho=e}};function _k(e,t,r,n,i,a,o,l,c){xi=!1,ho=null,Ek.apply(Ik,arguments)}function Mk(e,t,r,n,i,a,o,l,c){if(_k.apply(this,arguments),xi){if(xi){var d=ho;xi=!1,ho=null}else throw Error(A(198));mo||(mo=!0,ad=d)}}function Qn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cm(e){if(Qn(e)!==e)throw Error(A(188))}function Rk(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Cm(i),e;if(a===n)return Cm(i),t;a=a.sibling}throw Error(A(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function dx(e){return e=Rk(e),e!==null?ux(e):null}function ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ux(e);if(t!==null)return t;e=e.sibling}return null}var hx=pt.unstable_scheduleCallback,Tm=pt.unstable_cancelCallback,Dk=pt.unstable_shouldYield,Lk=pt.unstable_requestPaint,Ne=pt.unstable_now,Ok=pt.unstable_getCurrentPriorityLevel,Su=pt.unstable_ImmediatePriority,mx=pt.unstable_UserBlockingPriority,fo=pt.unstable_NormalPriority,Fk=pt.unstable_LowPriority,fx=pt.unstable_IdlePriority,Xo=null,Kt=null;function Vk(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Xo,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Uk,Bk=Math.log,zk=Math.LN2;function Uk(e){return e>>>=0,e===0?32:31-(Bk(e)/zk|0)|0}var Na=64,Sa=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function po(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=hi(l):(a&=o,a!==0&&(n=hi(a)))}else o=r&~i,o!==0?n=hi(o):a!==0&&(n=hi(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lt(t),i=1<<r,n|=e[r],t&=~i;return n}function $k(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Lt(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=$k(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function od(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function px(){var e=Na;return Na<<=1,!(Na&4194240)&&(Na=64),e}function zl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ca(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=r}function Wk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Lt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Cu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var te=0;function gx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xx,Tu,yx,vx,bx,ld=!1,Ca=[],Ur=null,$r=null,qr=null,Di=new Map,Li=new Map,Dr=[],Hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pm(e,t){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Xs(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ua(t),t!==null&&Tu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Qk(e,t,r,n,i){switch(t){case"focusin":return Ur=Xs(Ur,e,t,r,n,i),!0;case"dragenter":return $r=Xs($r,e,t,r,n,i),!0;case"mouseover":return qr=Xs(qr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Di.set(a,Xs(Di.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Li.set(a,Xs(Li.get(a)||null,e,t,r,n,i)),!0}return!1}function kx(e){var t=jn(e.target);if(t!==null){var r=Qn(t);if(r!==null){if(t=r.tag,t===13){if(t=cx(r),t!==null){e.blockedOn=t,bx(e.priority,function(){yx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);nd=n,r.target.dispatchEvent(n),nd=null}else return t=ua(r),t!==null&&Tu(t),e.blockedOn=r,!1;t.shift()}return!0}function Am(e,t,r){Ga(e)&&r.delete(t)}function Gk(){ld=!1,Ur!==null&&Ga(Ur)&&(Ur=null),$r!==null&&Ga($r)&&($r=null),qr!==null&&Ga(qr)&&(qr=null),Di.forEach(Am),Li.forEach(Am)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,ld||(ld=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,Gk)))}function Oi(e){function t(i){return Zs(i,e)}if(0<Ca.length){Zs(Ca[0],e);for(var r=1;r<Ca.length;r++){var n=Ca[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ur!==null&&Zs(Ur,e),$r!==null&&Zs($r,e),qr!==null&&Zs(qr,e),Di.forEach(t),Li.forEach(t),r=0;r<Dr.length;r++)n=Dr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)kx(r),r.blockedOn===null&&Dr.shift()}var ks=Nr.ReactCurrentBatchConfig,go=!0;function Kk(e,t,r,n){var i=te,a=ks.transition;ks.transition=null;try{te=1,Pu(e,t,r,n)}finally{te=i,ks.transition=a}}function Yk(e,t,r,n){var i=te,a=ks.transition;ks.transition=null;try{te=4,Pu(e,t,r,n)}finally{te=i,ks.transition=a}}function Pu(e,t,r,n){if(go){var i=cd(e,t,r,n);if(i===null)Jl(e,t,n,xo,r),Pm(e,n);else if(Qk(i,e,t,r,n))n.stopPropagation();else if(Pm(e,n),t&4&&-1<Hk.indexOf(e)){for(;i!==null;){var a=ua(i);if(a!==null&&xx(a),a=cd(e,t,r,n),a===null&&Jl(e,t,n,xo,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Jl(e,t,n,null,r)}}var xo=null;function cd(e,t,r,n){if(xo=null,e=Nu(n),e=jn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xo=e,null}function wx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ok()){case Su:return 1;case mx:return 4;case fo:case Fk:return 16;case fx:return 536870912;default:return 16}default:return 16}}var Or=null,Au=null,Ka=null;function jx(){if(Ka)return Ka;var e,t=Au,r=t.length,n,i="value"in Or?Or.value:Or.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Ka=i.slice(e,1<n?1-n:void 0)}function Ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function Em(){return!1}function vt(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ta:Em,this.isPropagationStopped=Em,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=vt(Vs),da=ve({},Vs,{view:0,detail:0}),Jk=vt(da),Ul,$l,ei,Zo=ve({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Ul=e.screenX-ei.screenX,$l=e.screenY-ei.screenY):$l=Ul=0,ei=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),Im=vt(Zo),Xk=ve({},Zo,{dataTransfer:0}),Zk=vt(Xk),ew=ve({},da,{relatedTarget:0}),ql=vt(ew),tw=ve({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),rw=vt(tw),nw=ve({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sw=vt(nw),iw=ve({},Vs,{data:0}),_m=vt(iw),aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lw[e])?!!t[e]:!1}function Iu(){return cw}var dw=ve({},da,{key:function(e){if(e.key){var t=aw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(e){return e.type==="keypress"?Ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uw=vt(dw),hw=ve({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mm=vt(hw),mw=ve({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),fw=vt(mw),pw=ve({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=vt(pw),xw=ve({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yw=vt(xw),vw=[9,13,27,32],_u=gr&&"CompositionEvent"in window,yi=null;gr&&"documentMode"in document&&(yi=document.documentMode);var bw=gr&&"TextEvent"in window&&!yi,Nx=gr&&(!_u||yi&&8<yi&&11>=yi),Rm=" ",Dm=!1;function Sx(e,t){switch(e){case"keyup":return vw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function kw(e,t){switch(e){case"compositionend":return Cx(t);case"keypress":return t.which!==32?null:(Dm=!0,Rm);case"textInput":return e=t.data,e===Rm&&Dm?null:e;default:return null}}function ww(e,t){if(ns)return e==="compositionend"||!_u&&Sx(e,t)?(e=jx(),Ka=Au=Or=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nx&&t.locale!=="ko"?null:t.data;default:return null}}var jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jw[e.type]:t==="textarea"}function Tx(e,t,r,n){sx(n),t=yo(t,"onChange"),0<t.length&&(r=new Eu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vi=null,Fi=null;function Nw(e){Fx(e,0)}function el(e){var t=as(e);if(Jg(t))return e}function Sw(e,t){if(e==="change")return t}var Px=!1;if(gr){var Wl;if(gr){var Hl="oninput"in document;if(!Hl){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),Hl=typeof Om.oninput=="function"}Wl=Hl}else Wl=!1;Px=Wl&&(!document.documentMode||9<document.documentMode)}function Fm(){vi&&(vi.detachEvent("onpropertychange",Ax),Fi=vi=null)}function Ax(e){if(e.propertyName==="value"&&el(Fi)){var t=[];Tx(t,Fi,e,Nu(e)),lx(Nw,t)}}function Cw(e,t,r){e==="focusin"?(Fm(),vi=t,Fi=r,vi.attachEvent("onpropertychange",Ax)):e==="focusout"&&Fm()}function Tw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Fi)}function Pw(e,t){if(e==="click")return el(t)}function Aw(e,t){if(e==="input"||e==="change")return el(t)}function Ew(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Ew;function Vi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Wc.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bm(e,t){var r=Vm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vm(r)}}function Ex(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ex(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ix(){for(var e=window,t=uo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=uo(e.document)}return t}function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Iw(e){var t=Ix(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ex(r.ownerDocument.documentElement,r)){if(n!==null&&Mu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Bm(r,a);var o=Bm(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _w=gr&&"documentMode"in document&&11>=document.documentMode,ss=null,dd=null,bi=null,ud=!1;function zm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ud||ss==null||ss!==uo(n)||(n=ss,"selectionStart"in n&&Mu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bi&&Vi(bi,n)||(bi=n,n=yo(dd,"onSelect"),0<n.length&&(t=new Eu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ss)))}function Pa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var is={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},Ql={},_x={};gr&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function tl(e){if(Ql[e])return Ql[e];if(!is[e])return e;var t=is[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _x)return Ql[e]=t[r];return e}var Mx=tl("animationend"),Rx=tl("animationiteration"),Dx=tl("animationstart"),Lx=tl("transitionend"),Ox=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){Ox.set(e,t),Hn(t,[e])}for(var Gl=0;Gl<Um.length;Gl++){var Kl=Um[Gl],Mw=Kl.toLowerCase(),Rw=Kl[0].toUpperCase()+Kl.slice(1);cn(Mw,"on"+Rw)}cn(Mx,"onAnimationEnd");cn(Rx,"onAnimationIteration");cn(Dx,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Lx,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function $m(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Mk(n,t,void 0,e),e.currentTarget=null}function Fx(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;$m(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;$m(i,l,d),a=c}}}if(mo)throw e=ad,mo=!1,ad=null,e}function ue(e,t){var r=t[gd];r===void 0&&(r=t[gd]=new Set);var n=e+"__bubble";r.has(n)||(Vx(t,e,2,!1),r.add(n))}function Yl(e,t,r){var n=0;t&&(n|=4),Vx(r,e,n,t)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Aa]){e[Aa]=!0,Hg.forEach(function(r){r!=="selectionchange"&&(Dw.has(r)||Yl(r,!1,e),Yl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Aa]||(t[Aa]=!0,Yl("selectionchange",!1,t))}}function Vx(e,t,r,n){switch(wx(t)){case 1:var i=Kk;break;case 4:i=Yk;break;default:i=Pu}r=i.bind(null,t,r,e),i=void 0,!id||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jl(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=jn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}lx(function(){var d=a,u=Nu(r),h=[];e:{var m=Ox.get(e);if(m!==void 0){var f=Eu,v=e;switch(e){case"keypress":if(Ya(r)===0)break e;case"keydown":case"keyup":f=uw;break;case"focusin":v="focus",f=ql;break;case"focusout":v="blur",f=ql;break;case"beforeblur":case"afterblur":f=ql;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=fw;break;case Mx:case Rx:case Dx:f=rw;break;case Lx:f=gw;break;case"scroll":f=Jk;break;case"wheel":f=yw;break;case"copy":case"cut":case"paste":f=sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Mm}var p=(t&4)!==0,k=!p&&e==="scroll",y=p?m!==null?m+"Capture":null:m;p=[];for(var x=d,g;x!==null;){g=x;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Ri(x,y),w!=null&&p.push(zi(x,w,g)))),k)break;x=x.return}0<p.length&&(m=new f(m,v,null,r,u),h.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==nd&&(v=r.relatedTarget||r.fromElement)&&(jn(v)||v[xr]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=d,v=v?jn(v):null,v!==null&&(k=Qn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=d),f!==v)){if(p=Im,w="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=Mm,w="onPointerLeave",y="onPointerEnter",x="pointer"),k=f==null?m:as(f),g=v==null?m:as(v),m=new p(w,x+"leave",f,r,u),m.target=k,m.relatedTarget=g,w=null,jn(u)===d&&(p=new p(y,x+"enter",v,r,u),p.target=g,p.relatedTarget=k,w=p),k=w,f&&v)t:{for(p=f,y=v,x=0,g=p;g;g=Xn(g))x++;for(g=0,w=y;w;w=Xn(w))g++;for(;0<x-g;)p=Xn(p),x--;for(;0<g-x;)y=Xn(y),g--;for(;x--;){if(p===y||y!==null&&p===y.alternate)break t;p=Xn(p),y=Xn(y)}p=null}else p=null;f!==null&&qm(h,m,f,p,!1),v!==null&&k!==null&&qm(h,k,v,p,!0)}}e:{if(m=d?as(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var j=Sw;else if(Lm(m))if(Px)j=Aw;else{j=Tw;var S=Cw}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Pw);if(j&&(j=j(e,d))){Tx(h,j,r,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Xc(m,"number",m.value)}switch(S=d?as(d):window,e){case"focusin":(Lm(S)||S.contentEditable==="true")&&(ss=S,dd=d,bi=null);break;case"focusout":bi=dd=ss=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,zm(h,r,u);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":zm(h,r,u)}var N;if(_u)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ns?Sx(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Nx&&r.locale!=="ko"&&(ns||C!=="onCompositionStart"?C==="onCompositionEnd"&&ns&&(N=jx()):(Or=u,Au="value"in Or?Or.value:Or.textContent,ns=!0)),S=yo(d,C),0<S.length&&(C=new _m(C,e,null,r,u),h.push({event:C,listeners:S}),N?C.data=N:(N=Cx(r),N!==null&&(C.data=N)))),(N=bw?kw(e,r):ww(e,r))&&(d=yo(d,"onBeforeInput"),0<d.length&&(u=new _m("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=N))}Fx(h,t)})}function zi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yo(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ri(e,r),a!=null&&n.unshift(zi(e,a,i)),a=Ri(e,t),a!=null&&n.push(zi(e,a,i))),e=e.return}return n}function Xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qm(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=Ri(r,a),c!=null&&o.unshift(zi(r,c,l))):i||(c=Ri(r,a),c!=null&&o.push(zi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Lw=/\r\n?/g,Ow=/\u0000|\uFFFD/g;function Wm(e){return(typeof e=="string"?e:""+e).replace(Lw,`
`).replace(Ow,"")}function Ea(e,t,r){if(t=Wm(t),Wm(e)!==t&&r)throw Error(A(425))}function vo(){}var hd=null,md=null;function fd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(Bw)}:pd;function Bw(e){setTimeout(function(){throw e})}function Xl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Oi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Oi(t)}function Wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Bs,Ui="__reactProps$"+Bs,xr="__reactContainer$"+Bs,gd="__reactEvents$"+Bs,zw="__reactListeners$"+Bs,Uw="__reactHandles$"+Bs;function jn(e){var t=e[Qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xr]||r[Qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qm(e);e!==null;){if(r=e[Qt])return r;e=Qm(e)}return t}e=r,r=e.parentNode}return null}function ua(e){return e=e[Qt]||e[xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function as(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function rl(e){return e[Ui]||null}var xd=[],os=-1;function dn(e){return{current:e}}function me(e){0>os||(e.current=xd[os],xd[os]=null,os--)}function ae(e,t){os++,xd[os]=e.current,e.current=t}var tn={},qe=dn(tn),ot=dn(!1),Rn=tn;function Ts(e,t){var r=e.type.contextTypes;if(!r)return tn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function lt(e){return e=e.childContextTypes,e!=null}function bo(){me(ot),me(qe)}function Gm(e,t,r){if(qe.current!==tn)throw Error(A(168));ae(qe,t),ae(ot,r)}function Bx(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(A(108,Ck(e)||"Unknown",i));return ve({},r,n)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,Rn=qe.current,ae(qe,e),ae(ot,ot.current),!0}function Km(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Bx(e,t,Rn),n.__reactInternalMemoizedMergedChildContext=e,me(ot),me(qe),ae(qe,e)):me(ot),ae(ot,r)}var or=null,nl=!1,Zl=!1;function zx(e){or===null?or=[e]:or.push(e)}function $w(e){nl=!0,zx(e)}function un(){if(!Zl&&or!==null){Zl=!0;var e=0,t=te;try{var r=or;for(te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}or=null,nl=!1}catch(i){throw or!==null&&(or=or.slice(e+1)),hx(Su,un),i}finally{te=t,Zl=!1}}return null}var ls=[],cs=0,wo=null,jo=0,Nt=[],St=0,Dn=null,cr=1,dr="";function xn(e,t){ls[cs++]=jo,ls[cs++]=wo,wo=e,jo=t}function Ux(e,t,r){Nt[St++]=cr,Nt[St++]=dr,Nt[St++]=Dn,Dn=e;var n=cr;e=dr;var i=32-Lt(n)-1;n&=~(1<<i),r+=1;var a=32-Lt(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,cr=1<<32-Lt(t)+i|r<<i|n,dr=a+e}else cr=1<<a|r<<i|n,dr=e}function Ru(e){e.return!==null&&(xn(e,1),Ux(e,1,0))}function Du(e){for(;e===wo;)wo=ls[--cs],ls[cs]=null,jo=ls[--cs],ls[cs]=null;for(;e===Dn;)Dn=Nt[--St],Nt[St]=null,dr=Nt[--St],Nt[St]=null,cr=Nt[--St],Nt[St]=null}var ft=null,mt=null,fe=!1,Dt=null;function $x(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ym(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,mt=Wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Dn!==null?{id:cr,overflow:dr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ft=e,mt=null,!0):!1;default:return!1}}function yd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vd(e){if(fe){var t=mt;if(t){var r=t;if(!Ym(e,t)){if(yd(e))throw Error(A(418));t=Wr(r.nextSibling);var n=ft;t&&Ym(e,t)?$x(n,r):(e.flags=e.flags&-4097|2,fe=!1,ft=e)}}else{if(yd(e))throw Error(A(418));e.flags=e.flags&-4097|2,fe=!1,ft=e}}}function Jm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Ia(e){if(e!==ft)return!1;if(!fe)return Jm(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fd(e.type,e.memoizedProps)),t&&(t=mt)){if(yd(e))throw qx(),Error(A(418));for(;t;)$x(e,t),t=Wr(t.nextSibling)}if(Jm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mt=Wr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=ft?Wr(e.stateNode.nextSibling):null;return!0}function qx(){for(var e=mt;e;)e=Wr(e.nextSibling)}function Ps(){mt=ft=null,fe=!1}function Lu(e){Dt===null?Dt=[e]:Dt.push(e)}var qw=Nr.ReactCurrentBatchConfig;function ti(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xm(e){var t=e._init;return t(e._payload)}function Wx(e){function t(y,x){if(e){var g=y.deletions;g===null?(y.deletions=[x],y.flags|=16):g.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Kr(y,x),y.index=0,y.sibling=null,y}function a(y,x,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<x?(y.flags|=2,x):g):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,g,w){return x===null||x.tag!==6?(x=ac(g,y.mode,w),x.return=y,x):(x=i(x,g),x.return=y,x)}function c(y,x,g,w){var j=g.type;return j===rs?u(y,x,g.props.children,w,g.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Xm(j)===x.type)?(w=i(x,g.props),w.ref=ti(y,x,g),w.return=y,w):(w=no(g.type,g.key,g.props,null,y.mode,w),w.ref=ti(y,x,g),w.return=y,w)}function d(y,x,g,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=oc(g,y.mode,w),x.return=y,x):(x=i(x,g.children||[]),x.return=y,x)}function u(y,x,g,w,j){return x===null||x.tag!==7?(x=En(g,y.mode,w,j),x.return=y,x):(x=i(x,g),x.return=y,x)}function h(y,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ac(""+x,y.mode,g),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ka:return g=no(x.type,x.key,x.props,null,y.mode,g),g.ref=ti(y,null,x),g.return=y,g;case ts:return x=oc(x,y.mode,g),x.return=y,x;case _r:var w=x._init;return h(y,w(x._payload),g)}if(ui(x)||Ys(x))return x=En(x,y.mode,g,null),x.return=y,x;_a(y,x)}return null}function m(y,x,g,w){var j=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(y,x,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ka:return g.key===j?c(y,x,g,w):null;case ts:return g.key===j?d(y,x,g,w):null;case _r:return j=g._init,m(y,x,j(g._payload),w)}if(ui(g)||Ys(g))return j!==null?null:u(y,x,g,w,null);_a(y,g)}return null}function f(y,x,g,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,l(x,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ka:return y=y.get(w.key===null?g:w.key)||null,c(x,y,w,j);case ts:return y=y.get(w.key===null?g:w.key)||null,d(x,y,w,j);case _r:var S=w._init;return f(y,x,g,S(w._payload),j)}if(ui(w)||Ys(w))return y=y.get(g)||null,u(x,y,w,j,null);_a(x,w)}return null}function v(y,x,g,w){for(var j=null,S=null,N=x,C=x=0,T=null;N!==null&&C<g.length;C++){N.index>C?(T=N,N=null):T=N.sibling;var R=m(y,N,g[C],w);if(R===null){N===null&&(N=T);break}e&&N&&R.alternate===null&&t(y,N),x=a(R,x,C),S===null?j=R:S.sibling=R,S=R,N=T}if(C===g.length)return r(y,N),fe&&xn(y,C),j;if(N===null){for(;C<g.length;C++)N=h(y,g[C],w),N!==null&&(x=a(N,x,C),S===null?j=N:S.sibling=N,S=N);return fe&&xn(y,C),j}for(N=n(y,N);C<g.length;C++)T=f(N,y,C,g[C],w),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?C:T.key),x=a(T,x,C),S===null?j=T:S.sibling=T,S=T);return e&&N.forEach(function(ne){return t(y,ne)}),fe&&xn(y,C),j}function p(y,x,g,w){var j=Ys(g);if(typeof j!="function")throw Error(A(150));if(g=j.call(g),g==null)throw Error(A(151));for(var S=j=null,N=x,C=x=0,T=null,R=g.next();N!==null&&!R.done;C++,R=g.next()){N.index>C?(T=N,N=null):T=N.sibling;var ne=m(y,N,R.value,w);if(ne===null){N===null&&(N=T);break}e&&N&&ne.alternate===null&&t(y,N),x=a(ne,x,C),S===null?j=ne:S.sibling=ne,S=ne,N=T}if(R.done)return r(y,N),fe&&xn(y,C),j;if(N===null){for(;!R.done;C++,R=g.next())R=h(y,R.value,w),R!==null&&(x=a(R,x,C),S===null?j=R:S.sibling=R,S=R);return fe&&xn(y,C),j}for(N=n(y,N);!R.done;C++,R=g.next())R=f(N,y,C,R.value,w),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?C:R.key),x=a(R,x,C),S===null?j=R:S.sibling=R,S=R);return e&&N.forEach(function(U){return t(y,U)}),fe&&xn(y,C),j}function k(y,x,g,w){if(typeof g=="object"&&g!==null&&g.type===rs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ka:e:{for(var j=g.key,S=x;S!==null;){if(S.key===j){if(j=g.type,j===rs){if(S.tag===7){r(y,S.sibling),x=i(S,g.props.children),x.return=y,y=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Xm(j)===S.type){r(y,S.sibling),x=i(S,g.props),x.ref=ti(y,S,g),x.return=y,y=x;break e}r(y,S);break}else t(y,S);S=S.sibling}g.type===rs?(x=En(g.props.children,y.mode,w,g.key),x.return=y,y=x):(w=no(g.type,g.key,g.props,null,y.mode,w),w.ref=ti(y,x,g),w.return=y,y=w)}return o(y);case ts:e:{for(S=g.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){r(y,x.sibling),x=i(x,g.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=oc(g,y.mode,w),x.return=y,y=x}return o(y);case _r:return S=g._init,k(y,x,S(g._payload),w)}if(ui(g))return v(y,x,g,w);if(Ys(g))return p(y,x,g,w);_a(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,g),x.return=y,y=x):(r(y,x),x=ac(g,y.mode,w),x.return=y,y=x),o(y)):r(y,x)}return k}var As=Wx(!0),Hx=Wx(!1),No=dn(null),So=null,ds=null,Ou=null;function Fu(){Ou=ds=So=null}function Vu(e){var t=No.current;me(No),e._currentValue=t}function bd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ws(e,t){So=e,Ou=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Ou!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(So===null)throw Error(A(308));ds=e,So.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var Nn=null;function Bu(e){Nn===null?Nn=[e]:Nn.push(e)}function Qx(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Bu(t)):(r.next=i.next,i.next=r),t.interleaved=r,yr(e,n)}function yr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Mr=!1;function zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,X&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,yr(e,r)}return i=n.interleaved,i===null?(t.next=t,Bu(n)):(t.next=i.next,i.next=t),n.interleaved=t,yr(e,r)}function Ja(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cu(e,r)}}function Zm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Co(e,t,r,n){var i=e.updateQueue;Mr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(m=t,f=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){h=v.call(f,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,m=typeof v=="function"?v.call(f,h,m):v,m==null)break e;h=ve({},h,m);break e;case 2:Mr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);On|=o,e.lanes=o,e.memoizedState=h}}function ef(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(A(191,i));i.call(n)}}}var ha={},Yt=dn(ha),$i=dn(ha),qi=dn(ha);function Sn(e){if(e===ha)throw Error(A(174));return e}function Uu(e,t){switch(ae(qi,t),ae($i,e),ae(Yt,ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ed(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ed(t,e)}me(Yt),ae(Yt,t)}function Es(){me(Yt),me($i),me(qi)}function Kx(e){Sn(qi.current);var t=Sn(Yt.current),r=ed(t,e.type);t!==r&&(ae($i,e),ae(Yt,r))}function $u(e){$i.current===e&&(me(Yt),me($i))}var ge=dn(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ec=[];function qu(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var Xa=Nr.ReactCurrentDispatcher,tc=Nr.ReactCurrentBatchConfig,Ln=0,ye=null,Ee=null,_e=null,Po=!1,ki=!1,Wi=0,Ww=0;function Ve(){throw Error(A(321))}function Wu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function Hu(e,t,r,n,i,a){if(Ln=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=e===null||e.memoizedState===null?Kw:Yw,e=r(n,i),ki){a=0;do{if(ki=!1,Wi=0,25<=a)throw Error(A(301));a+=1,_e=Ee=null,t.updateQueue=null,Xa.current=Jw,e=r(n,i)}while(ki)}if(Xa.current=Ao,t=Ee!==null&&Ee.next!==null,Ln=0,_e=Ee=ye=null,Po=!1,t)throw Error(A(300));return e}function Qu(){var e=Wi!==0;return Wi=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ye.memoizedState=_e=e:_e=_e.next=e,_e}function Et(){if(Ee===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=_e===null?ye.memoizedState:_e.next;if(t!==null)_e=t,Ee=e;else{if(e===null)throw Error(A(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},_e===null?ye.memoizedState=_e=e:_e=_e.next=e}return _e}function Hi(e,t){return typeof t=="function"?t(e):t}function rc(e){var t=Et(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=Ee,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Ln&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ye.lanes|=u,On|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Vt(n,t.memoizedState)||(it=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ye.lanes|=a,On|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nc(e){var t=Et(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Vt(a,t.memoizedState)||(it=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Yx(){}function Jx(e,t){var r=ye,n=Et(),i=t(),a=!Vt(n.memoizedState,i);if(a&&(n.memoizedState=i,it=!0),n=n.queue,Gu(ey.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,Qi(9,Zx.bind(null,r,n,i,t),void 0,null),Me===null)throw Error(A(349));Ln&30||Xx(r,t,i)}return i}function Xx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Zx(e,t,r,n){t.value=r,t.getSnapshot=n,ty(t)&&ry(e)}function ey(e,t,r){return r(function(){ty(t)&&ry(e)})}function ty(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function ry(e){var t=yr(e,1);t!==null&&Ot(t,e,1,-1)}function tf(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=Gw.bind(null,ye,e),[t.memoizedState,e]}function Qi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ny(){return Et().memoizedState}function Za(e,t,r,n){var i=Ht();ye.flags|=e,i.memoizedState=Qi(1|t,r,void 0,n===void 0?null:n)}function sl(e,t,r,n){var i=Et();n=n===void 0?null:n;var a=void 0;if(Ee!==null){var o=Ee.memoizedState;if(a=o.destroy,n!==null&&Wu(n,o.deps)){i.memoizedState=Qi(t,r,a,n);return}}ye.flags|=e,i.memoizedState=Qi(1|t,r,a,n)}function rf(e,t){return Za(8390656,8,e,t)}function Gu(e,t){return sl(2048,8,e,t)}function sy(e,t){return sl(4,2,e,t)}function iy(e,t){return sl(4,4,e,t)}function ay(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oy(e,t,r){return r=r!=null?r.concat([e]):null,sl(4,4,ay.bind(null,t,e),r)}function Ku(){}function ly(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cy(e,t){var r=Et();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dy(e,t,r){return Ln&21?(Vt(r,t)||(r=px(),ye.lanes|=r,On|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=r)}function Hw(e,t){var r=te;te=r!==0&&4>r?r:4,e(!0);var n=tc.transition;tc.transition={};try{e(!1),t()}finally{te=r,tc.transition=n}}function uy(){return Et().memoizedState}function Qw(e,t,r){var n=Gr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hy(e))my(t,r);else if(r=Qx(e,t,r,n),r!==null){var i=Ye();Ot(r,e,n,i),fy(r,t,n)}}function Gw(e,t,r){var n=Gr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hy(e))my(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Vt(l,o)){var c=t.interleaved;c===null?(i.next=i,Bu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Qx(e,t,i,n),r!==null&&(i=Ye(),Ot(r,e,n,i),fy(r,t,n))}}function hy(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function my(e,t){ki=Po=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Cu(e,r)}}var Ao={readContext:At,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Kw={readContext:At,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:rf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Za(4194308,4,ay.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var r=Ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Qw.bind(null,ye,e),[n.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:tf,useDebugValue:Ku,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=tf(!1),t=e[0];return e=Hw.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ye,i=Ht();if(fe){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Me===null)throw Error(A(349));Ln&30||Xx(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,rf(ey.bind(null,n,a,e),[e]),n.flags|=2048,Qi(9,Zx.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ht(),t=Me.identifierPrefix;if(fe){var r=dr,n=cr;r=(n&~(1<<32-Lt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ww++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yw={readContext:At,useCallback:ly,useContext:At,useEffect:Gu,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:cy,useReducer:rc,useRef:ny,useState:function(){return rc(Hi)},useDebugValue:Ku,useDeferredValue:function(e){var t=Et();return dy(t,Ee.memoizedState,e)},useTransition:function(){var e=rc(Hi)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Jx,useId:uy,unstable_isNewReconciler:!1},Jw={readContext:At,useCallback:ly,useContext:At,useEffect:Gu,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:cy,useReducer:nc,useRef:ny,useState:function(){return nc(Hi)},useDebugValue:Ku,useDeferredValue:function(e){var t=Et();return Ee===null?t.memoizedState=e:dy(t,Ee.memoizedState,e)},useTransition:function(){var e=nc(Hi)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Yx,useSyncExternalStore:Jx,useId:uy,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var il={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ye(),i=Gr(e),a=hr(n,i);a.payload=t,r!=null&&(a.callback=r),t=Hr(e,a,i),t!==null&&(Ot(t,e,i,n),Ja(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ye(),i=Gr(e),a=hr(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Hr(e,a,i),t!==null&&(Ot(t,e,i,n),Ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ye(),n=Gr(e),i=hr(r,n);i.tag=2,t!=null&&(i.callback=t),t=Hr(e,i,n),t!==null&&(Ot(t,e,n,r),Ja(t,e,n))}};function nf(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Vi(r,n)||!Vi(i,a):!0}function py(e,t,r){var n=!1,i=tn,a=t.contextType;return typeof a=="object"&&a!==null?a=At(a):(i=lt(t)?Rn:qe.current,n=t.contextTypes,a=(n=n!=null)?Ts(e,i):tn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function sf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function wd(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},zu(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=At(a):(a=lt(t)?Rn:qe.current,i.context=Ts(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kd(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&il.enqueueReplaceState(i,i.state,null),Co(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Is(e,t){try{var r="",n=t;do r+=Sk(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function sc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xw=typeof WeakMap=="function"?WeakMap:Map;function gy(e,t,r){r=hr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Io||(Io=!0,Md=n),jd(e,t)},r}function xy(e,t,r){r=hr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){jd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){jd(e,t),typeof n!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function af(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Xw;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=hj.bind(null,e,t,r),t.then(e,e))}function of(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hr(-1,1),t.tag=2,Hr(r,t,1))),r.lanes|=1),e)}var Zw=Nr.ReactCurrentOwner,it=!1;function Ke(e,t,r,n){t.child=e===null?Hx(t,null,r,n):As(t,e.child,r,n)}function cf(e,t,r,n,i){r=r.render;var a=t.ref;return ws(t,i),n=Hu(e,t,r,n,a,i),r=Qu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vr(e,t,i)):(fe&&r&&Ru(t),t.flags|=1,Ke(e,t,n,i),t.child)}function df(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!nh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,yy(e,t,a,n,i)):(e=no(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(o,n)&&e.ref===t.ref)return vr(e,t,i)}return t.flags|=1,e=Kr(a,n),e.ref=t.ref,e.return=t,t.child=e}function yy(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Vi(a,n)&&e.ref===t.ref)if(it=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,vr(e,t,i)}return Nd(e,t,r,n,i)}function vy(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(hs,ht),ht|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(hs,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ae(hs,ht),ht|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ae(hs,ht),ht|=n;return Ke(e,t,i,r),t.child}function by(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nd(e,t,r,n,i){var a=lt(r)?Rn:qe.current;return a=Ts(t,a),ws(t,i),r=Hu(e,t,r,n,a,i),n=Qu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vr(e,t,i)):(fe&&n&&Ru(t),t.flags|=1,Ke(e,t,r,i),t.child)}function uf(e,t,r,n,i){if(lt(r)){var a=!0;ko(t)}else a=!1;if(ws(t,i),t.stateNode===null)eo(e,t),py(t,r,n),wd(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=At(d):(d=lt(r)?Rn:qe.current,d=Ts(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&sf(t,o,n,d),Mr=!1;var m=t.memoizedState;o.state=m,Co(t,n,o,i),c=t.memoizedState,l!==n||m!==c||ot.current||Mr?(typeof u=="function"&&(kd(t,r,u,n),c=t.memoizedState),(l=Mr||nf(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Gx(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Mt(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=At(c):(c=lt(r)?Rn:qe.current,c=Ts(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&sf(t,o,n,c),Mr=!1,m=t.memoizedState,o.state=m,Co(t,n,o,i);var v=t.memoizedState;l!==h||m!==v||ot.current||Mr?(typeof f=="function"&&(kd(t,r,f,n),v=t.memoizedState),(d=Mr||nf(t,r,d,n,m,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Sd(e,t,r,n,a,i)}function Sd(e,t,r,n,i,a){by(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Km(t,r,!1),vr(e,t,a);n=t.stateNode,Zw.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=As(t,e.child,null,a),t.child=As(t,null,l,a)):Ke(e,t,l,a),t.memoizedState=n.state,i&&Km(t,r,!0),t.child}function ky(e){var t=e.stateNode;t.pendingContext?Gm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gm(e,t.context,!1),Uu(e,t.containerInfo)}function hf(e,t,r,n,i){return Ps(),Lu(i),t.flags|=256,Ke(e,t,r,n),t.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Td(e){return{baseLanes:e,cachePool:null,transitions:null}}function wy(e,t,r){var n=t.pendingProps,i=ge.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ae(ge,i&1),e===null)return vd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ll(o,n,0,null),e=En(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Td(r),t.memoizedState=Cd,e):Yu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ej(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Kr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Kr(l,a):(a=En(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Td(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Cd,n}return a=e.child,e=a.sibling,n=Kr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yu(e,t){return t=ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ma(e,t,r,n){return n!==null&&Lu(n),As(t,e.child,null,r),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ej(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=sc(Error(A(422))),Ma(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ll({mode:"visible",children:n.children},i,0,null),a=En(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&As(t,e.child,null,o),t.child.memoizedState=Td(o),t.memoizedState=Cd,a);if(!(t.mode&1))return Ma(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(A(419)),n=sc(a,n,void 0),Ma(e,t,o,n)}if(l=(o&e.childLanes)!==0,it||l){if(n=Me,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yr(e,i),Ot(n,e,i,-1))}return rh(),n=sc(Error(A(421))),Ma(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mj.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,mt=Wr(i.nextSibling),ft=t,fe=!0,Dt=null,e!==null&&(Nt[St++]=cr,Nt[St++]=dr,Nt[St++]=Dn,cr=e.id,dr=e.overflow,Dn=t),t=Yu(t,n.children),t.flags|=4096,t)}function mf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bd(e.return,t,r)}function ic(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function jy(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ke(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mf(e,r,t);else if(e.tag===19)mf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ae(ge,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&To(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ic(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&To(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ic(t,!0,r,null,a);break;case"together":ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Kr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tj(e,t,r){switch(t.tag){case 3:ky(t),Ps();break;case 5:Kx(t);break;case 1:lt(t.type)&&ko(t);break;case 4:Uu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ae(No,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ae(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?wy(e,t,r):(ae(ge,ge.current&1),e=vr(e,t,r),e!==null?e.sibling:null);ae(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jy(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,vy(e,t,r)}return vr(e,t,r)}var Ny,Pd,Sy,Cy;Ny=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pd=function(){};Sy=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Sn(Yt.current);var a=null;switch(r){case"input":i=Yc(e,i),n=Yc(e,n),a=[];break;case"select":i=ve({},i,{value:void 0}),n=ve({},n,{value:void 0}),a=[];break;case"textarea":i=Zc(e,i),n=Zc(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=vo)}td(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_i.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_i.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Cy=function(e,t,r,n){r!==n&&(t.flags|=4)};function ri(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rj(e,t,r){var n=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return lt(t.type)&&bo(),Be(t),null;case 3:return n=t.stateNode,Es(),me(ot),me(qe),qu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Ld(Dt),Dt=null))),Pd(e,t),Be(t),null;case 5:$u(t);var i=Sn(qi.current);if(r=t.type,e!==null&&t.stateNode!=null)Sy(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return Be(t),null}if(e=Sn(Yt.current),Ia(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qt]=t,n[Ui]=a,e=(t.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(i=0;i<mi.length;i++)ue(mi[i],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":km(n,a),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ue("invalid",n);break;case"textarea":jm(n,a),ue("invalid",n)}td(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ea(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ea(n.textContent,l,e),i=["children",""+l]):_i.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",n)}switch(r){case"input":wa(n),wm(n,a,!0);break;case"textarea":wa(n),Nm(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=vo)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ex(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qt]=t,e[Ui]=n,Ny(e,t,!1,!1),t.stateNode=e;e:{switch(o=rd(r,n),r){case"dialog":ue("cancel",e),ue("close",e),i=n;break;case"iframe":case"object":case"embed":ue("load",e),i=n;break;case"video":case"audio":for(i=0;i<mi.length;i++)ue(mi[i],e);i=n;break;case"source":ue("error",e),i=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=n;break;case"details":ue("toggle",e),i=n;break;case"input":km(e,n),i=Yc(e,n),ue("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ve({},n,{value:void 0}),ue("invalid",e);break;case"textarea":jm(e,n),i=Zc(e,n),ue("invalid",e);break;default:i=n}td(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?nx(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tx(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mi(e,c):typeof c=="number"&&Mi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_i.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ue("scroll",e):c!=null&&bu(e,a,c,o))}switch(r){case"input":wa(e),wm(e,n,!1);break;case"textarea":wa(e),Nm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+en(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ys(e,!!n.multiple,a,!1):n.defaultValue!=null&&ys(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)Cy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Sn(qi.current),Sn(Yt.current),Ia(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qt]=t,(a=n.nodeValue!==r)&&(e=ft,e!==null))switch(e.tag){case 3:Ea(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ea(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qt]=t,t.stateNode=n}return Be(t),null;case 13:if(me(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&mt!==null&&t.mode&1&&!(t.flags&128))qx(),Ps(),t.flags|=98560,a=!1;else if(a=Ia(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[Qt]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),a=!1}else Dt!==null&&(Ld(Dt),Dt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ie===0&&(Ie=3):rh())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Es(),Pd(e,t),e===null&&Bi(t.stateNode.containerInfo),Be(t),null;case 10:return Vu(t.type._context),Be(t),null;case 17:return lt(t.type)&&bo(),Be(t),null;case 19:if(me(ge),a=t.memoizedState,a===null)return Be(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)ri(a,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=To(e),o!==null){for(t.flags|=128,ri(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ae(ge,ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ne()>_s&&(t.flags|=128,n=!0,ri(a,!1),t.lanes=4194304)}else{if(!n)if(e=To(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ri(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!fe)return Be(t),null}else 2*Ne()-a.renderingStartTime>_s&&r!==1073741824&&(t.flags|=128,n=!0,ri(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ne(),t.sibling=null,r=ge.current,ae(ge,n?r&1|2:r&1),t):(Be(t),null);case 22:case 23:return th(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ht&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function nj(e,t){switch(Du(t),t.tag){case 1:return lt(t.type)&&bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),me(ot),me(qe),qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $u(t),null;case 13:if(me(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ge),null;case 4:return Es(),null;case 10:return Vu(t.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var Ra=!1,Ue=!1,sj=typeof WeakSet=="function"?WeakSet:Set,M=null;function us(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function Ad(e,t,r){try{r()}catch(n){be(e,t,n)}}var ff=!1;function ij(e,t){if(hd=go,e=Ix(),Mu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},go=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,k=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Mt(t.type,p),k);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return v=ff,ff=!1,v}function wi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ad(t,r,a)}i=i.next}while(i!==n)}}function al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ed(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ty(e){var t=e.alternate;t!==null&&(e.alternate=null,Ty(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Ui],delete t[gd],delete t[zw],delete t[Uw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Py(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Id(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vo));else if(n!==4&&(e=e.child,e!==null))for(Id(e,t,r),e=e.sibling;e!==null;)Id(e,t,r),e=e.sibling}function _d(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_d(e,t,r),e=e.sibling;e!==null;)_d(e,t,r),e=e.sibling}var De=null,Rt=!1;function Pr(e,t,r){for(r=r.child;r!==null;)Ay(e,t,r),r=r.sibling}function Ay(e,t,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Xo,r)}catch{}switch(r.tag){case 5:Ue||us(r,t);case 6:var n=De,i=Rt;De=null,Pr(e,t,r),De=n,Rt=i,De!==null&&(Rt?(e=De,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(Rt?(e=De,r=r.stateNode,e.nodeType===8?Xl(e.parentNode,r):e.nodeType===1&&Xl(e,r),Oi(e)):Xl(De,r.stateNode));break;case 4:n=De,i=Rt,De=r.stateNode.containerInfo,Rt=!0,Pr(e,t,r),De=n,Rt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ad(r,t,o),i=i.next}while(i!==n)}Pr(e,t,r);break;case 1:if(!Ue&&(us(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){be(r,t,l)}Pr(e,t,r);break;case 21:Pr(e,t,r);break;case 22:r.mode&1?(Ue=(n=Ue)||r.memoizedState!==null,Pr(e,t,r),Ue=n):Pr(e,t,r);break;default:Pr(e,t,r)}}function gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sj),t.forEach(function(n){var i=fj.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function _t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Rt=!1;break e;case 3:De=l.stateNode.containerInfo,Rt=!0;break e;case 4:De=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(De===null)throw Error(A(160));Ay(a,o,i),De=null,Rt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){be(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ey(t,e),t=t.sibling}function Ey(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),$t(e),n&4){try{wi(3,e,e.return),al(3,e)}catch(p){be(e,e.return,p)}try{wi(5,e,e.return)}catch(p){be(e,e.return,p)}}break;case 1:_t(t,e),$t(e),n&512&&r!==null&&us(r,r.return);break;case 5:if(_t(t,e),$t(e),n&512&&r!==null&&us(r,r.return),e.flags&32){var i=e.stateNode;try{Mi(i,"")}catch(p){be(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Xg(i,a),rd(l,o);var d=rd(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?nx(i,h):u==="dangerouslySetInnerHTML"?tx(i,h):u==="children"?Mi(i,h):bu(i,u,h,d)}switch(l){case"input":Jc(i,a);break;case"textarea":Zg(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?ys(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?ys(i,!!a.multiple,a.defaultValue,!0):ys(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ui]=a}catch(p){be(e,e.return,p)}}break;case 6:if(_t(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){be(e,e.return,p)}}break;case 3:if(_t(t,e),$t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(p){be(e,e.return,p)}break;case 4:_t(t,e),$t(e);break;case 13:_t(t,e),$t(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Zu=Ne())),n&4&&gf(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ue=(d=Ue)||u,_t(t,e),Ue=d):_t(t,e),$t(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(M=e,u=e.child;u!==null;){for(h=M=u;M!==null;){switch(m=M,f=m.child,m.tag){case 0:case 11:case 14:case 15:wi(4,m,m.return);break;case 1:us(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){be(n,r,p)}}break;case 5:us(m,m.return);break;case 22:if(m.memoizedState!==null){yf(h);continue}}f!==null?(f.return=m,M=f):yf(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rx("display",o))}catch(p){be(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){be(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),$t(e),n&4&&gf(e);break;case 21:break;default:_t(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Py(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mi(i,""),n.flags&=-33);var a=pf(e);_d(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=pf(e);Id(e,l,o);break;default:throw Error(A(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aj(e,t,r){M=e,Iy(e)}function Iy(e,t,r){for(var n=(e.mode&1)!==0;M!==null;){var i=M,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ra;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ue;l=Ra;var d=Ue;if(Ra=o,(Ue=c)&&!d)for(M=i;M!==null;)o=M,c=o.child,o.tag===22&&o.memoizedState!==null?vf(i):c!==null?(c.return=o,M=c):vf(i);for(;a!==null;)M=a,Iy(a),a=a.sibling;M=i,Ra=l,Ue=d}xf(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,M=a):xf(e)}}function xf(e){for(;M!==null;){var t=M;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||al(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ue)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Mt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ef(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ef(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Oi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ue||t.flags&512&&Ed(t)}catch(m){be(t,t.return,m)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function yf(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function vf(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{al(4,t)}catch(c){be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){be(t,i,c)}}var a=t.return;try{Ed(t)}catch(c){be(t,a,c)}break;case 5:var o=t.return;try{Ed(t)}catch(c){be(t,o,c)}}}catch(c){be(t,t.return,c)}if(t===e){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var oj=Math.ceil,Eo=Nr.ReactCurrentDispatcher,Ju=Nr.ReactCurrentOwner,Tt=Nr.ReactCurrentBatchConfig,X=0,Me=null,Ae=null,Oe=0,ht=0,hs=dn(0),Ie=0,Gi=null,On=0,ol=0,Xu=0,ji=null,st=null,Zu=0,_s=1/0,ir=null,Io=!1,Md=null,Qr=null,Da=!1,Fr=null,_o=0,Ni=0,Rd=null,to=-1,ro=0;function Ye(){return X&6?Ne():to!==-1?to:to=Ne()}function Gr(e){return e.mode&1?X&2&&Oe!==0?Oe&-Oe:qw.transition!==null?(ro===0&&(ro=px()),ro):(e=te,e!==0||(e=window.event,e=e===void 0?16:wx(e.type)),e):1}function Ot(e,t,r,n){if(50<Ni)throw Ni=0,Rd=null,Error(A(185));ca(e,r,n),(!(X&2)||e!==Me)&&(e===Me&&(!(X&2)&&(ol|=r),Ie===4&&Lr(e,Oe)),ct(e,n),r===1&&X===0&&!(t.mode&1)&&(_s=Ne()+500,nl&&un()))}function ct(e,t){var r=e.callbackNode;qk(e,t);var n=po(e,e===Me?Oe:0);if(n===0)r!==null&&Tm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tm(r),t===1)e.tag===0?$w(bf.bind(null,e)):zx(bf.bind(null,e)),Vw(function(){!(X&6)&&un()}),r=null;else{switch(gx(n)){case 1:r=Su;break;case 4:r=mx;break;case 16:r=fo;break;case 536870912:r=fx;break;default:r=fo}r=Vy(r,_y.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _y(e,t){if(to=-1,ro=0,X&6)throw Error(A(327));var r=e.callbackNode;if(js()&&e.callbackNode!==r)return null;var n=po(e,e===Me?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mo(e,n);else{t=n;var i=X;X|=2;var a=Ry();(Me!==e||Oe!==t)&&(ir=null,_s=Ne()+500,An(e,t));do try{dj();break}catch(l){My(e,l)}while(!0);Fu(),Eo.current=a,X=i,Ae!==null?t=0:(Me=null,Oe=0,t=Ie)}if(t!==0){if(t===2&&(i=od(e),i!==0&&(n=i,t=Dd(e,i))),t===1)throw r=Gi,An(e,0),Lr(e,n),ct(e,Ne()),r;if(t===6)Lr(e,n);else{if(i=e.current.alternate,!(n&30)&&!lj(i)&&(t=Mo(e,n),t===2&&(a=od(e),a!==0&&(n=a,t=Dd(e,a))),t===1))throw r=Gi,An(e,0),Lr(e,n),ct(e,Ne()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:yn(e,st,ir);break;case 3:if(Lr(e,n),(n&130023424)===n&&(t=Zu+500-Ne(),10<t)){if(po(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pd(yn.bind(null,e,st,ir),t);break}yn(e,st,ir);break;case 4:if(Lr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Lt(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oj(n/1960))-n,10<n){e.timeoutHandle=pd(yn.bind(null,e,st,ir),n);break}yn(e,st,ir);break;case 5:yn(e,st,ir);break;default:throw Error(A(329))}}}return ct(e,Ne()),e.callbackNode===r?_y.bind(null,e):null}function Dd(e,t){var r=ji;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=Mo(e,t),e!==2&&(t=st,st=r,t!==null&&Ld(t)),e}function Ld(e){st===null?st=e:st.push.apply(st,e)}function lj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lr(e,t){for(t&=~Xu,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lt(t),n=1<<r;e[r]=-1,t&=~n}}function bf(e){if(X&6)throw Error(A(327));js();var t=po(e,0);if(!(t&1))return ct(e,Ne()),null;var r=Mo(e,t);if(e.tag!==0&&r===2){var n=od(e);n!==0&&(t=n,r=Dd(e,n))}if(r===1)throw r=Gi,An(e,0),Lr(e,t),ct(e,Ne()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,st,ir),ct(e,Ne()),null}function eh(e,t){var r=X;X|=1;try{return e(t)}finally{X=r,X===0&&(_s=Ne()+500,nl&&un())}}function Fn(e){Fr!==null&&Fr.tag===0&&!(X&6)&&js();var t=X;X|=1;var r=Tt.transition,n=te;try{if(Tt.transition=null,te=1,e)return e()}finally{te=n,Tt.transition=r,X=t,!(X&6)&&un()}}function th(){ht=hs.current,me(hs)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Fw(r)),Ae!==null)for(r=Ae.return;r!==null;){var n=r;switch(Du(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bo();break;case 3:Es(),me(ot),me(qe),qu();break;case 5:$u(n);break;case 4:Es();break;case 13:me(ge);break;case 19:me(ge);break;case 10:Vu(n.type._context);break;case 22:case 23:th()}r=r.return}if(Me=e,Ae=e=Kr(e.current,null),Oe=ht=t,Ie=0,Gi=null,Xu=ol=On=0,st=ji=null,Nn!==null){for(t=0;t<Nn.length;t++)if(r=Nn[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Nn=null}return e}function My(e,t){do{var r=Ae;try{if(Fu(),Xa.current=Ao,Po){for(var n=ye.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Po=!1}if(Ln=0,_e=Ee=ye=null,ki=!1,Wi=0,Ju.current=null,r===null||r.return===null){Ie=1,Gi=t,Ae=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=of(o);if(f!==null){f.flags&=-257,lf(f,o,l,a,t),f.mode&1&&af(a,d,t),t=f,c=d;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){af(a,d,t),rh();break e}c=Error(A(426))}}else if(fe&&l.mode&1){var k=of(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),lf(k,o,l,a,t),Lu(Is(c,l));break e}}a=c=Is(c,l),Ie!==4&&(Ie=2),ji===null?ji=[a]:ji.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=gy(a,c,t);Zm(a,y);break e;case 1:l=c;var x=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qr===null||!Qr.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=xy(a,l,t);Zm(a,w);break e}}a=a.return}while(a!==null)}Ly(r)}catch(j){t=j,Ae===r&&r!==null&&(Ae=r=r.return);continue}break}while(!0)}function Ry(){var e=Eo.current;return Eo.current=Ao,e===null?Ao:e}function rh(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Me===null||!(On&268435455)&&!(ol&268435455)||Lr(Me,Oe)}function Mo(e,t){var r=X;X|=2;var n=Ry();(Me!==e||Oe!==t)&&(ir=null,An(e,t));do try{cj();break}catch(i){My(e,i)}while(!0);if(Fu(),X=r,Eo.current=n,Ae!==null)throw Error(A(261));return Me=null,Oe=0,Ie}function cj(){for(;Ae!==null;)Dy(Ae)}function dj(){for(;Ae!==null&&!Dk();)Dy(Ae)}function Dy(e){var t=Fy(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Ly(e):Ae=t,Ju.current=null}function Ly(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nj(r,t),r!==null){r.flags&=32767,Ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Ae=null;return}}else if(r=rj(r,t,ht),r!==null){Ae=r;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Ie===0&&(Ie=5)}function yn(e,t,r){var n=te,i=Tt.transition;try{Tt.transition=null,te=1,uj(e,t,r,n)}finally{Tt.transition=i,te=n}return null}function uj(e,t,r,n){do js();while(Fr!==null);if(X&6)throw Error(A(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Wk(e,a),e===Me&&(Ae=Me=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Da||(Da=!0,Vy(fo,function(){return js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Tt.transition,Tt.transition=null;var o=te;te=1;var l=X;X|=4,Ju.current=null,ij(e,r),Ey(r,e),Iw(md),go=!!hd,md=hd=null,e.current=r,aj(r),Lk(),X=l,te=o,Tt.transition=a}else e.current=r;if(Da&&(Da=!1,Fr=e,_o=i),a=e.pendingLanes,a===0&&(Qr=null),Vk(r.stateNode),ct(e,Ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Io)throw Io=!1,e=Md,Md=null,e;return _o&1&&e.tag!==0&&js(),a=e.pendingLanes,a&1?e===Rd?Ni++:(Ni=0,Rd=e):Ni=0,un(),null}function js(){if(Fr!==null){var e=gx(_o),t=Tt.transition,r=te;try{if(Tt.transition=null,te=16>e?16:e,Fr===null)var n=!1;else{if(e=Fr,Fr=null,_o=0,X&6)throw Error(A(331));var i=X;for(X|=4,M=e.current;M!==null;){var a=M,o=a.child;if(M.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(M=d;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:wi(8,u,a)}var h=u.child;if(h!==null)h.return=u,M=h;else for(;M!==null;){u=M;var m=u.sibling,f=u.return;if(Ty(u),u===d){M=null;break}if(m!==null){m.return=f,M=m;break}M=f}}}var v=a.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var k=p.sibling;p.sibling=null,p=k}while(p!==null)}}M=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,M=o;else e:for(;M!==null;){if(a=M,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wi(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,M=y;break e}M=a.return}}var x=e.current;for(M=x;M!==null;){o=M;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,M=g;else e:for(o=x;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(j){be(l,l.return,j)}if(l===o){M=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,M=w;break e}M=l.return}}if(X=i,un(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Xo,e)}catch{}n=!0}return n}finally{te=r,Tt.transition=t}}return!1}function kf(e,t,r){t=Is(r,t),t=gy(e,t,1),e=Hr(e,t,1),t=Ye(),e!==null&&(ca(e,1,t),ct(e,t))}function be(e,t,r){if(e.tag===3)kf(e,e,r);else for(;t!==null;){if(t.tag===3){kf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qr===null||!Qr.has(n))){e=Is(r,e),e=xy(t,e,1),t=Hr(t,e,1),e=Ye(),t!==null&&(ca(t,1,e),ct(t,e));break}}t=t.return}}function hj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(Oe&r)===r&&(Ie===4||Ie===3&&(Oe&130023424)===Oe&&500>Ne()-Zu?An(e,0):Xu|=r),ct(e,t)}function Oy(e,t){t===0&&(e.mode&1?(t=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):t=1);var r=Ye();e=yr(e,t),e!==null&&(ca(e,t,r),ct(e,r))}function mj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Oy(e,r)}function fj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),Oy(e,r)}var Fy;Fy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)it=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return it=!1,tj(e,t,r);it=!!(e.flags&131072)}else it=!1,fe&&t.flags&1048576&&Ux(t,jo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;eo(e,t),e=t.pendingProps;var i=Ts(t,qe.current);ws(t,r),i=Hu(null,t,n,e,i,r);var a=Qu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(n)?(a=!0,ko(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zu(t),i.updater=il,t.stateNode=i,i._reactInternals=t,wd(t,n,e,r),t=Sd(null,t,n,!0,a,r)):(t.tag=0,fe&&a&&Ru(t),Ke(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(eo(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=gj(n),e=Mt(n,e),i){case 0:t=Nd(null,t,n,e,r);break e;case 1:t=uf(null,t,n,e,r);break e;case 11:t=cf(null,t,n,e,r);break e;case 14:t=df(null,t,n,Mt(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),Nd(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),uf(e,t,n,i,r);case 3:e:{if(ky(t),e===null)throw Error(A(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Gx(e,t),Co(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Is(Error(A(423)),t),t=hf(e,t,n,r,i);break e}else if(n!==i){i=Is(Error(A(424)),t),t=hf(e,t,n,r,i);break e}else for(mt=Wr(t.stateNode.containerInfo.firstChild),ft=t,fe=!0,Dt=null,r=Hx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ps(),n===i){t=vr(e,t,r);break e}Ke(e,t,n,r)}t=t.child}return t;case 5:return Kx(t),e===null&&vd(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,fd(n,i)?o=null:a!==null&&fd(n,a)&&(t.flags|=32),by(e,t),Ke(e,t,o,r),t.child;case 6:return e===null&&vd(t),null;case 13:return wy(e,t,r);case 4:return Uu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=As(t,null,n,r):Ke(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),cf(e,t,n,i,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ae(No,n._currentValue),n._currentValue=o,a!==null)if(Vt(a.value,o)){if(a.children===i.children&&!ot.current){t=vr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=hr(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),bd(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(A(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),bd(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ke(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ws(t,r),i=At(i),n=n(i),t.flags|=1,Ke(e,t,n,r),t.child;case 14:return n=t.type,i=Mt(n,t.pendingProps),i=Mt(n.type,i),df(e,t,n,i,r);case 15:return yy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mt(n,i),eo(e,t),t.tag=1,lt(n)?(e=!0,ko(t)):e=!1,ws(t,r),py(t,n,i),wd(t,n,i,r),Sd(null,t,n,!0,e,r);case 19:return jy(e,t,r);case 22:return vy(e,t,r)}throw Error(A(156,t.tag))};function Vy(e,t){return hx(e,t)}function pj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new pj(e,t,r,n)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gj(e){if(typeof e=="function")return nh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wu)return 11;if(e===ju)return 14}return 2}function Kr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function no(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")nh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rs:return En(r.children,i,a,t);case ku:o=8,i|=8;break;case Hc:return e=Ct(12,r,t,i|2),e.elementType=Hc,e.lanes=a,e;case Qc:return e=Ct(13,r,t,i),e.elementType=Qc,e.lanes=a,e;case Gc:return e=Ct(19,r,t,i),e.elementType=Gc,e.lanes=a,e;case Kg:return ll(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qg:o=10;break e;case Gg:o=9;break e;case wu:o=11;break e;case ju:o=14;break e;case _r:o=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Ct(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function En(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function ll(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Kg,e.lanes=r,e.stateNode={isHidden:!1},e}function ac(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function oc(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xj(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sh(e,t,r,n,i,a,o,l,c){return e=new xj(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zu(a),e}function yj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function By(e){if(!e)return tn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(lt(r))return Bx(e,r,t)}return t}function zy(e,t,r,n,i,a,o,l,c){return e=sh(r,n,!0,e,i,a,o,l,c),e.context=By(null),r=e.current,n=Ye(),i=Gr(r),a=hr(n,i),a.callback=t??null,Hr(r,a,i),e.current.lanes=i,ca(e,i,n),ct(e,n),e}function cl(e,t,r,n){var i=t.current,a=Ye(),o=Gr(i);return r=By(r),t.context===null?t.context=r:t.pendingContext=r,t=hr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Hr(i,t,o),e!==null&&(Ot(e,i,o,a),Ja(e,i,o)),o}function Ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ih(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function vj(){return null}var Uy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ah(e){this._internalRoot=e}dl.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));cl(e,t,null,null)};dl.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){cl(null,e,null,null)}),t[xr]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=vx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dr.length&&t!==0&&t<Dr[r].priority;r++);Dr.splice(r,0,e),r===0&&kx(e)}};function oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jf(){}function bj(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=Ro(o);a.call(d)}}var o=zy(t,n,e,0,null,!1,!1,"",jf);return e._reactRootContainer=o,e[xr]=o.current,Bi(e.nodeType===8?e.parentNode:e),Fn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Ro(c);l.call(d)}}var c=sh(e,0,!1,null,null,!1,!1,"",jf);return e._reactRootContainer=c,e[xr]=c.current,Bi(e.nodeType===8?e.parentNode:e),Fn(function(){cl(t,c,r,n)}),c}function hl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Ro(o);l.call(c)}}cl(t,o,e,i)}else o=bj(r,t,e,i,n);return Ro(o)}xx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hi(t.pendingLanes);r!==0&&(Cu(t,r|1),ct(t,Ne()),!(X&6)&&(_s=Ne()+500,un()))}break;case 13:Fn(function(){var n=yr(e,1);if(n!==null){var i=Ye();Ot(n,e,1,i)}}),ih(e,1)}};Tu=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var r=Ye();Ot(t,e,134217728,r)}ih(e,134217728)}};yx=function(e){if(e.tag===13){var t=Gr(e),r=yr(e,t);if(r!==null){var n=Ye();Ot(r,e,t,n)}ih(e,t)}};vx=function(){return te};bx=function(e,t){var r=te;try{return te=e,t()}finally{te=r}};sd=function(e,t,r){switch(t){case"input":if(Jc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=rl(n);if(!i)throw Error(A(90));Jg(n),Jc(n,i)}}}break;case"textarea":Zg(e,r);break;case"select":t=r.value,t!=null&&ys(e,!!r.multiple,t,!1)}};ax=eh;ox=Fn;var kj={usingClientEntryPoint:!1,Events:[ua,as,rl,sx,ix,eh]},ni={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wj={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dx(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||vj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Xo=La.inject(wj),Kt=La}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kj;yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oh(t))throw Error(A(200));return yj(e,t,null,r)};yt.createRoot=function(e,t){if(!oh(e))throw Error(A(299));var r=!1,n="",i=Uy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sh(e,1,!1,null,null,r,!1,n,i),e[xr]=t.current,Bi(e.nodeType===8?e.parentNode:e),new ah(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=dx(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Fn(e)};yt.hydrate=function(e,t,r){if(!ul(t))throw Error(A(200));return hl(null,e,t,!0,r)};yt.hydrateRoot=function(e,t,r){if(!oh(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Uy;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zy(t,null,e,1,r??null,i,!1,a,o),e[xr]=t.current,Bi(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new dl(t)};yt.render=function(e,t,r){if(!ul(t))throw Error(A(200));return hl(null,e,t,!1,r)};yt.unmountComponentAtNode=function(e){if(!ul(e))throw Error(A(40));return e._reactRootContainer?(Fn(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[xr]=null})}),!0):!1};yt.unstable_batchedUpdates=eh;yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ul(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return hl(e,t,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function $y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($y)}catch(e){console.error(e)}}$y(),$g.exports=yt;var qy=$g.exports,Nf=qy;qc.createRoot=Nf.createRoot,qc.hydrateRoot=Nf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(this,arguments)}var Vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vr||(Vr={}));const Sf="popstate";function jj(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Od("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Do(i)}return Sj(t,r,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nj(){return Math.random().toString(36).substr(2,8)}function Cf(e,t){return{usr:e.state,key:e.key,idx:t}}function Od(e,t,r,n){return r===void 0&&(r=null),Ki({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zs(t):t,{state:r,key:t&&t.key||n||Nj()})}function Do(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Sj(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Vr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ki({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Vr.Pop;let k=u(),y=k==null?null:k-d;d=k,c&&c({action:l,location:p.location,delta:y})}function m(k,y){l=Vr.Push;let x=Od(p.location,k,y);d=u()+1;let g=Cf(x,d),w=p.createHref(x);try{o.pushState(g,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(w)}a&&c&&c({action:l,location:p.location,delta:1})}function f(k,y){l=Vr.Replace;let x=Od(p.location,k,y);d=u();let g=Cf(x,d),w=p.createHref(x);o.replaceState(g,"",w),a&&c&&c({action:l,location:p.location,delta:0})}function v(k){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof k=="string"?k:Do(k);return x=x.replace(/ $/,"%20"),Ce(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let p={get action(){return l},get location(){return e(i,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Sf,h),c=k,()=>{i.removeEventListener(Sf,h),c=null}},createHref(k){return t(i,k)},createURL:v,encodeLocation(k){let y=v(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:f,go(k){return o.go(k)}};return p}var Tf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tf||(Tf={}));function Cj(e,t,r){return r===void 0&&(r="/"),Tj(e,t,r)}function Tj(e,t,r,n){let i=typeof t=="string"?zs(t):t,a=ch(i.pathname||"/",r);if(a==null)return null;let o=Wy(e);Pj(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Bj(a);l=Oj(o[c],d)}return l}function Wy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ce(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Yr([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Ce(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Wy(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Dj(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of Hy(a.path))i(a,o,c)}),t}function Hy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Hy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Pj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Aj=/^:[\w-]+$/,Ej=3,Ij=2,_j=1,Mj=10,Rj=-2,Pf=e=>e==="*";function Dj(e,t){let r=e.split("/"),n=r.length;return r.some(Pf)&&(n+=Rj),t&&(n+=Ij),r.filter(i=>!Pf(i)).reduce((i,a)=>i+(Aj.test(a)?Ej:a===""?_j:Mj),n)}function Lj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Oj(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Fj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Yr([a,h.pathname]),pathnameBase:Wj(Yr([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Yr([a,h.pathnameBase]))}return o}function Fj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vj(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let p=l[h]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function Vj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Bj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ch(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uj=e=>zj.test(e);function $j(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?zs(e):e,a;if(r)if(Uj(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),lh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=Af(r.substring(1),"/"):a=Af(r,t)}else a=t;return{pathname:a,search:Hj(n),hash:Qj(i)}}function Af(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function lc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dh(e,t){let r=qj(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uh(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=zs(e):(i=Ki({},e),Ce(!i.pathname||!i.pathname.includes("?"),lc("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),lc("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),lc("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=$j(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Yr=e=>e.join("/").replace(/\/\/+/g,"/"),Wj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qy=["post","put","patch","delete"];new Set(Qy);const Kj=["get",...Qy];new Set(Kj);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yi.apply(this,arguments)}const hh=b.createContext(null),Yj=b.createContext(null),hn=b.createContext(null),ml=b.createContext(null),Sr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Gy=b.createContext(null);function Jj(e,t){let{relative:r}=t===void 0?{}:t;Us()||Ce(!1);let{basename:n,navigator:i}=b.useContext(hn),{hash:a,pathname:o,search:l}=Yy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Yr([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Us(){return b.useContext(ml)!=null}function It(){return Us()||Ce(!1),b.useContext(ml).location}function Ky(e){b.useContext(hn).static||b.useLayoutEffect(e)}function we(){let{isDataRoute:e}=b.useContext(Sr);return e?d1():Xj()}function Xj(){Us()||Ce(!1);let e=b.useContext(hh),{basename:t,future:r,navigator:n}=b.useContext(hn),{matches:i}=b.useContext(Sr),{pathname:a}=It(),o=JSON.stringify(dh(i,r.v7_relativeSplatPath)),l=b.useRef(!1);return Ky(()=>{l.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=uh(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Yr([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,a,e])}function fl(){let{matches:e}=b.useContext(Sr),t=e[e.length-1];return t?t.params:{}}function Yy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(hn),{matches:i}=b.useContext(Sr),{pathname:a}=It(),o=JSON.stringify(dh(i,n.v7_relativeSplatPath));return b.useMemo(()=>uh(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Zj(e,t){return e1(e,t)}function e1(e,t,r,n){Us()||Ce(!1);let{navigator:i}=b.useContext(hn),{matches:a}=b.useContext(Sr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=It(),u;if(t){var h;let k=typeof t=="string"?zs(t):t;c==="/"||(h=k.pathname)!=null&&h.startsWith(c)||Ce(!1),u=k}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=Cj(e,{pathname:f}),p=i1(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Yr([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Yr([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n);return t&&p?b.createElement(ml.Provider,{value:{location:Yi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vr.Pop}},p):p}function t1(){let e=c1(),t=Gj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:i},r):null,null)}const r1=b.createElement(t1,null);class n1 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Sr.Provider,{value:this.props.routeContext},b.createElement(Gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s1(e){let{routeContext:t,match:r,children:n}=e,i=b.useContext(hh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Sr.Provider,{value:t},n)}function i1(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ce(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=r,v=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,v=!1,p=null,k=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||r1,c&&(d<0&&m===0?(u1("route-fallback"),v=!0,k=null):d===m&&(v=!0,k=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),x=()=>{let g;return f?g=p:v?g=k:h.route.Component?g=b.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=u,b.createElement(s1,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(n1,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Jy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jy||{}),Xy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xy||{});function a1(e){let t=b.useContext(hh);return t||Ce(!1),t}function o1(e){let t=b.useContext(Yj);return t||Ce(!1),t}function l1(e){let t=b.useContext(Sr);return t||Ce(!1),t}function Zy(e){let t=l1(),r=t.matches[t.matches.length-1];return r.route.id||Ce(!1),r.route.id}function c1(){var e;let t=b.useContext(Gy),r=o1(),n=Zy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function d1(){let{router:e}=a1(Jy.UseNavigateStable),t=Zy(Xy.UseNavigateStable),r=b.useRef(!1);return Ky(()=>{r.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yi({fromRouteId:t},a)))},[e,t])}const Ef={};function u1(e,t,r){Ef[e]||(Ef[e]=!0)}function h1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function le(e){let{to:t,replace:r,state:n,relative:i}=e;Us()||Ce(!1);let{future:a,static:o}=b.useContext(hn),{matches:l}=b.useContext(Sr),{pathname:c}=It(),d=we(),u=uh(t,dh(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return b.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:i}),[d,h,i,r,n]),null}function K(e){Ce(!1)}function m1(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Vr.Pop,navigator:a,static:o=!1,future:l}=e;Us()&&Ce(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Yi({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=zs(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:v="default"}=n,p=b.useMemo(()=>{let k=ch(u,c);return k==null?null:{location:{pathname:k,search:h,hash:m,state:f,key:v},navigationType:i}},[c,u,h,m,f,v,i]);return p==null?null:b.createElement(hn.Provider,{value:d},b.createElement(ml.Provider,{children:r,value:p}))}function f1(e){let{children:t,location:r}=e;return Zj(Fd(t),r)}new Promise(()=>{});function Fd(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,i)=>{if(!b.isValidElement(n))return;let a=[...t,i];if(n.type===b.Fragment){r.push.apply(r,Fd(n.props.children,a));return}n.type!==K&&Ce(!1),!n.props.index||!n.props.children||Ce(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fd(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function p1(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function g1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x1(e,t){return e.button===0&&(!t||t==="_self")&&!g1(e)}const y1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v1="6";try{window.__reactRouterVersion=v1}catch{}const b1="startTransition",If=hk[b1];function k1(e){let{basename:t,children:r,future:n,window:i}=e,a=b.useRef();a.current==null&&(a.current=jj({window:i,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=b.useCallback(h=>{d&&If?If(()=>c(h)):c(h)},[c,d]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>h1(n),[n]),b.createElement(m1,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=b.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=p1(t,y1),{basename:f}=b.useContext(hn),v,p=!1;if(typeof d=="string"&&j1.test(d)&&(v=d,w1))try{let g=new URL(window.location.href),w=d.startsWith("//")?new URL(g.protocol+d):new URL(d),j=ch(w.pathname,f);w.origin===g.origin&&j!=null?d=j+w.search+w.hash:p=!0}catch{}let k=Jj(d,{relative:i}),y=N1(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function x(g){n&&n(g),g.defaultPrevented||y(g)}return b.createElement("a",Vd({},m,{href:v||k,onClick:p||a?n:x,ref:r,target:c}))});var _f;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_f||(_f={}));var Mf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mf||(Mf={}));function N1(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=we(),d=It(),u=Yy(e,{relative:o});return b.useCallback(h=>{if(x1(h,r)){h.preventDefault();let m=n!==void 0?n:Do(d)===Do(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,r,e,a,o,l])}var Gt=[],jt=[],S1=Uint8Array,cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Zn=0,C1=cc.length;Zn<C1;++Zn)Gt[Zn]=cc[Zn],jt[cc.charCodeAt(Zn)]=Zn;jt[45]=62;jt[95]=63;function T1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function P1(e,t,r){return(t+r)*3/4-r}function Ji(e){var t,r=T1(e),n=r[0],i=r[1],a=new S1(P1(e,n,i)),o=0,l=i>0?n-4:n,c;for(c=0;c<l;c+=4)t=jt[e.charCodeAt(c)]<<18|jt[e.charCodeAt(c+1)]<<12|jt[e.charCodeAt(c+2)]<<6|jt[e.charCodeAt(c+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=jt[e.charCodeAt(c)]<<2|jt[e.charCodeAt(c+1)]>>4,a[o++]=t&255),i===1&&(t=jt[e.charCodeAt(c)]<<10|jt[e.charCodeAt(c+1)]<<4|jt[e.charCodeAt(c+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function A1(e){return Gt[e>>18&63]+Gt[e>>12&63]+Gt[e>>6&63]+Gt[e&63]}function E1(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(A1(n));return i.join("")}function Xi(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,l=r-n;o<l;o+=a)i.push(E1(e,o,o+a>l?l:o+a));return n===1?(t=e[r-1],i.push(Gt[t>>2]+Gt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Gt[t>>10]+Gt[t>>4&63]+Gt[t<<2&63]+"=")),i.join("")}function lr(e){if(e===void 0)return{};if(!e0(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function I1(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function e0(e){var i;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((i=r==null?void 0:r.constructor)==null?void 0:i.name)==="Object";return t&&n}const t0=!0,Ms=BigInt("-9223372036854775808"),mh=BigInt("9223372036854775807"),Bd=BigInt("0"),_1=BigInt("8"),M1=BigInt("256");function r0(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function R1(e){e<Bd&&(e-=Ms+Ms);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const i of t.match(/.{2}/g).reverse())r.set([parseInt(i,16)],n++),e>>=_1;return Xi(r)}function D1(e){const t=Ji(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=Bd,n=Bd;for(const i of t)r+=BigInt(i)*M1**n,n++;return r>mh&&(r+=Ms+Ms),r}function L1(e){if(e<Ms||mh<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Xi(new Uint8Array(t))}function O1(e){const t=Ji(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const F1=DataView.prototype.setBigInt64?L1:R1,V1=DataView.prototype.getBigInt64?O1:D1,Rf=1024;function n0(e){if(e.length>Rf)throw new Error(`Field name ${e} exceeds maximum field name length ${Rf}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function Rs(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>Rs(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Ji(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return V1(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Ji(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const o=new DataView(i.buffer).getFloat64(0,t0);if(!r0(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,i]of Object.entries(e))n0(n),r[n]=Rs(i);return r}const Df=16384;function Si(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>Df){const r="[...truncated]";let n=Df-r.length;const i=t.codePointAt(n-1);return i!==void 0&&i>65535&&(n-=1),t.substring(0,n)+r}return t}function zd(e,t,r,n){var o;if(e===void 0){const l=r&&` (present at path ${r} in original object ${Si(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<Ms||mh<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:F1(e)}}if(typeof e=="number")if(r0(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,t0),{$float:Xi(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Xi(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,c)=>zd(l,t,r+`[${c}]`));if(e instanceof Set)throw new Error(dc(r,"Set",[...e],t));if(e instanceof Map)throw new Error(dc(r,"Map",[...e],t));if(!e0(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,c=l?`${l} `:"";throw new Error(dc(r,c,e,t))}const i={},a=Object.entries(e);a.sort(([l,c],[d,u])=>l===d?0:l<d?-1:1);for(const[l,c]of a)c!==void 0&&(n0(l),i[l]=zd(c,t,r+`.${l}`));return i}function dc(e,t,r,n){return e?`${t}${Si(r)} is not a supported Convex type (present at path ${e} in original object ${Si(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Si(r)} is not a supported Convex type.`}function Zt(e){return zd(e,e,"")}var B1=Object.defineProperty,z1=(e,t,r)=>t in e?B1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uc=(e,t,r)=>z1(e,typeof t!="symbol"?t+"":t,r),Lf,Of;const U1=Symbol.for("ConvexError");class Ud extends(Of=Error,Lf=U1,Of){constructor(t){super(typeof t=="string"?t:Si(t)),uc(this,"name","ConvexError"),uc(this,"data"),uc(this,Lf,!0),this.data=t}}const s0=()=>Array.from({length:4},()=>0);s0();s0();const Ff="1.30.0";var $1=Object.defineProperty,q1=(e,t,r)=>t in e?$1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vf=(e,t,r)=>q1(e,typeof t!="symbol"?t+"":t,r);const W1="color:rgb(0, 145, 255)";function i0(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class a0{constructor(t){Vf(this,"_onLogLineFuncs"),Vf(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function o0(e){const t=new a0(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function l0(e){return new a0(e)}function Lo(e,t,r,n,i){const a=i0(r);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const o=i.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${a}(${n})] Could not parse console.log`);return}const l=i.slice(1,o[0].length-2),c=i.slice(o[0].length);e.log(`%c[CONVEX ${a}(${n})] [${l}]`,W1,c)}else e.error(`[CONVEX ${a}(${n})] ${i}`)}function H1(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function ms(e,t,r){return`[CONVEX ${i0(e)}(${t})] ${r.errorMessage}
  Called by client`}function $d(e,t){return t.data=e.errorData,t}function Vn(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function In(e,t){return JSON.stringify({udfPath:Vn(e),args:Zt(t)})}function Bf(e,t,r){const{initialNumItems:n,id:i}=r;return JSON.stringify({type:"paginated",udfPath:Vn(e),args:Zt(t),options:Zt({initialNumItems:n,id:i})})}var Q1=Object.defineProperty,G1=(e,t,r)=>t in e?Q1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qt=(e,t,r)=>G1(e,typeof t!="symbol"?t+"":t,r);class K1{constructor(){qt(this,"nextQueryId"),qt(this,"querySetVersion"),qt(this,"querySet"),qt(this,"queryIdToToken"),qt(this,"identityVersion"),qt(this,"auth"),qt(this,"outstandingQueriesOlderThanRestart"),qt(this,"outstandingAuthOlderThanRestart"),qt(this,"paused"),qt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,i){const a=Vn(t),o=In(a,r),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const c=this.nextQueryId++,d={id:c,canonicalizedUdfPath:a,args:r,numSubscribers:1,journal:n,componentPath:i};this.querySet.set(o,d),this.queryIdToToken.set(c,o);const u=this.querySetVersion,h=this.querySetVersion+1,m={type:"Add",queryId:c,udfPath:a,args:[Zt(r)],journal:n,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(c,m):this.querySetVersion=h,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:u,newVersion:h,modifications:[m]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const i=this.queryIdToToken.get(r.queryId);i!==void 0&&(this.querySet.get(i).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=Vn(t),i=In(n,r),a=this.querySet.get(i);return a!==void 0?a.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const a of this.querySet.values()){const o={type:"Add",queryId:a.id,udfPath:a.canonicalizedUdfPath,args:[Zt(a.args)],journal:a.journal,componentPath:a.componentPath};r.push(o),t.has(a.id)||this.outstandingQueriesOlderThanRestart.add(a.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,i=this.querySetVersion+1,a={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,a):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:n,newVersion:i,modifications:[a]}}}}var Y1=Object.defineProperty,J1=(e,t,r)=>t in e?Y1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oa=(e,t,r)=>J1(e,typeof t!="symbol"?t+"":t,r);class X1{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,Oa(this,"inflightRequests"),Oa(this,"requestsOlderThanRestart"),Oa(this,"inflightMutationsCount",0),Oa(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(i=>{const a=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:a,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",i=r.message.udfPath;for(const c of t.logLines)Lo(this.logger,"info",n,i,c);const a=r.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:Rs(t.result)},l=()=>a.onResult(o);else{const c=t.result,{errorData:d}=t;Lo(this.logger,"error",n,i,c),o={success:!1,errorMessage:c,errorData:d!==void 0?Rs(d):void 0,logLines:t.logLines},l=()=>a.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(r.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,i]of this.inflightRequests.entries()){const a=i.status;a.status==="Completed"&&a.ts.lessThanOrEqual(t)&&(a.onResolve(),r.set(n,a.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Zi=Symbol.for("functionName"),c0=Symbol.for("toReferencePath");function Z1(e){return e[c0]??null}function eN(e){return e.startsWith("function://")}function tN(e){let t;if(typeof e=="string")eN(e)?t={functionHandle:e}:t={name:e};else if(e[Zi])t={name:e[Zi]};else{const r=Z1(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function at(e){const t=tN(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[Zi];if(!r)throw new Error(`${e} is not a functionReference`);return r}function d0(e){return{[Zi]:e}}function u0(e=[]){const t={get(r,n){if(typeof n=="string"){const i=[...e,n];return u0(i)}else if(n===Zi){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const rN=u0();var nN=Object.defineProperty,sN=(e,t,r)=>t in e?nN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oo=(e,t,r)=>sN(e,typeof t!="symbol"?t+"":t,r);class ea{constructor(t){Oo(this,"queryResults"),Oo(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=lr(r[0]),i=at(t),a=this.queryResults.get(In(i,n));if(a!==void 0)return ea.queryValue(a.result)}getAllQueries(t){const r=[],n=at(t);for(const i of this.queryResults.values())i.udfPath===Vn(n)&&r.push({args:i.args,value:ea.queryValue(i.result)});return r}setQuery(t,r,n){const i=lr(r),a=at(t),o=In(a,i);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const c={udfPath:a,args:i,result:l};this.queryResults.set(o,c),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class iN{constructor(){Oo(this,"queryResults"),Oo(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!r.has(o.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const i=new ea(this.queryResults);for(const o of this.optimisticUpdates)o.update(i);const a=[];for(const[o,l]of this.queryResults){const c=n.get(o);(c===void 0||c.result!==l.result)&&a.push(o)}return a}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new ea(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){const r=this.queryResults.get(t);if(r!==void 0)return r.result}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?$d(n,new Ud(ms("query",r.udfPath,n))):new Error(ms("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var aN=Object.defineProperty,oN=(e,t,r)=>t in e?aN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hc=(e,t,r)=>oN(e,typeof t!="symbol"?t+"":t,r);class nt{constructor(t,r){hc(this,"low"),hc(this,"high"),hc(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new nt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?zf:t>=lN?cN:new nt(t%Ci|0,t/Ci|0)}toString(){return(BigInt(this.high)*BigInt(Ci)+BigInt(this.low)).toString()}equals(t){return nt.isLong(t)||(t=nt.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return nt.isLong(t)||(t=nt.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?nt.fromNumber(t):new nt(t.low,t.high)}}const zf=new nt(0,0),Uf=65536,Ci=Uf*Uf,lN=Ci*Ci,cN=new nt(-1,-1);var dN=Object.defineProperty,uN=(e,t,r)=>t in e?dN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fa=(e,t,r)=>uN(e,typeof t!="symbol"?t+"":t,r);class $f{constructor(t,r){Fa(this,"version"),Fa(this,"remoteQuerySet"),Fa(this,"queryPath"),Fa(this,"logger"),this.version={querySet:0,ts:nt.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const i=this.queryPath(n.queryId);if(i)for(const o of n.logLines)Lo(this.logger,"info","query",i,o);const a=Rs(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:a,logLines:n.logLines});break}case"QueryFailed":{const i=this.queryPath(n.queryId);if(i)for(const o of n.logLines)Lo(this.logger,"info","query",i,o);const{errorData:a}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:a!==void 0?Rs(a):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function mc(e){const t=Ji(e);return nt.fromBytesLE(Array.from(t))}function hN(e){const t=new Uint8Array(e.toBytesLE());return Xi(t)}function qf(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:mc(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:mc(e.startVersion.ts)},endVersion:{...e.endVersion,ts:mc(e.endVersion.ts)}}}}function mN(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:hN(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var fN=Object.defineProperty,pN=(e,t,r)=>t in e?fN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Re=(e,t,r)=>pN(e,typeof t!="symbol"?t+"":t,r);const gN=1e3,xN=1001,yN=1005,vN=4040;let so;function io(){return so===void 0&&(so=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(so+performance.now())}function Wf(){return`t=${Math.round((io()-so)/100)/10}s`}const h0={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function bN(e){if(e===void 0)return"Unknown";for(const t of Object.keys(h0))if(e.startsWith(t))return t;return"Unknown"}class kN{constructor(t,r,n,i,a,o){this.markConnectionStateDirty=a,this.debug=o,Re(this,"socket"),Re(this,"connectionCount"),Re(this,"_hasEverConnected",!1),Re(this,"lastCloseReason"),Re(this,"transitionChunkBuffer",null),Re(this,"defaultInitialBackoff"),Re(this,"maxBackoff"),Re(this,"retries"),Re(this,"serverInactivityThreshold"),Re(this,"reconnectDueToServerInactivityTimeout"),Re(this,"uri"),Re(this,"onOpen"),Re(this,"onResume"),Re(this,"onMessage"),Re(this,"webSocketConstructor"),Re(this,"logger"),Re(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=qf(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:io()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Wf(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Wf())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let i=qf(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const o=this.assembleTransition(i);if(!o)return;i=o,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==gN&&r.code!==xN&&r.code!==yN&&r.code!==vN){let i=`WebSocket closed with code ${r.code}`;r.reason&&(i+=`: ${r.reason}`),this.logger.log(i),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(i)}const n=bN(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=mN(t),i=JSON.stringify(n);let a=!1;try{this.socket.ws.send(i),a=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${a?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:io()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:h0[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(n,this.maxBackoff),a=i*(Math.random()-.5);return i+a}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=io()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(n)}ms`,a=`${Math.round(r/1e4)/100}MB`,o=r/(n/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${a} transition in ${i} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${a}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${a} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function wN(){return jN()}function jN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class fi extends Error{}fi.prototype.name="InvalidTokenError";function NN(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function SN(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return NN(t)}catch{return atob(t)}}function m0(e,t){if(typeof e!="string")throw new fi("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new fi(`Invalid token specified: missing part #${r+1}`);let i;try{i=SN(n)}catch(a){throw new fi(`Invalid token specified: invalid base64 for part #${r+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new fi(`Invalid token specified: invalid json for part #${r+1} (${a.message})`)}}var CN=Object.defineProperty,TN=(e,t,r)=>t in e?CN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bt=(e,t,r)=>TN(e,typeof t!="symbol"?t+"":t,r);const PN=20*24*60*60*1e3,Hf=2;class AN{constructor(t,r,n){bt(this,"authState",{state:"noAuth"}),bt(this,"configVersion",0),bt(this,"syncState"),bt(this,"authenticate"),bt(this,"stopSocket"),bt(this,"tryRestartSocket"),bt(this,"pauseSocket"),bt(this,"resumeSocket"),bt(this,"clearAuth"),bt(this,"logger"),bt(this,"refreshTokenLeewaySeconds"),bt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Hf){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Hf-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:i}=r;if(!n||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const a=i-n;if(a<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(PN,(a-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${a}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const i=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return m0(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const EN=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function IN(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function _N(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function MN(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of EN){const n=performance.getEntriesByName(r).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...n)}return t.map(_N)}var RN=Object.defineProperty,DN=(e,t,r)=>t in e?RN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Te=(e,t,r)=>DN(e,typeof t!="symbol"?t+"":t,r);class LN{constructor(t,r,n){if(Te(this,"address"),Te(this,"state"),Te(this,"requestManager"),Te(this,"webSocketManager"),Te(this,"authenticationManager"),Te(this,"remoteQuerySet"),Te(this,"optimisticQueryResults"),Te(this,"_transitionHandlerCounter",0),Te(this,"_nextRequestId"),Te(this,"_onTransitionFns",new Map),Te(this,"_sessionId"),Te(this,"firstMessageReceived",!1),Te(this,"debug"),Te(this,"logger"),Te(this,"maxObservedTimestamp"),Te(this,"connectionStateSubscribers",new Map),Te(this,"nextConnectionStateSubscriberId",0),Te(this,"_lastPublishedConnectionState"),Te(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const f=this.connectionState();if(JSON.stringify(f)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=f;for(const v of this.connectionStateSubscribers.values())v(f)}})}),Te(this,"mark",f=>{this.debug&&IN(f,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&I1(t),n={...n};const i=n.authRefreshTokenLeewaySeconds??2;let a=n.webSocketConstructor;if(!a&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");a=a||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?l0({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:o0({verbose:n.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),c=t.substring(0,o);let d;if(c==="http")d="ws";else if(c==="https")d="wss";else throw new Error(`Unknown parent protocol ${c}`);const u=`${d}://${l}/api/${Ff}/sync`;this.state=new K1,this.remoteQuerySet=new $f(f=>this.state.queryPath(f),this.logger),this.requestManager=new X1(this.logger,this.markConnectionStateDirty);const h=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new AN(this.state,{authenticate:f=>{const v=this.state.setAuth(f);return this.webSocketManager.sendMessage(v),v.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:h,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new iN,this.addOnTransitionHandler(f=>{r(f.queries.map(v=>v.token))}),this._nextRequestId=0,this._sessionId=wN();const{unsavedChangesWarning:m}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(m===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else m!==!1&&window.addEventListener("beforeunload",f=>{if(this.requestManager.hasIncompleteRequests()){f.preventDefault();const v="Are you sure you want to leave? Your changes may not be saved.";return(f||window.event).returnValue=v,v}});this.webSocketManager=new kN(u,{onOpen:f=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...f,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const v=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new $f(y=>this.state.queryPath(y),this.logger);const[p,k]=this.state.restart(v);k&&this.webSocketManager.sendMessage(k),this.webSocketManager.sendMessage(p);for(const y of this.requestManager.restart())this.webSocketManager.sendMessage(y)},onResume:()=>{const[f,v]=this.state.resume();v&&this.webSocketManager.sendMessage(v),f&&this.webSocketManager.sendMessage(f);for(const p of this.requestManager.resume())this.webSocketManager.sendMessage(p)},onMessage:f=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),f.type){case"Transition":{this.observedTimestamp(f.endVersion.ts),this.authenticationManager.onTransition(f),this.remoteQuerySet.transition(f),this.state.transition(f);const v=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(v);break}case"MutationResponse":{f.success&&this.observedTimestamp(f.ts);const v=this.requestManager.onResponse(f);v!==null&&this.notifyOnQueryResultChanges(new Map([[v.requestId,v.result]]));break}case"ActionResponse":{this.requestManager.onResponse(f);break}case"AuthError":{this.authenticationManager.onAuthError(f);break}case"FatalError":{const v=H1(this.logger,f.error);throw this.webSocketManager.terminate(),v}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},a,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&h()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[a,o]of r){const l=this.state.queryToken(a);if(l!==null){const c={result:o,udfPath:this.state.queryPath(a),args:this.state.queryArgs(a)};n.set(l,c)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:i.map(a=>{const o=this.optimisticQueryResults.rawQueryResult(a);return{token:a,modification:{kind:"Updated",result:o}}}),reflectedMutations:Array.from(t).map(([a,o])=>({requestId:a,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?m0(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const i=lr(r),{modification:a,queryToken:o,unsubscribe:l}=this.state.subscribe(t,i,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return a!==null&&this.webSocketManager.sendMessage(a),{queryToken:o,unsubscribe:()=>{const c=l();c&&this.webSocketManager.sendMessage(c)}}}localQueryResult(t,r){const n=lr(r),i=In(t,n);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=lr(r),i=In(t,n);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,r){const n=lr(r),i=In(t,n);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const i=await this.mutationInternal(t,r,n);if(!i.success)throw i.errorData!==void 0?$d(i,new Ud(ms("mutation",t,i))):new Error(ms("mutation",t,i));return i.value}async mutationInternal(t,r,n,i){const{mutationPromise:a}=this.enqueueMutation(t,r,n,i);return a}enqueueMutation(t,r,n,i){const a=lr(r);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const u=n.optimisticUpdate;if(u!==void 0){const h=v=>{u(v,a)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},f=this.optimisticQueryResults.applyOptimisticUpdate(h,o).map(v=>{const p=this.localQueryResultByToken(v);return{token:v,modification:{kind:"Updated",result:p===void 0?void 0:{success:!0,value:p,logLines:[]}}}});this.handleTransition({queries:f,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:i,args:[Zt(a)]},c=this.webSocketManager.sendMessage(l),d=this.requestManager.request(l,c);return{requestId:o,mutationPromise:d}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?$d(n,new Ud(ms("action",t,n))):new Error(ms("action",t,n));return n.value}async actionInternal(t,r,n){const i=lr(r),a=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:a,udfPath:t,componentPath:n,args:[Zt(i)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=MN(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Ff}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function fc(e){if(typeof e!="object"||e===null||!Array.isArray(e.page)||typeof e.isDone!="boolean"||typeof e.continueCursor!="string")throw new Error(`Not a valid paginated query result: ${e==null?void 0:e.toString()}`);return e}var ON=Object.defineProperty,FN=(e,t,r)=>t in e?ON(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qf=(e,t,r)=>FN(e,typeof t!="symbol"?t+"":t,r);class VN{constructor(t,r){this.client=t,this.onTransition=r,Qf(this,"paginatedQuerySet",new Map),Qf(this,"lastTransitionTs"),this.lastTransitionTs=nt.fromNumber(0),this.client.addOnTransitionHandler(n=>this.onBaseTransition(n))}subscribe(t,r,n){const i=Vn(t),a=Bf(i,r,n),o=()=>this.removePaginatedQuerySubscriber(a),l=this.paginatedQuerySet.get(a);return l?(l.numSubscribers+=1,{paginatedQueryToken:a,unsubscribe:o}):(this.paginatedQuerySet.set(a,{token:a,canonicalizedUdfPath:i,args:r,numSubscribers:1,options:{initialNumItems:n.initialNumItems},nextPageKey:0,pageKeys:[],pageKeyToQuery:new Map,ongoingSplits:new Map,skip:!1,id:n.id}),this.addPageToPaginatedQuery(a,null,n.initialNumItems),{paginatedQueryToken:a,unsubscribe:o})}localQueryResult(t,r,n){const i=Vn(t),a=Bf(i,r,n);return this.localQueryResultByToken(a)}localQueryResultByToken(t){const r=this.paginatedQuerySet.get(t);if(!r)return;const n=this.activePageQueryTokens(r);if(n.length===0)return{results:[],status:"LoadingFirstPage",loadMore:c=>this.loadMoreOfPaginatedQuery(t,c)};let i=[],a=!1,o=!1;for(const c of n){const d=this.client.localQueryResultByToken(c);if(d===void 0){a=!0,o=!1;continue}const u=fc(d);i=i.concat(u.page),o=!!u.isDone}let l;return a?l=i.length===0?"LoadingFirstPage":"LoadingMore":o?l="Exhausted":l="CanLoadMore",{results:i,status:l,loadMore:c=>this.loadMoreOfPaginatedQuery(t,c)}}onBaseTransition(t){const r=t.queries.map(o=>o.token),n=this.queriesContainingTokens(r);let i=[];n.length>0&&(this.processPaginatedQuerySplits(n,o=>this.client.localQueryResultByToken(o)),i=n.map(o=>({token:o,modification:{kind:"Updated",result:this.localQueryResultByToken(o)}})));const a={...t,paginatedQueries:i};this.onTransition(a)}loadMoreOfPaginatedQuery(t,r){this.mustGetPaginatedQuery(t);const n=this.queryTokenForLastPageOfPaginatedQuery(t),i=this.client.localQueryResultByToken(n);if(!i)return!1;const a=fc(i);if(a.isDone)return!1;this.addPageToPaginatedQuery(t,a.continueCursor,r);const o={timestamp:this.lastTransitionTs,reflectedMutations:[],queries:[],paginatedQueries:[{token:t,modification:{kind:"Updated",result:this.localQueryResultByToken(t)}}]};return this.onTransition(o),!0}queriesContainingTokens(t){if(t.length===0)return[];const r=[],n=new Set(t);for(const[i,a]of this.paginatedQuerySet)for(const o of this.allQueryTokens(a))if(n.has(o)){r.push(i);break}return r}processPaginatedQuerySplits(t,r){for(const n of t){const i=this.mustGetPaginatedQuery(n),{ongoingSplits:a,pageKeyToQuery:o,pageKeys:l}=i;for(const[c,[d,u]]of a)r(o.get(d).queryToken)!==void 0&&r(o.get(u).queryToken)!==void 0&&this.completePaginatedQuerySplit(i,c,d,u);for(const c of l){if(a.has(c))continue;const d=o.get(c).queryToken,u=r(d);if(!u)continue;const h=fc(u);h.splitCursor&&(h.pageStatus==="SplitRecommended"||h.pageStatus==="SplitRequired"||h.page.length>i.options.initialNumItems*2)&&this.splitPaginatedQueryPage(i,c,h.splitCursor,h.continueCursor)}}}splitPaginatedQueryPage(t,r,n,i){const a=t.nextPageKey++,o=t.nextPageKey++,l={cursor:i,numItems:t.options.initialNumItems,id:t.id},c=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:null,endCursor:n}});t.pageKeyToQuery.set(a,c);const d=this.client.subscribe(t.canonicalizedUdfPath,{...t.args,paginationOpts:{...l,cursor:n,endCursor:i}});t.pageKeyToQuery.set(o,d),t.ongoingSplits.set(r,[a,o])}addPageToPaginatedQuery(t,r,n){const i=this.mustGetPaginatedQuery(t),a=i.nextPageKey++,o={cursor:r,numItems:n,id:i.id},l={...i.args,paginationOpts:o},c=this.client.subscribe(i.canonicalizedUdfPath,l);return i.pageKeys.push(a),i.pageKeyToQuery.set(a,c),c}removePaginatedQuerySubscriber(t){const r=this.paginatedQuerySet.get(t);if(r&&(r.numSubscribers-=1,!(r.numSubscribers>0))){for(const n of r.pageKeyToQuery.values())n.unsubscribe();this.paginatedQuerySet.delete(t)}}completePaginatedQuerySplit(t,r,n,i){const a=t.pageKeyToQuery.get(r);t.pageKeyToQuery.delete(r);const o=t.pageKeys.indexOf(r);t.pageKeys.splice(o,1,n,i),t.ongoingSplits.delete(r),a.unsubscribe()}activePageQueryTokens(t){return t.pageKeys.map(r=>t.pageKeyToQuery.get(r).queryToken)}allQueryTokens(t){return Array.from(t.pageKeyToQuery.values()).map(r=>r.queryToken)}queryTokenForLastPageOfPaginatedQuery(t){const r=this.mustGetPaginatedQuery(t),n=r.pageKeys[r.pageKeys.length-1];if(n===void 0)throw new Error(`No pages for paginated query ${t}`);return r.pageKeyToQuery.get(n).queryToken}mustGetPaginatedQuery(t){const r=this.paginatedQuerySet.get(t);if(!r)throw new Error("paginated query no longer exists for token "+t);return r}}function BN({getCurrentValue:e,subscribe:t}){const[r,n]=b.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(i=e(),n({getCurrentValue:e,subscribe:t,value:i})),b.useEffect(()=>{let a=!1;const o=()=>{a||n(c=>{if(c.getCurrentValue!==e||c.subscribe!==t)return c;const d=e();return c.value===d?c:{...c,value:d}})},l=t(o);return o(),()=>{a=!0,l()}},[e,t]),i}var zN=Object.defineProperty,UN=(e,t,r)=>t in e?zN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nr=(e,t,r)=>UN(e,typeof t!="symbol"?t+"":t,r);const $N=5e3;if(typeof Xt>"u")throw new Error("Required dependency 'react' not found");function f0(e,t,r){function n(i){return QN(i),t.mutation(e,i,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(a){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${at(e)}`);return f0(e,t,a)},n}class qN{constructor(t,r){if(nr(this,"address"),nr(this,"cachedSync"),nr(this,"cachedPaginatedQueryClient"),nr(this,"listeners"),nr(this,"options"),nr(this,"closed",!1),nr(this,"_logger"),nr(this,"adminAuth"),nr(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?l0({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:o0({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new LN(this.address,()=>{},this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedPaginatedQueryClient=new VN(this.cachedSync,t=>this.handleTransition(t)),this.cachedSync)}get paginatedQueryClient(){if(this.sync,this.cachedPaginatedQueryClient)return this.cachedPaginatedQueryClient;throw new Error("Should already be instantiated")}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,i]=r,a=at(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:c}=this.sync.subscribe(a,n,i),d=this.listeners.get(l);return d!==void 0?d.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const u=this.listeners.get(l);u.delete(o),u.size===0&&this.listeners.delete(l),c()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(a,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(a,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(a,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??$N,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,r)}watchPaginatedQuery(t,r,n){const i=at(t);return{onUpdate:a=>{const{paginatedQueryToken:o,unsubscribe:l}=this.paginatedQueryClient.subscribe(i,r||{},n),c=this.listeners.get(o);return c!==void 0?c.add(a):this.listeners.set(o,new Set([a])),()=>{if(this.closed)return;const d=this.listeners.get(o);d.delete(a),d.size===0&&this.listeners.delete(o),l()}},localQueryResult:()=>this.paginatedQueryClient.localQueryResult(i,r,n)}}mutation(t,...r){const[n,i]=r,a=at(t);return this.sync.mutation(a,n,i)}action(t,...r){const n=at(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),i=n.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((a,o)=>{const l=n.onUpdate(()=>{l();try{a(n.localQueryResult())}catch(c){o(c)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedPaginatedQueryClient&&(this.cachedPaginatedQueryClient=void 0),this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}handleTransition(t){const r=t.queries.map(i=>i.token),n=t.paginatedQueries.map(i=>i.token);this.transition([...r,...n])}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const i of n)i()}}}const fh=Xt.createContext(void 0);function WN(){return b.useContext(fh)}const HN=({client:e,children:t})=>Xt.createElement(fh.Provider,{value:e},t);function W(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:lr(t[0]),i=typeof e=="string"?d0(e):e,a=at(i),o=b.useMemo(()=>r?{}:{query:{query:i,args:n}},[JSON.stringify(Zt(n)),a,r]),c=JN(o).query;if(c instanceof Error)throw c;return c}function Q(e){const t=typeof e=="string"?d0(e):e,r=b.useContext(fh);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return b.useMemo(()=>f0(t,r),[r,at(t)])}function QN(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var GN=Object.defineProperty,KN=(e,t,r)=>t in e?GN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pc=(e,t,r)=>KN(e,typeof t!="symbol"?t+"":t,r);class YN{constructor(t){pc(this,"createWatch"),pc(this,"queries"),pc(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:i,paginationOptions:a}=t[r];if(at(n),this.queries[r]===void 0)this.addQuery(r,n,i,a?{paginationOptions:a}:{});else{const o=this.queries[r];(at(n)!==at(o.query)||JSON.stringify(Zt(i))!==JSON.stringify(Zt(o.args))||JSON.stringify(a)!==JSON.stringify(o.paginationOptions))&&(this.removeQuery(r),this.addQuery(r,n,i,a?{paginationOptions:a}:{}))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:i,args:a}=t[n],o=t[n].paginationOptions;at(i);const l=this.createWatch(i,a,o?{paginationOptions:o}:{});let c;try{c=l.localQueryResult()}catch(d){if(d instanceof Error)c=d;else throw d}r[n]=c}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:i,watch:a,paginationOptions:o}=this.queries[r],l="journal"in a?a.journal():void 0;this.removeQuery(r),this.addQuery(r,n,i,{...l?{journal:l}:[],...o?{paginationOptions:o}:{}})}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,{paginationOptions:i,journal:a}){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(r,n,{...a?{journal:a}:[],...i?{paginationOptions:i}:{}}),l=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:o,unsubscribe:l,...i?{paginationOptions:i}:{}}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function JN(e){const t=WN();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=b.useMemo(()=>(n,i,{journal:a,paginationOptions:o})=>o?t.watchPaginatedQuery(n,i,o):t.watchQuery(n,i,a?{journal:a}:{}),[t]);return XN(e,r)}function XN(e,t){const[r]=b.useState(()=>new YN(t));r.createWatch!==t&&r.setCreateWatch(t),b.useEffect(()=>()=>r.destroy(),[r]);const n=b.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:i=>(r.setQueries(e),r.subscribe(i))}),[r,e]);return BN(n)}const p0=b.createContext(void 0);function ZN({children:e}){const[t,r]=b.useState(()=>{const a=localStorage.getItem("baptizo-theme");return a==="dark"||a==="light"?a:"light"});b.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("baptizo-theme",t)},[t]);const n=()=>{r(a=>a==="light"?"dark":"light")},i=a=>{r(a)};return s.jsx(p0.Provider,{value:{theme:t,toggleTheme:n,setTheme:i},children:e})}function g0(){const e=b.useContext(p0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function x0(e,t){const r={get(n,i){if(typeof i=="string"){const a=[...t,i];return x0(e,a)}else if(i===c0){if(t.length<1){const a=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const e2=()=>x0("components",[]),E=rN;e2();const y0=b.createContext(void 0),Va="baptizo-auth-user";function t2({children:e}){const[t,r]=b.useState(null),[n,i]=b.useState(!0);b.useEffect(()=>{const d=localStorage.getItem(Va);if(d)try{const u=JSON.parse(d);r(u)}catch(u){console.error("Failed to parse stored user:",u),localStorage.removeItem(Va)}i(!1)},[]);const a=W(E.users.getUser,t?{userId:t._id}:"skip");b.useEffect(()=>{if(a&&t&&(a.role!==t.role||a.name!==t.name||a.avatarUrl!==t.avatarUrl)){const d={...t,...a};console.log("Syncing fresh user data from DB:",d),r(d)}},[a,t]),b.useEffect(()=>{t?localStorage.setItem(Va,JSON.stringify(t)):localStorage.removeItem(Va)},[t]);const o=d=>{r(d)},l=()=>{r(null)},c=d=>{t&&r({...t,...d})};return s.jsx(y0.Provider,{value:{user:t,isLoading:n,login:o,logout:l,updateUser:c},children:e})}function r2(){const e=b.useContext(y0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const v0=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pl=b.createContext({}),gl=b.createContext(null),xl=typeof document<"u",ph=xl?b.useLayoutEffect:b.useEffect,b0=b.createContext({strict:!1}),gh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n2="framerAppearId",k0="data-"+gh(n2);function s2(e,t,r,n){const{visualElement:i}=b.useContext(pl),a=b.useContext(b0),o=b.useContext(gl),l=b.useContext(v0).reducedMotion,c=b.useRef();n=n||a.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;b.useInsertionEffect(()=>{d&&d.update(r,o)});const u=b.useRef(!!(r[k0]&&!window.HandoffComplete));return ph(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function fs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function i2(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):fs(r)&&(r.current=n))},[t])}function ta(e){return typeof e=="string"||Array.isArray(e)}function yl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const xh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yh=["initial",...xh];function vl(e){return yl(e.animate)||yh.some(t=>ta(e[t]))}function w0(e){return!!(vl(e)||e.variants)}function a2(e,t){if(vl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ta(r)?r:void 0,animate:ta(n)?n:void 0}}return e.inherit!==!1?t:{}}function o2(e){const{initial:t,animate:r}=a2(e,b.useContext(pl));return b.useMemo(()=>({initial:t,animate:r}),[Gf(t),Gf(r)])}function Gf(e){return Array.isArray(e)?e.join(" "):e}const Kf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(const e in Kf)ra[e]={isEnabled:t=>Kf[e].some(r=>!!t[r])};function l2(e){for(const t in e)ra[t]={...ra[t],...e[t]}}const vh=b.createContext({}),j0=b.createContext({}),c2=Symbol.for("motionComponentSymbol");function d2({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&l2(e);function a(l,c){let d;const u={...b.useContext(v0),...l,layoutId:u2(l)},{isStatic:h}=u,m=o2(l),f=n(l,h);if(!h&&xl){m.visualElement=s2(i,f,u,t);const v=b.useContext(j0),p=b.useContext(b0).strict;m.visualElement&&(d=m.visualElement.loadFeatures(u,p,e,v))}return b.createElement(pl.Provider,{value:m},d&&m.visualElement?b.createElement(d,{visualElement:m.visualElement,...u}):null,r(i,l,i2(f,m.visualElement,c),f,h,m.visualElement))}const o=b.forwardRef(a);return o[c2]=i,o}function u2({layoutId:e}){const t=b.useContext(vh).id;return t&&e!==void 0?t+"-"+e:e}function h2(e){function t(n,i={}){return d2(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const m2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bh(e){return typeof e!="string"||e.includes("-")?!1:!!(m2.indexOf(e)>-1||/[A-Z]/.test(e))}const Fo={};function f2(e){Object.assign(Fo,e)}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gn=new Set(ma);function N0(e,{layout:t,layoutId:r}){return Gn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Fo[e]||e==="opacity")}const dt=e=>!!(e&&e.getVelocity),p2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g2=ma.length;function x2(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<g2;o++){const l=ma[o];if(e[l]!==void 0){const c=p2[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,n?"":a):r&&n&&(a="none"),a}const S0=e=>t=>typeof t=="string"&&t.startsWith(e),C0=S0("--"),qd=S0("var(--"),y2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,v2=(e,t)=>t&&typeof e=="number"?t.transform(e):e,rn=(e,t,r)=>Math.min(Math.max(r,e),t),Kn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ti={...Kn,transform:e=>rn(0,1,e)},Ba={...Kn,default:1},Pi=e=>Math.round(e*1e5)/1e5,bl=/(-)?([\d]*\.?[\d])+/g,T0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,b2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function fa(e){return typeof e=="string"}const pa=e=>({test:t=>fa(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ir=pa("deg"),Jt=pa("%"),z=pa("px"),k2=pa("vh"),w2=pa("vw"),Yf={...Jt,parse:e=>Jt.parse(e)/100,transform:e=>Jt.transform(e*100)},Jf={...Kn,transform:Math.round},P0={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,size:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Ba,scaleX:Ba,scaleY:Ba,scaleZ:Ba,skew:Ir,skewX:Ir,skewY:Ir,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:Ti,originX:Yf,originY:Yf,originZ:z,zIndex:Jf,fillOpacity:Ti,strokeOpacity:Ti,numOctaves:Jf};function kh(e,t,r,n){const{style:i,vars:a,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const m=t[h];if(C0(h)){a[h]=m;continue}const f=P0[h],v=v2(m,f);if(Gn.has(h)){if(c=!0,o[h]=v,!u)continue;m!==(f.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=v):i[h]=v}if(t.transform||(c||n?i.transform=x2(e.transform,r,u,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:f=0}=l;i.transformOrigin=`${h} ${m} ${f}`}}const wh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A0(e,t,r){for(const n in t)!dt(t[n])&&!N0(n,r)&&(e[n]=t[n])}function j2({transformTemplate:e},t,r){return b.useMemo(()=>{const n=wh();return kh(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function N2(e,t,r){const n=e.style||{},i={};return A0(i,n,e),Object.assign(i,j2(e,t,r)),e.transformValues?e.transformValues(i):i}function S2(e,t,r){const n={},i=N2(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const C2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||C2.has(e)}let E0=e=>!Vo(e);function T2(e){e&&(E0=t=>t.startsWith("on")?!Vo(t):e(t))}try{T2(require("@emotion/is-prop-valid").default)}catch{}function P2(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(E0(i)||r===!0&&Vo(i)||!t&&!Vo(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Xf(e,t,r){return typeof e=="string"?e:z.transform(t+r*e)}function A2(e,t,r){const n=Xf(t,e.x,e.width),i=Xf(r,e.y,e.height);return`${n} ${i}`}const E2={offset:"stroke-dashoffset",array:"stroke-dasharray"},I2={offset:"strokeDashoffset",array:"strokeDasharray"};function _2(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?E2:I2;e[a.offset]=z.transform(-n);const o=z.transform(t),l=z.transform(r);e[a.array]=`${o} ${l}`}function jh(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h,m){if(kh(e,d,u,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:v,dimensions:p}=e;f.transform&&(p&&(v.transform=f.transform),delete f.transform),p&&(i!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=A2(p,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&_2(f,o,l,c,!1)}const I0=()=>({...wh(),attrs:{}}),Nh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function M2(e,t,r,n){const i=b.useMemo(()=>{const a=I0();return jh(a,t,{enableHardwareAcceleration:!1},Nh(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};A0(a,e.style,e),i.style={...a,...i.style}}return i}function R2(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(bh(r)?M2:S2)(n,a,o,r),u={...P2(n,typeof r=="string",e),...c,ref:i},{children:h}=n,m=b.useMemo(()=>dt(h)?h.get():h,[h]);return b.createElement(r,{...u,children:m})}}function _0(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const M0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R0(e,t,r,n){_0(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(M0.has(i)?i:gh(i),t.attrs[i])}function Sh(e,t){const{style:r}=e,n={};for(const i in r)(dt(r[i])||t.style&&dt(t.style[i])||N0(i,e))&&(n[i]=r[i]);return n}function D0(e,t){const r=Sh(e,t);for(const n in e)if(dt(e[n])||dt(t[n])){const i=ma.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}function Ch(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}function L0(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bo=e=>Array.isArray(e),D2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),L2=e=>Bo(e)?e[e.length-1]||0:e;function ao(e){const t=dt(e)?e.get():e;return D2(t)?t.toValue():t}function O2({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,a){const o={latestValues:F2(n,i,a,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const O0=e=>(t,r)=>{const n=b.useContext(pl),i=b.useContext(gl),a=()=>O2(e,t,n,i);return r?a():L0(a)};function F2(e,t,r,n){const i={},a=n(e,{});for(const m in a)i[m]=ao(a[m]);let{initial:o,animate:l}=e;const c=vl(e),d=w0(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!yl(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const v=Ch(e,f);if(!v)return;const{transitionEnd:p,transition:k,...y}=v;for(const x in y){let g=y[x];if(Array.isArray(g)){const w=u?g.length-1:0;g=g[w]}g!==null&&(i[x]=g)}for(const x in p)i[x]=p[x]}),i}const Se=e=>e;class Zf{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function V2(e){let t=new Zf,r=new Zf,n=0,i=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&i,m=h?t:r;return d&&o.add(c),m.add(c)&&h&&i&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}i=!1,a&&(a=!1,l.process(c))}};return l}const za=["prepare","read","update","preRender","render","postRender"],B2=40;function z2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=za.reduce((h,m)=>(h[m]=V2(()=>r=!0),h),{}),o=h=>a[h].process(i),l=()=>{const h=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(h-i.timestamp,B2),1),i.timestamp=h,i.isProcessing=!0,za.forEach(o),i.isProcessing=!1,r&&t&&(n=!1,e(l))},c=()=>{r=!0,n=!0,i.isProcessing||e(l)};return{schedule:za.reduce((h,m)=>{const f=a[m];return h[m]=(v,p=!1,k=!1)=>(r||c(),f.schedule(v,p,k)),h},{}),cancel:h=>za.forEach(m=>a[m].cancel(h)),state:i,steps:a}}const{schedule:oe,cancel:br,state:ze,steps:gc}=z2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Se,!0),U2={useVisualState:O0({scrapeMotionValuesFromProps:D0,createRenderState:I0,onMount:(e,t,{renderState:r,latestValues:n})=>{oe.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),oe.render(()=>{jh(r,n,{enableHardwareAcceleration:!1},Nh(t.tagName),e.transformTemplate),R0(t,r)})}})},$2={useVisualState:O0({scrapeMotionValuesFromProps:Sh,createRenderState:wh})};function q2(e,{forwardMotionProps:t=!1},r,n){return{...bh(e)?U2:$2,preloadedFeatures:r,useRender:R2(t),createVisualElement:n,Component:e}}function ur(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const F0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const W2=e=>t=>F0(t)&&e(t,kl(t));function mr(e,t,r,n){return ur(e,t,W2(r),n)}const H2=(e,t)=>r=>t(e(r)),Jr=(...e)=>e.reduce(H2);function V0(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const ep=V0("dragHorizontal"),tp=V0("dragVertical");function B0(e){let t=!1;if(e==="y")t=tp();else if(e==="x")t=ep();else{const r=ep(),n=tp();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function z0(){const e=B0(!0);return e?(e(),!1):!0}class mn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rp(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||z0())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&oe.update(()=>l[n](a,o))};return mr(e.current,r,i,{passive:!e.getProps()[n]})}class Q2 extends mn{mount(){this.unmount=Jr(rp(this.node,!0),rp(this.node,!1))}unmount(){}}class G2 extends mn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jr(ur(this.node.current,"focus",()=>this.onFocus()),ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const U0=(e,t)=>t?e===t?!0:U0(e,t.parentElement):!1;function xc(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,kl(r))}class K2 extends mn{constructor(){super(...arguments),this.removeStartListeners=Se,this.removeEndListeners=Se,this.removeAccessibleListeners=Se,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=mr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();oe.update(()=>{!h&&!U0(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=mr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Jr(a,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||xc("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&oe.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=ur(this.node.current,"keyup",o),xc("down",(l,c)=>{this.startPress(l,c)})},r=ur(this.node.current,"keydown",t),n=()=>{this.isPressing&&xc("cancel",(a,o)=>this.cancelPress(a,o))},i=ur(this.node.current,"blur",n);this.removeAccessibleListeners=Jr(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&oe.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!z0()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&oe.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=mr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ur(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wd=new WeakMap,yc=new WeakMap,Y2=e=>{const t=Wd.get(e.target);t&&t(e)},J2=e=>{e.forEach(Y2)};function X2({root:e,...t}){const r=e||document;yc.has(r)||yc.set(r,{});const n=yc.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(J2,{root:e,...t})),n[i]}function Z2(e,t,r){const n=X2(t);return Wd.set(e,r),n.observe(e),()=>{Wd.delete(e),n.unobserve(e)}}const eS={some:0,all:1};class tS extends mn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:eS[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return Z2(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(rS(t,r))&&this.startObserver()}unmount(){}}function rS({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const nS={inView:{Feature:tS},tap:{Feature:K2},focus:{Feature:G2},hover:{Feature:Q2}};function $0(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function sS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function iS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function wl(e,t,r){const n=e.getProps();return Ch(n,t,r!==void 0?r:n.custom,sS(e),iS(e))}let Th=Se;const _n=e=>e*1e3,fr=e=>e/1e3,aS={current:!1},q0=e=>Array.isArray(e)&&typeof e[0]=="number";function W0(e){return!!(!e||typeof e=="string"&&H0[e]||q0(e)||Array.isArray(e)&&e.every(W0))}const pi=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,H0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pi([0,.65,.55,1]),circOut:pi([.55,0,1,.45]),backIn:pi([.31,.01,.66,-.59]),backOut:pi([.33,1.53,.69,.99])};function Q0(e){if(e)return q0(e)?pi(e):Array.isArray(e)?e.map(Q0):H0[e]}function oS(e,t,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=Q0(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function lS(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const G0=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,cS=1e-7,dS=12;function uS(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=G0(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>cS&&++l<dS);return o}function ga(e,t,r,n){if(e===t&&r===n)return Se;const i=a=>uS(a,0,1,e,r);return a=>a===0||a===1?a:G0(i(a),t,n)}const hS=ga(.42,0,1,1),mS=ga(0,0,.58,1),K0=ga(.42,0,.58,1),fS=e=>Array.isArray(e)&&typeof e[0]!="number",Y0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J0=e=>t=>1-e(1-t),Ph=e=>1-Math.sin(Math.acos(e)),X0=J0(Ph),pS=Y0(Ph),Z0=ga(.33,1.53,.69,.99),Ah=J0(Z0),gS=Y0(Ah),xS=e=>(e*=2)<1?.5*Ah(e):.5*(2-Math.pow(2,-10*(e-1))),yS={linear:Se,easeIn:hS,easeInOut:K0,easeOut:mS,circIn:Ph,circInOut:pS,circOut:X0,backIn:Ah,backInOut:gS,backOut:Z0,anticipate:xS},np=e=>{if(Array.isArray(e)){Th(e.length===4);const[t,r,n,i]=e;return ga(t,r,n,i)}else if(typeof e=="string")return yS[e];return e},Eh=(e,t)=>r=>!!(fa(r)&&b2.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),ev=(e,t,r)=>n=>{if(!fa(n))return n;const[i,a,o,l]=n.match(bl);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},vS=e=>rn(0,255,e),vc={...Kn,transform:e=>Math.round(vS(e))},Cn={test:Eh("rgb","red"),parse:ev("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+vc.transform(e)+", "+vc.transform(t)+", "+vc.transform(r)+", "+Pi(Ti.transform(n))+")"};function bS(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Hd={test:Eh("#"),parse:bS,transform:Cn.transform},ps={test:Eh("hsl","hue"),parse:ev("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Jt.transform(Pi(t))+", "+Jt.transform(Pi(r))+", "+Pi(Ti.transform(n))+")"},Ge={test:e=>Cn.test(e)||Hd.test(e)||ps.test(e),parse:e=>Cn.test(e)?Cn.parse(e):ps.test(e)?ps.parse(e):Hd.parse(e),transform:e=>fa(e)?e:e.hasOwnProperty("red")?Cn.transform(e):ps.transform(e)},xe=(e,t,r)=>-r*e+r*t+e;function bc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function kS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=bc(c,l,e+1/3),a=bc(c,l,e),o=bc(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const kc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},wS=[Hd,Cn,ps],jS=e=>wS.find(t=>t.test(e));function sp(e){const t=jS(e);let r=t.parse(e);return t===ps&&(r=kS(r)),r}const tv=(e,t)=>{const r=sp(e),n=sp(t),i={...r};return a=>(i.red=kc(r.red,n.red,a),i.green=kc(r.green,n.green,a),i.blue=kc(r.blue,n.blue,a),i.alpha=xe(r.alpha,n.alpha,a),Cn.transform(i))};function NS(e){var t,r;return isNaN(e)&&fa(e)&&(((t=e.match(bl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(T0))===null||r===void 0?void 0:r.length)||0)>0}const rv={regex:y2,countKey:"Vars",token:"${v}",parse:Se},nv={regex:T0,countKey:"Colors",token:"${c}",parse:Ge.parse},sv={regex:bl,countKey:"Numbers",token:"${n}",parse:Kn.parse};function wc(e,{regex:t,countKey:r,token:n,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(i)))}function zo(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&wc(r,rv),wc(r,nv),wc(r,sv),r}function iv(e){return zo(e).values}function av(e){const{values:t,numColors:r,numVars:n,tokenised:i}=zo(e),a=t.length;return o=>{let l=i;for(let c=0;c<a;c++)c<n?l=l.replace(rv.token,o[c]):c<n+r?l=l.replace(nv.token,Ge.transform(o[c])):l=l.replace(sv.token,Pi(o[c]));return l}}const SS=e=>typeof e=="number"?0:e;function CS(e){const t=iv(e);return av(e)(t.map(SS))}const nn={test:NS,parse:iv,createTransformer:av,getAnimatableNone:CS},ov=(e,t)=>r=>`${r>0?t:e}`;function lv(e,t){return typeof e=="number"?r=>xe(e,t,r):Ge.test(e)?tv(e,t):e.startsWith("var(")?ov(e,t):dv(e,t)}const cv=(e,t)=>{const r=[...e],n=r.length,i=e.map((a,o)=>lv(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},TS=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=lv(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},dv=(e,t)=>{const r=nn.createTransformer(t),n=zo(e),i=zo(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Jr(cv(n.values,i.values),r):ov(e,t)},na=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},ip=(e,t)=>r=>xe(e,t,r);function PS(e){return typeof e=="number"?ip:typeof e=="string"?Ge.test(e)?tv:dv:Array.isArray(e)?cv:typeof e=="object"?TS:ip}function AS(e,t,r){const n=[],i=r||PS(e[0]),a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Se:t;l=Jr(c,l)}n.push(l)}return n}function uv(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(Th(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=AS(t,n,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=na(e[u],e[u+1],d);return o[u](h)};return r?d=>c(rn(e[0],e[a-1],d)):c}function ES(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=na(0,t,n);e.push(xe(r,1,i))}}function IS(e){const t=[0];return ES(t,e.length-1),t}function _S(e,t){return e.map(r=>r*t)}function MS(e,t){return e.map(()=>t||K0).splice(0,e.length-1)}function Uo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=fS(n)?n.map(np):np(n),a={done:!1,value:t[0]},o=_S(r&&r.length===t.length?r:IS(t),e),l=uv(o,t,{ease:Array.isArray(i)?i:MS(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function hv(e,t){return t?e*(1e3/t):0}const RS=5;function mv(e,t,r){const n=Math.max(t-RS,0);return hv(r-e(n),t-n)}const jc=.001,DS=.01,LS=10,OS=.05,FS=1;function VS({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,a,o=1-t;o=rn(OS,FS,o),e=rn(DS,LS,fr(e)),o<1?(i=d=>{const u=d*o,h=u*e,m=u-r,f=Qd(d,o),v=Math.exp(-h);return jc-m/f*v},a=d=>{const h=d*o*e,m=h*r+r,f=Math.pow(o,2)*Math.pow(d,2)*e,v=Math.exp(-h),p=Qd(Math.pow(d,2),o);return(-i(d)+jc>0?-1:1)*((m-f)*v)/p}):(i=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-jc+u*h},a=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=zS(i,a,l);if(e=_n(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const BS=12;function zS(e,t,r){let n=r;for(let i=1;i<BS;i++)n=n-e(n)/t(n);return n}function Qd(e,t){return e*Math.sqrt(1-t*t)}const US=["duration","bounce"],$S=["stiffness","damping","mass"];function ap(e,t){return t.some(r=>e[r]!==void 0)}function qS(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ap(e,$S)&&ap(e,US)){const r=VS(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function fv({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=qS({...n,velocity:-fr(n.velocity||0)}),f=h||0,v=c/(2*Math.sqrt(l*d)),p=a-i,k=fr(Math.sqrt(l/d)),y=Math.abs(p)<5;r||(r=y?.01:2),t||(t=y?.005:.5);let x;if(v<1){const g=Qd(k,v);x=w=>{const j=Math.exp(-v*k*w);return a-j*((f+v*k*p)/g*Math.sin(g*w)+p*Math.cos(g*w))}}else if(v===1)x=g=>a-Math.exp(-k*g)*(p+(f+k*p)*g);else{const g=k*Math.sqrt(v*v-1);x=w=>{const j=Math.exp(-v*k*w),S=Math.min(g*w,300);return a-j*((f+v*k*p)*Math.sinh(S)+g*p*Math.cosh(S))/g}}return{calculatedDuration:m&&u||null,next:g=>{const w=x(g);if(m)o.done=g>=u;else{let j=f;g!==0&&(v<1?j=mv(x,g,w):j=0);const S=Math.abs(j)<=r,N=Math.abs(a-w)<=t;o.done=S&&N}return o.value=o.done?a:w,o}}}function op({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=C=>l!==void 0&&C<l||c!==void 0&&C>c,v=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let p=r*t;const k=h+p,y=o===void 0?k:o(k);y!==k&&(p=y-h);const x=C=>-p*Math.exp(-C/n),g=C=>y+x(C),w=C=>{const T=x(C),R=g(C);m.done=Math.abs(T)<=d,m.value=m.done?y:R};let j,S;const N=C=>{f(m.value)&&(j=C,S=fv({keyframes:[m.value,v(m.value)],velocity:mv(g,C,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:C=>{let T=!1;return!S&&j===void 0&&(T=!0,w(C),N(C)),j!==void 0&&C>j?S.next(C-j):(!T&&w(C),m)}}}const WS=e=>{const t=({timestamp:r})=>e(r);return{start:()=>oe.update(t,!0),stop:()=>br(t),now:()=>ze.isProcessing?ze.timestamp:performance.now()}},lp=2e4;function cp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<lp;)t+=r,n=e.next(t);return t>=lp?1/0:t}const HS={decay:op,inertia:op,tween:Uo,keyframes:Uo,spring:fv};function $o({autoplay:e=!0,delay:t=0,driver:r=WS,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...m}){let f=1,v=!1,p,k;const y=()=>{k=new Promise(D=>{p=D})};y();let x;const g=HS[i]||Uo;let w;g!==Uo&&typeof n[0]!="number"&&(w=uv([0,100],n,{clamp:!1}),n=[0,100]);const j=g({...m,keyframes:n});let S;l==="mirror"&&(S=g({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let N="idle",C=null,T=null,R=null;j.calculatedDuration===null&&a&&(j.calculatedDuration=cp(j));const{calculatedDuration:ne}=j;let U=1/0,pe=1/0;ne!==null&&(U=ne+o,pe=U*(a+1)-o);let Z=0;const ce=D=>{if(T===null)return;f>0&&(T=Math.min(T,D)),f<0&&(T=Math.min(D-pe/f,T)),C!==null?Z=C:Z=Math.round(D-T)*f;const ie=Z-t*(f>=0?1:-1),zt=f>=0?ie<0:ie>pe;Z=Math.max(ie,0),N==="finished"&&C===null&&(Z=pe);let ut=Z,Tr=j;if(a){const Gs=Math.min(Z,pe)/U;let Jn=Math.floor(Gs),rr=Gs%1;!rr&&Gs>=1&&(rr=1),rr===1&&Jn--,Jn=Math.min(Jn,a+1),!!(Jn%2)&&(l==="reverse"?(rr=1-rr,o&&(rr-=o/U)):l==="mirror"&&(Tr=S)),ut=rn(0,1,rr)*U}const He=zt?{done:!1,value:n[0]}:Tr.next(ut);w&&(He.value=w(He.value));let{done:tr}=He;!zt&&ne!==null&&(tr=f>=0?Z>=pe:Z<=0);const Rl=C===null&&(N==="finished"||N==="running"&&tr);return h&&h(He.value),Rl&&I(),He},ee=()=>{x&&x.stop(),x=void 0},re=()=>{N="idle",ee(),p(),y(),T=R=null},I=()=>{N="finished",u&&u(),ee(),p()},F=()=>{if(v)return;x||(x=r(ce));const D=x.now();c&&c(),C!==null?T=D-C:(!T||N==="finished")&&(T=D),N==="finished"&&y(),R=T,C=null,N="running",x.start()};e&&F();const $={then(D,ie){return k.then(D,ie)},get time(){return fr(Z)},set time(D){D=_n(D),Z=D,C!==null||!x||f===0?C=D:T=x.now()-D/f},get duration(){const D=j.calculatedDuration===null?cp(j):j.calculatedDuration;return fr(D)},get speed(){return f},set speed(D){D===f||!x||(f=D,$.time=fr(Z))},get state(){return N},play:F,pause:()=>{N="paused",C=Z},stop:()=>{v=!0,N!=="idle"&&(N="idle",d&&d(),re())},cancel:()=>{R!==null&&ce(R),re()},complete:()=>{N="finished"},sample:D=>(T=0,ce(D))};return $}function QS(e){let t;return()=>(t===void 0&&(t=e()),t)}const GS=QS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),KS=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ua=10,YS=2e4,JS=(e,t)=>t.type==="spring"||e==="backgroundColor"||!W0(t.ease);function XS(e,t,{onUpdate:r,onComplete:n,...i}){if(!(GS()&&KS.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(g=>{l=g})};u();let{keyframes:h,duration:m=300,ease:f,times:v}=i;if(JS(t,i)){const g=$o({...i,repeat:0,delay:0});let w={done:!1,value:h[0]};const j=[];let S=0;for(;!w.done&&S<YS;)w=g.sample(S),j.push(w.value),S+=Ua;v=void 0,h=j,m=S-Ua,f="linear"}const p=oS(e.owner.current,t,h,{...i,duration:m,ease:f,times:v}),k=()=>{d=!1,p.cancel()},y=()=>{d=!0,oe.update(k),l(),u()};return p.onfinish=()=>{d||(e.set(lS(h,i)),n&&n(),y())},{then(g,w){return c.then(g,w)},attachTimeline(g){return p.timeline=g,p.onfinish=null,Se},get time(){return fr(p.currentTime||0)},set time(g){p.currentTime=_n(g)},get speed(){return p.playbackRate},set speed(g){p.playbackRate=g},get duration(){return fr(m)},play:()=>{o||(p.play(),br(k))},pause:()=>p.pause(),stop:()=>{if(o=!0,p.playState==="idle")return;const{currentTime:g}=p;if(g){const w=$o({...i,autoplay:!1});e.setWithVelocity(w.sample(g-Ua).value,w.sample(g).value,Ua)}y()},complete:()=>{d||p.finish()},cancel:y}}function ZS({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Se,pause:Se,stop:Se,then:a=>(a(),Promise.resolve()),cancel:Se,complete:Se});return t?$o({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const eC={type:"spring",stiffness:500,damping:25,restSpeed:10},tC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rC={type:"keyframes",duration:.8},nC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sC=(e,{keyframes:t})=>t.length>2?rC:Gn.has(e)?e.startsWith("scale")?tC(t[1]):eC:nC,Gd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nn.test(t)||t==="0")&&!t.startsWith("url(")),iC=new Set(["brightness","contrast","saturate","opacity"]);function aC(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(bl)||[];if(!n)return e;const i=r.replace(n,"");let a=iC.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const oC=/([a-z-]*)\(.*?\)/g,Kd={...nn,getAnimatableNone:e=>{const t=e.match(oC);return t?t.map(aC).join(" "):e}},lC={...P0,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:Kd,WebkitFilter:Kd},Ih=e=>lC[e];function pv(e,t){let r=Ih(e);return r!==Kd&&(r=nn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const gv=e=>/^0[^.\s]+$/.test(e);function cC(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||gv(e)}function dC(e,t,r,n){const i=Gd(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),cC(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];a[u]=pv(t,l)}return a}function uC({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function _h(e,t){return e[t]||e.default||e}const hC={skipAnimations:!1},Mh=(e,t,r,n={})=>i=>{const a=_h(n,e)||{},o=a.delay||n.delay||0;let{elapsed:l=0}=n;l=l-_n(o);const c=dC(t,e,r,a),d=c[0],u=c[c.length-1],h=Gd(e,d),m=Gd(e,u);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:v=>{t.set(v),a.onUpdate&&a.onUpdate(v)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(uC(a)||(f={...f,...sC(e,f)}),f.duration&&(f.duration=_n(f.duration)),f.repeatDelay&&(f.repeatDelay=_n(f.repeatDelay)),!h||!m||aS.current||a.type===!1||hC.skipAnimations)return ZS(f);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=XS(t,e,f);if(v)return v}return $o(f)};function qo(e){return!!(dt(e)&&e.add)}const xv=e=>/^\-?\d*\.?\d+$/.test(e);function Rh(e,t){e.indexOf(t)===-1&&e.push(t)}function Dh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Lh{constructor(){this.subscriptions=[]}add(t){return Rh(this.subscriptions,t),()=>Dh(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mC=e=>!isNaN(parseFloat(e));class fC{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=ze;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=mC(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Lh);const n=this.events[t].add(r);return t==="change"?()=>{n(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?hv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ds(e,t){return new fC(e,t)}const yv=e=>t=>t.test(e),pC={test:e=>e==="auto",parse:e=>e},vv=[Kn,z,Jt,Ir,w2,k2,pC],si=e=>vv.find(yv(e)),gC=[...vv,Ge,nn],xC=e=>gC.find(yv(e));function yC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ds(r))}function vC(e,t){const r=wl(e,t);let{transitionEnd:n={},transition:i={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const l=L2(a[o]);yC(e,o,l)}}function bC(e,t,r){var n,i;const a=Object.keys(t).filter(l=>!e.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(i=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&i!==void 0?i:t[c]),u!=null&&(typeof u=="string"&&(xv(u)||gv(u))?u=parseFloat(u):!xC(u)&&nn.test(d)&&(u=pv(c,d)),e.addValue(c,Ds(u,{owner:e})),r[c]===void 0&&(r[c]=u),u!==null&&e.setBaseTarget(c,u))}}function kC(e,t){return t?(t[e]||t.default||t).from:void 0}function wC(e,t,r){const n={};for(const i in e){const a=kC(i,t);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function jC({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function NC(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function bv(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(a=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const m=e.getValue(h),f=l[h];if(!m||f===void 0||u&&jC(u,h))continue;const v={delay:r,elapsed:0,..._h(a||{},h)};if(window.HandoffAppearAnimations){const y=e.getProps()[k0];if(y){const x=window.HandoffAppearAnimations(y,h,m,oe);x!==null&&(v.elapsed=x,v.isHandoff=!0)}}let p=!v.isHandoff&&!NC(m,f);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(p=!1),m.animation&&(p=!1),p)continue;m.start(Mh(h,m,f,e.shouldReduceMotion&&Gn.has(h)?{type:!1}:v));const k=m.animation;qo(c)&&(c.add(h),k.then(()=>c.remove(h))),d.push(k)}return o&&Promise.all(d).then(()=>{o&&vC(e,o)}),d}function Yd(e,t,r={}){const n=wl(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(bv(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=i;return SC(e,t,d+c,u,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function SC(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(CC).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Yd(d,t,{...a,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function CC(e,t){return e.sortNodePosition(t)}function TC(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Yd(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=Yd(e,t,r);else{const i=typeof t=="function"?wl(e,t,r.custom):t;n=Promise.all(bv(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}const PC=[...xh].reverse(),AC=xh.length;function EC(e){return t=>Promise.all(t.map(({animation:r,options:n})=>TC(e,r,n)))}function IC(e){let t=EC(e);const r=MC();let n=!0;const i=(c,d)=>{const u=wl(e,d);if(u){const{transition:h,transitionEnd:m,...f}=u;c={...c,...f,...m}}return c};function a(c){t=c(e)}function o(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},m=[],f=new Set;let v={},p=1/0;for(let y=0;y<AC;y++){const x=PC[y],g=r[x],w=u[x]!==void 0?u[x]:h[x],j=ta(w),S=x===d?g.isActive:null;S===!1&&(p=y);let N=w===h[x]&&w!==u[x]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),g.protectedKeys={...v},!g.isActive&&S===null||!w&&!g.prevProp||yl(w)||typeof w=="boolean")continue;let T=_C(g.prevProp,w)||x===d&&g.isActive&&!N&&j||y>p&&j,R=!1;const ne=Array.isArray(w)?w:[w];let U=ne.reduce(i,{});S===!1&&(U={});const{prevResolvedValues:pe={}}=g,Z={...pe,...U},ce=ee=>{T=!0,f.has(ee)&&(R=!0,f.delete(ee)),g.needsAnimating[ee]=!0};for(const ee in Z){const re=U[ee],I=pe[ee];if(v.hasOwnProperty(ee))continue;let F=!1;Bo(re)&&Bo(I)?F=!$0(re,I):F=re!==I,F?re!==void 0?ce(ee):f.add(ee):re!==void 0&&f.has(ee)?ce(ee):g.protectedKeys[ee]=!0}g.prevProp=w,g.prevResolvedValues=U,g.isActive&&(v={...v,...U}),n&&e.blockInitialAnimation&&(T=!1),T&&(!N||R)&&m.push(...ne.map(ee=>({animation:ee,options:{type:x,...c}})))}if(f.size){const y={};f.forEach(x=>{const g=e.getBaseTarget(x);g!==void 0&&(y[x]=g)}),m.push({animation:y})}let k=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(k=!1),n=!1,k?t(m):Promise.resolve()}function l(c,d,u){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(c,d)}),r[c].isActive=d;const m=o(u,c);for(const f in r)r[f].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r}}function _C(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$0(t,e):!1}function gn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MC(){return{animate:gn(!0),whileInView:gn(),whileHover:gn(),whileTap:gn(),whileDrag:gn(),whileFocus:gn(),exit:gn()}}class RC extends mn{constructor(t){super(t),t.animationState||(t.animationState=IC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),yl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let DC=0;class LC extends mn{constructor(){super(...arguments),this.id=DC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const OC={animation:{Feature:RC},exit:{Feature:LC}},dp=(e,t)=>Math.abs(e-t);function FC(e,t){const r=dp(e.x,t.x),n=dp(e.y,t.y);return Math.sqrt(r**2+n**2)}class kv{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Sc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=FC(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:v}=h,{timestamp:p}=ze;this.history.push({...v,timestamp:p});const{onStart:k,onMove:y}=this.handlers;m||(k&&k(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Nc(m,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:v,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Sc(h.type==="pointercancel"?this.lastMoveEventInfo:Nc(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,k),v&&v(h,k)},!F0(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=kl(t),l=Nc(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ze;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,Sc(l,this.history)),this.removeListeners=Jr(mr(this.contextWindow,"pointermove",this.handlePointerMove),mr(this.contextWindow,"pointerup",this.handlePointerUp),mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),br(this.updatePoint)}}function Nc(e,t){return t?{point:t(e.point)}:e}function up(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sc({point:e},t){return{point:e,delta:up(e,wv(t)),offset:up(e,VC(t)),velocity:BC(t,.1)}}function VC(e){return e[0]}function wv(e){return e[e.length-1]}function BC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=wv(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>_n(t)));)r--;if(!n)return{x:0,y:0};const a=fr(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gt(e){return e.max-e.min}function Jd(e,t=0,r=.01){return Math.abs(e-t)<=r}function hp(e,t,r,n=.5){e.origin=n,e.originPoint=xe(t.min,t.max,e.origin),e.scale=gt(r)/gt(t),(Jd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=xe(r.min,r.max,e.origin)-e.originPoint,(Jd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ai(e,t,r,n){hp(e.x,t.x,r.x,n?n.originX:void 0),hp(e.y,t.y,r.y,n?n.originY:void 0)}function mp(e,t,r){e.min=r.min+t.min,e.max=e.min+gt(t)}function zC(e,t,r){mp(e.x,t.x,r.x),mp(e.y,t.y,r.y)}function fp(e,t,r){e.min=t.min-r.min,e.max=e.min+gt(t)}function Ei(e,t,r){fp(e.x,t.x,r.x),fp(e.y,t.y,r.y)}function UC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xe(r,e,n.max):Math.min(e,r)),e}function pp(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function $C(e,{top:t,left:r,bottom:n,right:i}){return{x:pp(e.x,r,i),y:pp(e.y,t,n)}}function gp(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function qC(e,t){return{x:gp(e.x,t.x),y:gp(e.y,t.y)}}function WC(e,t){let r=.5;const n=gt(e),i=gt(t);return i>n?r=na(t.min,t.max-n,e.min):n>i&&(r=na(e.min,e.max-i,t.min)),rn(0,1,r)}function HC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Xd=.35;function QC(e=Xd){return e===!1?e=0:e===!0&&(e=Xd),{x:xp(e,"left","right"),y:xp(e,"top","bottom")}}function xp(e,t,r){return{min:yp(e,t),max:yp(e,r)}}function yp(e,t){return typeof e=="number"?e:e[t]||0}const vp=()=>({translate:0,scale:1,origin:0,originPoint:0}),gs=()=>({x:vp(),y:vp()}),bp=()=>({min:0,max:0}),Pe=()=>({x:bp(),y:bp()});function wt(e){return[e("x"),e("y")]}function jv({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function GC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function KC(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Cc(e){return e===void 0||e===1}function Zd({scale:e,scaleX:t,scaleY:r}){return!Cc(e)||!Cc(t)||!Cc(r)}function vn(e){return Zd(e)||Nv(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Nv(e){return kp(e.x)||kp(e.y)}function kp(e){return e&&e!=="0%"}function Wo(e,t,r){const n=e-r,i=t*n;return r+i}function wp(e,t,r,n,i){return i!==void 0&&(e=Wo(e,i,n)),Wo(e,r,n)+t}function eu(e,t=0,r=1,n,i){e.min=wp(e.min,t,r,n,i),e.max=wp(e.max,t,r,n,i)}function Sv(e,{x:t,y:r}){eu(e.x,t.translate,t.scale,t.originPoint),eu(e.y,r.translate,r.scale,r.originPoint)}function YC(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Sv(e,o)),n&&vn(a.latestValues)&&xs(e,a.latestValues))}t.x=jp(t.x),t.y=jp(t.y)}function jp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Rr(e,t){e.min=e.min+t,e.max=e.max+t}function Np(e,t,[r,n,i]){const a=t[i]!==void 0?t[i]:.5,o=xe(e.min,e.max,a);eu(e,t[r],t[n],o,t.scale)}const JC=["x","scaleX","originX"],XC=["y","scaleY","originY"];function xs(e,t){Np(e.x,t,JC),Np(e.y,t,XC)}function Cv(e,t){return jv(KC(e.getBoundingClientRect(),t))}function ZC(e,t,r){const n=Cv(e,r),{scroll:i}=t;return i&&(Rr(n.x,i.offset.x),Rr(n.y,i.offset.y)),n}const Tv=({current:e})=>e?e.ownerDocument.defaultView:null,e5=new WeakMap;class t5{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(kl(u,"page").point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:v}=this.getProps();if(m&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=B0(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wt(k=>{let y=this.getAxisMotionValue(k).get()||0;if(Jt.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[k];g&&(y=gt(g)*(parseFloat(y)/100))}}this.originPoint[k]=y}),v&&oe.update(()=>v(u,h),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:v,onDrag:p}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:k}=h;if(f&&this.currentDirection===null){this.currentDirection=r5(k),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,k),this.updateAxis("y",h.point,k),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>wt(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kv(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Tv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&oe.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!$a(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=UC(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&fs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=$C(i.layoutBox,r):this.constraints=!1,this.elastic=QC(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&wt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=HC(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!fs(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=ZC(n,i.root,this.visualElement.getTransformPagePoint());let o=qC(i.layout.layoutBox,a);if(r){const l=r(GC(o));this.hasMutatedConstraints=!!l,l&&(o=jv(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=wt(u=>{if(!$a(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,v={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Mh(t,n,0,r))}stopAnimation(){wt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wt(r=>{const{drag:n}=this.getProps();if(!$a(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!fs(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=WC({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wt(o=>{if(!$a(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(xe(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;e5.set(this.visualElement,this);const t=this.visualElement.current,r=mr(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();fs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=ur(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(wt(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Xd,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function $a(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function r5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class n5 extends mn{constructor(t){super(t),this.removeGroupControls=Se,this.removeListeners=Se,this.controls=new t5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Se}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sp=e=>(t,r)=>{e&&oe.update(()=>e(t,r))};class s5 extends mn{constructor(){super(...arguments),this.removePointerDownListener=Se}onPointerDown(t){this.session=new kv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Sp(t),onStart:Sp(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&oe.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=mr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function i5(){const e=b.useContext(gl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=b.useId();return b.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ii={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(z.test(e))e=parseFloat(e);else return e;const r=Cp(e,t.target.x),n=Cp(e,t.target.y);return`${r}% ${n}%`}},a5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=nn.parse(e);if(i.length>5)return n;const a=nn.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=xe(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class o5 extends Xt.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;f2(l5),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||oe.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pv(e){const[t,r]=i5(),n=b.useContext(vh);return Xt.createElement(o5,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(j0),isPresent:t,safeToRemove:r})}const l5={borderRadius:{...ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ii,borderTopRightRadius:ii,borderBottomLeftRadius:ii,borderBottomRightRadius:ii,boxShadow:a5},Av=["TopLeft","TopRight","BottomLeft","BottomRight"],c5=Av.length,Tp=e=>typeof e=="string"?parseFloat(e):e,Pp=e=>typeof e=="number"||z.test(e);function d5(e,t,r,n,i,a){i?(e.opacity=xe(0,r.opacity!==void 0?r.opacity:1,u5(n)),e.opacityExit=xe(t.opacity!==void 0?t.opacity:1,0,h5(n))):a&&(e.opacity=xe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<c5;o++){const l=`border${Av[o]}Radius`;let c=Ap(t,l),d=Ap(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Pp(c)===Pp(d)?(e[l]=Math.max(xe(Tp(c),Tp(d),n),0),(Jt.test(d)||Jt.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=xe(t.rotate||0,r.rotate||0,n))}function Ap(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const u5=Ev(0,.5,X0),h5=Ev(.5,.95,Se);function Ev(e,t,r){return n=>n<e?0:n>t?1:r(na(e,t,n))}function Ep(e,t){e.min=t.min,e.max=t.max}function kt(e,t){Ep(e.x,t.x),Ep(e.y,t.y)}function Ip(e,t,r,n,i){return e-=t,e=Wo(e,1/r,n),i!==void 0&&(e=Wo(e,1/i,n)),e}function m5(e,t=0,r=1,n=.5,i,a=e,o=e){if(Jt.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xe(a.min,a.max,n);e===a&&(l-=t),e.min=Ip(e.min,t,r,l,i),e.max=Ip(e.max,t,r,l,i)}function _p(e,t,[r,n,i],a,o){m5(e,t[r],t[n],t[i],t.scale,a,o)}const f5=["x","scaleX","originX"],p5=["y","scaleY","originY"];function Mp(e,t,r,n){_p(e.x,t,f5,r?r.x:void 0,n?n.x:void 0),_p(e.y,t,p5,r?r.y:void 0,n?n.y:void 0)}function Rp(e){return e.translate===0&&e.scale===1}function Iv(e){return Rp(e.x)&&Rp(e.y)}function g5(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function _v(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Dp(e){return gt(e.x)/gt(e.y)}class x5{constructor(){this.members=[]}add(t){Rh(this.members,t),t.scheduleRender()}remove(t){if(Dh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lp(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:u}=r;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const y5=(e,t)=>e.depth-t.depth;class v5{constructor(){this.children=[],this.isDirty=!1}add(t){Rh(this.children,t),this.isDirty=!0}remove(t){Dh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y5),this.isDirty=!1,this.children.forEach(t)}}function b5(e,t){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(br(n),e(a-t))};return oe.read(n,!0),()=>br(n)}function k5(e){window.MotionDebug&&window.MotionDebug.record(e)}function w5(e){return e instanceof SVGElement&&e.tagName!=="svg"}function j5(e,t,r){const n=dt(e)?e:Ds(e);return n.start(Mh("",n,t,r)),n.animation}const Op=["","X","Y","Z"],N5={visibility:"hidden"},Fp=1e3;let S5=0;const bn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Mv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=S5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bn.totalNodes=bn.resolvedTargetDeltas=bn.recalculatedProjection=0,this.nodes.forEach(P5),this.nodes.forEach(M5),this.nodes.forEach(R5),this.nodes.forEach(A5),k5(bn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new v5)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=w5(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=b5(m,250),oo.hasAnimatedSinceResize&&(oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Bp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||V5,{onLayoutAnimationStart:k,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!_v(this.targetLayout,v)||f,g=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const w={..._h(p,"layout"),onPlay:k,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else m||Bp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vp);return}this.isUpdating||this.nodes.forEach(I5),this.isUpdating=!1,this.nodes.forEach(_5),this.nodes.forEach(C5),this.nodes.forEach(T5),this.clearAllSnapshots();const l=performance.now();ze.delta=rn(0,1e3/60,l-ze.timestamp),ze.timestamp=l,ze.isProcessing=!0,gc.update.process(ze),gc.preRender.process(ze),gc.render.process(ze),ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(E5),this.sharedNodes.forEach(L5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Iv(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||vn(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),B5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Pe();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Rr(l.x,c.offset.x),Rr(l.y,c.offset.y)),l}removeElementScroll(o){const l=Pe();kt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){kt(l,o);const{scroll:m}=this.root;m&&(Rr(l.x,-m.offset.x),Rr(l.y,-m.offset.y))}Rr(l.x,u.offset.x),Rr(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Pe();kt(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xs(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vn(u.latestValues)&&xs(c,u.latestValues)}return vn(this.latestValues)&&xs(c,this.latestValues),c}removeTransform(o){const l=Pe();kt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!vn(d.latestValues))continue;Zd(d.latestValues)&&d.updateSnapshot();const u=Pe(),h=d.measurePageBox();kt(u,h),Mp(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return vn(this.latestValues)&&Mp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=ze.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),Sv(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Ei(this.relativeTargetOrigin,this.target,f.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zd(this.parent.latestValues)||Nv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ze.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;kt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;YC(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=gs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=gs(),this.projectionDeltaWithTransform=gs());const p=this.projectionTransform;Ai(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Lp(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==m||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),bn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=gs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Pe(),f=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=f!==v,k=this.getStack(),y=!k||k.members.length<=1,x=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(F5));this.animationProgress=0;let g;this.mixTargetDelta=w=>{const j=w/1e3;zp(h.x,o.x,j),zp(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O5(this.relativeTarget,this.relativeTargetOrigin,m,j),g&&g5(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Pe()),kt(g,this.relativeTarget)),p&&(this.animationValues=u,d5(u,d,this.latestValues,j,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{oo.hasAnimatedSinceResize=!0,this.currentAnimation=j5(0,Fp,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Rv(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Pe();const h=gt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=gt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}kt(l,c),xs(l,u),Ai(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new x5),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<Op.length;u++){const h="rotate"+Op[u];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N5;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=ao(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=ao(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vn(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Lp(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:v}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${v.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in Fo){if(m[p]===void 0)continue;const{correct:k,applyTo:y}=Fo[p],x=d.transform==="none"?m[p]:k(m[p],h);if(y){const g=y.length;for(let w=0;w<g;w++)d[y[w]]=x}else d[p]=x}return this.options.layoutId&&(d.pointerEvents=h===this?ao(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Vp),this.root.sharedNodes.clear()}}}function C5(e){e.updateLayout()}function T5(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?wt(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],f=gt(m);m.min=n[h].min,m.max=m.min+f}):Rv(a,r.layoutBox,n)&&wt(h=>{const m=o?r.measuredBox[h]:r.layoutBox[h],f=gt(n[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=gs();Ai(l,n,r.layoutBox);const c=gs();o?Ai(c,e.applyTransform(i,!0),r.measuredBox):Ai(c,n,r.layoutBox);const d=!Iv(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const v=Pe();Ei(v,r.layoutBox,m.layoutBox);const p=Pe();Ei(p,n,f.layoutBox),_v(v,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function P5(e){bn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function E5(e){e.clearSnapshot()}function Vp(e){e.clearMeasurements()}function I5(e){e.isLayoutDirty=!1}function _5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function M5(e){e.resolveTargetDelta()}function R5(e){e.calcProjection()}function D5(e){e.resetRotation()}function L5(e){e.removeLeadSnapshot()}function zp(e,t,r){e.translate=xe(t.translate,0,r),e.scale=xe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Up(e,t,r,n){e.min=xe(t.min,r.min,n),e.max=xe(t.max,r.max,n)}function O5(e,t,r,n){Up(e.x,t.x,r.x,n),Up(e.y,t.y,r.y,n)}function F5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const V5={duration:.45,ease:[.4,0,.1,1]},$p=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),qp=$p("applewebkit/")&&!$p("chrome/")?Math.round:Se;function Wp(e){e.min=qp(e.min),e.max=qp(e.max)}function B5(e){Wp(e.x),Wp(e.y)}function Rv(e,t,r){return e==="position"||e==="preserve-aspect"&&!Jd(Dp(t),Dp(r),.2)}const z5=Mv({attachResizeListener:(e,t)=>ur(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tc={current:void 0},Dv=Mv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tc.current){const e=new z5({});e.mount(window),e.setOptions({layoutScroll:!0}),Tc.current=e}return Tc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),U5={pan:{Feature:s5},drag:{Feature:n5,ProjectionNode:Dv,MeasureLayout:Pv}},$5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function q5(e){const t=$5.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function tu(e,t,r=1){const[n,i]=q5(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return xv(o)?parseFloat(o):o}else return qd(i)?tu(i,t,r+1):i}function W5(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const a=i.get();if(!qd(a))return;const o=tu(a,n);o&&i.set(o)});for(const i in t){const a=t[i];if(!qd(a))continue;const o=tu(a,n);o&&(t[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:t,transitionEnd:r}}const H5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Lv=e=>H5.has(e),Q5=e=>Object.keys(e).some(Lv),Hp=e=>e===Kn||e===z,Qp=(e,t)=>parseFloat(e.split(", ")[t]),Gp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return Qp(i[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?Qp(a[1],e):0}},G5=new Set(["x","y","z"]),K5=ma.filter(e=>!G5.has(e));function Y5(e){const t=[];return K5.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ls={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Gp(4,13),y:Gp(5,14)};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const J5=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{l[d]=Ls[d](n,a)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=Ls[d](c,a)}),e},X5=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(Lv);let a=[],o=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=r[c],h=si(u);const m=t[c];let f;if(Bo(m)){const v=m.length,p=m[0]===null?1:0;u=m[p],h=si(u);for(let k=p;k<v&&m[k]!==null;k++)f?Th(si(m[k])===f):f=si(m[k])}else f=si(m);if(h!==f)if(Hp(h)&&Hp(f)){const v=d.get();typeof v=="string"&&d.set(parseFloat(v)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&f===z&&(t[c]=m.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(u===0||m===0)?u===0?d.set(f.transform(u)):t[c]=h.transform(m):(o||(a=Y5(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=J5(t,e,l);return a.length&&a.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),xl&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Z5(e,t,r,n){return Q5(t)?X5(e,t,r,n):{target:t,transitionEnd:n}}const eT=(e,t,r,n)=>{const i=W5(e,t,n);return t=i.target,n=i.transitionEnd,Z5(e,t,r,n)},ru={current:null},Ov={current:!1};function tT(){if(Ov.current=!0,!!xl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ru.current=e.matches;e.addListener(t),t()}else ru.current=!1}function rT(e,t,r){const{willChange:n}=t;for(const i in t){const a=t[i],o=r[i];if(dt(a))e.addValue(i,a),qo(n)&&n.add(i);else if(dt(o))e.addValue(i,Ds(a,{owner:e})),qo(n)&&n.remove(i);else if(o!==a)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Ds(l!==void 0?l:a,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const Kp=new WeakMap,Fv=Object.keys(ra),nT=Fv.length,Yp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],sT=yh.length;class iT{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>oe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=vl(r),this.isVariantNode=w0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(r,{});for(const h in u){const m=u[h];l[h]!==void 0&&dt(m)&&(m.set(l[h],!1),qo(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Kp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Ov.current||tT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ru.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kp.delete(this.current),this.projection&&this.projection.unmount(),br(this.notifyUpdate),br(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Gn.has(t),i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&oe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,a){let o,l;for(let c=0;c<nT;c++){const d=Fv[c],{isEnabled:u,Feature:h,ProjectionNode:m,MeasureLayout:f}=ra[d];m&&(o=m),u(r)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:f}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&fs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Yp.length;n++){const i=Yp[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=rT(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<sT;n++){const i=yh[n],a=this.props[i];(ta(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ds(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Ch(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!dt(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Lh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Vv extends iT{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},a){let o=wC(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){bC(this,n,o);const l=eT(this,n,o,r);r=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:r,...n}}}function aT(e){return window.getComputedStyle(e)}class oT extends Vv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Gn.has(r)){const n=Ih(r);return n&&n.default||0}else{const n=aT(t),i=(C0(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Cv(t,r)}build(t,r,n,i){kh(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return Sh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){_0(t,r,n,i)}}class lT extends Vv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Gn.has(r)){const n=Ih(r);return n&&n.default||0}return r=M0.has(r)?r:gh(r),t.getAttribute(r)}measureInstanceViewportBox(){return Pe()}scrapeMotionValuesFromProps(t,r){return D0(t,r)}build(t,r,n,i){jh(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){R0(t,r,n,i)}mount(t){this.isSVGTag=Nh(t.tagName),super.mount(t)}}const cT=(e,t)=>bh(e)?new lT(t,{enableHardwareAcceleration:!1}):new oT(t,{enableHardwareAcceleration:!0}),dT={layout:{ProjectionNode:Dv,MeasureLayout:Pv}},uT={...OC,...nS,...U5,...dT},P=h2((e,t)=>q2(e,t,uT,cT));function Bv(){const e=b.useRef(!1);return ph(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function hT(){const e=Bv(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>oe.postRender(n),[n]),t]}class mT extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fT({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=i.current;if(t||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),b.createElement(mT,{isPresent:t,childRef:n,sizeRef:i},b.cloneElement(e,{ref:n}))}const Pc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=L0(pT),c=b.useId(),d=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;n&&n()},register:u=>(l.set(u,!1),()=>l.delete(u))}),a?void 0:[r]);return b.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=b.createElement(fT,{isPresent:r},e)),b.createElement(gl.Provider,{value:d},e)};function pT(){return new Map}function gT(e){return b.useEffect(()=>()=>e(),[])}const kn=e=>e.key||"";function xT(e,t){e.forEach(r=>{const n=kn(r);t.set(n,r)})}function yT(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const We=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=b.useContext(vh).forceRender||hT()[0],c=Bv(),d=yT(e);let u=d;const h=b.useRef(new Map).current,m=b.useRef(u),f=b.useRef(new Map).current,v=b.useRef(!0);if(ph(()=>{v.current=!1,xT(d,f),m.current=u}),gT(()=>{v.current=!0,f.clear(),h.clear()}),v.current)return b.createElement(b.Fragment,null,u.map(x=>b.createElement(Pc,{key:kn(x),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},x)));u=[...u];const p=m.current.map(kn),k=d.map(kn),y=p.length;for(let x=0;x<y;x++){const g=p[x];k.indexOf(g)===-1&&!h.has(g)&&h.set(g,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((x,g)=>{if(k.indexOf(g)!==-1)return;const w=f.get(g);if(!w)return;const j=p.indexOf(g);let S=x;if(!S){const N=()=>{h.delete(g);const C=Array.from(f.keys()).filter(T=>!k.includes(T));if(C.forEach(T=>f.delete(T)),m.current=d.filter(T=>{const R=kn(T);return R===g||C.includes(R)}),!h.size){if(c.current===!1)return;l(),n&&n()}};S=b.createElement(Pc,{key:kn(w),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:a,mode:o},w),h.set(g,S)}u.splice(j,0,S)}),u=u.map(x=>{const g=x.key;return h.has(g)?x:b.createElement(Pc,{key:kn(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),b.createElement(b.Fragment,null,h.size?u:u.map(x=>b.cloneElement(x)))};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>b.createElement("svg",{ref:u,...vT,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${bT(e)}`,l].join(" "),...d},[...t.map(([h,m])=>b.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=_("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=_("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=_("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=_("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=_("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=_("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=_("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=_("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=_("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=_("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=_("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=_("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=_("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=_("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=_("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=_("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=_("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=_("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=_("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=_("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=_("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=_("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=_("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=_("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=_("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=_("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=_("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=_("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=_("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=_("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=_("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=_("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=_("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=_("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=_("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=_("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=_("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=_("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=_("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=_("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=_("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=_("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=_("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=_("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=_("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=_("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=_("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=_("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=_("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=_("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=_("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=_("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=_("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=_("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=_("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=_("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=_("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=_("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=_("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=_("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=_("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=_("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=_("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=_("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=_("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=_("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=_("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=_("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=_("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=_("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=_("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=_("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),H=r2;function Xv(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Xv(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $T(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Xv(e))&&(n&&(n+=" "),n+=t);return n}const zh="-",qT=e=>{const t=HT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(zh);return l[0]===""&&l.length!==1&&l.shift(),Zv(l,t)||WT(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Zv=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Zv(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(zh);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},eg=/^\[(.+)\]$/,WT=e=>{if(eg.test(e)){const t=eg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return GT(Object.entries(e.classGroups),r).forEach(([a,o])=>{au(o,n,a,t)}),n},au=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:tg(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(QT(i)){au(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{au(o,tg(t,a),r,n)})})},tg=(e,t)=>{let r=e;return t.split(zh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QT=e=>e.isThemeGetter,GT=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,i]}):e,KT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},eb="!",YT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let k=0;k<l.length;k++){let y=l[k];if(d===0){if(y===i&&(n||l.slice(k,k+a)===t)){c.push(l.slice(u,k)),u=k+a;continue}if(y==="/"){h=k;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(eb),v=f?m.substring(1):m,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},JT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},XT=e=>({cache:KT(e.cacheSize),parseClassName:YT(e),...qT(e)}),ZT=/\s+/,e4=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(ZT);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=r(d);let v=!!f,p=n(v?m.substring(0,f):m);if(!p){if(!v){l=d+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=d+(l.length>0?" "+l:l);continue}v=!1}const k=JT(u).join(":"),y=h?k+eb:k,x=y+p;if(a.includes(x))continue;a.push(x);const g=i(p,v);for(let w=0;w<g.length;++w){const j=g[w];a.push(y+j)}l=d+(l.length>0?" "+l:l)}return l};function t4(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tb(t))&&(n&&(n+=" "),n+=r);return n}const tb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tb(e[n]))&&(r&&(r+=" "),r+=t);return r};function r4(e,...t){let r,n,i,a=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=XT(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=e4(c,r);return i(c,u),u}return function(){return a(t4.apply(null,arguments))}}const de=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rb=/^\[(?:([a-z-]+):)?(.+)\]$/i,n4=/^\d+\/\d+$/,s4=new Set(["px","full","screen"]),i4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=e=>Ns(e)||s4.has(e)||n4.test(e),Ar=e=>Hs(e,"length",x4),Ns=e=>!!e&&!Number.isNaN(Number(e)),Ac=e=>Hs(e,"number",Ns),ai=e=>!!e&&Number.isInteger(Number(e)),d4=e=>e.endsWith("%")&&Ns(e.slice(0,-1)),G=e=>rb.test(e),Er=e=>i4.test(e),u4=new Set(["length","size","percentage"]),h4=e=>Hs(e,u4,nb),m4=e=>Hs(e,"position",nb),f4=new Set(["image","url"]),p4=e=>Hs(e,f4,v4),g4=e=>Hs(e,"",y4),oi=()=>!0,Hs=(e,t,r)=>{const n=rb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},x4=e=>a4.test(e)&&!o4.test(e),nb=()=>!1,y4=e=>l4.test(e),v4=e=>c4.test(e),b4=()=>{const e=de("colors"),t=de("spacing"),r=de("blur"),n=de("brightness"),i=de("borderColor"),a=de("borderRadius"),o=de("borderSpacing"),l=de("borderWidth"),c=de("contrast"),d=de("grayscale"),u=de("hueRotate"),h=de("invert"),m=de("gap"),f=de("gradientColorStops"),v=de("gradientColorStopPositions"),p=de("inset"),k=de("margin"),y=de("opacity"),x=de("padding"),g=de("saturate"),w=de("scale"),j=de("sepia"),S=de("skew"),N=de("space"),C=de("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",G,t],U=()=>[G,t],pe=()=>["",sr,Ar],Z=()=>["auto",Ns,G],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",G],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Ns,G];return{cacheSize:500,separator:":",theme:{colors:[oi],spacing:[sr,Ar],blur:["none","",Er,G],brightness:D(),borderColor:[e],borderRadius:["none","","full",Er,G],borderSpacing:U(),borderWidth:pe(),contrast:D(),grayscale:F(),hueRotate:D(),invert:F(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[d4,Ar],inset:ne(),margin:ne(),opacity:D(),padding:U(),saturate:D(),scale:D(),sepia:F(),skew:D(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[Er]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),G]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ai,G]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",ai,G]}],"grid-cols":[{"grid-cols":[oi]}],"col-start-end":[{col:["auto",{span:["full",ai,G]},G]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[oi]}],"row-start-end":[{row:["auto",{span:[ai,G]},G]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,t]}],"min-w":[{"min-w":[G,t,"min","max","fit"]}],"max-w":[{"max-w":[G,t,"none","full","min","max","fit","prose",{screen:[Er]},Er]}],h:[{h:[G,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Er,Ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ac]}],"font-family":[{font:[oi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",Ns,Ac]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,Ar]}],"underline-offset":[{"underline-offset":["auto",sr,G]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),m4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",h4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[sr,G]}],"outline-w":[{outline:[sr,Ar]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[sr,Ar]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Er,g4]}],"shadow-color":[{shadow:[oi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Er,G]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ai,G]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sr,Ar,Ac]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k4=r4(b4);function Y(...e){return k4($T(e))}function L({variant:e="primary",size:t="md",children:r,isLoading:n=!1,className:i,disabled:a,...o}){const l="inline-flex items-center justify-center font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-primary-700 hover:bg-primary-800 text-white focus:ring-primary-700",secondary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-600",ghost:"bg-transparent hover:bg-light-card dark:hover:bg-dark-card text-light-text dark:text-dark-text focus:ring-primary-700",outline:"border-2 border-primary-700 text-primary-700 hover:bg-primary-50 dark:hover:bg-primary-950 focus:ring-primary-700",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return s.jsx(P.button,{whileHover:{scale:a||n?1:1.02},whileTap:{scale:a||n?1:.98},className:Y(l,c[e],d[t],i),disabled:a||n,...o,children:n?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):r})}function sb(){const e=W(E.users.getTickerData),[t,r]=b.useState(0);if(b.useEffect(()=>{if(!(e!=null&&e.recentUsers)||e.recentUsers.length===0)return;const i=setInterval(()=>{r(a=>(a+2)%e.recentUsers.length)},4e3);return()=>clearInterval(i)},[e]),!e)return s.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px] animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[s.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-1 rounded-full w-5 h-5"}),s.jsxs("div",{className:"flex flex-col gap-1 leading-none",children:[s.jsx("div",{className:"h-2 w-12 bg-light-bg dark:bg-dark-bg rounded"}),s.jsx("div",{className:"h-3 w-8 bg-light-bg dark:bg-dark-bg rounded"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-light-bg dark:bg-dark-bg"}),s.jsx("div",{className:"h-2 w-12 bg-light-bg dark:bg-dark-bg rounded"})]})]});const n=[e.recentUsers[t%e.recentUsers.length],e.recentUsers[(t+1)%e.recentUsers.length]].filter(Boolean);return s.jsxs("div",{className:"flex items-center gap-3 bg-light-card/50 dark:bg-dark-card/50 backdrop-blur-sm px-3 py-1.5 rounded-full border border-light-border/20 dark:border-dark-border/20 shadow-sm overflow-hidden w-[240px] xl:w-[280px]",children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-light-border/20 dark:border-dark-border/20 shrink-0",children:[s.jsx("div",{className:"bg-primary-500/10 p-1 rounded-full",children:s.jsx(Un,{className:"w-3 h-3 text-primary-500"})}),s.jsxs("div",{className:"flex flex-col leading-none",children:[s.jsx("span",{className:"text-[9px] uppercase font-bold text-light-muted dark:text-dark-muted",children:"Community"}),s.jsx("span",{className:"text-xs font-black text-light-text dark:text-dark-text font-display",children:e.totalCount.toLocaleString()})]})]}),s.jsx("div",{className:"flex-1 relative h-7 overflow-hidden",children:s.jsx(We,{mode:"popLayout",children:s.jsx(P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 flex items-center gap-2",children:n.map(i=>s.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 max-w-[90px]",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-primary-400 to-secondary-400 p-[1px] flex-shrink-0",children:s.jsx("div",{className:"w-full h-full rounded-full bg-light-bg dark:bg-dark-bg overflow-hidden",children:i.avatarUrl?s.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-[8px] font-bold bg-light-muted/10",children:i.name.charAt(0)})})}),s.jsx("span",{className:"text-[10px] font-medium text-light-text dark:text-dark-text truncate",children:i.name.split(" ")[0]})]},i._id))},t)})})]})}function w4({isOpen:e,onClose:t}){const{user:r,logout:n}=H(),{theme:i,toggleTheme:a}=g0(),o=we(),l=()=>{n(),t(),o("/")};return s.jsx(We,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 md:hidden"}),s.jsx(P.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 bottom-0 left-0 w-[85%] max-w-[320px] bg-light-bg dark:bg-dark-bg z-[60] shadow-2xl overflow-y-auto",children:s.jsxs("div",{className:"flex flex-col h-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(B,{to:"/",onClick:t,className:"flex items-center gap-2",children:[s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"h-8 w-auto"}),s.jsx("span",{className:"text-xl font-bold font-display text-gradient",children:"Baptizo"})]}),s.jsx("button",{onClick:t,className:"p-2 -mr-2 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text transition-colors",children:s.jsx(wr,{className:"w-6 h-6"})})]}),r&&s.jsxs("div",{className:"mb-8 p-4 rounded-2xl bg-gradient-to-br from-primary-500/10 to-secondary-500/10 border border-light-border dark:border-dark-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-lg overflow-hidden shrink-0",children:r.avatarUrl?s.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-full h-full object-cover"}):r.name[0]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text truncate",children:r.name}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted truncate",children:r.email})]})]}),s.jsx(B,{to:"/profile",onClick:t,children:s.jsx(L,{variant:"outline",size:"sm",className:"w-full rounded-xl text-xs h-8",children:"View Profile"})})]}),s.jsx("nav",{className:"space-y-2 flex-1",children:r?s.jsxs(s.Fragment,{children:[s.jsxs(B,{to:"/feed",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[s.jsx($v,{className:"w-5 h-5 text-primary-500"}),"Feed"]}),s.jsxs(B,{to:"/teachings",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[s.jsx(Bt,{className:"w-5 h-5 text-secondary-500"}),"Teachings"]}),s.jsxs(B,{to:"/tasks",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[s.jsx(va,{className:"w-5 h-5 text-purple-500"}),"Tasks"]}),(r.role==="admin"||r.role==="super_admin")&&s.jsxs(B,{to:"/admin",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-primary-500/10 text-primary-500 transition-colors font-bold mt-4",children:[s.jsx(Ho,{className:"w-5 h-5"}),"Admin Dashboard"]}),r.role==="board_member"&&s.jsxs(B,{to:"/board",onClick:t,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-secondary-500/10 text-secondary-500 transition-colors font-bold mt-4",children:[s.jsx(Ho,{className:"w-5 h-5"}),"Board Dashboard"]}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(sb,{})})]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{to:"/login",onClick:t,className:"block mb-4",children:s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text font-semibold",children:[s.jsx(Pt,{className:"w-5 h-5"}),"Login"]})}),s.jsx(B,{to:"/register",onClick:t,className:"block",children:s.jsx(L,{className:"w-full font-bold",children:"Get Started"})})]})}),s.jsxs("div",{className:"pt-6 border-t border-light-border dark:border-dark-border mt-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:"Appearance"}),s.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors text-light-text dark:text-dark-text",children:i==="dark"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qv,{className:"w-5 h-5 text-yellow-500"}),s.jsx("span",{className:"text-xs",children:"Dark"})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hv,{className:"w-5 h-5 text-slate-700"}),s.jsx("span",{className:"text-xs",children:"Light"})]})})]}),r&&s.jsxs("button",{onClick:l,className:"w-full p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center gap-2 font-bold",children:[s.jsx(Wv,{className:"w-5 h-5"}),"Logout"]})]})]})})]})})}function rg(){const e=we(),t=W(E.notifications.getUnreadCount)||0;return s.jsxs(P.button,{whileTap:{scale:.9},onClick:()=>e("/notifications"),className:"p-2 md:p-3 relative text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",title:"Notifications",children:[s.jsx(lo,{className:"w-6 h-6 md:w-6 md:h-6"}),t>0&&s.jsx("span",{className:"absolute top-0.5 right-0.5 md:top-2 md:right-2 bg-red-500 text-white text-[10px] font-bold h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full border-2 border-light-bg dark:border-dark-bg",children:t>9?"9+":t})]})}function j4(){const{user:e,logout:t}=H(),{theme:r,toggleTheme:n}=g0(),i=we(),a=It(),[o,l]=b.useState(!1),c=a.pathname==="/"||a.pathname==="/feed"||a.pathname==="/login"||a.pathname==="/register",d=()=>{t(),i("/")};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:`fixed ${c?"top-2 md:top-0":"top-0"} left-0 right-0 z-40 ${c?"px-3 md:px-0":"px-0"} transition-all duration-300`,children:s.jsx("div",{className:`mx-auto ${c?"max-w-7xl md:max-w-full relative":"w-full"}`,children:s.jsx("div",{className:`${c?"glass rounded-2xl md:rounded-b-3xl md:rounded-t-none border border-light-border/50 dark:border-dark-border/50 overflow-hidden":"bg-light-bg/95 dark:bg-dark-bg/95 backdrop-blur-sm border-b border-light-border dark:border-dark-border md:glass md:rounded-b-3xl md:border md:border-light-border/50 md:dark:border-dark-border/50"} md:overflow-hidden`,children:s.jsxs("div",{className:"px-4 md:px-12 h-14 md:h-20 flex items-center justify-between",children:[s.jsxs("div",{className:"md:hidden flex items-center justify-between w-full",children:[s.jsx("button",{onClick:()=>l(!0),className:"p-2 -ml-2 text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),s.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),s.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),e?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>i("/search"),className:"p-2 text-light-text dark:text-dark-text hover:text-primary-500 transition-colors",children:s.jsx(an,{className:"w-6 h-6"})}),s.jsx(rg,{})]}):c&&s.jsx(B,{to:"/",className:"flex items-center",children:s.jsx("span",{className:"text-xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2 w-full",children:[s.jsx(B,{to:"/",state:{manual:!0},className:"flex items-center space-x-2 mr-auto",children:s.jsxs(P.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:[s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"h-8 md:h-12 w-auto"}),s.jsx("span",{className:"text-xl md:text-3xl font-black text-gradient font-display tracking-tight",children:"Baptizo"})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:e?s.jsxs(s.Fragment,{children:[s.jsx(B,{to:"/feed",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Feed"}),s.jsx(B,{to:"/teachings",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Teachings"}),s.jsx(B,{to:"/profile",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Profile"}),e.role==="admin"||e.role==="super_admin"?s.jsxs(B,{to:"/admin",className:"px-4 py-2 rounded-xl bg-primary-500/10 text-primary-500 hover:bg-primary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[s.jsx(Ho,{className:"w-5 h-5"}),"Admin"]}):null,e.role==="board_member"&&s.jsxs(B,{to:"/board",className:"px-4 py-2 rounded-xl bg-secondary-500/10 text-secondary-500 hover:bg-secondary-500 hover:text-white transition-all font-bold flex items-center gap-2",children:[s.jsx(Ho,{className:"w-5 h-5"}),"Board"]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{to:"/login",className:"text-light-text dark:text-dark-text hover:text-primary-500 transition-all font-semibold text-lg",children:"Login"}),s.jsx(B,{to:"/register",children:s.jsx(L,{size:"lg",className:"font-bold px-8",children:"Get Started"})})]})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2 md:space-x-4 ml-auto",children:[e&&s.jsxs(s.Fragment,{children:[s.jsx(P.button,{whileTap:{scale:.9},onClick:()=>i("/search"),className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border",title:"Search Members",children:s.jsx(an,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-500"})}),s.jsx(rg,{})]}),s.jsx(P.button,{whileTap:{scale:.9},onClick:n,className:"p-2 md:p-3 rounded-xl hover:bg-light-card/50 dark:hover:bg-dark-card/50 transition-all border border-transparent hover:border-light-border dark:hover:border-dark-border",children:r==="dark"?s.jsx(Qv,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-500"}):s.jsx(Hv,{className:"w-5 h-5 md:w-6 md:h-6 text-slate-700"})}),e&&s.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-1.5 rounded-xl bg-light-card/30 dark:bg-dark-card/30 border border-light-border/20 dark:border-dark-border/20 shadow-inner",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold overflow-hidden",children:e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-full h-full object-cover"}):e.name[0]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-bold text-light-text dark:text-dark-text pr-2 leading-none",children:e.name}),(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")&&s.jsx("span",{className:"text-[9px] font-bold text-secondary-500 tracking-wide mt-0.5",children:e.role==="board_member"?"BOARD MEMBER":e.role.replace("_"," ").toUpperCase()})]})]}),s.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"p-3 rounded-xl bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:s.jsx(Wv,{className:"w-5 h-5"})})]})]})]})]})})})}),s.jsx(w4,{isOpen:o,onClose:()=>l(!1)})]})}function N4(){const e=new Date().getFullYear(),t={platform:[{label:"Feed",path:"/feed"},{label:"Ancient Culture",path:"/ancient-culture"},{label:"Wisdom of The Now",path:"/wisdom-now"},{label:"Leaderboard",path:"/leaderboard"}],community:[{label:"About Baptizo",path:"/about"},{label:"Our Mission",path:"/about"},{label:"Privacy Policy",path:"/privacy"},{label:"Terms of Service",path:"/terms"}],support:[{label:"Contact Us",path:"/contact"},{label:"FAQ",path:"/faq"},{label:"Community Guidelines",path:"/guidelines"}]},r=[{icon:VT,href:"https://x.com/innotechglobal",label:"Twitter"},{icon:IT,href:"https://www.instagram.com/photizo_foundation?utm_source=qr&igsh=ZncwOTVpcXM1d3Vv",label:"Instagram"},{icon:UT,href:"https://www.youtube.com/@innotechglobal",label:"YouTube"},{icon:CT,href:"https://www.github.com/vincobond/",label:"GitHub"}];return s.jsx("footer",{className:"relative mt-auto pt-24 pb-12 overflow-hidden bg-gray-100 dark:bg-gray-950",children:s.jsxs("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{to:"/",className:"flex items-center gap-3",children:[s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"h-10 md:h-12 w-auto"}),s.jsx("span",{className:"text-2xl font-black text-gradient font-display",children:"Baptizo"})]}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed font-medium",children:"A professional sanctuary for digital spiritual exploration. Bridging ancient wisdom with modern consciousness."}),s.jsx("div",{className:"flex items-center gap-4",children:r.map(n=>s.jsx(P.a,{href:n.href,whileHover:{y:-4},className:"p-3 bg-white dark:bg-gray-900 border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted hover:text-primary-700 hover:border-primary-700 transition-all","aria-label":n.label,children:s.jsx(n.icon,{className:"w-5 h-5"})},n.label))})]}),Object.entries(t).map(([n,i])=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-sm font-black uppercase tracking-[0.2em] text-light-text dark:text-dark-text",children:n}),s.jsx("ul",{className:"space-y-4",children:i.map(a=>s.jsx("li",{children:s.jsxs(B,{to:a.path,className:"text-light-muted dark:text-dark-muted hover:text-primary-700 dark:hover:text-primary-400 transition-all font-medium flex items-center group",children:[a.label,s.jsx(kT,{className:"w-4 h-4 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})},a.label))})]},n))]}),s.jsxs("div",{className:"pt-12 border-t border-light-border dark:border-dark-border flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-light-muted dark:text-dark-muted font-medium",children:[s.jsx("span",{children:"Built with"}),s.jsx(qs,{className:"w-4 h-4 text-red-500 fill-red-500"}),s.jsx("span",{children:"for the Global Community"})]}),s.jsxs("div",{className:"flex items-center gap-8 text-xs font-bold text-light-muted/60 dark:text-dark-muted/60",children:[s.jsxs("p",{children:[" ",e," Baptizo Inc. All rights reserved."]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(TT,{className:"w-3 h-3"}),s.jsx("span",{children:"v2.0 Premium"})]})]})]})]})})}function S4(){const e=It(),{user:t}=H(),r=n=>!!(n==="/feed"&&e.pathname==="/feed"||n!=="/feed"&&e.pathname.startsWith(n));return s.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-light-border dark:border-dark-border glass pb-safe",children:s.jsxs("div",{className:"flex items-center justify-around h-16 px-2",children:[s.jsxs(B,{to:"/feed",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",r("/feed")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[s.jsx("div",{className:"relative",children:s.jsx($v,{className:Y("w-5 h-5 md:w-6 md:h-6",r("/feed")&&"fill-primary-500/20")})}),s.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",r("/feed")?"opacity-100":"opacity-70"),children:"Feed"})]}),t&&s.jsxs(B,{to:"/create-post",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",r("/create-post")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[s.jsx("div",{className:"relative p-1",children:s.jsx(su,{className:Y("w-6 h-6 md:w-8 md:h-8 text-primary-500 fill-primary-500/10")})}),s.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",r("/create-post")?"opacity-100 font-bold":"opacity-70"),children:"Post"})]}),s.jsxs(B,{to:"/my-responses",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",r("/my-responses")?"text-purple-500 bg-purple-500/5":"text-light-muted dark:text-dark-muted hover:text-purple-500"),children:[s.jsx("div",{className:"relative",children:s.jsx(er,{className:Y("w-5 h-5 md:w-6 md:h-6",r("/my-responses")&&"fill-purple-500/20")})}),s.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",r("/my-responses")?"opacity-100":"opacity-70"),children:"Responses"})]}),s.jsxs(B,{to:"/profile",className:Y("flex flex-col items-center justify-center flex-1 min-w-0 transition-all relative py-1 mx-0.5 rounded-xl",r("/profile")?"text-primary-500 bg-primary-500/5":"text-light-muted dark:text-dark-muted hover:text-primary-500"),children:[s.jsx("div",{className:"relative",children:s.jsx(Pt,{className:Y("w-5 h-5 md:w-6 md:h-6",r("/profile")&&"fill-primary-500/20")})}),s.jsx("span",{className:Y("text-[10px] font-semibold mt-1 truncate w-full text-center",r("/profile")?"opacity-100":"opacity-70"),children:"Profile"})]})]})})}function C4(){const e=It(),t=[{path:"/feed",label:"Feed",icon:Cr},{path:"/teachings",label:"Posts",icon:Bt},{path:"/tasks",label:"My Tasks",icon:va},{path:"/my-responses",label:"My Responses",icon:er}];return s.jsx("nav",{className:"hidden md:block sticky top-20 z-40 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md border-b border-light-border dark:border-dark-border",children:s.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-3 flex-nowrap overflow-x-auto no-scrollbar gap-4",children:[s.jsx("div",{className:"flex items-center gap-1 xl:gap-2 flex-nowrap",children:t.map(r=>{const n=r.icon,i=e.pathname===r.path;return s.jsxs(B,{to:r.path,className:`
                                        flex items-center gap-2 px-3 xl:px-4 py-2 rounded-lg font-medium transition-all relative whitespace-nowrap
                                        ${i?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"text-light-text dark:text-dark-text hover:bg-light-card dark:hover:bg-dark-card"}
                                    `,children:[s.jsxs("div",{className:"relative",children:[s.jsx(n,{className:"w-5 h-5 flex-shrink-0"}),r.badge!==void 0&&r.badge>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center border-2 border-light-bg dark:border-dark-bg",children:r.badge>99?"99+":r.badge})]}),s.jsx("span",{className:"text-sm xl:text-base",children:r.label})]},r.path)})}),s.jsx("div",{className:"hidden 2xl:block flex-shrink-0 ml-4",children:s.jsx(sb,{})})]})})})}function O({children:e,className:t,glass:r=!1,hover:n=!1,onClick:i}){const a=P.div;return s.jsx(a,{onClick:i,whileHover:n?{y:-4,transition:{duration:.2}}:void 0,className:Y("p-6 transition-all duration-200",r?"glass":"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border",n&&"cursor-pointer",t),children:e})}function Xe({children:e,className:t}){return s.jsx("div",{className:Y("mb-4",t),children:e})}function Ze({children:e,className:t}){return s.jsx("h3",{className:Y("text-xl font-semibold text-light-text dark:text-dark-text",t),children:e})}function V({children:e,className:t}){return s.jsx("div",{className:Y("text-light-text dark:text-dark-text",t),children:e})}function q({children:e,variant:t="default",className:r,animate:n=!1}){const i={default:"bg-light-border dark:bg-dark-border text-light-text dark:text-dark-text",primary:"bg-primary-100 dark:bg-primary-950 text-primary-800 dark:text-primary-300 border border-primary-200 dark:border-primary-800",secondary:"bg-secondary-100 dark:bg-secondary-950 text-secondary-700 dark:text-secondary-300 border border-secondary-200 dark:border-secondary-800",success:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800",danger:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",outline:"bg-transparent border border-light-border dark:border-dark-border text-light-muted dark:text-dark-muted"},a=n?P.span:"span",o=n?{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}}:{};return s.jsx(a,{...o,className:Y("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",i[t],r),children:e})}function T4(){const{user:e}=H(),t=we();b.useEffect(()=>{e&&t("/feed",{replace:!0})},[e,t]);const r=[{icon:Bt,title:"Ancient Culture",subtitle:"Prophetic Wisdom",description:"Dive deep into prophetic wisdom and systems from the Old Testament. Understand the foundations of spiritual authority.",image:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/ancient-culture.png?updatedAt=1766305387425",color:"from-primary-500 to-primary-700"},{icon:Cr,title:"Wisdom of The Now",subtitle:"Modern Insights",description:"Explore spiritual identity and insights from the New Testament. Discover your place in the modern spiritual landscape.",image:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/wisdom-now.png?updatedAt=1766305387356",color:"from-secondary-500 to-secondary-700"}],n=[{icon:Un,title:"Vibrant Community",description:"Connect with a global network of believers seeking deeper truth."},{icon:Je,title:"Real Impact",description:"Earn recognition and rewards for active participation and growth."},{icon:Br,title:"Guided Path",description:"Structured learning paths designed for progressive spiritual maturity."}];return s.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg selection:bg-primary-700/20 relative overflow-hidden",children:[s.jsx("section",{className:"relative min-h-[90vh] flex items-center pt-24 md:pt-0",children:s.jsxs("div",{className:"w-full relative z-10",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-0 items-center",children:[s.jsx("div",{className:"max-w-[90rem] mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},className:"text-center lg:text-left py-12",children:[s.jsx(q,{variant:"primary",className:"mb-4 px-2 py-0.5 text-[8px] md:text-[9px] uppercase tracking-wider font-medium font-display",children:"The Pinnacle of Spiritual Growth"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black font-display leading-[1.1] md:leading-tight mb-6 text-light-text dark:text-dark-text",children:["Elevate Your ",s.jsx("br",{}),"Spirituality"]}),s.jsx("p",{className:"hidden lg:block text-xl md:text-2xl text-light-muted dark:text-dark-muted mb-10 leading-relaxed max-w-2xl",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),s.jsx("div",{className:"hidden lg:flex flex-col sm:flex-row items-center gap-6",children:e?s.jsx(B,{to:"/feed",children:s.jsxs(L,{size:"lg",className:"h-14 px-10 text-lg group",children:["Enter the Feed",s.jsx(Br,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}):s.jsxs(s.Fragment,{children:[s.jsx(B,{to:"/register",children:s.jsx(L,{size:"lg",className:"h-14 px-10 text-lg",children:"Start Your Journey"})}),s.jsx(B,{to:"/login",children:s.jsx(L,{size:"lg",variant:"outline",className:"h-14 px-10 text-lg border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})}),s.jsx("div",{className:"relative mt-12 lg:mt-0 w-full h-full",children:s.jsx(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1.2,ease:"easeOut"},className:"w-full h-full",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Image_fx%20(6).png",alt:"Spiritual Community",className:"w-full h-[500px] md:h-[600px] lg:h-[90vh] object-cover"})})})]}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"lg:hidden mt-12 text-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("p",{className:"text-base sm:text-lg text-light-muted dark:text-dark-muted mb-8 leading-relaxed px-2 font-medium",children:"Join a professional community dedicated to exploring ancient prophetic wisdom and modern spiritual insights. Experience growth like never before."}),s.jsx("div",{className:"flex flex-col gap-4 px-6 sm:px-20",children:e?s.jsx(B,{to:"/feed",children:s.jsxs(L,{size:"lg",className:"h-14 w-full text-lg",children:["Enter the Feed",s.jsx(Br,{className:"w-5 h-5 ml-2"})]})}):s.jsxs(s.Fragment,{children:[s.jsx(B,{to:"/register",children:s.jsx(L,{size:"lg",className:"h-14 w-full text-lg",children:"Start Your Journey"})}),s.jsx(B,{to:"/login",children:s.jsx(L,{size:"lg",variant:"outline",className:"h-14 w-full text-lg border-light-border/50 dark:border-dark-border/50",children:"Sign In"})})]})})]})]})}),s.jsx("section",{className:"py-24 md:py-32 relative bg-white dark:bg-dark-bg",children:s.jsxs("div",{className:"max-w-[90rem] mx-auto px-4",children:[s.jsx("div",{className:"text-left mb-16 md:mb-24",children:s.jsxs(P.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-black font-display mb-6 tracking-tight text-left",children:"Explore Our Core Pillars"}),s.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted max-w-2xl font-medium",children:"We bridge the gap between ancient foundations and contemporary applications."})]})}),s.jsx("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12",children:r.map((i,a)=>s.jsx(P.div,{initial:{opacity:0,x:a%2===0?-40:40},whileInView:{opacity:1,x:0},transition:{delay:a*.2,duration:.8},viewport:{once:!0},className:"group relative",children:s.jsxs(O,{className:"overflow-hidden border border-light-border dark:border-dark-border h-full flex flex-col bg-light-card dark:bg-dark-card",children:[s.jsxs("div",{className:"relative h-64 md:h-80 overflow-hidden",children:[s.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-6 left-6",children:s.jsx(q,{className:"bg-white/10 backdrop-blur-xl border-white/20 text-white px-4 py-2 font-bold uppercase tracking-wider text-[10px]",children:i.subtitle})})]}),s.jsxs("div",{className:"p-8 md:p-12 flex-1 flex flex-col bg-gray-100 dark:bg-gray-900",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-700 flex items-center justify-center mb-8",children:s.jsx(i.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-2xl md:text-3xl font-black font-display mb-4 tracking-tight",children:i.title}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg md:text-xl mb-10 leading-relaxed font-medium",children:i.description}),s.jsxs(B,{to:"/register",className:"mt-auto group/btn inline-flex items-center gap-3 text-primary-700 dark:text-primary-400 font-black text-lg",children:["Explore Deeply ",s.jsx(Br,{className:"w-6 h-6 transform group-hover/btn:translate-x-2 transition-transform"})]})]})]})},i.title))})]})}),s.jsx("section",{className:"py-24 relative overflow-hidden bg-primary-950 dark:bg-black",children:s.jsx("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-12 lg:gap-20",children:n.map((i,a)=>s.jsx(P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:a*.2},viewport:{once:!0},className:"group",children:s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400 mb-8 transform group-hover:scale-110 group-hover:rotate-3 transition-all",children:s.jsx(i.icon,{className:"w-8 h-8"})}),s.jsx("h4",{className:"text-xl md:text-2xl font-black font-display mb-4 tracking-tight text-white dark:text-white",children:i.title}),s.jsx("p",{className:"text-gray-300 dark:text-gray-300 text-lg leading-relaxed font-medium",children:i.description})]})},i.title))})})}),s.jsx("section",{className:"py-24 md:py-32 relative overflow-hidden",children:s.jsx("div",{className:"max-w-[90rem] mx-auto px-4 relative z-10",children:s.jsxs(P.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"relative z-10 p-8 md:p-12 max-w-7xl mx-auto text-center bg-gray-100 dark:bg-gray-900 border border-light-border dark:border-dark-border",children:[s.jsx(q,{variant:"primary",className:"mb-6 px-6 py-2 text-xs md:text-sm uppercase tracking-[0.2em] font-black font-display",children:"Unleash Your Potential"}),s.jsxs("h2",{className:"text-2xl md:text-4xl font-black font-display mb-6 tracking-tight leading-[1.1]",children:["Ready for a ",s.jsx("br",{}),"Higher Experience?"]}),s.jsx("p",{className:"text-lg md:text-xl text-light-muted dark:text-dark-muted mb-8 max-w-2xl mx-auto leading-relaxed font-medium",children:"Join thousands of believers who have unlocked deeper spiritual dimensions through Baptizo."}),!e&&s.jsx("div",{children:s.jsx(B,{to:"/register",children:s.jsx(L,{size:"lg",className:"h-12 md:h-14 px-8 md:px-12 text-base md:text-lg font-black hover:scale-105 active:scale-95 transition-all",children:"Create Your Free Account"})})})]})})})]})}const ke=b.forwardRef(({label:e,error:t,icon:r,className:n,...i},a)=>s.jsxs("div",{className:"w-full",children:[e&&s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),s.jsxs("div",{className:"relative",children:[r&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-light-muted dark:text-dark-muted",children:r}),s.jsx("input",{ref:a,className:Y("w-full px-4 py-2.5 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg","border-light-border dark:border-dark-border","text-light-text dark:text-dark-text","placeholder:text-light-muted dark:placeholder:text-dark-muted","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",t&&"border-red-500 focus:ring-red-500",r&&"pl-10",n),...i})]}),t&&s.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:t})]}));ke.displayName="Input";function P4(){var h;const e=we(),t=It(),{login:r}=H(),n=Q(E.auth.loginUser),[i,a]=b.useState({email:"",password:""}),[o,l]=b.useState({}),[c,d]=b.useState(!1),u=async m=>{var f,v;m.preventDefault(),l({}),d(!0);try{const p=await n({email:i.email.toLowerCase().trim(),password:i.password});if(p!=null&&p.success&&(p!=null&&p.user)){r(p.user);const k=((v=(f=t.state)==null?void 0:f.from)==null?void 0:v.pathname)||"/feed";e(k,{replace:!0})}else l({general:"Invalid email or password"})}catch{l({general:"Login failed. Please try again."})}finally{d(!1)}};return s.jsx(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md mx-auto",children:s.jsxs(O,{glass:!0,children:[s.jsxs(Xe,{className:"pt-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl"})}),s.jsx(Ze,{className:"text-center text-3xl",children:"Welcome Back"}),s.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:"Sign in to continue to Baptizo Community"})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.general&&s.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:o.general})}),s.jsx(ke,{label:"Email",type:"email",value:i.email,onChange:m=>a({...i,email:m.target.value}),icon:s.jsx(zn,{className:"w-5 h-5"}),placeholder:"your@email.com",required:!0}),s.jsx(ke,{label:"Password",type:"password",value:i.password,onChange:m=>a({...i,password:m.target.value}),icon:s.jsx(sa,{className:"w-5 h-5"}),placeholder:"",required:!0}),s.jsx(L,{type:"submit",variant:"primary",className:"w-full",isLoading:c,children:"Sign In"}),s.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted",children:["Don't have an account?"," ",s.jsx(B,{to:"/register",state:{from:(h=t.state)==null?void 0:h.from},className:"text-primary-500 hover:text-primary-600 font-medium",children:"Sign Up"})]})]})})]})})}function A4(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(P4,{})})}function ib(e){const r=e.replace(/\D/g,"").substring(0,4),n=["0703","0706","0803","0806","0810","0813","0814","0816","0903","0906","07025","07026","0704"],i=["0705","0805","0807","0811","0815","0905"],a=["0701","0708","0802","0808","0812","0901","0902","0904","0907"],o=["0809","0817","0818","0909","0908"];return n.some(l=>r.startsWith(l))?"MTN":i.some(l=>r.startsWith(l))?"Glo":a.some(l=>r.startsWith(l))?"Airtel":o.some(l=>r.startsWith(l))?"9Mobile":"Unknown"}function ab(e){const t=e.replace(/\D/g,"");return t.length===11?`${t.substring(0,4)} ${t.substring(4,7)} ${t.substring(7)}`:e}function E4(){return"https://chat.whatsapp.com/YOUR_GROUP_CODE"}function I4(){const e=E4();window.open(e,"_blank")}function _4(){var S;const e=we(),t=It(),{login:r}=H(),n=Q(E.auth.registerUser),[i,a]=b.useState(1),[o,l]=b.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",whatsappConfirm:!1,profession:""}),[c,d]=b.useState(""),[u,h]=b.useState({}),[m,f]=b.useState(!1),v=N=>{l({...o,phone:N});const C=ib(N);d(C)},p=()=>{const N={};return o.name||(N.name="Full name is required"),o.email||(N.email="Email is required"),o.password||(N.password="Password is required"),o.password.length<6&&(N.password="Password must be at least 6 characters"),o.password!==o.confirmPassword&&(N.confirmPassword="Passwords do not match"),h(N),Object.keys(N).length===0},k=()=>{const N={};return o.phone||(N.phone="Phone number is required"),(c==="Unknown"||!c)&&(N.phone="Valid network (MTN, Glo, Airtel, 9Mobile) required"),o.profession||(N.profession="Profession is required"),o.whatsappConfirm||(N.whatsappConfirm="Please confirm WhatsApp availability"),h(N),Object.keys(N).length===0},y=()=>{i===1&&p()&&a(2)},x=()=>{i===2&&a(1)},g=async N=>{if(N.preventDefault(),!!k()){f(!0);try{const C=await n({email:o.email.toLowerCase().trim(),password:o.password,name:o.name.trim(),phone:o.phone.trim(),network:c,profession:o.profession.trim()});C!=null&&C.success&&(C!=null&&C.user)?(r(C.user),a(3)):h({general:(C==null?void 0:C.error)||"Registration failed"})}catch(C){const R=(C.message||C.toString()).replace("Uncaught Error: ","");h({general:R})}finally{f(!1)}}},w=()=>{I4(),setTimeout(()=>{var C,T;const N=((T=(C=t.state)==null?void 0:C.from)==null?void 0:T.pathname)||"/feed";e(N,{replace:!0})},1e3)},j={enter:N=>({x:N>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:N=>({x:N<0?50:-50,opacity:0})};return i===3?s.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white/90 dark:bg-black/90 backdrop-blur-xl",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsxs(P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",duration:.8},className:"relative w-full max-w-lg bg-white/80 dark:bg-[#151515]/80 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-2xl rounded-3xl p-8 md:p-12 text-center",children:[s.jsx(P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-24 h-24 mx-auto mb-8 rounded-full bg-gradient-to-tr from-green-400 to-emerald-600 flex items-center justify-center shadow-lg shadow-green-500/30",children:s.jsx(xt,{className:"w-12 h-12 text-white stroke-[3px]"})}),s.jsx(P.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4 tracking-tight",children:"Welcome Aboard!"}),s.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-lg text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:"Your journey with Baptizo Community begins now. We're thrilled to have you here."}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/10 p-6 rounded-2xl border border-green-100 dark:border-green-900/30",children:[s.jsxs("h3",{className:"font-bold text-green-800 dark:text-green-400 mb-2 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-ping"}),"Final Step: Join the Community"]}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300/80",children:"Connect with other members and get real-time updates in our exclusive WhatsApp group."})]}),s.jsx(L,{onClick:w,className:"w-full h-14 text-lg font-medium bg-[#25D366] hover:bg-[#128C7E] text-white shadow-xl shadow-green-500/20 transition-transform active:scale-[0.98]",children:"Join WhatsApp Group"}),s.jsx("button",{onClick:()=>e("/feed"),className:"text-sm font-medium text-gray-400 hover:text-primary-500 transition-colors py-2",children:"Skip for now & Go to Feed"})]})]})]}):s.jsx("div",{className:"w-full max-w-md mx-auto",children:s.jsxs(O,{glass:!0,className:"overflow-hidden",children:[s.jsxs(Xe,{className:"pt-8 pb-2",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"h-16 w-auto rounded-2xl shadow-xl shadow-primary-500/10"})}),s.jsx(Ze,{className:"text-center text-3xl font-display",children:"Join Baptizo"}),s.jsxs("p",{className:"text-center text-light-muted dark:text-dark-muted mt-2",children:["Step ",i," of 2: ",i===1?"Account Details":"Personal Info"]}),s.jsxs("div",{className:"flex gap-2 mt-6 justify-center",children:[s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${i>=1?"w-16 bg-primary-500":"w-4 bg-gray-200 dark:bg-gray-700"}`}),s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${i>=2?"w-16 bg-primary-500":"w-4 bg-gray-200 dark:bg-gray-700"}`})]})]}),s.jsxs(V,{className:"pt-6",children:[s.jsx("form",{onSubmit:g,children:s.jsxs(We,{mode:"wait",custom:i,children:[i===1&&s.jsxs(P.div,{custom:1,variants:j,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-4",children:[s.jsx(ke,{label:"Full Name",value:o.name,onChange:N=>l({...o,name:N.target.value}),icon:s.jsx(Pt,{className:"w-5 h-5"}),placeholder:"Enter your full name",error:u.name,required:!0,autoFocus:!0}),s.jsx(ke,{label:"Email Address",type:"email",value:o.email,onChange:N=>l({...o,email:N.target.value}),icon:s.jsx(zn,{className:"w-5 h-5"}),placeholder:"your@email.com",error:u.email,required:!0}),s.jsx(ke,{label:"Password",type:"password",value:o.password,onChange:N=>l({...o,password:N.target.value}),icon:s.jsx(sa,{className:"w-5 h-5"}),placeholder:"Min. 6 characters",error:u.password,required:!0}),s.jsx(ke,{label:"Confirm Password",type:"password",value:o.confirmPassword,onChange:N=>l({...o,confirmPassword:N.target.value}),icon:s.jsx(sa,{className:"w-5 h-5"}),placeholder:"Confirm your password",error:u.confirmPassword,required:!0}),s.jsxs(L,{type:"button",onClick:y,className:"w-full mt-4",size:"lg",children:["Next Step ",s.jsx(Br,{className:"w-4 h-4 ml-2"})]})]},"step1"),i===2&&s.jsxs(P.div,{custom:2,variants:j,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx(ke,{label:"Phone Number",type:"tel",value:o.phone,onChange:N=>v(N.target.value),icon:s.jsx(Cl,{className:"w-5 h-5"}),placeholder:"080 1234 5678",error:u.phone,required:!0,autoFocus:!0}),s.jsx("div",{className:"mt-2 flex items-center justify-between",children:c&&c!=="Unknown"&&s.jsx(q,{variant:"primary",className:"animate-in fade-in zoom-in",children:c})})]}),s.jsx(ke,{label:"Profession / Skill",value:o.profession,onChange:N=>l({...o,profession:N.target.value}),icon:s.jsx(zv,{className:"w-5 h-5"}),placeholder:"e.g. Graphic Designer, Student",error:u.profession,required:!0}),s.jsx("div",{className:`p-4 rounded-xl border transition-all cursor-pointer ${o.whatsappConfirm?"bg-primary-50 dark:bg-primary-900/20 border-primary-500":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border hover:border-primary-300"}`,onClick:()=>l({...o,whatsappConfirm:!o.whatsappConfirm}),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-colors ${o.whatsappConfirm?"bg-primary-500 border-primary-500":"border-gray-400"}`,children:o.whatsappConfirm&&s.jsx(xt,{className:"w-3.5 h-3.5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"WhatsApp Confirmation"}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-0.5",children:"I confirm that the phone number provided is active on WhatsApp."})]})]})}),u.whatsappConfirm&&s.jsx("p",{className:"text-xs text-red-500 font-medium px-1",children:u.whatsappConfirm}),u.general&&s.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:u.general})}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(L,{type:"button",variant:"ghost",onClick:x,className:"flex-1",children:"Back"}),s.jsx(L,{type:"submit",variant:"primary",className:"flex-[2]",isLoading:m,children:"Create Account"})]})]},"step2")]})}),s.jsxs("p",{className:"text-center text-sm text-light-muted dark:text-dark-muted mt-6 pb-2",children:["Already have an account?"," ",s.jsx(B,{to:"/login",state:{from:(S=t.state)==null?void 0:S.from},className:"text-primary-500 hover:text-primary-600 font-bold transition-colors",children:"Sign In"})]})]})]})})}function M4(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(_4,{})})}function Ss(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ss=function(t){return typeof t}:Ss=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function R4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L4(e,t,r){return t&&D4(e.prototype,t),e}function ob(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O4(e,t){if(e){if(typeof e=="string")return sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sg(e,t)}}function sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F4(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=O4(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,l;return{s:function(){r=e[Symbol.iterator]()},n:function(){var c=r.next();return a=c.done,c},e:function(c){o=!0,l=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw l}}}}var V4="3.1.0",Qe={MANDATORY_INITIALIZATION_MISSING:{message:"Missing urlEndpoint during SDK initialization",help:""},INVALID_TRANSFORMATION_POSITION:{message:"Invalid transformationPosition parameter",help:""},PRIVATE_KEY_CLIENT_SIDE:{message:"privateKey should not be passed on the client side",help:""},MISSING_UPLOAD_DATA:{message:"Missing data for upload",help:""},MISSING_UPLOAD_FILE_PARAMETER:{message:"Missing file parameter for upload",help:""},MISSING_UPLOAD_FILENAME_PARAMETER:{message:"Missing fileName parameter for upload",help:""},MISSING_AUTHENTICATION_ENDPOINT:{message:"Missing authentication endpoint for upload",help:""},MISSING_PUBLIC_KEY:{message:"Missing public key for upload",help:""},AUTH_ENDPOINT_TIMEOUT:{message:"The authenticationEndpoint you provided timed out in 60 seconds",help:""},AUTH_ENDPOINT_NETWORK_ERROR:{message:"Request to authenticationEndpoint failed due to network error",help:""},AUTH_INVALID_RESPONSE:{message:"Invalid response from authenticationEndpoint. The SDK expects a JSON response with three fields i.e. signature, token and expire.",help:""},UPLOAD_ENDPOINT_NETWORK_ERROR:{message:"Request to ImageKit upload endpoint failed due to network error",help:""},INVALID_UPLOAD_OPTIONS:{message:"Invalid uploadOptions parameter",help:""},MISSING_SIGNATURE:{message:"Missing signature for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_TOKEN:{message:"Missing token for upload. The SDK expects token, signature and expire for authentication.",help:""},MISSING_EXPIRE:{message:"Missing expire for upload. The SDK expects token, signature and expire for authentication.",help:""},INVALID_TRANSFORMATION:{message:"Invalid transformation parameter. Please include at least pre, post, or both.",help:""},INVALID_PRE_TRANSFORMATION:{message:"Invalid pre transformation parameter.",help:""},INVALID_POST_TRANSFORMATION:{message:"Invalid post transformation parameter.",help:""}};function rt(e,t,r){typeof r=="function"&&(e?r(t,null):r(null,t))}function B4(e){var t={},r=e.getAllResponseHeaders();return Object.keys(r).length&&r.trim().split(/[\r\n]+/).map(function(n){return n.split(/: /)}).forEach(function(n){t[n[0].trim()]=n[1].trim()}),t}var ig=function(t,r){var n=Tn({},t),i={statusCode:r.status,headers:B4(r)};return Object.defineProperty(n,"$ResponseMetadata",{value:i,enumerable:!1,writable:!1}),n},z4=function(t,r,n){U4(t,r).then(function(i){return rt(!1,i,n)},function(i){return rt(!0,i,n)})},U4=function(t,r){return new Promise(function(n,i){t.open("POST","https://upload.imagekit.io/api/v1/files/upload"),t.onerror=function(a){return i(Qe.UPLOAD_ENDPOINT_NETWORK_ERROR)},t.onload=function(){if(t.status===200)try{var a=JSON.parse(t.responseText),o=ig(a,t);return n(o)}catch(c){return i(c)}else try{var a=JSON.parse(t.responseText),l=ig(a,t);return i(l)}catch(c){return i(c)}},t.send(r)})},$4=function(t,r,n,i){if(!r.file){rt(!0,Qe.MISSING_UPLOAD_FILE_PARAMETER,i);return}if(!r.fileName){rt(!0,Qe.MISSING_UPLOAD_FILENAME_PARAMETER,i);return}if(!n.publicKey){rt(!0,Qe.MISSING_PUBLIC_KEY,i);return}if(!r.token){rt(!0,Qe.MISSING_TOKEN,i);return}if(!r.signature){rt(!0,Qe.MISSING_SIGNATURE,i);return}if(!r.expire){rt(!0,Qe.MISSING_EXPIRE,i);return}if(r.transformation){if(!(Object.keys(r.transformation).includes("pre")||Object.keys(r.transformation).includes("post"))){rt(!0,Qe.INVALID_TRANSFORMATION,i);return}if(Object.keys(r.transformation).includes("pre")&&!r.transformation.pre){rt(!0,Qe.INVALID_PRE_TRANSFORMATION,i);return}if(Object.keys(r.transformation).includes("post"))if(Array.isArray(r.transformation.post)){var a=F4(r.transformation.post),o;try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.type==="abs"&&!(l.protocol||l.value)){rt(!0,Qe.INVALID_POST_TRANSFORMATION,i);return}else if(l.type==="transformation"&&!l.value){rt(!0,Qe.INVALID_POST_TRANSFORMATION,i);return}}}catch(u){a.e(u)}finally{a.f()}}else{rt(!0,Qe.INVALID_POST_TRANSFORMATION,i);return}}var c=new FormData,d;for(d in r)d&&(d==="file"&&typeof r.file!="string"?c.append("file",r.file,String(r.fileName)):d==="tags"&&Array.isArray(r.tags)?c.append("tags",r.tags.join(",")):d==="signature"?c.append("signature",r.signature):d==="expire"?c.append("expire",String(r.expire)):d==="token"?c.append("token",r.token):d==="responseFields"&&Array.isArray(r.responseFields)?c.append("responseFields",r.responseFields.join(",")):d==="extensions"&&Array.isArray(r.extensions)?c.append("extensions",JSON.stringify(r.extensions)):d==="customMetadata"&&Ss(r.customMetadata)==="object"&&!Array.isArray(r.customMetadata)&&r.customMetadata!==null?c.append("customMetadata",JSON.stringify(r.customMetadata)):d==="transformation"&&Ss(r.transformation)==="object"&&r.transformation!==null?c.append(d,JSON.stringify(r.transformation)):d==="checks"&&r.checks?c.append("checks",r.checks):r[d]!==void 0&&c.append(d,String(r[d])));c.append("publicKey",n.publicKey),z4(t,c,i)},ag={width:"w",height:"h",aspectRatio:"ar",background:"bg",border:"b",crop:"c",cropMode:"cm",dpr:"dpr",focus:"fo",quality:"q",x:"x",xCenter:"xc",y:"y",yCenter:"yc",format:"f",videoCodec:"vc",audioCodec:"ac",radius:"r",rotation:"rt",blur:"bl",named:"n",defaultImage:"di",flip:"fl",original:"orig",startOffset:"so",endOffset:"eo",duration:"du",streamingResolutions:"sr",effectSharpen:"e-sharpen",effectUSM:"e-usm",effectContrast:"e-contrast",effectGray:"e-grayscale",effectShadow:"e-shadow",effectGradient:"e-gradient",rotate:"rt",grayscale:"e-grayscale",aiUpscale:"e-upscale",aiRetouch:"e-retouch",aiVariation:"e-genvar",aiDropShadow:"e-dropshadow",aiChangeBackground:"e-changebg",aiRemoveBackground:"e-bgremove",aiRemoveBackgroundExternal:"e-removedotbg",contrastStretch:"e-contrast",shadow:"e-shadow",sharpen:"e-sharpen",unsharpMask:"e-usm",gradient:"e-gradient",progressive:"pr",lossless:"lo",colorProfile:"cp",metadata:"md",opacity:"o",trim:"t",zoom:"z",page:"pg",raw:"raw"},lb="path",cb="query",q4=[lb,cb],W4=":",H4=",",Q4="-",zr={getDefault:function(){return lb},addAsQueryParameter:function(t){return t.transformationPosition===cb},validParameters:function(t){return typeof t.transformationPosition>"u"?!1:q4.indexOf(t.transformationPosition)!=-1},getTransformKey:function(t){return t&&(ag[t]||ag[t.toLowerCase()])||""},getChainTransformDelimiter:function(){return W4},getTransformDelimiter:function(){return H4},getTransformKeyValueDelimiter:function(){return Q4}},og="tr";function G4(e){return typeof e=="string"&&e[e.length-1]=="/"&&(e=e.substring(0,e.length-1)),e}function K4(e){return typeof e=="string"&&e[0]=="/"&&(e=e.slice(1)),e}function qa(e,t){var r="/",n=new RegExp(r+"{1,}","g");return e.join(r).replace(n,r)}var Y4=function(t){if(!t.path&&!t.src)return"";var r,n,i;try{t.path?(i=new URL(t.urlEndpoint).pathname,r=new URL(qa([t.urlEndpoint.replace(i,""),t.path]))):(r=new URL(t.src),n=!0)}catch(l){return console.error(l),""}for(var a in t.queryParameters)r.searchParams.append(a,String(t.queryParameters[a]));var o=J4(t.transformation);return o&&o.length&&(zr.addAsQueryParameter(t)||n?r.searchParams.append(og,o):r.pathname=qa([og+zr.getChainTransformDelimiter()+o,r.pathname])),i?r.pathname=qa([i,r.pathname]):r.pathname=qa([r.pathname]),r.href};function J4(e){if(!Array.isArray(e))return"";for(var t=[],r=0,n=e.length;r<n;r++){var i=[];for(var a in e[r]){var o=e[r][a];if(o!=null){var l=zr.getTransformKey(a);if(l||(l=a),l!=="")if(["e-grayscale","e-contrast","e-removedotbg","e-bgremove","e-upscale","e-retouch","e-genvar"].includes(l))if(o===!0||o==="-"||o==="true")i.push(l);else continue;else["e-sharpen","e-shadow","e-gradient","e-usm","e-dropshadow"].includes(l)&&(o.toString().trim()===""||o===!0||o==="true")?i.push(l):a==="raw"?i.push(e[r][a]):(l==="di"&&(o=G4(K4(o||"")),o=o.replace(/\//g,"@@")),l==="sr"&&Array.isArray(o)&&(o=o.join("_")),l==="t"&&o.toString().trim()===""&&(o="true"),i.push([l,o].join(zr.getTransformKeyValueDelimiter())))}}i.length&&t.push(i.join(zr.getTransformDelimiter()))}return t.join(zr.getChainTransformDelimiter())}var X4=function(t,r){return Y4(Tn(Tn({},r),t))};function Z4(e){return e.urlEndpoint}var eP=function(t,r){return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(i.length===r.length&&typeof i[i.length-1]<"u"){if(typeof i[i.length-1]!="function")throw new Error("Callback must be a function.");r.call.apply(r,[t].concat(i))}else return new Promise(function(o,l){var c=function(u){if(u)return l(u);for(var h=arguments.length,m=new Array(h>1?h-1:0),f=1;f<h;f++)m[f-1]=arguments[f];o(m.length>1?m:m[0])};i.pop(),i.push(c),r.call.apply(r,[t].concat(i))})}},tP=function(){function e(t){if(R4(this,e),ob(this,"options",{sdkVersion:"javascript-".concat(V4),publicKey:"",urlEndpoint:"",transformationPosition:zr.getDefault()}),this.options=Tn(Tn({},this.options),t||{}),!Z4(this.options))throw Qe.MANDATORY_INITIALIZATION_MISSING;if(!zr.validParameters(this.options))throw Qe.INVALID_TRANSFORMATION_POSITION}return L4(e,[{key:"url",value:function(r){return X4(r,this.options)}},{key:"upload",value:function(r,n,i){var a;if(typeof n=="function"?a=n:i=n||{},!r||Ss(r)!=="object")return rt(!0,Qe.INVALID_UPLOAD_OPTIONS,a);var o=Tn(Tn({},this.options),i),l=r||{},c=l.xhr;delete r.xhr;var d=c||new XMLHttpRequest;return eP(this,$4)(d,r,o,a)}}]),e}();new tP({publicKey:"public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=",urlEndpoint:"https://ik.imagekit.io/h3qzmviwv"});const db=async(e,t,r)=>new Promise((n,i)=>{const a=new FormData;a.append("file",e),a.append("fileName",e.name),a.append("folder",`/baptizo/${t}`),a.append("publicKey","public_5uW+u/NO/xT9A9FY6w6pEZIIRIw=");const o=new XMLHttpRequest;o.upload.addEventListener("progress",c=>{if(c.lengthComputable&&r){const d=Math.round(c.loaded/c.total*100);r(d)}}),o.addEventListener("load",()=>{if(o.status===200)try{const c=JSON.parse(o.responseText);n(c.url)}catch{i(new Error("Failed to parse response"))}else i(new Error(`Upload failed with status ${o.status}`))}),o.addEventListener("error",()=>{i(new Error("Upload failed"))}),o.open("POST","https://upload.imagekit.io/api/v1/files/upload");const l=btoa("private_RDhLHlvGS4fKh49gv6q5Ygv2bHg=:");o.setRequestHeader("Authorization",`Basic ${l}`),o.send(a)}),ub=e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type),rP=e=>["video/mp4","video/webm","video/ogg"].includes(e.type),hb=(e,t,r)=>{if(!e)return"";const n=[];if(n.push(`w-${t}`),n.push(`h-${r}`),n.length===0)return e;const i=`tr:${n.join(",")}`;return e.replace("/baptizo/",`/baptizo/${i}/`)};function Ft({src:e,alt:t="Avatar",size:r="md",className:n}){const i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-14 h-14",xl:"w-20 h-20"},a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-7 h-7",xl:"w-10 h-10"};return s.jsx("div",{className:Y("rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",i[r],n),children:e?s.jsx("img",{src:hb(e,200,200),alt:t,className:"w-full h-full object-cover"}):s.jsx(Pt,{className:Y("text-white",a[r])})})}const nP={1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th"},sP={1:"from-yellow-400 to-yellow-600",2:"from-gray-300 to-gray-500",3:"from-orange-400 to-orange-600",4:"from-blue-400 to-blue-600",5:"from-green-400 to-green-600"};function iP({position:e,className:t}){return e<1||e>5?null:s.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20},className:Y("inline-flex items-center gap-1.5",t),children:s.jsxs("div",{className:Y("px-3 py-1 rounded-full flex items-center gap-1.5 shadow-lg","bg-gradient-to-r text-white font-bold text-sm",sP[e]),children:[s.jsx(Cr,{className:"w-4 h-4"}),s.jsx("span",{children:"SENT"}),s.jsxs("span",{className:"text-xs opacity-90",children:["(",nP[e],")"]})]})})}function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function aP(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Wa=43200,lg=1440;let oP={};function lP(){return oP}function cg(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function co(e,t){const r=Le(e),n=Le(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function cP(e){return aP(e,Date.now())}function dP(e,t){const r=Le(e),n=Le(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function uP(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function hP(e,t){return+Le(e)-+Le(t)}function mP(e){const t=Le(e);return t.setHours(23,59,59,999),t}function fP(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function pP(e){const t=Le(e);return+mP(t)==+fP(t)}function gP(e,t){const r=Le(e),n=Le(t),i=co(r,n),a=Math.abs(dP(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=co(r,n)===-i;pP(Le(e))&&a===1&&co(e,n)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function xP(e,t,r){const n=hP(e,t)/1e3;return uP(r==null?void 0:r.roundingMethod)(n)}const yP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vP=(e,t,r)=>{let n;const i=yP[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ec(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const bP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jP={date:Ec({formats:bP,defaultWidth:"full"}),time:Ec({formats:kP,defaultWidth:"full"}),dateTime:Ec({formats:wP,defaultWidth:"full"})},NP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SP=(e,t,r,n)=>NP[e];function li(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const CP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_P=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},MP={ordinalNumber:_P,era:li({values:CP,defaultWidth:"wide"}),quarter:li({values:TP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:li({values:PP,defaultWidth:"wide"}),day:li({values:AP,defaultWidth:"wide"}),dayPeriod:li({values:EP,defaultWidth:"wide",formattingValues:IP,defaultFormattingWidth:"wide"})};function ci(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?DP(l,h=>h.test(o)):RP(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function RP(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function DP(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function LP(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const OP=/^(\d+)(th|st|nd|rd)?/i,FP=/\d+/i,VP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BP={any:[/^b/i,/^(a|c)/i]},zP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UP={any:[/1/i,/2/i,/3/i,/4/i]},$P={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},GP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KP={ordinalNumber:LP({matchPattern:OP,parsePattern:FP,valueCallback:e=>parseInt(e,10)}),era:ci({matchPatterns:VP,defaultMatchWidth:"wide",parsePatterns:BP,defaultParseWidth:"any"}),quarter:ci({matchPatterns:zP,defaultMatchWidth:"wide",parsePatterns:UP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ci({matchPatterns:$P,defaultMatchWidth:"wide",parsePatterns:qP,defaultParseWidth:"any"}),day:ci({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:HP,defaultParseWidth:"any"}),dayPeriod:ci({matchPatterns:QP,defaultMatchWidth:"any",parsePatterns:GP,defaultParseWidth:"any"})},YP={code:"en-US",formatDistance:vP,formatLong:jP,formatRelative:SP,localize:MP,match:KP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JP(e,t,r){const n=lP(),i=(r==null?void 0:r.locale)??n.locale??YP,a=2520,o=co(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Le(t),d=Le(e)):(c=Le(e),d=Le(t));const u=xP(d,c),h=(cg(d)-cg(c))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return r!=null&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<lg){const v=Math.round(m/60);return i.formatDistance("aboutXHours",v,l)}else{if(m<a)return i.formatDistance("xDays",1,l);if(m<Wa){const v=Math.round(m/lg);return i.formatDistance("xDays",v,l)}else if(m<Wa*2)return f=Math.round(m/Wa),i.formatDistance("aboutXMonths",f,l)}if(f=gP(d,c),f<12){const v=Math.round(m/Wa);return i.formatDistance("xMonths",v,l)}else{const v=f%12,p=Math.trunc(f/12);return v<3?i.formatDistance("aboutXYears",p,l):v<9?i.formatDistance("overXYears",p,l):i.formatDistance("almostXYears",p+1,l)}}function fn(e,t){return JP(e,cP(e),t)}function on({isOpen:e,onClose:t,children:r,title:n,className:i}){return b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),b.useEffect(()=>{const a=o=>{o.key==="Escape"&&e&&t()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,t]),qy.createPortal(s.jsx(We,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:t}),s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:s.jsxs(P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:Y("w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar","bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl","border border-light-border dark:border-dark-border",i),onClick:a=>a.stopPropagation(),children:[n&&s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-light-border dark:border-dark-border",children:[s.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:n}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:s.jsx(wr,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})})]}),s.jsxs("div",{className:n?"p-6":"p-6 relative",children:[!n&&s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:s.jsx(wr,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}),r]})]})})]})}),document.body)}function XP({isOpen:e,onClose:t,postId:r}){var k;const{user:n}=H(),[i,a]=b.useState(""),[o,l]=b.useState(null),[c,d]=b.useState(""),[u,h]=b.useState(!1),m=W(E.users.getAllUsers,n&&(n.role==="admin"||n.role==="super_admin")?{adminId:n._id}:"skip"),f=Q(E.assignments.createAssignment),v=m==null?void 0:m.filter(y=>y.name.toLowerCase().includes(i.toLowerCase())||y.email.toLowerCase().includes(i.toLowerCase())).slice(0,5),p=async y=>{if(y.preventDefault(),!(!n||!o||!c.trim())){h(!0);try{await f({adminId:n._id,userId:o,postId:r,instructions:c.trim()}),t(),l(null),d(""),a("")}catch(x){console.error("Failed to assign task:",x),alert("Failed to assign task. Please try again.")}finally{h(!1)}}};return s.jsx(on,{isOpen:e,onClose:t,title:"Assign Task",children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Select Member"}),s.jsxs("div",{className:"relative",children:[s.jsx(an,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("input",{type:"text",value:i,onChange:y=>a(y.target.value),placeholder:"Search by name or email...",className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500"})]}),i&&v&&s.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:v.map(y=>s.jsxs("div",{onClick:()=>l(y._id),className:`p-2 rounded-lg cursor-pointer flex items-center gap-2 transition-colors ${o===y._id?"bg-primary-500 text-white":"bg-light-card dark:bg-dark-card hover:bg-light-bg dark:hover:bg-dark-bg text-light-text dark:text-dark-text"}`,children:[s.jsx(Pt,{className:"w-4 h-4"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:y.name}),s.jsx("p",{className:"text-xs opacity-80",children:y.email})]}),o===y._id&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})]},y._id))}),o&&!i&&s.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-primary-100 dark:bg-primary-900 border border-primary-500 text-primary-700 dark:text-primary-300 text-sm",children:["Selected: ",(k=m==null?void 0:m.find(y=>y._id===o))==null?void 0:k.name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Instructions"}),s.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:"Describe the task for this member...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(L,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(L,{type:"submit",variant:"primary",disabled:!o||!c.trim()||u,children:u?"Assigning...":"Assign Task"})]})]})})}function ZP({responses:e}){const t=we();if(!e||e.length===0)return null;const r=e.slice(0,2),n=e[0].postId;return s.jsxs("div",{className:"mt-4 space-y-3 border-t border-light-border dark:border-dark-border pt-4",children:[s.jsxs("h4",{className:"text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider flex items-center justify-between",children:["Official Responses",e.length>0&&s.jsxs("span",{className:"text-primary-500",children:[e.length," total"]})]}),s.jsx("div",{className:"space-y-2",children:r.map((i,a)=>s.jsx(eA,{response:i,rank:a+1,tier:a<5?"gold":"silver",onClick:()=>t(`/post/${n}/responses`)},i._id))}),e.length>0&&s.jsxs("button",{onClick:()=>t(`/post/${n}/responses`),className:"w-full py-2.5 text-sm text-primary-500 hover:text-primary-600 dark:text-primary-400 font-bold flex items-center justify-center gap-2 hover:bg-primary-50 dark:hover:bg-primary-900/10 rounded-xl transition-all border border-transparent hover:border-primary-500/20",children:["View Detailed Responses ",s.jsx(Uv,{className:"w-4 h-4"})]})]})}function eA({response:e,rank:t,tier:r,onClick:n}){const i=r==="gold";return s.jsxs("div",{onClick:n,className:`flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer hover:shadow-md ${i?"bg-primary-50/50 dark:bg-primary-900/10 border-primary-200 dark:border-primary-800 hover:bg-primary-100 dark:hover:bg-primary-900/20":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border hover:bg-light-card dark:hover:bg-dark-card"}`,children:[s.jsxs("div",{className:`flex-shrink-0 w-7 h-7 flex items-center justify-center rounded-full text-xs font-bold ${i?"bg-primary-500 text-white":"bg-secondary-500 text-white"}`,children:["#",t]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ft,{src:e.userAvatar,alt:e.userName,size:"sm"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-sm text-light-text dark:text-dark-text truncate",children:e.userName}),e.rewardStatus==="paid"&&s.jsxs(q,{variant:"primary",className:"text-[10px] flex items-center gap-1 animate-pulse",children:[s.jsx(Je,{className:"w-3 h-3"}),"Winner"]})]})}),s.jsx(Uv,{className:"w-4 h-4 text-light-muted dark:text-dark-muted flex-shrink-0"})]})}function tA({src:e,alt:t,onClose:r,layoutId:n}){const i=async()=>{if(navigator.share)try{await navigator.share({title:t||"Baptizo Image",text:"Check out this image",url:e})}catch(o){console.error("Error sharing:",o)}else try{await navigator.clipboard.writeText(e),alert("Image link copied to clipboard!")}catch(o){console.error("Failed to copy:",o)}},a=async()=>{try{const l=await(await fetch(e)).blob(),c=window.URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=t||"baptizo-image.jpg",document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c)}catch(o){console.error("Failed to download:",o),window.open(e,"_blank")}};return s.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-sm shadow-2xl overflow-hidden",onClick:r,children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 z-[110] flex items-center justify-between p-4 bg-gradient-to-b from-black/60 to-transparent",onClick:o=>o.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white","aria-label":"Back",children:s.jsx(Fh,{className:"w-6 h-6"})}),s.jsx("span",{className:"text-white font-medium truncate max-w-[200px]",children:t||"Image"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",title:"Share image",children:s.jsx(Ws,{className:"w-5 h-5"})}),s.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",title:"Download image",children:s.jsx(Bh,{className:"w-5 h-5"})}),s.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white",children:s.jsx(wr,{className:"w-6 h-6"})})]})]}),s.jsx(P.div,{className:"relative z-[105] w-full h-full flex items-center justify-center p-4",onClick:o=>o.stopPropagation(),children:s.jsx(P.img,{layoutId:n,src:e,alt:t,className:"max-w-full max-h-full object-contain shadow-2xl rounded-sm",draggable:!1})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-gradient-to-t from-black/60 to-transparent pointer-events-none",children:s.jsx("p",{className:"text-white/60 text-sm text-center max-w-2xl mx-auto",children:t})})]})}function mb({post:e,onLike:t,onCommentClick:r,hasUserLiked:n=!1}){var Dl,nm,sm,im,am,om,lm,cm,dm,um,hm,mm,fm;const{user:i}=H(),a=we(),o=Q(E.posts.likePost),l=Q(E.posts.pinPost),c=Q(E.posts.deletePost),d=Q(E.editDelete.editPost),[u,h]=b.useState(!1),[m,f]=b.useState(!1),[v,p]=b.useState(!1),[k,y]=b.useState(!1),[x,g]=b.useState(e.content),[w,j]=b.useState(!1),[S,N]=b.useState(n),[C,T]=b.useState(e.likeCount),R=W(E.follows.isFollowing,i&&((Dl=e.author)!=null&&Dl._id)?{followerId:i._id,followingId:e.author._id}:"skip"),ne=Q(E.follows.toggleFollow),[U,pe]=b.useState(!1),Z=async je=>{var Ut;if(je.stopPropagation(),!(!i||!((Ut=e.author)!=null&&Ut._id)||U)){pe(!0);try{await ne({followerId:i._id,followingId:e.author._id})}catch(pn){console.error("Failed to toggle follow:",pn)}finally{pe(!1)}}},ce=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="super_admin",ee=((nm=e.author)==null?void 0:nm.role)==="admin"||((sm=e.author)==null?void 0:sm.role)==="super_admin",re=W(E.responses.getPostResponses,ee?{postId:e._id}:"skip"),F=((re==null?void 0:re.length)||0)>=10,$=re==null?void 0:re.some(je=>je.userId===(i==null?void 0:i._id)),D=e.isResponseEnabled,ie=Q(E.posts.toggleResponseStatus),[zt,ut]=b.useState(!1),Tr=async()=>{if(!(!i||!ce)){ut(!0);try{await ie({adminId:i._id,postId:e._id,isEnabled:!D})}catch(je){console.error("Failed to toggle response status",je)}finally{ut(!1)}}},He=async()=>{if(!i||m)return;const je=!S;N(je),T(Ut=>je?Ut+1:Ut-1),f(!0);try{await o({userId:i._id,postId:e._id}),t==null||t()}catch{N(!je),T(pn=>je?pn-1:pn+1)}finally{f(!1)}},tr=async()=>{if(!(!i||!x.trim()))try{await d({userId:i._id,postId:e._id,content:x.trim()}),y(!1)}catch(je){console.error("Failed to edit post:",je)}},Rl=async()=>{if(!(!i||!ce)){if(confirm("Are you sure you want to delete this post?"))try{await c({adminId:i._id,postId:e._id})}catch{}h(!1)}},Gs=async()=>{if(!(!i||!ce))try{await l({adminId:i._id,postId:e._id,isPinned:!e.isPinned})}catch{}},Jn=async()=>{if(e.imageUrl)try{const Ut=await(await fetch(e.imageUrl)).blob(),pn=window.URL.createObjectURL(Ut),Ks=document.createElement("a");Ks.href=pn,Ks.download=`baptizo-post-${e._id}.jpg`,document.body.appendChild(Ks),Ks.click(),window.URL.revokeObjectURL(pn),document.body.removeChild(Ks)}catch{}},rr=async()=>{const je=`${window.location.origin}/post/${e._id}`;if(navigator.share)try{await navigator.share({title:"Baptizo Post",text:e.content,url:je})}catch{}else try{await navigator.clipboard.writeText(je),alert("Link copied!")}catch{}};return b.useEffect(()=>{N(n),T(e.likeCount)},[n,e.likeCount]),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`
                group relative bg-white dark:bg-[#1A1A1A] rounded-2xl border border-gray-100 dark:border-gray-800 
                shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden
                ${e.isPinned?"ring-2 ring-primary-500/20 dark:ring-primary-500/10":""}
            `,children:[e.isPinned&&s.jsx("div",{className:"absolute top-0 right-0 p-2 bg-primary-500 text-white rounded-bl-xl z-20 shadow-md",children:s.jsx(Xp,{className:"w-4 h-4 fill-current"})}),s.jsxs("div",{className:"p-4 sm:p-5 flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[s.jsx(B,{to:`/profile/${(im=e.author)==null?void 0:im._id}`,className:"shrink-0",children:s.jsx(Ft,{src:(am=e.author)==null?void 0:am.avatarUrl,alt:((om=e.author)==null?void 0:om.name)||"User",className:`w-10 h-10 sm:w-12 sm:h-12 ${((lm=e.author)==null?void 0:lm.role)==="super_admin"?"ring-2 ring-yellow-500":((cm=e.author)==null?void 0:cm.role)==="admin"?"ring-2 ring-primary-500":""}`})}),s.jsxs("div",{className:"min-w-0 flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-0.5",children:[s.jsx(B,{to:`/profile/${(dm=e.author)==null?void 0:dm._id}`,className:"font-bold text-gray-900 dark:text-gray-100 truncate text-[14px] sm:text-[15px] hover:text-primary-500 transition-colors",children:((um=e.author)==null?void 0:um.name)||"Unknown"}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[((hm=e.author)==null?void 0:hm.role)==="super_admin"&&s.jsxs(q,{variant:"primary",className:"bg-gradient-to-r from-yellow-500 to-amber-600 text-[9px] sm:text-[10px] py-0 px-1 sm:px-1.5 h-3.5 sm:h-4 border-yellow-300",children:[s.jsx(kr,{className:"w-2 sm:w-2.5 h-2 sm:h-2.5 mr-0.5"}),s.jsx("span",{className:"hidden xs:inline",children:"Super Admin"}),s.jsx("span",{className:"xs:hidden",children:"SA"})]}),((mm=e.author)==null?void 0:mm.role)==="admin"&&s.jsxs(q,{variant:"primary",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-[9px] sm:text-[10px] py-0 px-1 sm:px-1.5 h-3.5 sm:h-4",children:[s.jsx(kr,{className:"w-2 sm:w-2.5 h-2 sm:h-2.5 mr-0.5"}),"Admin"]}),e.rewardPosition&&s.jsx(iP,{position:e.rewardPosition})]}),i&&((fm=e.author)==null?void 0:fm._id)&&i._id!==e.author._id&&s.jsx("button",{onClick:Z,disabled:U,className:`ml-1 px-2 py-1 rounded-lg transition-all shadow-sm border ${R?"text-primary-600 bg-primary-100 border-primary-200 dark:bg-primary-900/40 dark:border-primary-800":"text-gray-600 bg-gray-50 border-gray-200 hover:text-primary-600 hover:bg-primary-50 hover:border-primary-200 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-primary-900/20"}`,title:R?"Unfollow":"Follow",children:R?s.jsx(Kv,{className:"w-3.5 h-3.5"}):s.jsx(Yv,{className:"w-3.5 h-3.5"})})]}),s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-[11px] sm:text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap overflow-hidden",children:[s.jsx("span",{className:"shrink-0",children:fn(e.createdAt,{addSuffix:!0})}),s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:`px-1.5 py-0.5 rounded-full truncate ${e.category==="Ancient Culture"?"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400":"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"} font-medium`,children:e.category})]})]})]}),ce&&s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>h(!u),className:"p-2 -mr-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 transition-colors",children:s.jsx(_T,{className:"w-5 h-5"})}),s.jsx(We,{children:u&&s.jsxs(P.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 mt-1 w-48 bg-white dark:bg-[#252525] rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 z-50 overflow-hidden",children:[s.jsxs("div",{className:"p-1",children:[s.jsxs("button",{onClick:()=>{h(!1),j(!0)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200",children:[s.jsx(RT,{className:"w-4 h-4"})," Assign Task"]}),s.jsxs("button",{onClick:Gs,className:"w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 text-gray-700 dark:text-gray-200",children:[s.jsx(Xp,{className:"w-4 h-4"})," ",e.isPinned?"Unpin":"Pin"]}),s.jsxs("button",{onClick:Rl,className:"w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600",children:[s.jsx(Tl,{className:"w-4 h-4"})," Delete"]})]}),ee&&s.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 p-1 bg-gray-50/50 dark:bg-white/5",children:s.jsxs("button",{onClick:()=>{Tr(),h(!1)},disabled:zt,className:`w-full flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-white dark:hover:bg-white/5 text-gray-700 dark:text-gray-200 ${zt?"opacity-50 cursor-not-allowed":""}`,children:[D?s.jsx(OT,{className:"w-4 h-4 text-green-500"}):s.jsx(LT,{className:"w-4 h-4 text-gray-400"}),D?"Disable Responses":"Enable Responses"]})})]})})]})]}),s.jsx("div",{className:"px-5 pb-3",children:k?s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:x,onChange:je=>g(je.target.value),className:"w-full p-4 rounded-xl bg-gray-50 dark:bg-[#222] border-transparent focus:border-primary-500 focus:ring-0 text-base",rows:4}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(L,{variant:"ghost",size:"sm",onClick:()=>y(!1),children:"Cancel"}),s.jsx(L,{variant:"primary",size:"sm",onClick:tr,children:"Save"})]})]}):s.jsx("div",{onClick:()=>a(`/post/${e._id}`),className:"cursor-pointer",children:s.jsxs("p",{className:"text-[15px] leading-relaxed text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:[e.content.length>250?`${e.content.substring(0,250)}...`:e.content,e.content.length>250&&s.jsx("span",{className:"text-primary-500 font-medium ml-1",children:"Read more"})]})})}),(e.imageUrl||e.videoUrl)&&s.jsxs("div",{className:"px-5 pb-4",children:[e.imageUrl&&s.jsx("div",{className:"rounded-xl overflow-hidden cursor-pointer border border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-[#222]",onClick:()=>p(!0),children:s.jsx(P.img,{layoutId:`post-image-${e._id}`,src:e.imageUrl,alt:"Post content",className:"w-full h-auto max-h-[500px] object-cover hover:scale-[1.02] transition-transform duration-500"})}),e.videoUrl&&s.jsx("div",{className:"rounded-xl overflow-hidden bg-black aspect-video",children:s.jsx("video",{src:e.videoUrl,controls:!0,className:"w-full h-full"})})]}),s.jsxs("div",{className:"px-5 py-3 border-t border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:He,disabled:m,className:"flex items-center gap-2 group transition-colors",children:[s.jsx("div",{className:`p-2 rounded-full transition-colors ${S?"bg-red-50 dark:bg-red-900/20 text-red-500":"text-gray-400 group-hover:bg-gray-100 dark:group-hover:bg-gray-800 dark:group-hover:text-gray-300"}`,children:s.jsx(qs,{className:`w-5 h-5 ${S?"fill-current":""}`})}),s.jsx("span",{className:`text-sm font-medium ${S?"text-red-600 dark:text-red-400":"text-gray-500"}`,children:C})]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-2 group transition-colors",children:[s.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 group-hover:text-blue-500 transition-colors",children:s.jsx(Os,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600 dark:group-hover:text-blue-400",children:e.commentCount})]}),s.jsx("button",{onClick:rr,className:"p-2 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:s.jsx(Ws,{className:"w-5 h-5"})})]}),e.imageUrl&&s.jsx("button",{onClick:Jn,className:"p-2 rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:s.jsx(Bh,{className:"w-5 h-5"})})]}),ee&&(D||$||F)&&s.jsxs("div",{className:"px-5 py-3 bg-gray-50/50 dark:bg-white/5 border-t border-gray-100 dark:border-gray-800",children:[!ce&&!$&&!F&&D&&s.jsxs("button",{onClick:()=>a(`/official-response/${e._id}`),className:"w-full py-2.5 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary-500/20 active:scale-[0.98]",children:[s.jsx(jT,{className:"w-4 h-4"}),"Submit Official Response"]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-medium mt-1",children:[F&&s.jsxs("span",{className:"px-2 py-1 rounded-md bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[s.jsx(jl,{className:"w-3 h-3"})," Vacancy Filled"]}),$&&s.jsxs("span",{className:"px-2 py-1 rounded-md bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center gap-1",children:[s.jsx(xt,{className:"w-3 h-3"})," Response Submitted"]}),re&&re.length>0&&s.jsxs("span",{className:"px-2 py-1 text-gray-500",children:[re.length," responses"]})]}),ee&&re&&re.length>0&&s.jsx("div",{className:"mt-3",children:s.jsx(ZP,{responses:re})})]}),s.jsx(We,{children:v&&e.imageUrl&&s.jsx(tA,{layoutId:`post-image-${e._id}`,src:e.imageUrl,alt:"Full post",onClose:()=>p(!1)})}),ce&&s.jsx(XP,{isOpen:w,onClose:()=>j(!1),postId:e._id})]})}function Ic(){return s.jsxs("div",{className:"glass rounded-xl p-6 shadow-md animate-pulse",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-light-muted/20 dark:bg-dark-muted/20"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"h-4 w-32 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),s.jsx("div",{className:"h-4 w-16 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-24 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),s.jsx("div",{className:"h-3 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("div",{className:"h-4 w-full bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),s.jsx("div",{className:"h-4 w-5/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"}),s.jsx("div",{className:"h-4 w-4/6 bg-light-muted/20 dark:bg-dark-muted/20 rounded"})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-light-border dark:border-dark-border",children:[s.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"}),s.jsx("div",{className:"h-8 w-20 bg-light-muted/20 dark:bg-dark-muted/20 rounded-lg"})]})]})}function Pl(e){const{category:t,onCommentClick:r}=e,{user:n}=H(),[i,a]=b.useState(t),o=W(E.posts.getPosts,{category:i,limit:50,onlyOfficial:e.onlyOfficial,userId:n==null?void 0:n._id});return o===void 0?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ic,{}),s.jsx(Ic,{}),s.jsx(Ic,{})]}):s.jsxs("div",{className:"space-y-6",children:[!t&&s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{onClick:()=>a(void 0),className:`px-2 md:px-4 py-2 rounded-lg font-medium transition-all text-sm md:text-base ${i===void 0?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"All Post"}),s.jsx("button",{onClick:()=>a("Ancient Culture"),className:`px-2 md:px-4 py-2 rounded-lg font-medium transition-all text-sm md:text-base ${i==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient"}),s.jsx("button",{onClick:()=>a("Wisdom of The Now"),className:`px-2 md:px-4 py-2 rounded-lg font-medium transition-all text-sm md:text-base ${i==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom"})]}),o.length===0?s.jsx("div",{className:"text-center py-12 glass rounded-xl",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts yet. Be the first to share your learning!"})}):s.jsx(We,{mode:"popLayout",children:s.jsx("div",{className:"space-y-4",children:o.map(l=>s.jsx(mb,{post:l,onCommentClick:()=>r==null?void 0:r(l),hasUserLiked:l.hasLiked},l._id))})})]})}function rA({id:e,title:t,description:r,imageUrl:n,creatorRole:i="admin",isActive:a}){const{user:o}=H(),l=Q(E.announcements.updateAnnouncement),c=Q(E.announcements.deleteAnnouncement),[d,u]=b.useState(!1),h=i==="super_admin",m=o&&(o.role==="admin"||o.role==="super_admin"),f=async()=>{if(m)try{await l({adminId:o._id,announcementId:e,isActive:!a})}catch(p){console.error("Failed to toggle visibility:",p)}},v=async()=>{if(!(!m||!window.confirm("Are you sure you want to delete this announcement?"))){u(!0);try{await c({adminId:o._id,announcementId:e})}catch(p){console.error("Failed to delete announcement:",p),u(!1)}}};return d?null:s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:a?1:.6,y:0},className:`glass rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border-2 relative group ${h?"border-secondary-500/50 shadow-secondary-500/10":"border-transparent"} ${a?"":"grayscale"}`,children:[m&&s.jsxs("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:f,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 backdrop-blur-md transition-colors",title:a?"Hide from users":"Show to users",children:a?s.jsx(Yn,{className:"w-4 h-4"}):s.jsx($s,{className:"w-4 h-4"})}),s.jsx("button",{onClick:v,className:"p-2 rounded-full bg-red-500/80 text-white hover:bg-red-600 backdrop-blur-md transition-colors",title:"Delete Announcement",children:s.jsx(Tl,{className:"w-4 h-4"})})]}),!a&&m&&s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 bg-black/80 text-white px-4 py-2 rounded-lg font-bold backdrop-blur-md border border-white/20",children:"HIDDEN"}),s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:n,alt:t,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${h?"from-secondary-900/80":"from-black/60"} to-transparent`}),s.jsx("div",{className:"absolute bottom-4 left-4 flex items-center gap-2",children:h?s.jsxs("span",{className:"px-3 py-1 rounded-full bg-secondary-500 text-white text-xs font-bold flex items-center gap-1.5 shadow-lg",children:[s.jsx(ST,{className:"w-3 h-3 fill-current"}),"OFFICIAL ANNOUNCEMENT"]}):s.jsxs("span",{className:"px-3 py-1 rounded-full bg-primary-500 text-white text-xs font-bold flex items-center gap-1.5 shadow-lg",children:[s.jsx(wT,{className:"w-3 h-3"}),"ADMIN UPDATE"]})})]}),s.jsxs("div",{className:`p-6 ${h?"bg-secondary-500/5 dark:bg-secondary-500/5":""}`,children:[s.jsx("h3",{className:`text-2xl font-bold mb-2 ${h?"text-secondary-600 dark:text-secondary-400":"text-light-text dark:text-dark-text"}`,children:t}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted leading-relaxed",children:r})]})]})}function nA(){const{user:e,isLoading:t}=H(),r=we(),n=W(E.announcements.getAnnouncements,e?{category:"General",userId:e._id}:"skip");return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?(console.log("Announcements:",n),s.jsx("div",{className:"min-h-screen py-4 md:py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[n&&n.length>0&&s.jsx("div",{className:"mb-8 space-y-6",children:n.map(i=>s.jsx(rA,{id:i._id,title:i.title,description:i.description,imageUrl:i.imageUrl,creatorRole:i.creatorRole,isActive:i.isActive},i._id))}),s.jsx(Pl,{onCommentClick:i=>r(`/post/${i._id}`)})]})})):s.jsx(le,{to:"/login",replace:!0})}function sA({onUploadComplete:e,allowVideo:t=!1,currentMedia:r}){const[n,i]=b.useState(!1),[a,o]=b.useState(0),[l,c]=b.useState(r),d=b.useRef(null),u=b.useRef(null),h=async(f,v)=>{if(v==="image"&&!ub(f)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}if(v==="video"&&!rP(f)){alert("Please upload a valid video file (MP4, WebM, or OGG)");return}const p=new FileReader;p.onloadend=()=>{c({url:p.result,type:v})},p.readAsDataURL(f),i(!0),o(0);try{const y=await db(f,v==="image"?"posts/images":"posts/videos",o);e(y,v),c({url:y,type:v})}catch(k){console.error("Upload failed:",k),alert(`Failed to upload ${v}. Please try again.`),c(r)}finally{i(!1),o(0)}},m=()=>{c(void 0),e("","image"),d.current&&(d.current.value=""),u.current&&(u.current.value="")};return s.jsxs("div",{className:"space-y-3",children:[s.jsx(We,{children:l&&s.jsxs(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative rounded-lg overflow-hidden bg-light-card dark:bg-dark-card",children:[l.type==="image"?s.jsx("img",{src:l.url,alt:"Preview",className:"w-full max-h-96 object-contain"}):s.jsx("video",{src:l.url,controls:!0,className:"w-full max-h-96 object-contain"}),n&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qv,{className:"w-8 h-8 text-white animate-spin mx-auto mb-2"}),s.jsxs("span",{className:"text-sm text-white font-medium",children:[a,"%"]})]})}),!n&&s.jsx("button",{onClick:m,className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:s.jsx(wr,{className:"w-5 h-5 text-white"})})]})}),!l&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:f=>{var p;const v=(p=f.target.files)==null?void 0:p[0];v&&h(v,"image")},className:"hidden",disabled:n}),s.jsxs("button",{type:"button",onClick:()=>{var f;return(f=d.current)==null?void 0:f.click()},disabled:n,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-primary-500",children:[s.jsx(AT,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Add Image"})]}),t&&s.jsxs(s.Fragment,{children:[s.jsx("input",{ref:u,type:"file",accept:"video/*",onChange:f=>{var p;const v=(p=f.target.files)==null?void 0:p[0];v&&h(v,"video")},className:"hidden",disabled:n}),s.jsxs("button",{type:"button",onClick:()=>{var f;return(f=u.current)==null?void 0:f.click()},disabled:n,className:"flex-1 px-4 py-2 rounded-lg border-2 border-dashed border-light-border dark:border-dark-border hover:border-secondary-500 dark:hover:border-secondary-500 transition-colors flex items-center justify-center gap-2 text-light-muted dark:text-dark-muted hover:text-secondary-500",children:[s.jsx(zT,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Add Video"})]})]})]})]})}function Al({onSuccess:e,defaultCategory:t,variant:r="default"}){const{user:n}=H(),i=Q(E.posts.createPost),[a,o]=b.useState(""),[l,c]=b.useState(t||"Ancient Culture"),[d,u]=b.useState(""),[h,m]=b.useState(null),[f,v]=b.useState(!1),[p,k]=b.useState(""),y=(g,w)=>{u(g),m(w)},x=async g=>{if(g.preventDefault(),!n){k("You must be logged in to post");return}if(a.trim().length<10){k("Post must be at least 10 characters");return}k(""),v(!0);try{await i({authorId:n._id,content:a.trim(),category:l,imageUrl:h==="image"?d:void 0,videoUrl:h==="video"?d:void 0}),o(""),u(""),m(null),e==null||e()}catch(w){k(w instanceof Error?w.message:"Failed to create post")}finally{v(!1)}};return s.jsxs(P.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:x,className:r==="bottom-sheet"?"":"glass rounded-xl p-4 md:p-6 shadow-lg",children:[r==="default"&&s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Cr,{className:"w-5 h-5 text-primary-500"}),s.jsx("h3",{className:"text-xl font-semibold text-light-text dark:text-dark-text",children:"Share Your Learning"})]}),p&&s.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:p})}),s.jsxs("div",{className:"space-y-4",children:[!t&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>c("Ancient Culture"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${l==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Ancient"}),s.jsx("button",{type:"button",onClick:()=>c("Wisdom of The Now"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${l==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"Wisdom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"What did you learn?"}),s.jsx("textarea",{value:a,onChange:g=>o(g.target.value),placeholder:"Share your insights, revelations, and key takeaways from today's teaching session...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text placeholder:text-light-muted dark:placeholder:text-dark-muted focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",required:!0}),s.jsxs("p",{className:"mt-1 text-xs text-light-muted dark:text-dark-muted",children:[a.length," characters"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Add Media (Optional)"}),s.jsx(sA,{onUploadComplete:y,allowVideo:(n==null?void 0:n.role)==="admin",currentMedia:d?{url:d,type:h}:void 0}),(n==null?void 0:n.role)==="admin"&&s.jsx("p",{className:"mt-1 text-xs text-accent-500",children:" As an admin, you can upload both images and videos"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:[" Be among the first 5 to post and earn the ",s.jsx("strong",{className:"text-primary-500",children:"SENT"})," badge!"]}),s.jsx(L,{type:"submit",variant:"primary",isLoading:f,disabled:a.trim().length<10,children:"Post"})]})]})]})}function Uh({isVisible:e,onToggle:t,category:r}){return s.jsx(P.button,{onClick:t,whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${e?"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border hover:bg-light-bg dark:hover:bg-dark-bg":"bg-primary-500 text-white shadow-lg shadow-primary-500/20 hover:bg-primary-600"}`,children:e?s.jsxs(s.Fragment,{children:[s.jsx($s,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:["Hide ",r," Posts"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Yn,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:["Show ",r," Posts"]})]})})}function $h({content:e,title:t}){const[r,n]=b.useState(!1);return s.jsxs("div",{className:"relative inline-block",children:[s.jsx("button",{onClick:()=>n(!r),className:"p-1 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-all focus:outline-none","aria-label":"Information",children:s.jsx(ET,{className:"w-4 h-4 md:w-5 md:h-5 text-primary-500"})}),s.jsx(We,{children:r&&s.jsxs(s.Fragment,{children:[s.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>n(!1)}),s.jsx(P.div,{initial:{opacity:0,scale:.9,x:"-50%",y:"-40%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.9,x:"-50%",y:"-40%"},className:"fixed z-50 left-1/2 top-1/2 w-[90vw] max-w-sm",children:s.jsxs("div",{className:"glass rounded-xl p-6 shadow-2xl border border-light-border dark:border-dark-border bg-white/90 dark:bg-black/90",children:[t&&s.jsx("h4",{className:"font-bold text-lg text-primary-500 mb-2 font-display",children:t}),s.jsx("p",{className:"text-sm md:text-base text-light-text dark:text-dark-text leading-relaxed",children:e}),s.jsx("button",{onClick:()=>n(!1),className:"mt-4 w-full py-2 rounded-lg bg-primary-500/10 text-primary-500 hover:bg-primary-500/20 font-medium text-sm transition-colors",children:"Got it"})]})})]})})]})}function iA(){const{user:e,isLoading:t}=H(),r=we(),[n,i]=b.useState(0),[a,o]=b.useState(()=>{const l=localStorage.getItem("ancientCulture_postsVisible");return l!==null?JSON.parse(l):!0});return b.useEffect(()=>{localStorage.setItem("ancientCulture_postsVisible",JSON.stringify(a))},[a]),t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?s.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-primary-500/10 via-primary-500/5 to-primary-600/10 border border-primary-500/20",children:s.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-primary-500 flex items-center justify-center shadow-lg shadow-primary-500/30 flex-shrink-0",children:s.jsx(Bt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 font-display",children:"Ancient Culture"}),s.jsx($h,{title:"Ancient Culture",content:"This section features teachings based on prophetic wisdom and systems from the Old Testament. Admin-created posts appear here for community learning and discussion."})]}),s.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:"Prophetic wisdom and systems from the Old Testament"})]})]}),s.jsx(P.button,{whileTap:{scale:.95},onClick:async()=>{const l=`${window.location.origin}/ancient-culture`;navigator.share?await navigator.share({title:"Ancient Culture - Baptizo",url:l}):(await navigator.clipboard.writeText(l),alert("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/20 transition-all flex-shrink-0",title:"Share this page",children:s.jsx(Ws,{className:"w-5 h-5 text-primary-500"})})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsx(Al,{onSuccess:()=>i(l=>l+1),defaultCategory:"Ancient Culture"}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Uh,{isVisible:a,onToggle:()=>o(!a),category:"Ancient Culture"})}),a&&s.jsx(Pl,{category:"Ancient Culture",onlyOfficial:!0,onCommentClick:l=>r(`/post/${l._id}`)},n),!a&&s.jsx("div",{className:"text-center py-12 glass rounded-xl",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Ancient Culture Posts" to view them.'})})]})]})}):s.jsx(le,{to:"/login",replace:!0})}function aA(){const{user:e,isLoading:t}=H(),r=we(),[n,i]=b.useState(0),[a,o]=b.useState(()=>{const l=localStorage.getItem("wisdomNow_postsVisible");return l!==null?JSON.parse(l):!0});return b.useEffect(()=>{localStorage.setItem("wisdomNow_postsVisible",JSON.stringify(a))},[a]),t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?s.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8 p-6 md:p-8 rounded-2xl bg-gradient-to-br from-secondary-500/10 via-secondary-500/5 to-secondary-600/10 border border-secondary-500/20",children:s.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-xl bg-secondary-500 flex items-center justify-center shadow-lg shadow-secondary-500/30 flex-shrink-0",children:s.jsx(Cr,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-secondary-600 dark:text-secondary-400 font-display",children:"Wisdom of The Now"}),s.jsx($h,{title:"Wisdom of The Now",content:"This section features teachings based on spiritual identity and insights from the New Testament. Engage with admin posts to deepen your understanding."})]}),s.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:"Spiritual identity and insights from the New Testament"})]})]}),s.jsx(P.button,{whileTap:{scale:.95},onClick:async()=>{const l=`${window.location.origin}/wisdom-now`;navigator.share?await navigator.share({title:"Wisdom of The Now - Baptizo",url:l}):(await navigator.clipboard.writeText(l),alert("Link copied to clipboard!"))},className:"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-900/20 transition-all flex-shrink-0",title:"Share this page",children:s.jsx(Ws,{className:"w-5 h-5 text-secondary-500"})})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsx(Al,{onSuccess:()=>i(l=>l+1),defaultCategory:"Wisdom of The Now"}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Uh,{isVisible:a,onToggle:()=>o(!a),category:"Wisdom of The Now"})}),a&&s.jsx(Pl,{category:"Wisdom of The Now",onlyOfficial:!0,onCommentClick:l=>r(`/post/${l._id}`)},n),!a&&s.jsx("div",{className:"text-center py-12 glass rounded-xl",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Wisdom of The Now Posts" to view them.'})})]})]})}):s.jsx(le,{to:"/login",replace:!0})}function oA({currentAvatarUrl:e,onUploadComplete:t,size:r="lg"}){const[n,i]=b.useState(!1),[a,o]=b.useState(0),[l,c]=b.useState(e),[d,u]=b.useState(!1),h=b.useRef(null),m={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},f=async p=>{var x;const k=(x=p.target.files)==null?void 0:x[0];if(!k)return;if(!ub(k)){alert("Please upload a valid image file (JPG, PNG, GIF, or WebP)");return}const y=new FileReader;y.onloadend=()=>{c(y.result)},y.readAsDataURL(k),i(!0),o(0),u(!1);try{const g=await db(k,"avatars",o);t(g),c(g),u(!0),setTimeout(()=>u(!1),3e3)}catch(g){console.error("Upload failed:",g),alert("Failed to upload avatar. Please try again."),c(e)}finally{i(!1),o(0)}},v=()=>{c(void 0),t(""),h.current&&(h.current.value="")};return s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`${m[r]} rounded-full overflow-hidden border-4 border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card flex items-center justify-center`,children:l?s.jsx("img",{src:hb(l,200,200),alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx(Zp,{className:"w-8 h-8 text-light-muted dark:text-dark-muted"})}),n&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qv,{className:"w-6 h-6 text-white animate-spin mx-auto mb-1"}),s.jsxs("span",{className:"text-xs text-white font-medium",children:[a,"%"]})]})}),l&&!n&&s.jsx("button",{onClick:v,className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center transition-colors",children:s.jsx(wr,{className:"w-4 h-4 text-white"})})]}),s.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:f,className:"hidden",disabled:n}),s.jsxs(L,{onClick:()=>{var p;return(p=h.current)==null?void 0:p.click()},variant:"outline",size:"sm",disabled:n,children:[s.jsx(Zp,{className:"w-4 h-4 mr-2"}),l?"Change Avatar":"Upload Avatar"]}),s.jsx(We,{children:d&&s.jsxs(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800",children:[s.jsx(xt,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Avatar saved successfully!"})]})})]})}const qh=e=>{if(!e)return"";if(e.length<=4)return e;const t=e.slice(-4);return"*".repeat(e.length-4)+t},lA=e=>{const t=e.replace(/[\s-]/g,"");return/^\d{10}$/.test(t)},cA=e=>e.trim().length>=2&&e.trim().length<=100,dA=e=>e.trim().length>=2&&e.trim().length<=100,uA=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Fidelity Bank","Union Bank","Sterling Bank","Polaris Bank","Wema Bank","Ecobank","Stanbic IBTC","Keystone Bank","FCMB","Unity Bank","Jaiz Bank","Providus Bank","Kuda Bank","OPay","PalmPay","Moniepoint","Other"];function hA({userId:e,isAdminView:t=!1}){const{user:r}=H(),n=e||(r==null?void 0:r._id),i=W(E.bankingCredentials.getBankingCredentials,n&&(r!=null&&r._id)?{userId:n,viewerId:r._id}:"skip"),a=Q(E.bankingCredentials.updateBankingCredentials),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,h]=b.useState({bankName:"",accountNumber:"",accountName:""}),[m,f]=b.useState({}),[v,p]=b.useState(!1);b.useEffect(()=>{i&&h({bankName:i.bankName||"",accountNumber:i.accountNumber||"",accountName:i.accountName||""})},[i]);const k=async g=>{g.preventDefault();const w={};if(cA(u.bankName)||(w.bankName="Please enter a valid bank name"),lA(u.accountNumber)||(w.accountNumber="Account number must be 10 digits"),dA(u.accountName)||(w.accountName="Please enter a valid account name"),f(w),!(Object.keys(w).length>0)&&n){p(!0);try{await a({userId:n,bankName:u.bankName.trim(),accountNumber:u.accountNumber.replace(/[\s-]/g,""),accountName:u.accountName.trim()}),l(!1),d(!1)}catch(j){console.error("Failed to update banking credentials:",j),f({submit:"Failed to save banking credentials. Please try again."})}finally{p(!1)}}},y=(i==null?void 0:i.bankName)&&(i==null?void 0:i.accountNumber)&&(i==null?void 0:i.accountName),x=!t&&(r==null?void 0:r._id)===n;return s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Ii,{className:"w-5 h-5 text-accent-500"}),"Banking Information"]})}),s.jsxs(V,{children:[!t&&s.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-light-bg dark:bg-dark-bg flex items-start gap-2",children:[s.jsx(sa,{className:"w-4 h-4 text-light-muted dark:text-dark-muted mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Your banking information is secure and only visible to you and administrators. This is required to receive rewards for participating in teaching sessions."})]}),o?s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Bank Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:u.bankName,onChange:g=>h({...u,bankName:g.target.value}),className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Select your bank"}),uA.map(g=>s.jsx("option",{value:g,children:g},g))]}),m.bankName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.bankName})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:u.accountNumber,onChange:g=>h({...u,accountNumber:g.target.value}),placeholder:"0123456789",maxLength:10,className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono"}),m.accountNumber&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.accountNumber})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:["Account Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:u.accountName,onChange:g=>h({...u,accountName:g.target.value}),placeholder:"John Doe",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500"}),m.accountName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.accountName})]}),m.submit&&s.jsx("p",{className:"text-red-500 text-sm",children:m.submit}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(L,{type:"submit",variant:"primary",className:"flex-1",disabled:v,children:v?"Saving...":"Save"}),s.jsx(L,{type:"button",onClick:()=>{l(!1),f({}),i&&h({bankName:i.bankName||"",accountNumber:i.accountNumber||"",accountName:i.accountName||""})},variant:"secondary",className:"flex-1",disabled:v,children:"Cancel"})]})]}):s.jsx("div",{className:"space-y-4",children:y?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Bank Name"}),s.jsx("p",{className:"text-light-text dark:text-dark-text",children:i.bankName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-light-text dark:text-dark-text font-mono",children:c?i.accountNumber:qh(i.accountNumber||"")}),s.jsx("button",{onClick:()=>d(!c),className:"text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:c?s.jsx($s,{className:"w-4 h-4"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-muted dark:text-dark-muted mb-1",children:"Account Name"}),s.jsx("p",{className:"text-light-text dark:text-dark-text",children:i.accountName})]}),x&&s.jsx(L,{onClick:()=>l(!0),variant:"secondary",className:"w-full",children:"Update Banking Information"})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:t?"This user has not added banking information yet.":"Add your banking information to receive rewards."}),x&&s.jsx(L,{onClick:()=>l(!0),variant:"primary",children:"Add Banking Information"})]})})]})]})}function se(){const e=we();return s.jsxs("button",{onClick:()=>e(-1),className:"hidden md:flex fixed top-24 left-4 z-30 p-3 rounded-full bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md border border-light-border dark:border-dark-border shadow-xl text-light-muted dark:text-dark-muted hover:text-primary-500 dark:hover:text-primary-400 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Go Back",children:[s.jsx(Fh,{className:"w-6 h-6"}),s.jsx("span",{className:"sr-only",children:"Back"})]})}function mA(){const{user:e,isLoading:t,updateUser:r}=H(),n=Q(E.presence.updateAvatar),i=e?W(E.users.getUserStats,{userId:e._id}):void 0,a=async o=>{if(e)try{await n({userId:e._id,avatarUrl:o}),r({avatarUrl:o})}catch(l){console.error("Failed to update avatar:",l)}};return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?s.jsx("div",{className:"min-h-screen py-4 md:py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-4 md:mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Profile"}),s.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View your account details and community stats"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass rounded-xl overflow-hidden",children:[s.jsx("div",{className:"h-24 md:h-48 bg-gradient-to-r from-primary-500/20 to-secondary-500/20"}),s.jsxs("div",{className:"px-4 pb-4 md:px-8 md:pb-8 relative",children:[s.jsx("div",{className:"relative -mt-10 md:-mt-16 mb-3 md:mb-4 flex flex-col items-center md:items-start whitespace-nowrap",children:s.jsx(oA,{currentAvatarUrl:e.avatarUrl,onUploadComplete:a,size:"xl"})}),s.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 text-center md:text-left",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 mb-1",children:[s.jsx("h1",{className:"text-xl md:text-3xl font-bold text-light-text dark:text-dark-text truncate",children:e.name}),s.jsx(q,{variant:e.role==="super_admin"?"secondary":e.role==="admin"?"primary":"default",className:"h-5 text-[10px]",children:e.role==="super_admin"?"Super Admin":e.role==="admin"?"Admin":"Member"})]}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-light-muted dark:text-dark-muted mb-4",children:[s.jsx("span",{children:e.email}),s.jsx("span",{className:"hidden md:inline",children:""}),s.jsx("span",{children:ab(e.phone)})]}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-6 mb-4 md:mb-0",children:[s.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[s.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:(i==null?void 0:i.followerCount)||0}),s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Followers"})]}),s.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[s.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:(i==null?void 0:i.followingCount)||0}),s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Following"})]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(O,{glass:!0,className:"p-6 text-center",children:[s.jsx(sn,{className:"w-8 h-8 mx-auto mb-2 text-primary-500"}),s.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalPosts)||0}),s.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Posts"})]}),s.jsxs(O,{glass:!0,className:"p-6 text-center",children:[s.jsx(Je,{className:"w-8 h-8 mx-auto mb-2 text-accent-500"}),s.jsx("div",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalRewards)||0}),s.jsx("div",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Rewards"})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(hA,{})})]})}):s.jsx(le,{to:"/login",replace:!0})}function fA(){const{user:e,isLoading:t}=H(),r=W(E.users.getAllUsers,e?{adminId:e._id}:"skip"),n=W(E.comments.getCommentSettings,{}),i=Q(E.comments.toggleComments),a=Q(E.users.updateUserRole),o=W(E.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),l=(o==null?void 0:o.length)||0,c=W(E.contacts.getContacts,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),d=(c==null?void 0:c.filter(T=>!T.read).length)||0,[u,h]=b.useState(""),[m,f]=b.useState(!1),[v,p]=b.useState(!1),[k,y]=b.useState(null),x=(r==null?void 0:r.filter(T=>T.name.toLowerCase().includes(u.toLowerCase())||T.email.toLowerCase().includes(u.toLowerCase())))||[],g=(T,R,ne,U,pe)=>{let Z="",ce="";U==="admin"?ne==="admin"?pe==="board_member"?(Z="revert this user from Admin to Board Member",ce="board_member"):(Z="demote this user from Admin to Member",ce="member"):(Z="promote this user to Admin",ce="admin"):U==="board"&&(ne==="board_member"?(Z="remove this user from Board Members",ce="member"):(Z="add this user to Board Members",ce="board_member")),y({id:T,name:R,action:Z,newRole:ce}),f(!0)},w=async()=>{if(!(!k||!e))try{await a({adminId:e._id,userId:k.id,newRole:k.newRole}),f(!1),y(null)}catch(T){console.error("Failed to update role",T)}};if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const j=(r==null?void 0:r.length)||0,S=(r==null?void 0:r.filter(T=>T.role==="admin"||T.role==="super_admin").length)||0,N=(r==null?void 0:r.filter(T=>T.role==="board_member").length)||0,C=j-S-N;return s.jsxs("div",{className:"min-h-screen py-8",children:[s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Manage teaching sessions and view community statistics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsx(O,{glass:!0,className:"bg-gradient-to-br from-primary-500/10 to-transparent border-primary-500/20",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Total Community"}),s.jsx(Un,{className:"w-8 h-8 text-primary-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Members"}),s.jsx("span",{className:"font-bold",children:C})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Admins"}),s.jsx("span",{className:"font-bold",children:S})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Board"}),s.jsx("span",{className:"font-bold",children:N})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(O,{glass:!0,className:"cursor-pointer hover:border-primary-500 transition-colors",onClick:()=>{const T=`${window.location.origin}/member-onboarding`;navigator.clipboard.writeText(T),p(!0)},children:s.jsxs(V,{className:"p-4 flex flex-col items-center justify-center text-center h-full",children:[s.jsx(va,{className:"w-6 h-6 text-primary-500 mb-2"}),s.jsx("p",{className:"text-xs font-bold leading-tight",children:"Copy Onboarding Link"})]})}),s.jsx(B,{to:"/admin/members",className:"block h-full",children:s.jsx(O,{glass:!0,className:"hover:border-indigo-500 transition-colors h-full",children:s.jsxs(V,{className:"p-4 flex flex-col items-center justify-center text-center h-full",children:[s.jsx(Un,{className:"w-6 h-6 text-indigo-500 mb-2"}),s.jsx("p",{className:"text-xs font-bold leading-tight",children:"Member Directory"})]})})})]})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsx(B,{to:"/board",children:s.jsx(O,{glass:!0,className:"hover:shadow-lg transition-all h-full group",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg group-hover:text-primary-500 transition-colors",children:"Board Dashboard"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Manage Tasks & Training"})]}),s.jsx(Je,{className:"w-8 h-8 text-yellow-500 opacity-80"})]}),s.jsx("div",{className:"mt-4 flex items-center gap-2",children:s.jsxs(q,{variant:"secondary",children:[N," Active Members"]})})]})})}),s.jsx(B,{to:"/admin/contacts",children:s.jsx(O,{glass:!0,className:"hover:shadow-lg transition-all h-full group",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg group-hover:text-blue-500 transition-colors",children:"Messages"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Contact submissions"})]}),s.jsx(er,{className:"w-8 h-8 text-blue-500 opacity-80"})]}),d>0?s.jsxs(q,{variant:"danger",className:"mt-2 animate-pulse",children:[d," Unread"]}):s.jsx("p",{className:"text-xs text-light-muted mt-2",children:"No new messages"})]})})})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsx(B,{to:"/admin/tasks",children:s.jsx(O,{glass:!0,className:"hover:shadow-lg transition-all group",children:s.jsxs(V,{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Task Reviews"}),s.jsx("p",{className:"text-xs text-light-muted",children:"Check submitted work"})]}),s.jsxs(q,{variant:"outline",children:[l," Pending"]})]})})}),s.jsx(B,{to:"/admin/responses",children:s.jsx(O,{glass:!0,className:"hover:shadow-lg transition-all group",children:s.jsxs(V,{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Grade Responses"}),s.jsx("p",{className:"text-xs text-light-muted",children:"Review answers"})]}),s.jsx(Br,{className:"w-4 h-4 text-light-muted group-hover:translate-x-1 transition-transform"})]})})}),s.jsx(B,{to:"/admin/reward-responses",children:s.jsx(O,{glass:!0,className:"hover:shadow-lg transition-all group",children:s.jsxs(V,{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Pay Rewards"}),s.jsx("p",{className:"text-xs text-light-muted",children:"Process payments"})]}),s.jsx(Br,{className:"w-4 h-4 text-light-muted group-hover:translate-x-1 transition-transform"})]})})})]})]}),s.jsxs(O,{glass:!0,className:"mb-8",children:[s.jsx(Xe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"w-5 h-5 text-primary-500"}),"Comment Settings"]})}),s.jsx(V,{children:s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-light-bg dark:bg-dark-bg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-light-text dark:text-dark-text mb-1",children:"Allow Comments"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:n?"Users can comment on posts":"Comments are disabled for all users"})]}),s.jsx("button",{onClick:async()=>{if(e)try{await i({adminId:e._id,enabled:!n})}catch(T){console.error("Failed to toggle comments:",T)}},className:`relative inline-flex h-7 w-14 items-center rounded-full transition-colors ${n?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${n?"translate-x-8":"translate-x-1"}`})})]})})]}),s.jsxs(O,{glass:!0,children:[s.jsxs(Xe,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx(Ze,{children:"Recent Users (Super Admin Enabled)"}),s.jsx("div",{className:"w-full sm:w-64",children:s.jsx(ke,{placeholder:"Search by name or email...",value:u,onChange:T=>h(T.target.value),icon:s.jsx(an,{className:"w-4 h-4"}),className:"h-9"})})]}),s.jsx(V,{children:s.jsx("div",{className:"space-y-3",children:r===void 0?Array.from({length:5}).map((T,R)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-transparent animate-pulse",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded w-1/2"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-5 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"}),s.jsx("div",{className:"h-5 w-16 bg-gray-200 dark:bg-gray-700 rounded-full"})]})]},R)):x&&x.length>0?x.slice(0,10).map(T=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 rounded-lg hover:bg-light-bg dark:hover:bg-dark-bg transition-colors gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-light-text dark:text-dark-text truncate",children:T.name}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted truncate",children:T.email})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(q,{variant:"default",className:"text-[10px]",children:T.network}),s.jsx(q,{variant:T.role==="admin"||T.role==="super_admin"?"primary":T.role==="board_member"?"secondary":"default",className:"text-[10px]",children:T.role}),e.role==="super_admin"&&T.role!=="super_admin"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>g(T._id,T.name,T.role,"admin",T.previousRole),className:"px-3 py-1.5 rounded-lg bg-primary-100 dark:bg-primary-900/30 text-[10px] font-bold text-primary-500 hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors w-full sm:w-auto text-center",title:T.role==="admin"?"Demote to Member":"Make Admin",children:T.role==="admin"?T.previousRole==="board_member"?"Revert to Board":"Demote Admin":"Make Admin"}),s.jsx("button",{onClick:()=>g(T._id,T.name,T.role,"board"),className:"px-3 py-1.5 rounded-lg bg-secondary-100 dark:bg-secondary-900/30 text-[10px] font-bold text-secondary-500 hover:bg-secondary-200 dark:hover:bg-secondary-900/50 transition-colors w-full sm:w-auto text-center",title:T.role==="board_member"?"Remove from Board":"Add to Board",children:T.role==="board_member"?"Remove Board":"Add Board"})]})]})]},T._id)):s.jsx("p",{className:"text-center text-light-muted dark:text-dark-muted py-4",children:"No users found"})})})]})]}),s.jsx(on,{isOpen:m,onClose:()=>f(!1),title:"Confirm Role Change",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:["Are you sure you want to ",k==null?void 0:k.action," ",s.jsx("strong",{children:k==null?void 0:k.name}),"?"]}),s.jsxs("div",{className:"flex items-center gap-3 text-amber-500 bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg",children:[s.jsx(Oh,{className:"w-6 h-6 flex-shrink-0"}),s.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"This action will change the user's role and permissions."})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[s.jsx(L,{variant:"ghost",onClick:()=>f(!1),children:"Cancel"}),s.jsx(L,{variant:"primary",onClick:w,children:"Confirm Change"})]})]})}),s.jsx(on,{isOpen:v,onClose:()=>p(!1),title:"Link Copied!",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6",children:"Onboarding link has been copied to clipboard. Share this with new members."}),s.jsx(L,{variant:"primary",className:"w-full",onClick:()=>p(!1),children:"Close"})]})})]})}function pA(){const{user:e,isLoading:t}=H(),[r,n]=b.useState("Ancient Culture"),[i,a]=b.useState(new Set),o=W(E.responses.getUnpaidRewards,(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"?{adminId:e._id}:"skip"),l=Q(E.responses.markResponseAsPaid),c=Q(E.responses.skipResponseReward),[d,u]=b.useState(new Set);if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const h=async p=>{if(e&&confirm("Mark this reward as PAID? The user will be notified.")){u(k=>new Set(k).add(p));try{await l({responseId:p,adminId:e._id})}catch(k){console.error("Failed to pay reward:",k),alert("Failed to process payment")}finally{u(k=>{const y=new Set(k);return y.delete(p),y})}}},m=async p=>{if(e&&confirm("Skip this reward? It will be removed from the pending list.")){u(k=>new Set(k).add(p));try{await c({responseId:p,adminId:e._id})}catch(k){console.error("Failed to skip reward:",k)}finally{u(k=>{const y=new Set(k);return y.delete(p),y})}}},f=p=>{a(k=>{const y=new Set(k);return y.has(p)?y.delete(p):y.add(p),y})},v=(o==null?void 0:o.filter(p=>p.postCategory===r&&p.position<=5))||[];return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Reward Management"}),s.jsxs("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:["Pay rewards for the top 5 responders to your posts.",s.jsx("br",{}),s.jsxs("span",{className:"text-xs opacity-70",children:["Showing unpaid rewards for posts in ",r]})]})]}),s.jsx(O,{glass:!0,className:"mb-8",children:s.jsxs(V,{className:"p-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Teaching Category"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>n("Ancient Culture"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Ancient Culture"?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[s.jsx(Bt,{className:"w-4 h-4"}),"Ancient Culture"]}),s.jsxs("button",{onClick:()=>n("Wisdom of The Now"),className:`flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r==="Wisdom of The Now"?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:[s.jsx(Cr,{className:"w-4 h-4"}),"Wisdom of The Now"]})]})]})}),s.jsx("div",{className:"space-y-6",children:v.length>0?v.map(p=>{const k=d.has(p._id),y=i.has(p._id),x=p.bankDetails;return s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ze,{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white flex items-center justify-center text-lg font-bold",children:["#",p.position]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-base",children:p.userName}),s.jsxs("div",{className:"text-xs font-normal text-light-muted dark:text-dark-muted",children:["Re: ",p.postTitle]})]})]}),s.jsx(q,{variant:"secondary",children:"Pending Payment"})]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Contact Information"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:p.userEmail})]}),(x==null?void 0:x.network)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx(q,{variant:"default",className:"text-[10px]",children:x.network})]}),s.jsxs("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:[s.jsxs("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[s.jsx(Ii,{className:"w-4 h-4 text-accent-500"}),"Banking Details"]}),x?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Bank Name"}),s.jsx("p",{className:"text-sm font-medium",children:x.bankName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Number"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-mono font-bold",children:y?x.accountNumber:qh(x.accountNumber||"")}),s.jsx("button",{onClick:()=>f(p._id),className:"text-light-muted hover:text-primary-500",children:y?s.jsx($s,{className:"w-4 h-4"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Name"}),s.jsx("p",{className:"text-sm",children:x.accountName})]})]}):s.jsx("p",{className:"text-sm text-red-500 italic",children:"No banking information provided."})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3",children:"Response Content"}),s.jsxs("div",{className:"p-3 rounded-lg bg-light-bg dark:bg-dark-bg text-sm line-clamp-6 italic",children:['"',p.content,'"']}),s.jsx("div",{className:"pt-4 mt-auto",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(L,{onClick:()=>h(p._id),variant:"primary",className:"flex-1 flex items-center justify-center gap-2",disabled:k||!x,children:[s.jsx(ya,{className:"w-4 h-4"}),k?"Processing...":"Mark Paid"]}),s.jsxs(L,{onClick:()=>m(p._id),variant:"secondary",className:"flex-1 flex items-center justify-center gap-2",disabled:k,children:[s.jsx(Jv,{className:"w-4 h-4"}),"Skip"]})]})})]})]})})]},p._id)}):s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-12 text-center",children:[s.jsx(Je,{className:"w-16 h-16 text-light-muted dark:text-dark-muted mx-auto mb-4 opacity-20"}),s.jsxs("p",{className:"text-light-muted dark:text-dark-muted font-medium",children:["No pending rewards found for ",r]}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-2",children:"Only the top 5 responders per post appear here."})]})})})]})})}function gA(){const{user:e}=H(),t=we(),r=W(E.notifications.getNotifications),n=Q(E.notifications.markAllAsRead),i=Q(E.notifications.markAsRead),a=Q(E.notifications.deleteNotification),o=async()=>{try{await n()}catch(h){console.error("Failed to mark all as read:",h)}},l=async h=>{h.read||await i({notificationId:h._id}),h.postId?h.type==="reward"?t(`/post/${h.postId}/responses`):t(`/post/${h.postId}`):h.type==="assignment"?t("/tasks"):h.type==="follower"&&t(`/profile/${h.senderId}`)},c=async(h,m)=>{if(h.stopPropagation(),confirm("Delete this notification?"))try{await a({notificationId:m})}catch(f){console.error("Failed to delete notification:",f)}},d=h=>{switch(h){case"like":return s.jsx(qs,{className:"w-5 h-5 text-red-500 fill-red-500"});case"comment":return s.jsx(Os,{className:"w-5 h-5 text-blue-500 fill-blue-500"});case"reply":return s.jsx(Os,{className:"w-5 h-5 text-indigo-500 fill-indigo-500"});case"new_post":return s.jsx(sn,{className:"w-5 h-5 text-green-500 fill-green-500"});case"reward":return s.jsx(xa,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"});case"assignment":return s.jsx(va,{className:"w-5 h-5 text-purple-500 fill-purple-500"});case"follower":return s.jsx(Pt,{className:"w-5 h-5 text-pink-500 fill-pink-500"});default:return s.jsx(lo,{className:"w-5 h-5 text-primary-500"})}},u=h=>{var f;const m=((f=h.sender)==null?void 0:f.name)||"Someone";switch(h.type){case"like":return s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold text-primary-500",children:m})," liked your post"]});case"comment":return s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold text-primary-500",children:m})," commented on your post"]});case"new_post":return s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold text-primary-500",children:m})," shared a new post"]});case"reply":return s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold text-primary-500",children:m})," replied to your comment"]});case"reward":return s.jsxs("span",{children:["Congratulations! You were ",s.jsx("span",{className:"font-semibold text-yellow-500",children:"awarded"})," for your response"]});case"assignment":return s.jsxs("span",{children:["You have a new ",s.jsx("span",{className:"font-semibold text-purple-500",children:"assignment"})," from an admin"]});case"follower":return s.jsxs("span",{children:[s.jsx("span",{className:"font-semibold text-primary-500",children:m})," started following you"]});default:return s.jsxs("span",{children:["New notification from ",s.jsx("span",{className:"font-semibold text-primary-500",children:m})]})}};return e?s.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[s.jsx(se,{}),s.jsxs(O,{glass:!0,className:"mt-4",children:[s.jsxs(Xe,{className:"flex flex-row items-center justify-between border-b border-light-border dark:border-dark-border",children:[s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(lo,{className:"w-6 h-6 text-primary-500"}),"Center of Alerts"]}),r&&r.some(h=>!h.read)&&s.jsxs("button",{onClick:o,className:"text-sm text-primary-500 hover:text-primary-600 font-medium flex items-center gap-1 px-3 py-1 rounded-full hover:bg-primary-50 dark:hover:bg-primary-950/20 transition-all",children:[s.jsx(xt,{className:"w-4 h-4"}),"Mark all as read"]})]}),s.jsx(V,{className:"p-0",children:r?r.length===0?s.jsxs("div",{className:"text-center py-20 text-light-muted dark:text-dark-muted",children:[s.jsx("div",{className:"w-20 h-20 bg-light-card dark:bg-dark-card rounded-full flex items-center justify-center mx-auto mb-4 border border-light-border dark:border-dark-border",children:s.jsx(lo,{className:"w-10 h-10 opacity-20"})}),s.jsx("h3",{className:"text-lg font-medium text-light-text dark:text-dark-text",children:"All Caught Up!"}),s.jsx("p",{className:"text-sm",children:"No new notifications at the moment."})]}):s.jsx("div",{className:"divide-y divide-light-border dark:divide-dark-border",children:r.map(h=>{var m,f;return s.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>l(h),className:`
                                            flex items-start gap-4 p-4 cursor-pointer transition-all group relative
                                            ${h.read?"bg-transparent":"bg-primary-50/30 dark:bg-primary-900/5"}
                                            hover:bg-light-card dark:hover:bg-dark-card
                                        `,children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{onClick:v=>{v.stopPropagation(),t(`/profile/${h.senderId}`)},children:s.jsx(Ft,{src:(m=h.sender)==null?void 0:m.avatarUrl,alt:((f=h.sender)==null?void 0:f.name)||"User",size:"md",className:"ring-2 ring-transparent group-hover:ring-primary-500/20"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-dark-bg rounded-full p-1 shadow-md border border-light-border dark:border-dark-border",children:d(h.type)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-light-text dark:text-dark-text text-sm leading-relaxed",children:u(h)}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted uppercase font-bold tracking-wider",children:fn(h.createdAt,{addSuffix:!0})}),!h.read&&s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"})]})]}),s.jsx("div",{className:"flex flex-col gap-2",children:s.jsx("button",{onClick:v=>c(v,h._id),className:"p-2 text-light-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Delete notification",children:s.jsx(Tl,{className:"w-4 h-4"})})})]},h._id)})}):s.jsx("div",{className:"space-y-4 p-6",children:[1,2,3].map(h=>s.jsxs("div",{className:"flex gap-4 animate-pulse",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-light-border dark:bg-dark-border"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 w-3/4 bg-light-border dark:bg-dark-border rounded"}),s.jsx("div",{className:"h-3 w-1/4 bg-light-border dark:bg-dark-border rounded"})]})]},h))})})]})]})}):null}function Wh(){return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-light-bg dark:bg-dark-bg",children:s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsxs(P.div,{className:"w-24 h-24 mb-8 relative",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5},children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-500/20 animate-ping"}),s.jsx("div",{className:"absolute inset-2 rounded-full bg-primary-500/40 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"w-16 h-16 rounded-2xl shadow-2xl z-10"})})]}),s.jsxs(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col items-center gap-2",children:[s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent",children:"Baptizo Community"}),s.jsx("div",{className:"flex gap-1",children:[0,1,2].map(e=>s.jsx(P.div,{className:"w-2 h-2 rounded-full bg-primary-500",animate:{y:[0,-6,0],opacity:[.5,1,.5]},transition:{duration:.8,repeat:1/0,delay:e*.2}},e))})]})]})})}function xA(){const{user:e}=H(),[t,r]=b.useState(""),[n,i]=b.useState(null),a=W(E.assignments.getUserAssignments,e?{userId:e._id}:"skip"),o=Q(E.assignments.submitAssignment);if(!e)return null;if(a===void 0)return s.jsx(Wh,{});const l=a.filter(u=>u.status==="pending"),c=a.filter(u=>u.status!=="pending"),d=async u=>{if(t.trim())try{await o({assignmentId:u,userId:e._id,content:t}),i(null),r("")}catch(h){console.error("Failed to submit:",h),alert("Failed to submit assignment")}};return s.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 pb-20",children:[s.jsx(se,{}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"My Tasks"}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[s.jsx(Sl,{className:"w-5 h-5 text-amber-500"}),"Pending (",l.length,")"]}),l.length===0?s.jsx("p",{className:"text-light-muted dark:text-dark-muted italic",children:"No pending tasks."}):s.jsx("div",{className:"space-y-4",children:l.map(u=>{var h;return s.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm border border-amber-500/20",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Instruction from ",u.adminName]}),s.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(h=u.postContent)==null?void 0:h.substring(0,50),'..."']})]}),s.jsx(q,{variant:"warning",children:"Pending"})]}),s.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg mb-4 text-light-text dark:text-dark-text",children:u.instructions}),n===u._id?s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:t,onChange:m=>r(m.target.value),placeholder:"Type your response here...",className:"w-full min-h-[150px] p-4 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500"}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(L,{variant:"ghost",onClick:()=>i(null),children:"Cancel"}),s.jsx(L,{variant:"primary",onClick:()=>d(u._id),disabled:!t.trim(),children:"Submit Response"})]})]}):s.jsx(L,{variant:"primary",onClick:()=>i(u._id),children:"Start Task"})]},u._id)})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 text-light-text dark:text-dark-text flex items-center gap-2",children:[s.jsx(sn,{className:"w-5 h-5 text-primary-500"}),"History"]}),s.jsx("div",{className:"space-y-4",children:c.map(u=>{var h;return s.jsxs("div",{className:"glass p-6 rounded-xl shadow-sm opacity-80 hover:opacity-100 transition-opacity",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-lg text-light-text dark:text-dark-text mb-1",children:["Task from ",u.adminName]}),s.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:['Re: "',(h=u.postContent)==null?void 0:h.substring(0,30),'..."']})]}),s.jsx(q,{variant:u.status==="approved"?"success":u.status==="rejected"?"danger":"default",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),s.jsxs("div",{className:"mb-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Instructions:"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted bg-light-bg dark:bg-dark-bg p-2 rounded",children:u.instructions})]}),s.jsxs("div",{className:"mb-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Your Submission:"}),s.jsx("p",{className:"text-sm text-light-text dark:text-dark-text bg-light-bg dark:bg-dark-bg p-3 rounded",children:u.submissionContent})]}),(u.grade||u.feedback)&&s.jsxs("div",{className:`p-4 rounded-lg ${u.status==="approved"?"bg-green-500/10 border border-green-500/20":u.status==="rejected"?"bg-red-500/10 border border-red-500/20":"bg-primary-500/10 border border-primary-500/20"}`,children:[u.grade&&s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ya,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-bold",children:["Grade: ",u.grade]})]}),u.feedback&&s.jsxs("p",{className:"text-sm italic",children:['"',u.feedback,'"']})]})]},u._id)})})]})]})}function yA(){const{user:e}=H(),[t,r]=b.useState(null),[n,i]=b.useState(""),[a,o]=b.useState(""),[l,c]=b.useState(!1),d=W(E.assignments.getPendingReviews,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),u=Q(E.assignments.reviewAssignment);if(!e||e.role!=="admin"&&e.role!=="super_admin")return s.jsx("div",{className:"p-8 text-center",children:"Unauthorized"});if(d===void 0)return s.jsx(Wh,{});const h=async m=>{if(!(!t||!e)){c(!0);try{await u({assignmentId:t,adminId:e._id,status:m,grade:n.trim(),feedback:a.trim()}),r(null),i(""),o("")}catch(f){console.error("Failed to review:",f),alert("Failed to submitting review")}finally{c(!1)}}};return s.jsxs("div",{className:"container max-w-5xl mx-auto px-4 py-8 pb-20",children:[s.jsx(se,{}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 text-gradient font-display",children:"Task Reviews"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"font-semibold text-lg mb-2 text-light-text dark:text-dark-text",children:["Pending Submissions (",d.length,")"]}),d.length===0&&s.jsx("div",{className:"glass p-8 text-center text-light-muted dark:text-dark-muted",children:"No tasks waiting for review."}),d.map(m=>s.jsxs("div",{onClick:()=>r(m._id),className:`glass p-4 rounded-xl cursor-pointer transition-all border ${t===m._id?"border-primary-500 ring-1 ring-primary-500":"border-transparent hover:border-primary-500/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-light-bg dark:bg-dark-bg flex items-center justify-center",children:s.jsx(Pt,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-light-text dark:text-dark-text",children:m.userName}),s.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:["Submitted ",new Date(m.updatedAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-light-muted dark:text-dark-muted mb-1",children:"Task"}),s.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-2",children:m.instructions})]}),s.jsx(q,{variant:"warning",className:"mt-2",children:"Needs Review"})]},m._id))]}),s.jsx("div",{className:"glass p-6 rounded-xl h-fit sticky top-24",children:t?(()=>{const m=d.find(f=>f._id===t);return m?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-light-border dark:border-dark-border pb-4",children:[s.jsxs("h3",{className:"font-bold text-xl text-light-text dark:text-dark-text mb-1",children:["Reviewing ",m.userName,"'s Work"]}),s.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:["Original Task: ",m.instructions]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Submission:"}),s.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-light-text dark:text-dark-text whitespace-pre-wrap",children:m.submissionContent})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t border-light-border dark:border-dark-border",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grade / Score (Optional)"}),s.jsx("input",{type:"text",value:n,onChange:f=>i(f.target.value),placeholder:"e.g. A+, 95/100, Passed",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Feedback (Optional)"}),s.jsx("textarea",{value:a,onChange:f=>o(f.target.value),placeholder:"Great work! Just one thing...",className:"w-full px-4 py-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border min-h-[100px]"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsxs(L,{className:"flex-1 bg-red-500 hover:bg-red-600 text-white",onClick:()=>h("rejected"),disabled:l,children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsxs(L,{className:"flex-1 bg-green-500 hover:bg-green-600 text-white",onClick:()=>h("approved"),disabled:l,children:[s.jsx(xt,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]})]}):null})():s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-light-muted dark:text-dark-muted py-12",children:[s.jsx(er,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{children:"Select a submission to review"})]})})]})]})}function vA(){const{user:e}=H(),t=Q(E.users.claimSuperAdmin),[r,n]=b.useState("idle"),[i,a]=b.useState(""),o=async()=>{if(e){n("loading");try{await t({userId:e._id}),n("success"),setTimeout(()=>{window.location.href="/admin"},2e3)}catch(l){n("error"),a(l.message||"Failed to claim super admin.")}}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(O,{className:"max-w-md w-full bg-light-card dark:bg-dark-card border-light-border dark:border-dark-border",children:s.jsxs(V,{className:"p-8 text-center space-y-6",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Gemini_Generated_Image_zcvetszcvetszcve%20(1).png",alt:"Baptizo",className:"h-20 w-auto rounded-3xl shadow-2xl"})}),s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center",children:s.jsx(kr,{className:"w-6 h-6 text-primary-500"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-2",children:"Super Admin Setup"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Initialize the system by claiming the first Super Admin role. This is a one-time setup step."})]}),r==="idle"&&s.jsx(L,{variant:"primary",size:"lg",className:"w-full",onClick:o,children:"Claim Super Admin Role"}),r==="loading"&&s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}),r==="success"&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[s.jsx(ya,{className:"w-6 h-6"}),s.jsx("p",{className:"font-medium",children:"Success! Redirecting..."})]}),r==="error"&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg flex flex-col items-center gap-2",children:[s.jsx(Oh,{className:"w-6 h-6"}),s.jsx("p",{className:"font-medium",children:i}),s.jsx(L,{variant:"outline",size:"sm",onClick:()=>n("idle"),className:"mt-2",children:"Try Again"})]})]})})}):s.jsx("div",{className:"p-8 text-center",children:"Please login first."})}function bA({isOpen:e,onClose:t,responseId:r,userName:n,content:i}){const{user:a}=H(),o=Q(E.responses.gradeResponse),[l,c]=b.useState(0),[d,u]=b.useState(""),[h,m]=b.useState(!1),f=async v=>{if(v.preventDefault(),!(!a||a.role!=="admin"&&a.role!=="super_admin")){m(!0);try{await o({adminId:a._id,responseId:r,grade:l,feedback:d.trim()}),t()}catch(p){console.error("Failed to grade response:",p),alert("Failed to save grade. Please try again.")}finally{m(!1)}}};return s.jsx(on,{isOpen:e,onClose:t,title:`Grade Response from ${n}`,children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text border border-light-border dark:border-dark-border max-h-40 overflow-y-auto",children:s.jsx("p",{className:"whitespace-pre-wrap",children:i})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Score (0-100)"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"0",max:"100",value:l,onChange:v=>c(parseInt(v.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),s.jsx("input",{type:"number",min:"0",max:"100",value:l,onChange:v=>c(Math.min(100,Math.max(0,parseInt(v.target.value)||0))),className:"w-16 p-2 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-center font-bold"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:"Feedback (Optional)"}),s.jsx("textarea",{value:d,onChange:v=>u(v.target.value),placeholder:"Great job! Next time try to...",className:"w-full min-h-[100px] p-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 text-light-text dark:text-dark-text"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(L,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),s.jsxs(L,{type:"submit",variant:"primary",disabled:h,className:"flex items-center gap-2",children:[s.jsx(xa,{className:"w-4 h-4"}),h?"Saving...":"Save Grade"]})]})]})})}function kA(){const{user:e,isLoading:t}=H(),r=e&&(e.role==="admin"||e.role==="super_admin"),n=W(E.responses.getPendingResponses,r?{adminId:e._id}:"skip"),[i,a]=b.useState(null);return t?s.jsx("div",{className:"p-8 text-center text-light-muted",children:"Loading..."}):!e||e.role!=="admin"&&e.role!=="super_admin"?s.jsx(le,{to:"/feed",replace:!0}):s.jsxs("div",{className:"min-h-screen py-8",children:[s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Official Response Reviews"}),s.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"Review and grade responses to Official Posts."})]}),s.jsx("div",{className:"grid gap-6",children:n&&n.length>0?n.map(o=>s.jsx(O,{glass:!0,className:"hover:border-primary-500/50 transition-colors",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{variant:"outline",className:"text-xs",children:o.postTitle}),s.jsx("span",{className:"text-xs text-light-muted",children:new Date(o._creationTime||0).toLocaleDateString()})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-light-text dark:text-dark-text mb-1",children:o.userName}),s.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text whitespace-pre-wrap",children:o.content})]})]}),s.jsx("div",{className:"flex flex-col justify-center items-end gap-2 md:w-48 border-t md:border-t-0 md:border-l border-light-border dark:border-dark-border pt-4 md:pt-0 md:pl-6",children:s.jsxs(L,{variant:"primary",onClick:()=>a({_id:o._id,userName:o.userName,content:o.content}),className:"w-full flex items-center justify-center gap-2",children:[s.jsx(ya,{className:"w-4 h-4"}),"Grade"]})})]})})},o._id)):s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-12 text-center text-light-muted flex flex-col items-center gap-4",children:[s.jsx(va,{className:"w-12 h-12 text-light-muted opacity-50"}),s.jsx("p",{children:"No pending responses to review."})]})})})]}),i&&s.jsx(bA,{isOpen:!!i,onClose:()=>a(null),responseId:i._id,userName:i.userName,content:i.content})]})}function wA(){const{user:e,isLoading:t}=H(),[r,n]=b.useState(null),[i,a]=b.useState(new Set),[o,l]=b.useState(new Set),[c,d]=b.useState(new Set),[u,h]=b.useState(!1),m=Q(E.responses.markResponseAsPaid),f=W(E.posts.getPosts,(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="super_admin"?{}:"skip"),v=W(E.responses.getResponsesByPost,r&&(e!=null&&e._id)?{postId:r,adminId:e._id}:"skip");if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const p=(f==null?void 0:f.filter(g=>g.authorId===e._id))||[],k=p.find(g=>g._id===r),y=g=>{a(w=>{const j=new Set(w);return j.has(g)?j.delete(g):j.add(g),j})},x=g=>{l(w=>{const j=new Set(w);return j.has(g)?j.delete(g):j.add(g),j})};return s.jsxs("div",{className:"min-h-screen py-8",children:[s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Response Rewards"}),s.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View responders by position and manage rewards"})]}),s.jsx(O,{glass:!0,className:"mb-8",children:s.jsxs(V,{className:"p-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:"Select Your Post"}),s.jsx("div",{className:"md:hidden",children:s.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text",children:[s.jsx("span",{className:"truncate",children:k?`[${k.category}] ${k.content.substring(0,40)}...`:"Choose a post..."}),s.jsx(Bn,{className:"w-4 h-4 text-light-muted"})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsxs("select",{value:r||"",onChange:g=>n(g.target.value),className:"w-full px-4 py-3 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Choose a post..."}),p.map(g=>s.jsxs("option",{value:g._id,children:["[",g.category,"] ",g.content.substring(0,60),g.content.length>60?"...":""," ","(",new Date(g.createdAt).toLocaleDateString(),")"]},g._id))]})}),p.length===0&&s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mt-2",children:"You haven't created any posts yet."})]})}),k&&v&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total Responses"}),s.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:v.length})]}),s.jsx(Je,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:v.filter(g=>g.grade!==void 0).length})]}),s.jsx(xa,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:v.filter(g=>g.grade===void 0).length})]}),s.jsx(Ii,{className:"w-8 h-8 text-orange-500 opacity-20"})]})})})]}),s.jsx("div",{className:"space-y-4",children:r?v&&v.length>0?v.map(g=>{const w=i.has(g.position),j=o.has(g.position);return s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ze,{className:"flex items-center gap-3",children:[s.jsxs("div",{className:`w-12 h-12 rounded-full text-white flex items-center justify-center text-lg font-bold shadow-lg ${g.position===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":g.position===2?"bg-gradient-to-br from-gray-300 to-gray-500":g.position===3?"bg-gradient-to-br from-amber-600 to-amber-800":"bg-gradient-to-br from-primary-500 to-secondary-500"}`,children:["#",g.position]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-light-text dark:text-dark-text",children:g.user.name}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted font-normal",children:new Date(g.createdAt).toLocaleString()})]})]}),g.grade!==void 0&&s.jsxs(q,{variant:"primary",children:["Grade: ",g.grade,"/100"]})]})}),s.jsx(V,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-3 flex items-center gap-2",children:[s.jsx(Ii,{className:"w-5 h-5 text-accent-500"}),"Payment Information"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zn,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text",children:g.user.email})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("span",{className:"text-sm text-light-text dark:text-dark-text font-mono",children:ab(g.user.phone)})]}),s.jsx(q,{variant:"default",className:"text-[10px] md:text-xs",children:g.user.network})]}),s.jsx("div",{className:"pt-2 border-t border-light-border dark:border-dark-border",children:g.user.bankName?s.jsxs("div",{className:"space-y-2 bg-light-bg dark:bg-dark-bg p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Bank"}),s.jsx("p",{className:"text-sm font-medium text-light-text dark:text-dark-text",children:g.user.bankName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Number"}),s.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-hidden",children:[s.jsx("p",{className:"text-sm font-mono text-light-text dark:text-dark-text truncate",children:w?g.user.accountNumber:qh(g.user.accountNumber||"")}),s.jsx("button",{onClick:()=>y(g.position),className:"flex-shrink-0 p-1 text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:w?s.jsx($s,{className:"w-4 h-4"}):s.jsx(Yn,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Account Name"}),s.jsx("p",{className:"text-sm text-light-text dark:text-dark-text",children:g.user.accountName})]})]}):s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted italic",children:"No banking info provided"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Response Content"}),s.jsxs("button",{onClick:()=>x(g.position),className:"text-primary-500 hover:text-primary-600 transition-colors flex items-center gap-1 text-sm",children:[j?"Collapse":"Expand",s.jsx(Bn,{className:`w-4 h-4 transition-transform ${j?"rotate-180":""}`})]})]}),s.jsx("div",{className:`bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text ${j?"":"line-clamp-4"}`,children:g.content}),g.feedback&&s.jsxs("div",{className:"pt-2 border-t border-light-border dark:border-dark-border",children:[s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mb-1",children:"Admin Feedback"}),s.jsxs("p",{className:"text-sm text-light-text dark:text-dark-text italic",children:['"',g.feedback,'"']})]})]}),s.jsx("div",{className:"pt-3 border-t border-light-border dark:border-dark-border",children:g.rewardStatus==="paid"?s.jsx("div",{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:s.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium flex items-center justify-center gap-2",children:[s.jsx(xt,{className:"w-4 h-4"}),"Reward Paid ",g.rewardPaidAt&&`on ${new Date(g.rewardPaidAt).toLocaleDateString()}`]})}):s.jsxs(L,{onClick:async()=>{if(e){d(S=>new Set(S).add(g._id));try{await m({responseId:g._id,adminId:e._id})}catch(S){console.error("Failed to mark as paid:",S),alert("Failed to mark as paid")}finally{d(S=>{const N=new Set(S);return N.delete(g._id),N})}}},variant:"primary",className:"w-full flex items-center justify-center gap-2",disabled:c.has(g._id),children:[s.jsx(Ii,{className:"w-4 h-4"}),c.has(g._id)?"Processing...":"Mark as Paid"]})})]})})]},g._id)}):s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-12 text-center text-light-muted",children:s.jsx("p",{children:"No responses yet for this post"})})}):s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-12 text-center text-light-muted",children:[s.jsx(Je,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),s.jsx("p",{children:"Select a post above to view responses and manage rewards"})]})})})]}),s.jsx(on,{isOpen:u,onClose:()=>h(!1),title:"Select a Post",children:s.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto p-1",children:[p.map(g=>s.jsxs("button",{onClick:()=>{n(g._id),h(!1)},className:`w-full text-left p-4 rounded-xl border-2 transition-all ${r===g._id?"border-primary-500 bg-primary-50/50 dark:bg-primary-900/10":"border-light-border dark:border-dark-border hover:border-primary-500"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(q,{variant:g.category==="Ancient Culture"?"primary":"secondary",children:g.category}),s.jsx("span",{className:"text-xs text-light-muted",children:new Date(g.createdAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-light-text dark:text-dark-text line-clamp-2",children:g.content})]},g._id)),p.length===0&&s.jsx("p",{className:"text-center py-8 text-light-muted",children:"No posts found."})]})})]})}function jA(){const{user:e,isLoading:t}=H(),r=W(E.responses.getMyResponses,e!=null&&e._id?{userId:e._id}:"skip");return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"My Responses"}),s.jsx("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:"View all your responses and grades"})]}),r&&r.length>0&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8",children:[s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:r.length})]}),s.jsx(er,{className:"w-8 h-8 text-primary-500 opacity-20"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Graded"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:r.filter(n=>n.grade!==void 0).length})]}),s.jsx(xa,{className:"w-8 h-8 text-green-500 opacity-20"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Avg Grade"}),s.jsx("p",{className:"text-2xl font-bold text-accent-500",children:r.filter(n=>n.grade!==void 0).length>0?Math.round(r.filter(n=>n.grade!==void 0).reduce((n,i)=>n+(i.grade||0),0)/r.filter(n=>n.grade!==void 0).length):0})]}),s.jsx(Je,{className:"w-8 h-8 text-accent-500 opacity-20"})]})})})]}),s.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(n=>{const i=n.grade?n.grade>=80?"text-green-500":n.grade>=50?"text-yellow-500":"text-red-500":"text-light-muted dark:text-dark-muted";return s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-lg mb-2",children:n.postTitle}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-light-muted dark:text-dark-muted",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nl,{className:"w-4 h-4"}),new Date(n.createdAt).toLocaleDateString()]}),s.jsx(q,{variant:"default",children:n.category})]})]}),n.grade!==void 0&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:`text-3xl font-bold ${i}`,children:n.grade}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"/ 100"})]})]})}),s.jsx(V,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2",children:"Your Response"}),s.jsx("div",{className:"bg-light-bg dark:bg-dark-bg p-4 rounded-lg text-sm text-light-text dark:text-dark-text",children:n.content})]}),n.feedback&&s.jsxs("div",{className:"border-t border-light-border dark:border-dark-border pt-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-light-text dark:text-dark-text mb-2 flex items-center gap-2",children:[s.jsx(sn,{className:"w-4 h-4 text-accent-500"}),"Admin Feedback"]}),s.jsxs("div",{className:"bg-accent-50 dark:bg-accent-900/20 p-3 rounded-lg text-sm text-light-text dark:text-dark-text italic border-l-4 border-accent-500",children:['"',n.feedback,'"']})]}),n.grade===void 0&&s.jsx("div",{className:"text-center p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800",children:s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400",children:" Waiting for admin to grade"})}),n.rewardStatus==="paid"&&s.jsxs(P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"text-center p-4 rounded-xl bg-gradient-to-r from-green-500/10 via-green-500/20 to-green-500/10 border border-green-500/30 shadow-lg shadow-green-500/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 font-bold uppercase tracking-tight",children:[s.jsx(Je,{className:"w-5 h-5 animate-bounce"}),s.jsx("span",{children:"Official Reward Paid!"}),s.jsx(Je,{className:"w-5 h-5 animate-bounce"})]}),s.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70 mt-1",children:"Check your bank account/wallet for the transfer."})]})]})})]},n._id)}):s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-12 text-center text-light-muted",children:[s.jsx(er,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),s.jsx("p",{className:"mb-2",children:"You haven't submitted any responses yet"}),s.jsx("p",{className:"text-sm",children:'Look for admin posts with "Official Response" enabled and submit your answers!'})]})})})]})}):s.jsx(le,{to:"/login",replace:!0})}function NA(){const e=W(E.responses.getLeaderboard);return e?s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient font-display mb-2",children:"Monthly Leaderboard"}),s.jsxs("p",{className:"text-sm md:text-base text-light-muted dark:text-dark-muted",children:["Top responders for ",new Date().toLocaleString("default",{month:"long",year:"numeric"})]})]}),s.jsx("div",{className:"space-y-4",children:e.length===0?s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-8 text-center",children:[s.jsx(Je,{className:"w-16 h-16 text-primary-200 mx-auto mb-4"}),s.jsx("p",{className:"text-lg text-light-muted",children:"No graded responses yet this month."}),s.jsx("p",{className:"text-sm text-light-muted",children:"Be the first to respond to an Official Post!"})]})}):e.map((t,r)=>s.jsx(SA,{entry:t,rank:r+1},t.userId))})]})}):s.jsx("div",{className:"p-8 text-center text-light-muted",children:"Loading leaderboard..."})}function SA({entry:e,rank:t}){let r=null,n="bg-light-card dark:bg-dark-card";return t===1?(r=s.jsx(Je,{className:"w-6 h-6 text-yellow-500"}),n="bg-yellow-50/50 dark:bg-yellow-900/10 border-yellow-200 dark:border-yellow-800"):t===2?(r=s.jsx(nu,{className:"w-6 h-6 text-gray-400"}),n="bg-gray-50/50 dark:bg-gray-900/10 border-gray-200 dark:border-gray-800"):t===3&&(r=s.jsx(nu,{className:"w-6 h-6 text-orange-400"}),n="bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800"),s.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl border transition-all hover:scale-[1.01] ${n}`,children:[s.jsx("div",{className:"flex-shrink-0 w-12 text-center font-bold text-xl text-light-muted dark:text-dark-muted flex justify-center",children:r||s.jsxs("span",{children:["#",t]})}),s.jsx(B,{to:`/profile/${e.userId}`,className:"flex-shrink-0 group-hover:opacity-80 transition-opacity",children:s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-primary-400 to-primary-600",children:e.avatarUrl?s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-lg",children:e.name[0]})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(B,{to:`/profile/${e.userId}`,className:"font-bold text-lg text-light-text dark:text-dark-text truncate hover:text-primary-500 transition-colors",children:e.name}),s.jsxs("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:[e.responsesCount," graded response",e.responsesCount!==1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.totalScore}),s.jsx("div",{className:"text-xs text-light-muted uppercase tracking-wider font-medium",children:"Points"})]})]})}function CA(){var a,o,l;const{postId:e}=fl(),t=W(E.posts.getPost,{postId:e}),r=W(E.responses.getPostResponses,{postId:e});if(!t||!r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const n=r.slice(0,5),i=r.slice(5,10);return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[s.jsx(se,{}),s.jsxs("div",{className:"mb-8 p-6 glass rounded-2xl border border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-transparent",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ft,{src:(a=t.author)==null?void 0:a.avatarUrl,alt:((o=t.author)==null?void 0:o.name)||"Admin",size:"sm"}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold text-light-text dark:text-dark-text",children:(l=t.author)==null?void 0:l.name}),s.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted flex items-center gap-1",children:[s.jsx(Nl,{className:"w-3 h-3"}),fn(t.createdAt,{addSuffix:!0})]})]})]}),s.jsxs("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base whitespace-pre-wrap italic opacity-80",children:['"',t.content,'"']})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gradient flex items-center gap-2",children:[s.jsx(er,{className:"w-6 h-6 text-primary-500"}),"Official Responses"]}),s.jsxs(q,{variant:"primary",className:"px-3 py-1",children:[r.length," Total"]})]}),s.jsxs("div",{className:"space-y-8",children:[n.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary-600 dark:text-primary-400 font-bold uppercase tracking-wider text-xs",children:[s.jsx(Je,{className:"w-4 h-4"}),"Top Tier Responders (1-5)"]}),s.jsx("div",{className:"grid gap-4",children:n.map((c,d)=>s.jsx(dg,{response:c,rank:d+1,tier:"gold"},c._id))})]}),i.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-secondary-600 dark:text-secondary-400 font-bold uppercase tracking-wider text-xs",children:[s.jsx(nu,{className:"w-4 h-4"}),"Second Tier Responders (6-10)"]}),s.jsx("div",{className:"grid gap-4",children:i.map((c,d)=>s.jsx(dg,{response:c,rank:d+6,tier:"silver"},c._id))})]}),r.length===0&&s.jsxs("div",{className:"text-center py-12 glass rounded-xl border-dashed border-2 border-light-border dark:border-dark-border",children:[s.jsx(er,{className:"w-12 h-12 text-light-muted mx-auto mb-4 opacity-30"}),s.jsx("p",{className:"text-light-muted",children:"No responses yet for this post."})]})]})]})})}function dg({response:e,rank:t,tier:r}){const n=r==="gold";return s.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:`flex flex-col md:flex-row gap-4 p-5 rounded-2xl border transition-all ${n?"bg-primary-500/5 border-primary-500/30":"bg-light-bg dark:bg-dark-bg border-light-border dark:border-dark-border"}`,children:s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Ft,{src:e.userAvatar,alt:e.userName,size:"md"}),s.jsxs("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg ${n?"bg-primary-500":"bg-secondary-500"}`,children:["#",t]})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text",children:e.userName}),s.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted",children:fn(e.createdAt,{addSuffix:!0})})]}),s.jsx("p",{className:"text-sm text-light-text dark:text-dark-text leading-relaxed",children:e.content}),e.grade!==void 0&&s.jsxs("div",{className:"pt-3 flex flex-wrap gap-2 items-center",children:[s.jsxs(q,{variant:e.grade>=70?"success":"primary",className:"text-[10px] font-bold uppercase transition-all hover:scale-105",children:["Score: ",e.grade,"/100"]}),e.rewardStatus==="paid"&&s.jsxs(q,{variant:"warning",className:"text-[10px] flex items-center gap-1 animate-pulse",children:[s.jsx(Je,{className:"w-3 h-3"}),"Awarded"]}),e.feedback&&s.jsxs("div",{className:"w-full mt-2 p-3 rounded-lg bg-light-bg dark:bg-dark-bg/50 border border-light-border dark:border-dark-border/50 italic text-xs text-light-muted",children:['Admin feedback: "',e.feedback,'"']})]})]})]})})}function _c(){return s.jsxs("div",{className:"flex gap-3 animate-pulse",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-light-border dark:bg-dark-border"}),s.jsxs("div",{className:"flex-1 bg-light-card dark:bg-dark-card rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-4 w-24 bg-light-border dark:bg-dark-border rounded"}),s.jsx("div",{className:"h-3 w-16 bg-light-border dark:bg-dark-border rounded"})]}),s.jsx("div",{className:"h-3 w-full bg-light-border dark:bg-dark-border rounded"}),s.jsx("div",{className:"h-3 w-3/4 bg-light-border dark:bg-dark-border rounded"})]})]})}function TA({postId:e}){const{user:t}=H(),[r,n]=b.useState(""),[i,a]=b.useState(!1),[o,l]=b.useState(null),c=W(E.comments.getComments,{postId:e}),d=W(E.comments.getCommentSettings,{}),u=Q(E.comments.createComment),h=async(p,k)=>{p.preventDefault();const y=r;if(!(!t||!y.trim()||i)){a(!0);try{await u({postId:e,authorId:t._id,content:y.trim(),parentId:k}),n(""),l(null)}catch(x){console.error("Failed to create comment:",x),alert(x instanceof Error?x.message:"Failed to post comment")}finally{a(!1)}}},f=(()=>{if(!c)return[];const p=[],k=new Map;return c.forEach(y=>{k.set(y._id,{...y,replies:[]})}),c.forEach(y=>{if(y.parentId){const x=k.get(y.parentId);x&&x.replies.push(k.get(y._id))}else p.push(k.get(y._id))}),p})(),v=({comment:p,isReply:k=!1})=>{var y,x,g,w,j,S,N,C;return s.jsxs("div",{className:`flex gap-2 md:gap-3 ${k?"ml-8 md:ml-12 mt-2":""} group`,children:[s.jsx(B,{to:`/profile/${(y=p.author)==null?void 0:y._id}`,className:"shrink-0 mt-1",children:s.jsx(Ft,{src:(x=p.author)==null?void 0:x.avatarUrl,alt:((g=p.author)==null?void 0:g.name)||"User",size:k?"xs":"sm"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsxs("div",{className:"bg-light-card dark:bg-dark-card rounded-2xl px-3 py-2 md:px-4 md:py-2.5 inline-block max-w-full shadow-sm border border-light-border/50 dark:border-dark-border/50",children:[s.jsxs(B,{to:`/profile/${(w=p.author)==null?void 0:w._id}`,className:"font-bold text-sm text-light-text dark:text-dark-text hover:underline block mb-0.5 truncate",children:[((j=p.author)==null?void 0:j.name)||"Unknown User",((S=p.author)==null?void 0:S.role)==="admin"&&s.jsx(kr,{className:"w-3 h-3 inline-block ml-1 text-primary-500"})]}),s.jsx("p",{className:"text-sm text-light-text dark:text-dark-text break-words leading-relaxed whitespace-pre-wrap",children:p.content})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 ml-2",children:[s.jsx("span",{className:"text-[11px] md:text-xs text-light-muted dark:text-dark-muted font-medium",children:fn(p.createdAt,{addSuffix:!0})}),!k&&t&&s.jsx("button",{onClick:()=>l(o===p._id?null:p._id),className:"text-[11px] md:text-xs font-bold text-light-muted dark:text-dark-muted hover:text-primary-500 transition-colors",children:"Reply"})]})]}),o===p._id&&s.jsxs(P.form,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},onSubmit:T=>h(T,p._id),className:"mt-3 flex gap-2",children:[s.jsx(Ft,{src:t==null?void 0:t.avatarUrl,size:"xs",className:"hidden md:block"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:r,onChange:T=>n(T.target.value),placeholder:`Reply to ${(N=p.author)==null?void 0:N.name}...`,className:"w-full pl-3 pr-10 py-2 text-sm rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0}),s.jsx("button",{type:"submit",disabled:!r.trim()||i,className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg disabled:opacity-50",children:s.jsx(iu,{className:"w-4 h-4"})})]})]}),((C=p.replies)==null?void 0:C.length)>0&&s.jsx("div",{className:"space-y-3 mt-3 relative before:absolute before:left-[-1.5rem] before:top-2 before:bottom-4 before:w-px before:bg-light-border/50 dark:before:bg-dark-border/50 md:before:hidden",children:p.replies.map(T=>s.jsx(v,{comment:T,isReply:!0},T._id))})]})]})};return d===void 0||d===!1?s.jsx("div",{className:"mt-4 p-4 rounded-lg bg-light-card dark:bg-dark-card text-center",children:s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Comments are currently disabled"})}):s.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border space-y-4",children:[t&&s.jsxs("form",{onSubmit:p=>h(p),className:"flex items-start gap-2 md:gap-3",children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:s.jsx(Ft,{src:t.avatarUrl,alt:t.name,size:"sm"})}),s.jsxs("div",{className:"flex-1 min-w-0 relative",children:[s.jsx("textarea",{value:o?"":r,onChange:p=>{l(null),n(p.target.value)},placeholder:"Write a comment...",className:"w-full px-4 py-2.5 pr-12 rounded-2xl border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none overflow-hidden min-h-[44px] max-h-32 text-sm md:text-base transition-all",disabled:i,rows:1,onInput:p=>{const k=p.target;k.style.height="auto",k.style.height=`${k.scrollHeight}px`}}),s.jsx("button",{type:"submit",disabled:!o&&!r.trim()||i,className:"absolute right-1.5 bottom-1.5 p-2 rounded-xl bg-primary-500 hover:bg-primary-600 text-white transition-all disabled:opacity-30 disabled:cursor-not-allowed flex items-center justify-center shadow-lg shadow-primary-500/20 active:scale-95",children:s.jsx(iu,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),c?f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(p=>s.jsx(v,{comment:p},p._id))}):s.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:s.jsx("p",{children:"No comments yet. Be the first to share your thoughts!"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(_c,{}),s.jsx(_c,{}),s.jsx(_c,{})]})]})}function PA(){var v,p,k,y,x;const{postId:e}=fl(),{user:t}=H(),r=W(E.posts.getPost,{postId:e}),n=Q(E.posts.likePost),[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,h]=b.useState((r==null?void 0:r.likeCount)||0);if(b.useState(()=>{r&&h(r.likeCount)}),!r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});const m=async()=>{if(!t||o)return;const g=!c;d(g),h(w=>g?w+1:w-1),l(!0);try{await n({userId:t._id,postId:r._id})}catch(w){d(!g),h(j=>g?j-1:j+1),console.error("Failed to like post:",w)}finally{l(!1)}},f=r.content.length>250;return s.jsxs("div",{className:"min-h-screen pb-20 md:pb-8",children:[s.jsx("div",{className:"container mx-auto px-4 pt-4 mb-4",children:s.jsx(se,{})}),s.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[s.jsxs("div",{className:"lg:sticky lg:top-24 space-y-4",children:[r.imageUrl?s.jsx(P.div,{layoutId:`post-image-${r._id}`,className:"rounded-2xl overflow-hidden glass border border-light-border dark:border-dark-border shadow-2xl",children:s.jsx("img",{src:r.imageUrl,alt:"Post",className:"w-full h-auto max-h-[70vh] object-contain bg-black/5"})}):r.videoUrl?s.jsx("div",{className:"rounded-2xl overflow-hidden bg-black shadow-2xl",children:s.jsx("video",{src:r.videoUrl,controls:!0,className:"w-full max-h-[70vh]"})}):s.jsx("div",{className:"aspect-square flex items-center justify-center glass rounded-2xl border border-dashed border-light-border dark:border-dark-border opacity-50",children:s.jsx("p",{className:"text-light-muted",children:"No visual media"})}),s.jsxs("div",{className:"hidden lg:block p-6 glass rounded-2xl border border-light-border dark:border-dark-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:m,className:`flex items-center gap-2 transition-all duration-300 ${c?"text-red-500":"text-light-text dark:text-dark-text hover:text-red-500"}`,children:[s.jsx(qs,{className:`w-6 h-6 transition-all duration-300 ${c?"fill-red-500 text-red-500 scale-110":""}`}),s.jsxs("span",{className:"font-bold",children:[u," Likes"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-light-muted",children:[s.jsx(Os,{className:"w-6 h-6"}),s.jsxs("span",{className:"font-bold",children:[r.commentCount," Comments"]})]})]}),s.jsx("button",{className:"p-2 rounded-full hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:s.jsx(Ws,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"h-px bg-light-border dark:bg-dark-border mb-4"}),s.jsxs("p",{className:"text-xs text-light-muted flex items-center gap-2",children:[s.jsx(Nl,{className:"w-3 h-3"}),"Posted on ",new Date(r.createdAt).toLocaleDateString(void 0,{dateStyle:"long"})," at ",new Date(r.createdAt).toLocaleTimeString(void 0,{timeStyle:"short"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 glass rounded-2xl border border-light-border dark:border-dark-border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ft,{src:(v=r.author)==null?void 0:v.avatarUrl,alt:((p=r.author)==null?void 0:p.name)||"User",size:"md"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"font-bold text-lg text-light-text dark:text-dark-text flex items-center gap-2",children:[(k=r.author)==null?void 0:k.name,((y=r.author)==null?void 0:y.role)==="admin"&&s.jsx(kr,{className:"w-4 h-4 text-primary-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{variant:"outline",className:"text-[10px]",children:r.category}),s.jsx("span",{className:"text-xs text-light-muted",children:fn(r.createdAt,{addSuffix:!0})})]})]})]}),((x=r.author)==null?void 0:x.role)==="admin"?s.jsx(q,{variant:"primary",className:"hidden sm:flex",children:"Official"}):s.jsx(q,{variant:"default",className:"hidden sm:flex",children:"Member"})]}),s.jsxs("div",{className:"p-6 glass rounded-2xl border border-light-border dark:border-dark-border relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10",children:s.jsx(Pt,{className:"w-20 h-20"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(We,{initial:!1,children:s.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},className:`text-light-text dark:text-dark-text leading-relaxed text-base md:text-lg ${!i&&f?"line-clamp-[6]":""}`,children:r.content},i?"expanded":"collapsed")}),f&&s.jsx("button",{onClick:()=>a(!i),className:"mt-4 flex items-center gap-1 text-primary-500 font-bold hover:underline transition-all",children:i?s.jsxs(s.Fragment,{children:["Show Less ",s.jsx(Vh,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:["Read Full Message ",s.jsx(Bn,{className:"w-4 h-4"})]})})]})]}),s.jsxs("div",{className:"p-4 md:p-6 glass rounded-2xl border border-light-border dark:border-dark-border min-h-[400px]",children:[s.jsxs("h3",{className:"text-xl font-bold text-gradient mb-6 flex items-center gap-2",children:[s.jsx(Os,{className:"w-6 h-6 text-primary-500"}),"Community Discussion"]}),s.jsx(TA,{postId:r._id})]})]})]})})]})}function AA(){const{user:e,isLoading:t}=H(),r=we(),[n,i]=b.useState(""),a=Q(E.follows.toggleFollow),[o,l]=b.useState(null),c=W(E.users.searchMembers,n.trim().length>0?{query:n}:"skip");return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e?s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"Search Members"}),s.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base",children:"Find and connect with community members"})]}),s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("button",{onClick:()=>r(-1),className:"mr-2 p-2 text-primary-500 md:hidden","aria-label":"Go back",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"m12 19-7-7 7-7"}),s.jsx("path",{d:"M19 12H5"})]})}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(an,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("input",{type:"text",value:n,onChange:d=>i(d.target.value),placeholder:"Search by name...",className:`
                                w-full
                                pl-10 pr-10 py-2.5
                                rounded-lg
                                border border-light-border dark:border-dark-border
                                bg-light-card dark:bg-dark-card
                                text-sm text-light-text dark:text-dark-text
                                placeholder-light-muted dark:placeholder-dark-muted
                                focus:ring-2 focus:ring-primary-500 focus:border-transparent
                                outline-none transition-all
                                `}),n&&s.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text","aria-label":"Clear search",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})}),n.trim().length===0?s.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[s.jsx(Pt,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Start typing to search for members"})]}):c===void 0?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(d=>s.jsx("div",{className:"glass rounded-lg p-4 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-light-bg dark:bg-dark-bg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-light-bg dark:bg-dark-bg rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-light-bg dark:bg-dark-bg rounded w-1/4"})]})]})},d))}):c.length===0?s.jsxs("div",{className:"text-center py-12 glass rounded-xl",children:[s.jsx(Pt,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted"}),s.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:['No members found matching "',n,'"']})]}):s.jsx("div",{className:"space-y-3",children:c.map(d=>s.jsx(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>r(`/profile/${d._id}`),className:"glass rounded-lg p-4 hover:shadow-lg transition-all cursor-pointer group",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ft,{src:d.avatarUrl,alt:d.name,size:"md"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text group-hover:text-primary-500 transition-colors",children:d.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(q,{variant:d.role==="admin"||d.role==="super_admin"?"primary":"default",className:"text-[10px]",children:d.role==="super_admin"?"Super Admin":d.role==="admin"?"Admin":"Member"}),s.jsxs("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:[d.followerCount||0," followers"]})]})]}),e._id!==d._id&&s.jsx("button",{onClick:u=>{u.stopPropagation(),!o&&(l(d._id),a({followerId:e._id,followingId:d._id}).finally(()=>l(null)))},className:"p-2 rounded-full hover:bg-primary-50 dark:hover:bg-primary-900/20 text-primary-500 transition-colors",children:s.jsx(Pt,{className:"w-5 h-5"})}),d.latestPost&&s.jsxs("div",{className:"w-full mt-2 p-2 bg-light-card/50 dark:bg-dark-card/50 rounded-lg border border-light-border/50 dark:border-dark-border/50 text-xs text-light-muted dark:text-dark-muted",children:[s.jsx("span",{className:"font-semibold text-primary-500",children:"Latest: "}),s.jsx("span",{className:"line-clamp-1 break-all",children:d.latestPost.content})]})]})})]})},d._id))})]})}):s.jsx(le,{to:"/login",replace:!0})}function EA(){const{userId:e}=fl(),{user:t,isLoading:r}=H(),[n,i]=b.useState(""),a=W(E.users.getUserProfile,e?{userId:e}:"skip"),o=W(E.posts.getPosts,e?{authorId:e,userId:t==null?void 0:t._id}:"skip"),l=(o==null?void 0:o.filter(p=>p.content.toLowerCase().includes(n.toLowerCase())))||[],c=W(E.follows.isFollowing,t&&e?{followerId:t._id,followingId:e}:"skip"),d=Q(E.follows.toggleFollow),[u,h]=b.useState(!1),m=async()=>{if(!(!t||!e||u)){h(!0);try{await d({followerId:t._id,followingId:e})}catch(p){console.error("Failed to toggle follow:",p)}finally{h(!1)}}};if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!t)return s.jsx(le,{to:"/login",replace:!0});if(a===void 0)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(a===null)return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsx("div",{className:"text-center py-12 glass rounded-xl mt-6",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Member not found"})})]})});const f=a.role==="admin"||a.role==="super_admin",v=a.role==="super_admin";return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"glass rounded-xl overflow-hidden",children:[s.jsx("div",{className:"h-24 md:h-48 bg-gradient-to-r from-primary-500/20 to-secondary-500/20"}),s.jsxs("div",{className:"px-4 pb-4 md:px-8 md:pb-8 relative",children:[s.jsx("div",{className:"relative -mt-10 md:-mt-16 mb-3 md:mb-4 flex flex-col items-center md:items-start",children:s.jsx(Ft,{src:a.avatarUrl,alt:a.name,size:"xl",className:`
                                        ring-4 ring-light-bg dark:ring-dark-bg 
                                        ${v?"ring-yellow-500":f?"ring-primary-500":""}
                                        w-20 h-20 md:w-32 md:h-32 shadow-lg
                                    `})}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 text-center md:text-left",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-center gap-2 mb-1",children:[s.jsx("h1",{className:"text-xl md:text-3xl font-bold text-light-text dark:text-dark-text truncate max-w-full",children:a.name}),v?s.jsxs(q,{variant:"primary",className:"bg-gradient-to-r from-yellow-500 to-amber-600 border-yellow-300 text-[10px] h-5",children:[s.jsx(kr,{className:"w-3 h-3 mr-1"})," Super Admin"]}):f?s.jsxs(q,{variant:"primary",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-[10px] h-5",children:[s.jsx(kr,{className:"w-3 h-3 mr-1"})," Admin"]}):null]}),s.jsx("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-light-muted dark:text-dark-muted mb-4",children:s.jsxs("span",{children:["Joined ",fn(a.createdAt,{addSuffix:!0})]})}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-6 mb-4 md:mb-0",children:[s.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[s.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:a.stats.followerCount||0}),s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Followers"})]}),s.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[s.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:a.stats.followingCount||0}),s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Following"})]}),s.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[s.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text leading-none",children:a.stats.likesReceived||0}),s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Likes"})]})]})]}),t._id!==e&&s.jsx("div",{className:"shrink-0 flex justify-center md:justify-start",children:s.jsx(L,{variant:c?"outline":"primary",onClick:m,isLoading:u,className:"min-w-[120px] rounded-lg h-9 text-sm",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Kv,{className:"w-4 h-4 mr-2"})," Unfollow"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yv,{className:"w-4 h-4 mr-2"})," Follow"]})})})]})]})]}),s.jsxs("div",{className:"space-y-6 pt-6 border-t border-light-border dark:border-dark-border",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Posts"}),s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(an,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("input",{type:"text",placeholder:"Search posts...",value:n,onChange:p=>i(p.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg bg-light-card/50 dark:bg-dark-card/50 border border-light-border dark:border-dark-border focus:ring-2 focus:ring-primary-500 outline-none text-sm"})]})]}),o===void 0?s.jsx("div",{className:"grid gap-6",children:[1,2].map(p=>s.jsx("div",{className:"glass rounded-2xl p-6 h-40 animate-pulse"},p))}):o.length===0?s.jsx("div",{className:"text-center py-12 glass rounded-2xl",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts yet"})}):l.length===0?s.jsx("div",{className:"text-center py-12 glass rounded-2xl",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No posts match your search"})}):s.jsx("div",{className:"grid gap-6",children:l.map(p=>s.jsx(mb,{post:p,onLike:()=>{},onCommentClick:()=>window.location.href=`/post/${p._id}`,hasUserLiked:p.hasLiked},p._id))})]})]})]})})}function IA(){return s.jsx("div",{className:"min-h-screen py-4 md:py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-4 md:mt-6 space-y-6 md:space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"About Baptizo"}),s.jsx("p",{className:"text-lg text-light-text dark:text-dark-text max-w-2xl mx-auto",children:"A community dedicated to spiritual growth through ancient wisdom and modern insights"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"glass rounded-xl p-6 border border-primary-500/20",children:[s.jsx(Gv,{className:"w-12 h-12 text-primary-500 mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Purpose"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"To create a space where believers can deepen their understanding of both Old and New Testament teachings, fostering spiritual growth and community."})]}),s.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"glass rounded-xl p-6 border border-secondary-500/20",children:[s.jsx(qs,{className:"w-12 h-12 text-secondary-500 mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Values"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Authenticity, spiritual depth, community support, and continuous learning guide everything we do."})]}),s.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"glass rounded-xl p-6 border border-accent-500/20",children:[s.jsx(Un,{className:"w-12 h-12 text-accent-500 mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Community"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"A diverse group of believers united by a shared desire to grow in faith and understanding."})]}),s.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"glass rounded-xl p-6 border border-primary-500/20",children:[s.jsx(Cr,{className:"w-12 h-12 text-primary-500 mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Our Approach"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Combining ancient prophetic wisdom with contemporary spiritual insights for holistic faith development."})]})]}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass rounded-xl p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-4",children:"Our Story"}),s.jsxs("div",{className:"space-y-4 text-light-muted dark:text-dark-muted",children:[s.jsx("p",{children:"Baptizo was founded with a vision to bridge the gap between ancient biblical wisdom and modern spiritual understanding. We believe that both the teachings of the Old Testament and the revelations of the New Testament hold profound truths for today's believers."}),s.jsx("p",{children:"Through our platform, we provide curated teachings, community discussions, and opportunities for spiritual engagement. Our admin team carefully crafts content that helps members explore Ancient Culture (Old Testament wisdom) and Wisdom of The Now (New Testament insights)."}),s.jsx("p",{children:"Whether you're seeking to deepen your understanding of prophetic systems, explore spiritual identity, or connect with like-minded believers, Baptizo offers a supportive community for your journey."})]})]})]})]})})}function _A(){return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Last updated: December 2024"})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx(kr,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),s.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Protected Data"})]}),s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx(sa,{className:"w-8 h-8 text-secondary-500 mx-auto mb-2"}),s.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Secure Storage"})]}),s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx(Yn,{className:"w-8 h-8 text-accent-500 mx-auto mb-2"}),s.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"Transparent Use"})]}),s.jsxs("div",{className:"glass rounded-lg p-4 text-center",children:[s.jsx(BT,{className:"w-8 h-8 text-primary-500 mx-auto mb-2"}),s.jsx("p",{className:"text-xs font-semibold text-light-text dark:text-dark-text",children:"User Control"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(es,{title:"Information We Collect",content:["Account Information: Name, email address, and profile picture","Content: Posts, responses, comments, and interactions within the community","Usage Data: How you interact with our platform to improve user experience","Device Information: Browser type, IP address for security purposes"]}),s.jsx(es,{title:"How We Use Your Information",content:["Provide and maintain our services","Notify you about changes and updates","Allow participation in community features","Provide customer support","Monitor and analyze usage patterns","Detect and prevent fraudulent activity"]}),s.jsx(es,{title:"Data Sharing",content:["We do NOT sell your personal information to third parties","Your profile and public content are visible to other community members","We may share data with service providers who assist in operating our platform","We may disclose information if required by law or to protect our rights"]}),s.jsx(es,{title:"Your Rights",content:["Access your personal data","Correct inaccurate information","Request deletion of your account and data","Opt-out of marketing communications","Export your data"]}),s.jsx(es,{title:"Data Security",content:["We implement industry-standard security measures","All data is encrypted in transit and at rest","Regular security audits and updates","Access controls and authentication requirements"]}),s.jsx(es,{title:"Contact Us",content:["If you have questions about this Privacy Policy, please contact us through our Contact page or email us at privacy@baptizo.com"]})]})]})]})})}function es({title:e,content:t}){return s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-4",children:e}),s.jsx("ul",{className:"space-y-2",children:t.map((r,n)=>s.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[s.jsx("span",{className:"text-primary-500 mt-1",children:""}),s.jsx("span",{children:r})]},n))})]})}function MA(){return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(sn,{className:"w-16 h-16 text-primary-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Terms of Service"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Last updated: December 2024"})]}),s.jsx("div",{className:"glass rounded-xl p-6 bg-primary-50/50 dark:bg-primary-900/10 border border-primary-500/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Oh,{className:"w-6 h-6 text-primary-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:"Agreement to Terms"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"By accessing Baptizo, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree, please discontinue use of our platform."})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Wt,{title:"1. User Accounts",content:["You must be at least 13 years old to create an account","Provide accurate and complete information during registration","Maintain the security of your account credentials","You are responsible for all activities under your account","Notify us immediately of any unauthorized access"]}),s.jsx(Wt,{title:"2. User Conduct",content:["Be respectful and courteous to all community members","Do not post hateful, abusive, or harassing content","Do not spam or post irrelevant content","Respect intellectual property rights","Do not impersonate others or misrepresent affiliations","Follow our Community Guidelines at all times"]}),s.jsx(Wt,{title:"3. Content Ownership",content:["You retain ownership of content you post","By posting, you grant Baptizo a license to use, display, and distribute your content","Admin-created content remains property of Baptizo","You may not use our content without permission"]}),s.jsx(Wt,{title:"4. Rewards & Recognition",content:["Rewards are granted at admin discretion for quality contributions","Rewards may have specific terms and conditions","We reserve the right to modify or discontinue reward programs","Fraudulent activity may result in reward forfeiture and account termination"]}),s.jsx(Wt,{title:"5. Prohibited Activities",content:["Attempting to hack or compromise platform security","Using automated tools or bots without permission","Selling or transferring your account","Posting illegal, harmful, or inappropriate content","Violating any applicable laws or regulations"]}),s.jsx(Wt,{title:"6. Termination",content:["We may suspend or terminate accounts that violate these terms","You may delete your account at any time","Upon termination, your right to use Baptizo ceases immediately","We may retain certain data as required by law"]}),s.jsx(Wt,{title:"7. Disclaimers",content:["Baptizo is provided 'as is' without warranties of any kind","We do not guarantee uninterrupted or error-free service","Content is for informational purposes and not professional advice","We are not responsible for user-generated content"]}),s.jsx(Wt,{title:"8. Limitation of Liability",content:["Baptizo shall not be liable for indirect, incidental, or consequential damages","Our liability is limited to the amount you paid, if any","Some jurisdictions do not allow these limitations"]}),s.jsx(Wt,{title:"9. Changes to Terms",content:["We may update these terms from time to time","Continued use after changes constitutes acceptance","Material changes will be announced to users"]}),s.jsx(Wt,{title:"10. Contact Information",content:["For questions about these Terms, contact us at terms@baptizo.com or through our Contact page"]})]}),s.jsx("div",{className:"glass rounded-xl p-6 border border-secondary-500/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Mn,{className:"w-6 h-6 text-secondary-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-light-text dark:text-dark-text mb-2",children:"Acceptance"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"By using Baptizo, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})]})]})})]})]})})}function Wt({title:e,content:t}){return s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-light-text dark:text-dark-text mb-4",children:e}),s.jsx("ul",{className:"space-y-2",children:t.map((r,n)=>s.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[s.jsx("span",{className:"text-primary-500 mt-1",children:""}),s.jsx("span",{children:r})]},n))})]})}function RA(){const[e,t]=b.useState({name:"",email:"",subject:"",message:""}),[r,n]=b.useState(!1),[i,a]=b.useState(!1),o=Q(E.contacts.submitContact),l=async c=>{c.preventDefault(),a(!0);try{await o(e),n(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>n(!1),3e3)}catch(d){console.error("Failed to submit contact:",d)}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:"We'd love to hear from you"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[s.jsx(zn,{className:"w-10 h-10 text-primary-500 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Email"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"support@baptizo.com"})]}),s.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[s.jsx(er,{className:"w-10 h-10 text-secondary-500 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"Community"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Ask in the Feed"})]}),s.jsxs("div",{className:"glass rounded-xl p-6 text-center hover:shadow-lg transition-shadow",children:[s.jsx(PT,{className:"w-10 h-10 text-accent-500 mx-auto mb-3"}),s.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"FAQ"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Check our FAQ page"})]})]}),s.jsxs("div",{className:"glass rounded-xl p-6 md:p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-6",children:"Send us a message"}),r?s.jsxs("div",{className:"glass rounded-lg p-6 bg-secondary-50/50 dark:bg-secondary-900/10 border border-secondary-500/20 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-secondary-600 dark:text-secondary-400 mb-2",children:"Message Sent!"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"We'll get back to you as soon as possible."})]}):s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Name"}),s.jsx("input",{type:"text",required:!0,value:e.name,onChange:c=>t({...e,name:c.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"Your name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Email"}),s.jsx("input",{type:"email",required:!0,value:e.email,onChange:c=>t({...e,email:c.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"your@email.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Subject"}),s.jsx("input",{type:"text",required:!0,value:e.subject,onChange:c=>t({...e,subject:c.target.value}),className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none",placeholder:"What's this about?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-2",children:"Message"}),s.jsx("textarea",{required:!0,value:e.message,onChange:c=>t({...e,message:c.target.value}),rows:6,className:"w-full px-4 py-2 rounded-lg border border-light-border dark:border-dark-border bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Tell us more..."})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full md:w-auto px-8 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:i?"Sending...":"Send Message"})]})]})]})]})})}const DA=[{category:"Getting Started",questions:[{q:"What is Baptizo?",a:"Baptizo is a faith-based community platform focused on spiritual growth through Ancient Culture (Old Testament wisdom) and Wisdom of The Now (New Testament insights)."},{q:"How do I create an account?",a:"Click the 'Get Started' button on the homepage, fill in your details, and verify your email address. You'll gain immediate access to the community."},{q:"Is Baptizo free to use?",a:"Yes! Baptizo is completely free for all members. We believe spiritual growth should be accessible to everyone."}]},{category:"Using the Platform",questions:[{q:"What's the difference between Ancient Culture and Wisdom of The Now?",a:"Ancient Culture focuses on Old Testament teachings, prophetic wisdom, and ancient systems. Wisdom of The Now explores New Testament insights, spiritual identity, and contemporary applications of faith."},{q:"Who can create posts?",a:"Admin-created posts appear in Ancient Culture and Wisdom sections. All members can engage through responses, comments, and the community feed."},{q:"How do I submit a response to a post?",a:"When you see an official admin post, look for the 'Submit Official Response' button. Click it to share your thoughts and insights."}]},{category:"Rewards & Recognition",questions:[{q:"How does the reward system work?",a:"Admins review responses to official posts and assign rewards based on quality, depth, and insight. Top responses are featured and may receive recognition or benefits."},{q:"What happens after I submit a response?",a:"Your response is reviewed by admins who may grade it and provide feedback. Exceptional responses are featured and rewarded."}]},{category:"Community Guidelines",questions:[{q:"What content is allowed?",a:"We welcome respectful, faith-based discussions. Content should be relevant, thoughtful, and align with our values of spiritual growth and community support."},{q:"What should I do if I see inappropriate content?",a:"Use the report function or contact admins directly. We take community standards seriously and review all reports promptly."}]},{category:"Account & Privacy",questions:[{q:"How do I update my profile?",a:"Navigate to your Profile page and click the edit button. You can update your name, avatar, and other personal information."},{q:"Is my data safe?",a:"Yes! We use industry-standard encryption and security measures. Read our Privacy Policy for full details on how we protect your information."},{q:"Can I delete my account?",a:"Yes, you can delete your account anytime from your profile settings. Note that this action is permanent and cannot be undone."}]}];function LA(){return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-lg text-light-text dark:text-dark-text",children:"Find answers to common questions about Baptizo"})]}),s.jsx("div",{className:"space-y-8",children:DA.map((e,t)=>s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text mb-4",children:e.category}),s.jsx("div",{className:"space-y-3",children:e.questions.map((r,n)=>s.jsx(OA,{question:r.q,answer:r.a},n))})]},t))}),s.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Still have questions?"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Can't find what you're looking for? Reach out to our support team."}),s.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:"Contact Support"})]})]})]})})}function OA({question:e,answer:t}){const[r,n]=b.useState(!1);return s.jsxs(P.div,{initial:!1,className:"glass rounded-lg overflow-hidden border border-light-border dark:border-dark-border",children:[s.jsxs("button",{onClick:()=>n(!r),className:"w-full px-6 py-4 flex items-center justify-between text-left hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:[s.jsx("span",{className:"font-semibold text-light-text dark:text-dark-text pr-4",children:e}),r?s.jsx(Vh,{className:"w-5 h-5 text-primary-500 flex-shrink-0"}):s.jsx(Bn,{className:"w-5 h-5 text-light-muted dark:text-dark-muted flex-shrink-0"})]}),s.jsx(P.div,{initial:!1,animate:{height:r?"auto":0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsx("div",{className:"px-6 pb-4 text-light-muted dark:text-dark-muted",children:t})})]})}function FA(){const e=[{icon:qs,title:"Be Respectful",description:"Treat all community members with kindness and respect. No harassment, hate speech, or discriminatory language.",color:"text-red-500"},{icon:Os,title:"Stay On Topic",description:"Keep discussions relevant to faith, spiritual growth, and biblical teachings. Avoid spam or irrelevant content.",color:"text-primary-500"},{icon:Un,title:"Support Others",description:"Encourage fellow members in their faith journey. Offer constructive feedback and genuine support.",color:"text-secondary-500"},{icon:kr,title:"Protect Privacy",description:"Don't share personal information about yourself or others. Respect everyone's privacy and confidentiality.",color:"text-accent-500"}],t=["Engage thoughtfully with posts and responses","Cite scriptures and sources when appropriate","Ask genuine questions and seek understanding","Celebrate others' insights and growth","Report concerning content to admins","Use appropriate language and tone"],r=["Post hateful, abusive, or harassing content","Spam or post repetitive content","Share misleading or false information","Impersonate others or misrepresent yourself","Promote non-faith-related products or services","Engage in heated arguments or flame wars"];return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-primary-600 dark:text-primary-400 mb-4",children:"Community Guidelines"}),s.jsx("p",{className:"text-lg text-light-text dark:text-dark-text max-w-2xl mx-auto",children:"Our guidelines help maintain a welcoming, respectful community for spiritual growth"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map((n,i)=>{const a=n.icon;return s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"glass rounded-xl p-6 border border-light-border dark:border-dark-border hover:shadow-lg transition-shadow",children:[s.jsx(a,{className:`w-10 h-10 ${n.color} mb-4`}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-2",children:n.title}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted text-sm",children:n.description})]},i)})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ya,{className:"w-6 h-6 text-green-500"}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Do"})]}),s.jsx("ul",{className:"space-y-2",children:t.map((n,i)=>s.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[s.jsx("span",{className:"text-green-500 mt-1 flex-shrink-0",children:""}),s.jsx("span",{children:n})]},i))})]}),s.jsxs("div",{className:"glass rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(jl,{className:"w-6 h-6 text-red-500"}),s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text",children:"Don't"})]}),s.jsx("ul",{className:"space-y-2",children:r.map((n,i)=>s.jsxs("li",{className:"flex items-start gap-2 text-light-muted dark:text-dark-muted text-sm",children:[s.jsx("span",{className:"text-red-500 mt-1 flex-shrink-0",children:""}),s.jsx("span",{children:n})]},i))})]})]}),s.jsxs("div",{className:"glass rounded-xl p-6 bg-primary-50/50 dark:bg-primary-900/10 border border-primary-500/20",children:[s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-4",children:"Enforcement"}),s.jsxs("div",{className:"space-y-3 text-light-muted dark:text-dark-muted text-sm",children:[s.jsx("p",{children:"Violations of these guidelines may result in:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Warning from moderators"}),s.jsx("li",{children:"Temporary suspension of posting privileges"}),s.jsx("li",{children:"Permanent account termination for severe or repeated violations"})]}),s.jsx("p",{className:"mt-4",children:"We're committed to maintaining a positive community. If you see content that violates these guidelines, please report it to our admin team."})]})]}),s.jsxs("div",{className:"glass rounded-xl p-6 text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-light-text dark:text-dark-text mb-3",children:"Questions about our guidelines?"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Reach out to our team for clarification."}),s.jsx("a",{href:"/contact",className:"inline-block px-6 py-3 rounded-lg bg-primary-500 hover:bg-primary-600 text-white font-semibold transition-colors shadow-lg shadow-primary-500/20",children:"Contact Us"})]})]})]})})}function VA(){const{user:e,isLoading:t}=H(),r=W(E.contacts.getContacts,e?{adminId:e._id}:"skip"),n=Q(E.contacts.markContactAsRead),i=Q(E.contacts.deleteContact),[a,o]=b.useState(null);if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const l=async d=>{try{await n({adminId:e._id,contactId:d})}catch(u){console.error("Failed to mark as read:",u)}},c=async d=>{if(confirm("Are you sure you want to delete this message?")){o(d);try{await i({adminId:e._id,contactId:d})}catch(u){console.error("Failed to delete contact:",u)}finally{o(null)}}};return s.jsx("div",{className:"min-h-screen py-8",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"Contact Messages"}),s.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:[(r==null?void 0:r.length)||0," total messages"]})]}),s.jsx(zn,{className:"w-12 h-12 text-primary-500"})]}),r?r.length===0?s.jsxs("div",{className:"glass rounded-xl p-12 text-center",children:[s.jsx(zn,{className:"w-16 h-16 mx-auto mb-4 text-light-muted dark:text-dark-muted opacity-50"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted text-lg",children:"No contact messages yet"})]}):s.jsx("div",{className:"space-y-4",children:r.map(d=>s.jsxs(P.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`glass rounded-xl p-6 border ${d.read?"border-light-border dark:border-dark-border":"border-primary-500/50 bg-primary-50/30 dark:bg-primary-900/10"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:d.subject}),!d.read&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary-500 text-white text-xs font-bold",children:"NEW"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-light-muted dark:text-dark-muted",children:[s.jsx("span",{className:"font-semibold",children:d.name}),s.jsx("span",{children:""}),s.jsx("a",{href:`mailto:${d.email}`,className:"hover:text-primary-500 transition-colors",children:d.email}),s.jsx("span",{children:""}),s.jsx("span",{children:fn(d.createdAt,{addSuffix:!0})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>l(d._id),disabled:d.read,className:`p-2 rounded-lg transition-all ${d.read?"text-light-muted dark:text-dark-muted cursor-not-allowed":"text-primary-500 hover:bg-primary-100 dark:hover:bg-primary-900/20"}`,title:d.read?"Already read":"Mark as read",children:d.read?s.jsx($s,{className:"w-5 h-5"}):s.jsx(Yn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>c(d._id),disabled:a===d._id,className:"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900/20 transition-all disabled:opacity-50",title:"Delete message",children:s.jsx(Tl,{className:"w-5 h-5"})})]})]}),s.jsx("p",{className:"text-light-text dark:text-dark-text whitespace-pre-wrap",children:d.message})]},d._id))}):s.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>s.jsxs("div",{className:"glass rounded-xl p-6 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-light-bg dark:bg-dark-bg rounded w-1/3 mb-3"}),s.jsx("div",{className:"h-4 bg-light-bg dark:bg-dark-bg rounded w-full mb-2"}),s.jsx("div",{className:"h-4 bg-light-bg dark:bg-dark-bg rounded w-2/3"})]},d))})]})})})}function BA(){const{user:e}=H(),[t,r]=b.useState(""),[n,i]=b.useState(null),a=W(E.users.getAllUsers,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),o=(a==null?void 0:a.filter(p=>p.name.toLowerCase().includes(t.toLowerCase())||p.email.toLowerCase().includes(t.toLowerCase())||p.phone&&p.phone.includes(t)||p.profession&&p.profession.toLowerCase().includes(t.toLowerCase())))||[],[l,c]=b.useState(1),d=10,u=l*d,h=u-d,m=o.slice(h,u),f=Math.ceil(o.length/d),v=(p,k)=>{navigator.clipboard.writeText(p),i(k),setTimeout(()=>i(null),2e3)};return!e||e.role!=="admin"&&e.role!=="super_admin"?s.jsx("div",{className:"p-8 text-center text-red-500",children:"Unauthorized Access"}):s.jsxs("div",{className:"min-h-screen py-8 px-4",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(se,{}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"Member Directory"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"View member details, professions, and bank info"})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(an,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-light-muted dark:text-dark-muted"}),s.jsx(ke,{placeholder:"Search by name, email, phone, or profession...",value:t,onChange:p=>r(p.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"grid gap-6",children:[m.map(p=>s.jsx(O,{glass:!0,className:"overflow-hidden",children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsxs("div",{className:"md:w-1/3 flex flex-col gap-4 border-b md:border-b-0 md:border-r border-light-border/20 dark:border-dark-border/20 pb-6 md:pb-0 md:pr-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:s.jsx("div",{className:"w-full h-full rounded-2xl bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:p.avatarUrl?s.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-2xl font-bold",children:p.name[0]})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:p.name}),s.jsx(q,{variant:p.role==="board_member"?"secondary":"default",className:"mt-1",children:p.role.replace("_"," ").toUpperCase()})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Profession"}),s.jsx("p",{className:"font-medium",children:p.profession||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Email"}),s.jsx("p",{className:"font-medium break-all",children:p.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-bold text-light-muted dark:text-dark-muted uppercase tracking-wider",children:"Phone / Network"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:p.phone||"N/A"}),p.network&&s.jsx(q,{variant:"outline",className:"text-xs py-0 h-5",children:p.network})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"WhatsApp:"}),p.whatsappVerified?s.jsx(q,{variant:"success",className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Verified"}):s.jsx(q,{variant:"secondary",className:"bg-gray-500/10 text-gray-500 border-gray-500/20",children:"Unverified"})]})]})]}),s.jsxs("div",{className:"flex-1 md:pl-6",children:[s.jsxs("h4",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"w-1 h-6 bg-accent-500 rounded-full"}),"Bank Details"]}),p.bankDetails?s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/20 dark:border-dark-border/20",children:[s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted uppercase",children:"Bank Name"}),s.jsx("p",{className:"font-bold text-lg",children:p.bankDetails.bankName})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/20 dark:border-dark-border/20 relative group",children:[s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted uppercase",children:"Account Number"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono font-bold text-lg tracking-wider",children:p.bankDetails.accountNumber}),s.jsx("button",{onClick:()=>v(p.bankDetails.accountNumber,`acc-${p._id}`),className:"p-1.5 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors",title:"Copy Account Number",children:n===`acc-${p._id}`?s.jsx(xt,{className:"w-4 h-4 text-green-500"}):s.jsx(Jp,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"})})]})]}),s.jsxs("div",{className:"sm:col-span-2 p-4 rounded-xl bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/20 dark:border-dark-border/20 relative group",children:[s.jsx("span",{className:"text-xs text-light-muted dark:text-dark-muted uppercase",children:"Account Name"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-bold text-lg",children:p.bankDetails.accountName}),s.jsx("button",{onClick:()=>v(p.bankDetails.accountName,`name-${p._id}`),className:"p-1.5 rounded-lg hover:bg-light-card dark:hover:bg-dark-card transition-colors",title:"Copy Account Name",children:n===`name-${p._id}`?s.jsx(xt,{className:"w-4 h-4 text-green-500"}):s.jsx(Jp,{className:"w-4 h-4 text-light-muted dark:text-dark-muted"})})]})]})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 bg-light-bg/30 dark:bg-dark-bg/30 rounded-xl border border-dashed border-light-border/30 dark:border-dark-border/30",children:[s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-2",children:"No bank details provided yet."}),s.jsx(q,{variant:"outline",children:"Pending Update"})]})]})]})})},p._id)),o.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-xl text-light-muted dark:text-dark-muted",children:"No members found matching your search."})})]})]}),o.length>d&&s.jsxs("div",{className:"mt-8 flex justify-center gap-2",children:[s.jsx("button",{onClick:()=>c(p=>Math.max(1,p-1)),disabled:l===1,className:"px-3 py-1 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border disabled:opacity-50 hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:"Prev"}),Array.from({length:f},(p,k)=>k+1).map(p=>s.jsx("button",{onClick:()=>c(p),className:`
                                w-8 h-8 rounded-lg flex items-center justify-center text-sm font-medium transition-colors
                                ${l===p?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border hover:border-primary-500 text-light-text dark:text-dark-text"}
                            `,children:p},p)),s.jsx("button",{onClick:()=>c(p=>Math.min(f,p+1)),disabled:l===f,className:"px-3 py-1 rounded-lg bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border disabled:opacity-50 hover:bg-light-bg dark:hover:bg-dark-bg transition-colors",children:"Next"})]})]})}function zA(){const{user:e,isLoading:t}=H(),r=W(E.boardTasks.getBoardStats,e&&(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")?{userId:e._id}:"skip"),n=W(E.training.getTrainingStats,e?{userId:e._id}:"skip"),i=W(E.boardTasks.getMyTasks,e?{userId:e._id}:"skip");if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const a=(i==null?void 0:i.filter(o=>o.status!=="completed"&&o.status!=="cancelled").sort((o,l)=>(o.dueDate||1/0)-(l.dueDate||1/0)).slice(0,3))||[];return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient mb-2",children:"Board Hub"}),s.jsxs("p",{className:"text-light-muted dark:text-dark-muted",children:["Welcome, ",e.name,"! Your leadership center for Photizo."]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Mn,{className:"w-8 h-8 text-primary-500"}),s.jsx(q,{variant:"primary",children:(r==null?void 0:r.myTasks)||0})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"My Tasks"}),s.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1",children:[(r==null?void 0:r.myCompleted)||0," completed"]})]})}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Sl,{className:"w-8 h-8 text-accent-500"}),s.jsx(q,{variant:"default",children:(r==null?void 0:r.myInProgress)||0})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"In Progress"}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1",children:"Active tasks"})]})}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(jl,{className:"w-8 h-8 text-red-500"}),s.jsx(q,{variant:"default",children:(r==null?void 0:r.overdueTasks)||0})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"Overdue"}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1",children:"Need attention"})]})}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Bt,{className:"w-8 h-8 text-secondary-500"}),s.jsxs(q,{variant:"secondary",children:[(n==null?void 0:n.completionPercentage)||0,"%"]})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"Training"}),s.jsxs("p",{className:"text-xs text-light-muted dark:text-dark-muted mt-1",children:[(n==null?void 0:n.completed)||0,"/",(n==null?void 0:n.totalModules)||0," modules"]})]})})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsxs(Ze,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Upcoming Tasks"}),s.jsx(B,{to:"/board/tasks",className:"text-sm text-primary-500 hover:text-primary-600 font-normal",children:"View All "})]})}),s.jsx(V,{children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-light-muted dark:text-dark-muted opacity-50"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"All caught up! No pending tasks."})]}):s.jsx("div",{className:"space-y-4",children:a.map(o=>s.jsx(B,{to:"/board/tasks",className:"block",children:s.jsxs(P.div,{whileHover:{scale:1.02},className:"p-4 rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border hover:border-primary-500 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text",children:o.title}),s.jsx(q,{variant:o.priority==="urgent"||o.priority==="high"?"primary":"default",className:"text-xs",children:o.priority})]}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-3 line-clamp-2",children:o.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:o.type}),o.dueDate&&s.jsxs("span",{className:`font-medium ${o.dueDate<Date.now()?"text-red-500":"text-light-muted dark:text-dark-muted"}`,children:["Due: ",new Date(o.dueDate).toLocaleDateString()]})]})]})},o._id))})})]})}),s.jsx("div",{children:s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Quick Actions"})}),s.jsxs(V,{className:"space-y-3",children:[s.jsx(B,{to:"/board/tasks",children:s.jsx(P.div,{whileHover:{x:5},className:"p-4 rounded-lg bg-gradient-to-r from-primary-500 to-primary-600 text-white cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mn,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"My Tasks"}),s.jsx("p",{className:"text-xs opacity-90",children:"View all assignments"})]})]})})}),s.jsx(B,{to:"/board/training",children:s.jsx(P.div,{whileHover:{x:5},className:"p-4 rounded-lg bg-gradient-to-r from-secondary-500 to-secondary-600 text-white cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Training Center"}),s.jsx("p",{className:"text-xs opacity-90",children:"Continue learning"})]})]})})}),(e.role==="admin"||e.role==="super_admin")&&s.jsx(B,{to:"/board/admin",children:s.jsx(P.div,{whileHover:{x:5},className:"p-4 rounded-lg border-2 border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 cursor-pointer transition-all",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(FT,{className:"w-5 h-5 text-primary-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-light-text dark:text-dark-text",children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-light-muted dark:text-dark-muted",children:"Manage board"})]})]})})})]})]})})]})]})})}function UA(){const{user:e,isLoading:t}=H(),[r,n]=b.useState("all"),i=W(E.boardTasks.getTasks,e&&(e.role==="board_member"||e.role==="admin"||e.role==="super_admin")?{userId:e._id}:"skip"),a=Q(E.boardTasks.updateTaskStatus);if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const[o,l]=b.useState("my_tasks"),c=(i==null?void 0:i.filter(m=>o==="my_tasks"&&m.assignedTo!==e._id?!1:r==="all"?!0:m.status===r))||[],d=async(m,f)=>{if(e)try{await a({userId:e._id,taskId:m,status:f})}catch(v){console.error("Failed to update task status:",v)}},u=m=>{switch(m){case"completed":return s.jsx(Mn,{className:"w-5 h-5 text-green-500"});case"in_progress":return s.jsx(Sl,{className:"w-5 h-5 text-accent-500"});case"cancelled":return s.jsx(Jv,{className:"w-5 h-5 text-red-500"});default:return s.jsx(Mn,{className:"w-5 h-5 text-light-muted dark:text-dark-muted"})}},h=m=>{switch(m){case"urgent":return"text-red-500 bg-red-100 dark:bg-red-900/30";case"high":return"text-orange-500 bg-orange-100 dark:bg-orange-900/30";case"medium":return"text-yellow-500 bg-yellow-100 dark:bg-yellow-900/30";default:return"text-blue-500 bg-blue-100 dark:bg-blue-900/30"}};return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient mb-2",children:"Board Tasks"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage your assignments and responsibilities"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center mb-6",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0 w-full sm:w-auto thin-scrollbar",children:[{key:"all",label:"All Tasks",count:(i==null?void 0:i.length)||0},{key:"todo",label:"To Do",count:(i==null?void 0:i.filter(m=>m.status==="todo").length)||0},{key:"in_progress",label:"In Progress",count:(i==null?void 0:i.filter(m=>m.status==="in_progress").length)||0},{key:"completed",label:"Completed",count:(i==null?void 0:i.filter(m=>m.status==="completed").length)||0}].map(m=>s.jsxs("button",{onClick:()=>n(m.key),className:`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap text-sm ${r===m.key?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border hover:bg-light-card/80 dark:hover:bg-dark-card/80"}`,children:[m.label," (",m.count,")"]},m.key))}),s.jsxs("div",{className:"flex bg-light-card dark:bg-dark-card p-1 rounded-lg border border-light-border dark:border-dark-border",children:[s.jsx("button",{onClick:()=>l("my_tasks"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${o==="my_tasks"?"bg-primary-500 text-white shadow-sm":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"My Tasks"}),s.jsx("button",{onClick:()=>l("all_tasks"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${o==="all_tasks"?"bg-primary-500 text-white shadow-sm":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"}`,children:"All Tasks"})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(We,{mode:"popLayout",children:c.length===0?s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-12 text-center",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"No tasks found in this category"})})}):c.map(m=>s.jsx(P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u(m.status),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-light-text dark:text-dark-text mb-2",children:m.title}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-3",children:m.description}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(q,{className:h(m.priority),children:m.priority}),s.jsx(q,{variant:"default",children:m.type}),m.assignee&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-light-muted dark:text-dark-muted",children:[s.jsx(Pt,{className:"w-3 h-3"}),m.assignee.name]}),m.dueDate&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${m.dueDate<Date.now()&&m.status!=="completed"?"text-red-500 font-semibold":"text-light-muted dark:text-dark-muted"}`,children:[s.jsx(Nl,{className:"w-3 h-3"}),new Date(m.dueDate).toLocaleDateString()]})]})]})]})}),m.assignedTo===e._id&&m.status!=="completed"&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t border-light-border dark:border-dark-border",children:[m.status==="todo"&&s.jsxs(L,{variant:"primary",size:"sm",onClick:()=>d(m._id,"in_progress"),children:["Start Task ",s.jsx(Br,{className:"w-4 h-4 ml-1"})]}),m.status==="in_progress"&&s.jsxs(L,{variant:"primary",size:"sm",onClick:()=>d(m._id,"completed"),children:["Mark Complete ",s.jsx(Mn,{className:"w-4 h-4 ml-1"})]})]})]})})},m._id))})})]})})}function $A(){var p;const{user:e,isLoading:t}=H(),[r,n]=b.useState(null),[i,a]=b.useState(void 0),o=W(E.training.getModules,{category:i}),l=W(E.training.getProgress,e?{userId:e._id}:"skip"),c=W(E.training.getTrainingStats,e?{userId:e._id}:"skip"),d=Q(E.training.startModule),u=Q(E.training.completeModule);if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});if(e.role!=="board_member"&&e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/feed",replace:!0});const h=k=>l==null?void 0:l.find(y=>{var x;return((x=y.module)==null?void 0:x._id)===k}),m=async k=>{try{await d({userId:e._id,moduleId:k})}catch(y){console.error("Failed to start module:",y)}},f=async k=>{try{await u({userId:e._id,moduleId:k}),n(null)}catch(y){console.error("Failed to complete module:",y)}},v=["Leadership","Ministry Skills","Spiritual Growth","Technical Skills","Team Building"];return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient mb-2",children:"Training Center"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Continue your leadership development journey"})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(c==null?void 0:c.completed)||0})]}),s.jsx(Mn,{className:"w-8 h-8 text-green-500"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(c==null?void 0:c.inProgress)||0})]}),s.jsx(Sl,{className:"w-8 h-8 text-accent-500"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Total Modules"}),s.jsx("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(c==null?void 0:c.totalModules)||0})]}),s.jsx(Bt,{className:"w-8 h-8 text-primary-500"})]})})}),s.jsx(O,{glass:!0,children:s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-1",children:"Progress"}),s.jsxs("p",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:[(c==null?void 0:c.completionPercentage)||0,"%"]})]}),s.jsx(xa,{className:"w-8 h-8 text-secondary-500"})]})})})]}),s.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>a(void 0),className:`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${i===void 0?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:"All Categories"}),v.map(k=>s.jsx("button",{onClick:()=>a(k),className:`px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${i===k?"bg-secondary-500 text-white shadow-lg shadow-secondary-500/30":"bg-light-card dark:bg-dark-card text-light-text dark:text-dark-text border border-light-border dark:border-dark-border"}`,children:k},k))]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o==null?void 0:o.map(k=>{const y=h(k._id);return s.jsx(P.div,{whileHover:{y:-5},children:s.jsx(O,{glass:!0,className:"h-full",children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx(q,{variant:"secondary",className:"text-xs",children:k.category}),y&&s.jsx(q,{variant:y.status==="completed"?"primary":"default",className:"text-xs",children:y.status==="completed"?"Completed":"In Progress"})]}),s.jsx("h3",{className:"font-semibold text-lg text-light-text dark:text-dark-text mb-2",children:k.title}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted mb-4 line-clamp-3",children:k.description}),s.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-light-muted dark:text-dark-muted",children:[k.videoUrl&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(DT,{className:"w-4 h-4"}),"Video"]}),k.documentUrl&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sn,{className:"w-4 h-4"}),"Document"]}),k.duration&&s.jsxs("span",{children:[k.duration," min"]})]}),s.jsx(L,{variant:(y==null?void 0:y.status)==="completed"?"ghost":"primary",size:"sm",className:"w-full",onClick:()=>{n(k),y||m(k._id)},children:(y==null?void 0:y.status)==="completed"?"Review":y?"Continue":"Start Module"})]})})},k._id)})}),r&&s.jsx(on,{isOpen:!!r,onClose:()=>n(null),title:r.title,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(q,{variant:"secondary",children:r.category}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:r.description}),r.videoUrl&&s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-black",children:s.jsx("iframe",{width:"100%",height:"100%",src:r.videoUrl,title:r.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),r.content&&s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:r.content}})}),r.documentUrl&&s.jsxs("a",{href:r.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary-500 hover:text-primary-600",children:[s.jsx(sn,{className:"w-4 h-4"}),"Download Course Material"]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(L,{variant:"ghost",onClick:()=>n(null),children:"Close"}),((p=h(r._id))==null?void 0:p.status)!=="completed"&&s.jsx(L,{variant:"primary",onClick:()=>f(r._id),children:"Mark as Complete"})]})]})})]})})}function qA(){const{user:e}=H(),t=we(),r=W(E.users.getAllUsers,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),n=(r==null?void 0:r.filter(d=>d.role==="board_member"))||[],i=W(E.boardTasks.getBoardStats,e?{userId:e._id}:"skip"),a=W(E.training.getTrainingStats,e?{userId:e._id}:"skip"),o=W(E.boardTasks.getTasks,e?{userId:e._id}:"skip"),l=Q(E.boardTasks.deleteTask),c=async d=>{if(confirm("Are you sure you want to delete this task?"))try{await l({adminId:e._id,taskId:d})}catch(u){console.error("Failed to delete task:",u)}};return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gradient mb-2",children:"Board Admin Panel"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Manage tasks and training for board members"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Un,{className:"w-8 h-8 text-primary-500"}),s.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:n.length})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"Board Members"})]})}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Gv,{className:"w-8 h-8 text-accent-500"}),s.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(i==null?void 0:i.totalTasks)||0})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"Total Tasks"})]})}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Bt,{className:"w-8 h-8 text-secondary-500"}),s.jsx("span",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:(a==null?void 0:a.totalModules)||0})]}),s.jsx("h3",{className:"text-sm font-medium text-light-muted dark:text-dark-muted",children:"Training Modules"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Task Management"})}),s.jsxs(V,{children:[s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Assign tasks to board members for ministry assignments, training, and administrative duties."}),s.jsxs(L,{variant:"primary",onClick:()=>t("/board/task/new"),className:"w-full",children:[s.jsx(su,{className:"w-4 h-4 mr-2"}),"Create New Task"]})]})]}),s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Training Modules"})}),s.jsxs(V,{children:[s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-4",children:"Create structured learning content to develop board members' leadership and ministry skills."}),s.jsxs(L,{variant:"secondary",onClick:()=>t("/board/training/new"),className:"w-full",children:[s.jsx(su,{className:"w-4 h-4 mr-2"}),"Create Training Module"]})]})]})]}),s.jsx("div",{className:"mb-8",children:s.jsxs(O,{glass:!0,children:[s.jsx(Xe,{children:s.jsx(Ze,{children:"Recent Tasks"})}),s.jsx(V,{children:s.jsx("div",{className:"space-y-4",children:o&&o.length>0?o.map(d=>{var u;return s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 rounded-lg bg-light-bg/50 dark:bg-dark-bg/50 border border-light-border/50 dark:border-dark-border/50 gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text truncate",children:d.title}),s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full uppercase font-bold tracking-wider ${d.priority==="urgent"?"bg-red-500/10 text-red-500":d.priority==="high"?"bg-orange-500/10 text-orange-500":d.priority==="medium"?"bg-blue-500/10 text-blue-500":"bg-green-500/10 text-green-500"}`,children:d.priority}),s.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full uppercase font-bold tracking-wider ${d.status==="completed"?"bg-green-500/10 text-green-500":d.status==="in_progress"?"bg-blue-500/10 text-blue-500":"bg-gray-500/10 text-gray-500"}`,children:d.status.replace("_"," ")})]}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted line-clamp-1",children:d.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-light-muted dark:text-dark-muted",children:[s.jsxs("span",{children:["Assigned to: ",s.jsx("strong",{children:((u=d.assignee)==null?void 0:u.name)||"Unknown"})]}),d.dueDate&&s.jsxs("span",{children:["Due: ",new Date(d.dueDate).toLocaleDateString()]})]})]}),s.jsx(L,{variant:"danger",size:"sm",onClick:()=>c(d._id),children:"Delete"})]},d._id)}):s.jsx("div",{className:"text-center py-8 text-light-muted dark:text-dark-muted",children:"No tasks found. Create one above!"})})})]})})]})})}function Qo({label:e,options:t,value:r,onChange:n,placeholder:i="Select an option",className:a,error:o}){const[l,c]=b.useState(!1),d=b.useRef(null),u=t.find(m=>m.value===r);b.useEffect(()=>{function m(f){d.current&&!d.current.contains(f.target)&&c(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=m=>{n(m),c(!1)};return s.jsxs("div",{className:Y("w-full relative",a),ref:d,children:[e&&s.jsx("label",{className:"block text-sm font-medium mb-2 text-light-text dark:text-dark-text",children:e}),s.jsxs("button",{type:"button",onClick:()=>c(!l),className:Y("w-full flex items-center justify-between px-4 py-3 rounded-lg border transition-all duration-200","bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text",l?"border-primary-500 ring-2 ring-primary-500/20":"border-light-border dark:border-dark-border hover:border-primary-500",o&&"border-red-500"),children:[s.jsxs("span",{className:Y("flex items-center gap-2",!u&&"text-light-muted dark:text-dark-muted"),children:[u==null?void 0:u.icon,(u==null?void 0:u.label)||i]}),s.jsx(Bn,{className:Y("w-4 h-4 transition-transform",l&&"rotate-180")})]}),s.jsx(We,{children:l&&s.jsx(P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-light-card dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-xl overflow-hidden max-h-60 overflow-y-auto thin-scrollbar",children:t.map(m=>s.jsxs("button",{onClick:()=>h(m.value),className:Y("w-full flex items-center justify-between px-4 py-3 text-sm transition-colors","hover:bg-primary-50 dark:hover:bg-primary-900/10",r===m.value?"text-primary-600 dark:text-primary-400 font-medium bg-primary-50/50 dark:bg-primary-900/5":"text-light-text dark:text-dark-text"),children:[s.jsxs("span",{className:"flex items-center gap-2",children:[m.icon,m.label]}),r===m.value&&s.jsx(xt,{className:"w-4 h-4"})]},m.value))})}),o&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:o})]})}const ug=["Access Bank","GTBank","First Bank","UBA","Zenith Bank","Kuda Bank","Opay","PalmPay","Moniepoint","Stanbic IBTC","Fidelity Bank","Union Bank","FCMB","Sterling Bank","Wema Bank","Other"];function WA(){const{user:e,isLoading:t}=H(),r=Q(E.users.updateProfile),n=It();if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",state:{from:n},replace:!0});const[i,a]=b.useState(!1),[o,l]=b.useState({phone:"",network:"",whatsappVerified:!1,profession:"",bankName:"",accountNumber:"",accountName:"",customBankName:"",sameAsPhone:!1});b.useEffect(()=>{e&&l(f=>{var v,p,k,y,x;return{...f,phone:e.phone||"",network:e.network||"",whatsappVerified:e.whatsappVerified||!1,profession:e.profession||"",bankName:((v=e.bankDetails)==null?void 0:v.bankName)||"",accountNumber:((p=e.bankDetails)==null?void 0:p.accountNumber)||"",accountName:((k=e.bankDetails)==null?void 0:k.accountName)||e.name||"",customBankName:ug.includes(((y=e.bankDetails)==null?void 0:y.bankName)||"")?"":((x=e.bankDetails)==null?void 0:x.bankName)||""}})},[e]);const c=f=>{const v=ib(f);l(p=>({...p,phone:f,network:v,accountNumber:p.sameAsPhone?f:p.accountNumber}))},d=f=>{l(v=>({...v,sameAsPhone:f,accountNumber:f?v.phone:v.accountNumber}))},[u,h]=b.useState(!1),m=async f=>{f.preventDefault(),a(!0);try{const v=o.bankName==="Other"?o.customBankName:o.bankName;await r({userId:e._id,phone:o.phone,network:o.network,whatsappVerified:o.whatsappVerified,profession:o.profession,bankDetails:{bankName:v,accountNumber:o.accountNumber,accountName:o.accountName}}),h(!0)}catch(v){console.error("Failed to update profile",v)}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen py-8 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(se,{}),s.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"Member Details"})]}),s.jsxs(O,{glass:!0,children:[s.jsxs(Xe,{children:[s.jsx(Ze,{children:"Update Your Information"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Help us keep our community records up to date."})]}),s.jsx(V,{children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Cl,{className:"w-5 h-5 text-primary-500"}),"Contact Details"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ke,{label:"Phone Number",value:o.phone,onChange:f=>c(f.target.value),placeholder:"08012345678",required:!0}),o.network&&o.network!=="Unknown"&&s.jsx("div",{className:"mt-1",children:s.jsx(q,{variant:"primary",children:o.network})})]}),s.jsx("div",{className:"flex items-end pb-3",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.whatsappVerified,onChange:f=>l({...o,whatsappVerified:f.target.checked}),className:"w-4 h-4 rounded border-primary-500 text-primary-500 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Is this your WhatsApp number?"})]})})]})]}),s.jsx("hr",{className:"border-light-border/20 dark:border-dark-border/20"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(zv,{className:"w-5 h-5 text-secondary-500"}),"Professional Info"]}),s.jsx(ke,{label:"Profession / Occupation",value:o.profession,onChange:f=>l({...o,profession:f.target.value}),placeholder:"e.g. Software Engineer, Student, Business Owner"})]}),s.jsx("hr",{className:"border-light-border/20 dark:border-dark-border/20"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(NT,{className:"w-5 h-5 text-accent-500"}),"Bank Details"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Qo,{label:"Bank Name",value:o.bankName,onChange:f=>l({...o,bankName:f}),options:ug.map(f=>({value:f,label:f}))}),o.bankName==="Other"&&s.jsx(ke,{label:"Enter Bank Name",value:o.customBankName,onChange:f=>l({...o,customBankName:f.target.value}),placeholder:"Bank Name",required:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ke,{label:"Account Number",value:o.accountNumber,onChange:f=>l({...o,accountNumber:f.target.value}),placeholder:"0123456789",required:!0}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-light-muted dark:text-dark-muted",children:[s.jsx("input",{type:"checkbox",checked:o.sameAsPhone,onChange:f=>d(f.target.checked),className:"w-4 h-4 rounded border-primary-500"}),"Use my phone number as account number"]})]}),s.jsx(ke,{label:"Account Name",value:o.accountName,onChange:f=>l({...o,accountName:f.target.value}),placeholder:"Account Holder Name",required:!0})]})]}),s.jsx(L,{type:"submit",variant:"primary",className:"w-full",isLoading:i,children:"Save Details"})]})})]}),s.jsx(on,{isOpen:u,onClose:()=>h(!1),title:"Profile Updated!",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted mb-6",children:"Thank you for updating your member details."}),s.jsx(L,{variant:"primary",className:"w-full",onClick:()=>{h(!1)},children:"Close"})]})})]})})}function HA(){var x,g,w;const{postId:e}=fl(),t=we(),{user:r}=H(),n=W(E.posts.getPost,e?{postId:e}:"skip"),i=Q(E.responses.submitResponse),[a,o]=b.useState(""),[l,c]=b.useState(!1),[d,u]=b.useState(""),[h,m]=b.useState(0);b.useEffect(()=>{const j=a.trim().split(/\s+/).filter(S=>S.length>0);m(j.length)},[a]);const f=async j=>{if(j.preventDefault(),!(!r||!a.trim()||!e)){c(!0),u("");try{await i({userId:r._id,postId:e,content:a.trim()}),t(-1)}catch(S){console.error("Failed to submit response:",S),S.message.includes("Vacancy Filled")?u("Sorry, the response slots for this post are full."):S.message.includes("already responded")?u("You have already responded to this post."):u("Failed to submit response. Please try again.")}finally{c(!1)}}},[v,p]=b.useState(!1),k=()=>{a.trim()?p(!0):t(-1)},y=()=>{p(!1),t(-1)};return n?s.jsxs("div",{className:"min-h-screen bg-[#f8f9fa] dark:bg-[#0a0a0a] pb-20",children:[s.jsx("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/10 text-gray-500 hover:text-red-500 transition-colors",title:"Cancel & Exit",children:s.jsx(wr,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 hidden sm:block",children:"Official Response"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-800 rounded-full text-xs font-medium text-gray-500",children:[h," words"]}),s.jsxs(L,{variant:"primary",size:"sm",disabled:!a.trim()||l,onClick:f,className:"flex items-center gap-2",children:[s.jsx(iu,{className:"w-4 h-4"}),l?"Submitting...":"Submit"]})]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:s.jsxs("div",{className:"grid gap-8 md:grid-cols-[1fr,1.5fr]",children:[s.jsx(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-4",children:s.jsxs("div",{className:"bg-white dark:bg-[#151515] p-6 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-sm sticky top-24",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:[s.jsx(sn,{className:"w-4 h-4"}),"Responding To"]}),s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsxs("p",{className:"text-lg font-medium leading-relaxed text-gray-800 dark:text-gray-200",children:['"',n.content,'"']})}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 font-bold text-xs",children:(g=(x=n.author)==null?void 0:x.name)==null?void 0:g.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(w=n.author)==null?void 0:w.name}),s.jsx("p",{className:"text-xs text-gray-500",children:"Admin Post"})]})]})]})}),s.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"relative",children:[d&&s.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-xl flex items-center gap-2 text-sm border border-red-100 dark:border-red-900/30",children:[s.jsx(jl,{className:"w-4 h-4 flex-shrink-0"}),d]}),s.jsxs("div",{className:"bg-[#fff9e6] dark:bg-[#1a1a1a] min-h-[60vh] rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",style:{backgroundImage:"linear-gradient(#e5e7eb 1px, transparent 1px)",backgroundSize:"100% 2rem",backgroundPosition:"0 1.5rem"},children:[s.jsx("div",{className:"absolute left-12 top-0 bottom-0 w-px bg-red-300/50 dark:bg-red-500/20 h-full pointer-events-none"}),s.jsx("div",{className:"p-0",children:s.jsx("textarea",{className:"w-full h-[60vh] bg-transparent border-0 focus:ring-0 resize-none p-6 pl-16 text-lg leading-[2rem] text-gray-800 dark:text-gray-200 placeholder:text-gray-400/50 dark:placeholder:text-gray-600",placeholder:"Start writing your thoughts here...",value:a,onChange:j=>o(j.target.value),autoFocus:!0,style:{lineHeight:"2rem"}})})]}),s.jsx("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-500",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(MT,{className:"w-3 h-3"}),"Express yourself freely"]})})]})]})}),s.jsx(on,{isOpen:v,onClose:()=>p(!1),title:"Discard Changes?",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"You have unsaved text. Are you sure you want to discard your response?"}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(L,{variant:"ghost",onClick:()=>p(!1),children:"Keep Editing"}),s.jsx(L,{variant:"danger",onClick:y,children:"Discard & Leave"})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})}function QA(){const[e,t]=b.useState(0),[r,n]=b.useState(!1);b.useEffect(()=>{const o=()=>{const l=document.documentElement.scrollHeight-window.innerHeight,c=window.pageYOffset,d=c/l*100;t(d),n(c>300)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return s.jsx(We,{children:r&&s.jsxs("div",{className:"fixed bottom-24 right-4 md:right-6 z-50 flex flex-col gap-2 md:gap-3",children:[s.jsxs(P.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:i,className:"p-2 md:p-3 rounded-full glass border border-primary-500/30 text-primary-500 shadow-lg hover:bg-primary-500 hover:text-white transition-all group relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(Vh,{className:"w-5 h-5 md:w-6 md:h-6"})]}),s.jsxs("div",{className:"relative p-0.5 md:p-1",children:[s.jsxs("svg",{className:"w-10 h-10 md:w-12 md:h-12 transform -rotate-90",children:[s.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"3",fill:"transparent",className:"text-light-border dark:text-dark-border opacity-30 md:hidden"}),s.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-light-border dark:text-dark-border opacity-30 hidden md:block"}),s.jsx(P.circle,{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:"113.1",animate:{strokeDashoffset:113.1-113.1*e/100},className:"text-primary-500 md:hidden",strokeLinecap:"round"}),s.jsx(P.circle,{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",strokeDasharray:"125.66",animate:{strokeDashoffset:125.66-125.66*e/100},className:"text-primary-500 hidden md:block",strokeLinecap:"round"})]}),s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[8px] md:text-[10px] font-bold text-primary-500",children:[Math.round(e),"%"]})]}),s.jsxs(P.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:a,className:"p-2 md:p-3 rounded-full glass border border-primary-500/30 text-primary-500 shadow-lg hover:bg-primary-500 hover:text-white transition-all group relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(Bn,{className:"w-5 h-5 md:w-6 md:h-6"})]})]})})}const GA=()=>{};var hg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},KA=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],l=e[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,u=a>>2,h=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,f=d&63;c||(f=64,o||(m=64)),n.push(r[u],r[h],r[m],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):KA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],l=i<e.length?r[e.charAt(i)]:0;++i;const d=i<e.length?r[e.charAt(i)]:64;++i;const h=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||h==null)throw new YA;const m=a<<2|l>>4;if(n.push(m),d!==64){const f=l<<4&240|d>>2;if(n.push(f),h!==64){const v=d<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(e){const t=fb(e);return pb.encodeByteArray(t,!0)},gb=function(e){return JA(e).replace(/\./g,"")},XA=function(e){try{return pb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=()=>ZA().__FIREBASE_DEFAULTS__,tE=()=>{if(typeof process>"u"||typeof hg>"u")return;const e=hg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&XA(e[1]);return t&&JSON.parse(t)},nE=()=>{try{return GA()||eE()||tE()||rE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},xb=()=>{var e;return(e=nE())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function yb(){try{return typeof indexedDB=="object"}catch{return!1}}function vb(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}function iE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="FirebaseError";class Qs extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=aE,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?oE(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qs(i,l,n)}}function oE(e,t){return e.replace(lE,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const lE=/\{\$([^}]+)}/g;function ou(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(mg(a)&&mg(o)){if(!ou(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function mg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e){return e&&e._delegate?e._delegate:e}class ln{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new sE;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uE(t))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=wn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wn){return this.instances.has(t)}getOptions(t=wn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:dE(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=wn){return this.component?this.component.multipleInstances?t:wn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dE(e){return e===wn?void 0:e}function uE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new cE(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const mE={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},fE=he.INFO,pE={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},gE=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=pE[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xE{constructor(t){this.name=t,this._logLevel=fE,this._logHandler=gE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const yE=(e,t)=>t.some(r=>e instanceof r);let fg,pg;function vE(){return fg||(fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bE(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bb=new WeakMap,lu=new WeakMap,kb=new WeakMap,Mc=new WeakMap,Qh=new WeakMap;function kE(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(pr(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&bb.set(r,e)}).catch(()=>{}),Qh.set(t,e),t}function wE(e){if(lu.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});lu.set(e,t)}let cu={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return lu.get(e);if(t==="objectStoreNames")return e.objectStoreNames||kb.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return pr(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jE(e){cu=e(cu)}function NE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Rc(this),t,...r);return kb.set(n,t.sort?t.sort():[t]),pr(n)}:bE().includes(e)?function(...t){return e.apply(Rc(this),t),pr(bb.get(this))}:function(...t){return pr(e.apply(Rc(this),t))}}function SE(e){return typeof e=="function"?NE(e):(e instanceof IDBTransaction&&wE(e),yE(e,vE())?new Proxy(e,cu):e)}function pr(e){if(e instanceof IDBRequest)return kE(e);if(Mc.has(e))return Mc.get(e);const t=SE(e);return t!==e&&(Mc.set(e,t),Qh.set(t,e)),t}const Rc=e=>Qh.get(e);function Il(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=pr(o);return n&&o.addEventListener("upgradeneeded",c=>{n(pr(o.result),c.oldVersion,c.newVersion,pr(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}function Dc(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",n=>t(n.oldVersion,n)),pr(r).then(()=>{})}const CE=["get","getKey","getAll","getAllKeys","count"],TE=["put","add","delete","clear"],Lc=new Map;function gg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Lc.get(t))return Lc.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=TE.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||CE.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return Lc.set(t,a),a}jE(e=>({...e,get:(t,r,n)=>gg(t,r)||e.get(t,r,n),has:(t,r)=>!!gg(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(AE(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function AE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const du="@firebase/app",xg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new xE("@firebase/app"),EE="@firebase/app-compat",IE="@firebase/analytics-compat",_E="@firebase/analytics",ME="@firebase/app-check-compat",RE="@firebase/app-check",DE="@firebase/auth",LE="@firebase/auth-compat",OE="@firebase/database",FE="@firebase/data-connect",VE="@firebase/database-compat",BE="@firebase/functions",zE="@firebase/functions-compat",UE="@firebase/installations",$E="@firebase/installations-compat",qE="@firebase/messaging",WE="@firebase/messaging-compat",HE="@firebase/performance",QE="@firebase/performance-compat",GE="@firebase/remote-config",KE="@firebase/remote-config-compat",YE="@firebase/storage",JE="@firebase/storage-compat",XE="@firebase/firestore",ZE="@firebase/ai",eI="@firebase/firestore-compat",tI="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="[DEFAULT]",rI={[du]:"fire-core",[EE]:"fire-core-compat",[_E]:"fire-analytics",[IE]:"fire-analytics-compat",[RE]:"fire-app-check",[ME]:"fire-app-check-compat",[DE]:"fire-auth",[LE]:"fire-auth-compat",[OE]:"fire-rtdb",[FE]:"fire-data-connect",[VE]:"fire-rtdb-compat",[BE]:"fire-fn",[zE]:"fire-fn-compat",[UE]:"fire-iid",[$E]:"fire-iid-compat",[qE]:"fire-fcm",[WE]:"fire-fcm-compat",[HE]:"fire-perf",[QE]:"fire-perf-compat",[GE]:"fire-rc",[KE]:"fire-rc-compat",[YE]:"fire-gcs",[JE]:"fire-gcs-compat",[XE]:"fire-fst",[eI]:"fire-fst-compat",[ZE]:"fire-vertex","fire-js":"fire-js",[tI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,nI=new Map,hu=new Map;function yg(e,t){try{e.container.addComponent(t)}catch(r){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function $n(e){const t=e.name;if(hu.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;hu.set(t,e);for(const r of Go.values())yg(r,e);for(const r of nI.values())yg(r,e);return!0}function Gh(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new El("app","Firebase",sI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}function wb(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:uu,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(r||(r=xb()),!r)throw Xr.create("no-options");const a=Go.get(i);if(a){if(ou(r,a.options)&&ou(n,a.config))return a;throw Xr.create("duplicate-app",{appName:i})}const o=new hE(i);for(const c of hu.values())o.addComponent(c);const l=new iI(r,n,o);return Go.set(i,l),l}function aI(e=uu){const t=Go.get(e);if(!t&&e===uu&&xb())return wb();if(!t)throw Xr.create("no-app",{appName:e});return t}function Zr(e,t,r){let n=rI[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jr.warn(o.join(" "));return}$n(new ln(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",lI=1,ia="firebase-heartbeat-store";let Oc=null;function jb(){return Oc||(Oc=Il(oI,lI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ia)}catch(r){console.warn(r)}}}}).catch(e=>{throw Xr.create("idb-open",{originalErrorMessage:e.message})})),Oc}async function cI(e){try{const r=(await jb()).transaction(ia),n=await r.objectStore(ia).get(Nb(e));return await r.done,n}catch(t){if(t instanceof Qs)jr.warn(t.message);else{const r=Xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});jr.warn(r.message)}}}async function vg(e,t){try{const n=(await jb()).transaction(ia,"readwrite");await n.objectStore(ia).put(t,Nb(e)),await n.done}catch(r){if(r instanceof Qs)jr.warn(r.message);else{const n=Xr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});jr.warn(n.message)}}}function Nb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,uI=30;class hI{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fI(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uI){const o=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){jr.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bg(),{heartbeatsToSend:n,unsentEntries:i}=mI(this._heartbeatsCache.heartbeats),a=gb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return jr.warn(r),""}}}function bg(){return new Date().toISOString().substring(0,10)}function mI(e,t=dI){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),kg(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),kg(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class fI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yb()?vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await cI(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return vg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return vg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function kg(e){return gb(JSON.stringify({version:2,heartbeats:e})).length}function pI(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e){$n(new ln("platform-logger",t=>new PE(t),"PRIVATE")),$n(new ln("heartbeat",t=>new hI(t),"PRIVATE")),Zr(du,xg,e),Zr(du,xg,"esm2020"),Zr("fire-js","")}gI("");var xI="firebase",yI="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(xI,yI,"app");const Sb="@firebase/installations",Kh="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=1e4,Tb=`w:${Kh}`,Pb="FIS_v2",vI="https://firebaseinstallations.googleapis.com/v1",bI=60*60*1e3,kI="installations",wI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qn=new El(kI,wI,jI);function Ab(e){return e instanceof Qs&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb({projectId:e}){return`${vI}/projects/${e}/installations`}function Ib(e){return{token:e.token,requestStatus:2,expiresIn:SI(e.expiresIn),creationTime:Date.now()}}async function _b(e,t){const n=(await t.json()).error;return qn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Mb({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function NI(e,{refreshToken:t}){const r=Mb(e);return r.append("Authorization",CI(t)),r}async function Rb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function SI(e){return Number(e.replace("s","000"))}function CI(e){return`${Pb} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Eb(e),i=Mb(e),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:r,authVersion:Pb,appId:e.appId,sdkVersion:Tb},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Rb(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:Ib(d.authToken)}}else throw await _b("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^[cdef][\w-]{21}$/,mu="";function EI(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=II(e);return AI.test(r)?r:mu}catch{return mu}}function II(e){return PI(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Map;function Ob(e,t){const r=_l(e);Fb(r,t),_I(r,t)}function Fb(e,t){const r=Lb.get(e);if(r)for(const n of r)n(t)}function _I(e,t){const r=MI();r&&r.postMessage({key:e,fid:t}),RI()}let Pn=null;function MI(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=e=>{Fb(e.data.key,e.data.fid)}),Pn}function RI(){Lb.size===0&&Pn&&(Pn.close(),Pn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-installations-database",LI=1,Wn="firebase-installations-store";let Fc=null;function Yh(){return Fc||(Fc=Il(DI,LI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Wn)}}})),Fc}async function Ko(e,t){const r=_l(e),i=(await Yh()).transaction(Wn,"readwrite"),a=i.objectStore(Wn),o=await a.get(r);return await a.put(t,r),await i.done,(!o||o.fid!==t.fid)&&Ob(e,t.fid),t}async function Vb(e){const t=_l(e),n=(await Yh()).transaction(Wn,"readwrite");await n.objectStore(Wn).delete(t),await n.done}async function Ml(e,t){const r=_l(e),i=(await Yh()).transaction(Wn,"readwrite"),a=i.objectStore(Wn),o=await a.get(r),l=t(o);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&Ob(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(e){let t;const r=await Ml(e.appConfig,n=>{const i=OI(n),a=FI(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===mu?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function OI(e){const t=e||{fid:EI(),registrationStatus:0};return Bb(t)}function FI(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(qn.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=VI(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:BI(e)}:{installationEntry:t}}async function VI(e,t){try{const r=await TI(e,t);return Ko(e.appConfig,r)}catch(r){throw Ab(r)&&r.customData.serverCode===409?await Vb(e.appConfig):await Ko(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function BI(e){let t=await wg(e.appConfig);for(;t.registrationStatus===1;)await Db(100),t=await wg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Jh(e);return n||r}return t}function wg(e){return Ml(e,t=>{if(!t)throw qn.create("installation-not-found");return Bb(t)})}function Bb(e){return zI(e)?{fid:e.fid,registrationStatus:0}:e}function zI(e){return e.registrationStatus===1&&e.registrationTime+Cb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI({appConfig:e,heartbeatServiceProvider:t},r){const n=$I(e,r),i=NI(e,r),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:Tb,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await Rb(()=>fetch(n,l));if(c.ok){const d=await c.json();return Ib(d)}else throw await _b("Generate Auth Token",c)}function $I(e,{fid:t}){return`${Eb(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(e,t=!1){let r;const n=await Ml(e.appConfig,a=>{if(!zb(a))throw qn.create("not-registered");const o=a.authToken;if(!t&&HI(o))return a;if(o.requestStatus===1)return r=qI(e,t),a;{if(!navigator.onLine)throw qn.create("app-offline");const l=GI(a);return r=WI(e,l),l}});return r?await r:n.authToken}async function qI(e,t){let r=await jg(e.appConfig);for(;r.authToken.requestStatus===1;)await Db(100),r=await jg(e.appConfig);const n=r.authToken;return n.requestStatus===0?Xh(e,t):n}function jg(e){return Ml(e,t=>{if(!zb(t))throw qn.create("not-registered");const r=t.authToken;return KI(r)?{...t,authToken:{requestStatus:0}}:t})}async function WI(e,t){try{const r=await UI(e,t),n={...t,authToken:r};return await Ko(e.appConfig,n),r}catch(r){if(Ab(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Vb(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await Ko(e.appConfig,n)}throw r}}function zb(e){return e!==void 0&&e.registrationStatus===2}function HI(e){return e.requestStatus===2&&!QI(e)}function QI(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+bI}function GI(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function KI(e){return e.requestStatus===1&&e.requestTime+Cb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(e){const t=e,{installationEntry:r,registrationPromise:n}=await Jh(t);return n?n.catch(console.error):Xh(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(e,t=!1){const r=e;return await XI(r),(await Xh(r,t)).token}async function XI(e){const{registrationPromise:t}=await Jh(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(e){if(!e||!e.options)throw Vc("App Configuration");if(!e.name)throw Vc("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw Vc(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Vc(e){return qn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="installations",e_="installations-internal",t_=e=>{const t=e.getProvider("app").getImmediate(),r=ZI(t),n=Gh(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},r_=e=>{const t=e.getProvider("app").getImmediate(),r=Gh(t,Ub).getImmediate();return{getId:()=>YI(r),getToken:i=>JI(r,i)}};function n_(){$n(new ln(Ub,t_,"PUBLIC")),$n(new ln(e_,r_,"PRIVATE"))}n_();Zr(Sb,Kh);Zr(Sb,Kh,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="/firebase-messaging-sw.js",i_="/firebase-cloud-messaging-push-scope",$b="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",a_="https://fcmregistrations.googleapis.com/v1",qb="google.c.a.c_id",o_="google.c.a.c_l",l_="google.c.a.ts",c_="google.c.a.e",Ng=1e4;var Sg;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Sg||(Sg={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var aa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(aa||(aa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d_(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="fcm_token_details_db",u_=5,Cg="fcm_token_object_Store";async function h_(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(Bc))return null;let t=null;return(await Il(Bc,u_,{upgrade:async(n,i,a,o)=>{if(i<2||!n.objectStoreNames.contains(Cg))return;const l=o.objectStore(Cg),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:ar(d.vapidKey)}}}else if(i===3){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ar(d.auth),p256dh:ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ar(d.vapidKey)}}}else if(i===4){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ar(d.auth),p256dh:ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ar(d.vapidKey)}}}}}})).close(),await Dc(Bc),await Dc("fcm_vapid_details_db"),await Dc("undefined"),m_(t)?t:null}function m_(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="firebase-messaging-database",p_=1,oa="firebase-messaging-store";let zc=null;function Wb(){return zc||(zc=Il(f_,p_,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(oa)}}})),zc}async function g_(e){const t=Hb(e),n=await(await Wb()).transaction(oa).objectStore(oa).get(t);if(n)return n;{const i=await h_(e.appConfig.senderId);if(i)return await Zh(e,i),i}}async function Zh(e,t){const r=Hb(e),i=(await Wb()).transaction(oa,"readwrite");return await i.objectStore(oa).put(t,r),await i.done,t}function Hb({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},$e=new El("messaging","Messaging",x_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(e,t){const r=await tm(e),n=Qb(t),i={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(em(e.appConfig),i)).json()}catch(o){throw $e.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw $e.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw $e.create("token-subscribe-no-token");return a.token}async function v_(e,t){const r=await tm(e),n=Qb(t.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${em(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw $e.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw $e.create("token-update-failed",{errorInfo:o})}if(!a.token)throw $e.create("token-update-no-token");return a.token}async function b_(e,t){const n={method:"DELETE",headers:await tm(e)};try{const a=await(await fetch(`${em(e.appConfig)}/${t}`,n)).json();if(a.error){const o=a.error.message;throw $e.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw $e.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function em({projectId:e}){return`${a_}/projects/${e}/registrations`}async function tm({appConfig:e,installations:t}){const r=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function Qb({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:t,p256dh:e}};return n!==$b&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=7*24*60*60*1e3;async function w_(e){const t=await N_(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ar(t.getKey("auth")),p256dh:ar(t.getKey("p256dh"))},n=await g_(e.firebaseDependencies);if(n){if(S_(n.subscriptionOptions,r))return Date.now()>=n.createTime+k_?j_(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await b_(e.firebaseDependencies,n.token)}catch(i){console.warn(i)}return Tg(e.firebaseDependencies,r)}else return Tg(e.firebaseDependencies,r)}async function j_(e,t){try{const r=await v_(e.firebaseDependencies,t),n={...t,token:r,createTime:Date.now()};return await Zh(e.firebaseDependencies,n),r}catch(r){throw r}}async function Tg(e,t){const n={token:await y_(e,t),createTime:Date.now(),subscriptionOptions:t};return await Zh(e,n),n.token}async function N_(e,t){const r=await e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:d_(t)})}function S_(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return r&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return C_(t,e),T_(t,e),P_(t,e),t}function C_(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const i=t.notification.image;i&&(e.notification.image=i);const a=t.notification.icon;a&&(e.notification.icon=a)}function T_(e,t){t.data&&(e.data=t.data)}function P_(e,t){var i,a,o,l;if(!t.fcmOptions&&!((i=t.notification)!=null&&i.click_action))return;e.fcmOptions={};const r=((a=t.fcmOptions)==null?void 0:a.link)??((o=t.notification)==null?void 0:o.click_action);r&&(e.fcmOptions.link=r);const n=(l=t.fcmOptions)==null?void 0:l.analytics_label;n&&(e.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(e){return typeof e=="object"&&!!e&&qb in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e){if(!e||!e.options)throw Uc("App Configuration Object");if(!e.name)throw Uc("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw Uc(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Uc(e){return $e.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=E_(t);this.firebaseDependencies={app:t,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(e){try{e.swRegistration=await navigator.serviceWorker.register(s_,{scope:i_}),e.swRegistration.update().catch(()=>{}),await M_(e.swRegistration)}catch(t){throw $e.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function M_(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${Ng} ms`)),Ng),i=e.installing||e.waiting;e.active?(clearTimeout(n),t()):i?i.onstatechange=a=>{var o;((o=a.target)==null?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(e,t){if(!t&&!e.swRegistration&&await __(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw $e.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D_(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=$b)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(e,t){if(!navigator)throw $e.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw $e.create("permission-blocked");return await D_(e,t==null?void 0:t.vapidKey),await R_(e,t==null?void 0:t.serviceWorkerRegistration),w_(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L_(e,t,r){const n=O_(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[qb],message_name:r[o_],message_time:r[l_],message_device_time:Math.floor(Date.now()/1e3)})}function O_(e){switch(e){case aa.NOTIFICATION_CLICKED:return"notification_open";case aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F_(e,t){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===aa.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Pg(r)):e.onMessageHandler.next(Pg(r)));const n=r.data;A_(n)&&n[c_]==="1"&&await L_(e,r.messageType,n)}const Ag="@firebase/messaging",Eg="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=e=>{const t=new I_(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>F_(t,r)),t},B_=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>Gb(t,n)}};function z_(){$n(new ln("messaging",V_,"PUBLIC")),$n(new ln("messaging-internal",B_,"PRIVATE")),Zr(Ag,Eg),Zr(Ag,Eg,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(){try{await vb()}catch{return!1}return typeof window<"u"&&yb()&&iE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e,t){if(!navigator)throw $e.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(e=aI()){return U_().then(t=>{if(!t)throw $e.create("unsupported-browser")},t=>{throw $e.create("indexed-db-unsupported")}),Gh(Hh(e),"messaging").getImmediate()}async function W_(e,t){return e=Hh(e),Gb(e,t)}function H_(e,t){return e=Hh(e),$_(e,t)}z_();const rm={apiKey:"AIzaSyD_zaEB4r9OdxRhqjh_3knPThewK0Xr98I",authDomain:"baptizo-community.firebaseapp.com",projectId:"baptizo-community",storageBucket:"baptizo-community.firebasestorage.app",messagingSenderId:"781281083216",appId:"1:781281083216:web:4236621528ef828ab03655",measurementId:"G-7LD94T1B5D"};if(!rm.projectId)throw new Error("Firebase projectId is required. Please set VITE_FIREBASE_PROJECT_ID in your .env.local file.");if(!rm.apiKey)throw new Error("Firebase apiKey is required. Please set VITE_FIREBASE_API_KEY in your .env.local file.");const Q_=wb(rm),$c=typeof window<"u"?q_(Q_):null,Ig="BGwc3-C9heX7WHfc8hJwJ08smI0rWbqoyoOXN1IoaHN33auBdJ7GIr82XZKUdl5MW9XZyElzyxIuMQA_J-xWhEE";function G_(){const{user:e}=H(),t=Q(E.users.updateFcmToken),[r,n]=b.useState(typeof window<"u"?Notification.permission:"default");return b.useEffect(()=>{if(!e||!$c||!Ig)return;(async()=>{try{const o=await Notification.requestPermission();if(n(o),o==="granted"){const l=await W_($c,{vapidKey:Ig});l&&(console.log("FCM Token:",l),await t({userId:e._id,fcmToken:l}))}}catch(o){console.error("Error setting up notifications:",o)}})();const a=H_($c,o=>{console.log("Foreground message received:",o),o.notification&&new Notification(o.notification.title||"New Notification",{body:o.notification.body,icon:o.notification.image||"/logo192.png"})});return()=>a()},[e,t]),{permissionStatus:r}}function K_(){const[e,t]=b.useState(null),[r,n]=b.useState(!1);b.useEffect(()=>{const o=l=>{l.preventDefault(),t(l),localStorage.getItem("pwa_dismissed")||n(!0)};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const i=async()=>{if(!e)return;n(!1),e.prompt();const{outcome:o}=await e.userChoice;console.log(`User response to the install prompt: ${o}`),t(null)},a=()=>{n(!1),localStorage.setItem("pwa_dismissed","true")};return r?s.jsx(We,{children:s.jsx(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-0 left-0 right-0 z-[100] p-4 md:p-6 flex justify-center pointer-events-none",children:s.jsxs("div",{className:"bg-white/90 dark:bg-gray-900/95 backdrop-blur-xl border border-light-border dark:border-dark-border shadow-2xl rounded-2xl p-4 w-[95%] max-w-sm pointer-events-auto relative overflow-hidden mx-auto mb-4 md:mb-6",children:[s.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-primary-500/20 rounded-full blur-2xl pointer-events-none"}),s.jsx("div",{className:"absolute -bottom-10 -left-10 w-24 h-24 bg-secondary-500/20 rounded-full blur-2xl pointer-events-none"}),s.jsx("button",{onClick:a,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors z-10",children:s.jsx(wr,{className:"w-4 h-4 text-gray-500"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/baptizo/posts/images/Baptizo-logo.png",alt:"Baptizo",className:"w-12 h-12 rounded-xl shadow-md mb-2"}),s.jsx("h3",{className:"text-base md:text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Install Baptizo Application"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4 max-w-[90%]",children:"Get the best experience with offline access and real-time updates."}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx(L,{variant:"outline",className:"flex-1 h-9 text-xs",onClick:a,children:"Not Now"}),s.jsxs(L,{className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white shadow-lg shadow-primary-500/25 h-9 text-xs",onClick:i,children:[s.jsx(Bh,{className:"w-3 h-3 mr-1.5"}),"Install App"]})]})]})]})})}):null}const Yo=Xt.forwardRef(({className:e,label:t,error:r,...n},i)=>s.jsxs("div",{className:"w-full",children:[t&&s.jsx("label",{className:"block text-sm font-medium mb-1.5 text-light-text dark:text-dark-text",children:t}),s.jsx("textarea",{ref:i,className:Y("w-full px-4 py-3 rounded-xl border border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text outline-none transition-all duration-200","focus:ring-2 focus:ring-primary-500 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","resize-y min-h-[100px]",r&&"border-red-500 focus:ring-red-500",e),...n}),r&&s.jsx("p",{className:"mt-1 text-sm text-red-500 font-medium animate-in slide-in-from-top-1",children:r})]}));Yo.displayName="Textarea";function Y_({users:e,selectedUserId:t,onSelect:r,label:n="Assign To"}){const[i,a]=b.useState(!1),[o,l]=b.useState(""),c=b.useRef(null),d=e.find(h=>h._id===t),u=e.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())||h.role.toLowerCase().includes(o.toLowerCase()));return b.useEffect(()=>{const h=m=>{c.current&&!c.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),s.jsxs("div",{className:"w-full relative",ref:c,children:[n&&s.jsx("label",{className:"block text-sm font-medium mb-1.5 text-light-text dark:text-dark-text",children:n}),s.jsxs("button",{type:"button",onClick:()=>a(!i),className:`w-full flex items-center justify-between p-3 rounded-xl border transition-all ${i?"border-primary-500 ring-2 ring-primary-500/20 bg-light-card/80 dark:bg-dark-card/80":"border-light-border dark:border-dark-border bg-light-bg dark:bg-dark-bg hover:border-primary-500/50"}`,children:[d?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:s.jsx("div",{className:"w-full h-full rounded-lg bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:d.avatarUrl?s.jsx("img",{src:d.avatarUrl,alt:d.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-xs font-bold",children:d.name[0]})})}),s.jsxs("div",{className:"flex flex-col items-start leading-none",children:[s.jsx("span",{className:"font-semibold text-sm",children:d.name}),s.jsx("span",{className:"text-[10px] text-light-muted dark:text-dark-muted font-bold uppercase tracking-wider mt-0.5",children:d.role.replace("_"," ")})]})]}):s.jsx("span",{className:"text-light-muted dark:text-dark-muted",children:"Select a member..."}),s.jsx(Bn,{className:`w-5 h-5 text-light-muted dark:text-dark-muted transition-transform ${i?"rotate-180":""}`})]}),s.jsx(We,{children:i&&s.jsxs(P.div,{initial:{opacity:0,y:5,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"absolute top-full left-0 right-0 mt-2 z-50 bg-light-card/95 dark:bg-dark-card/95 backdrop-blur-xl border border-light-border/20 dark:border-dark-border/20 rounded-xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"p-2 border-b border-light-border/10 dark:border-dark-border/10",children:s.jsxs("div",{className:"relative",children:[s.jsx(an,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-muted dark:text-dark-muted"}),s.jsx("input",{type:"text",placeholder:"Search members...",value:o,onChange:h=>l(h.target.value),className:"w-full pl-9 pr-3 py-2 bg-light-bg/50 dark:bg-dark-bg/50 rounded-lg text-sm border-none focus:ring-1 focus:ring-primary-500 outline-none",autoFocus:!0})]})}),s.jsx("div",{className:"max-h-[250px] overflow-y-auto thin-scrollbar p-1",children:u.length>0?u.map(h=>s.jsxs("button",{onClick:()=>{r(h._id),a(!1)},className:`w-full flex items-center justify-between p-2 rounded-lg transition-colors ${t===h._id?"bg-primary-500/10 text-primary-500":"hover:bg-light-bg/80 dark:hover:bg-dark-bg/80"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-primary-500 to-secondary-500 p-0.5",children:s.jsx("div",{className:"w-full h-full rounded-lg bg-light-bg dark:bg-dark-bg flex items-center justify-center overflow-hidden",children:h.avatarUrl?s.jsx("img",{src:h.avatarUrl,alt:h.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-xs font-bold",children:h.name[0]})})}),s.jsxs("div",{className:"flex flex-col items-start leading-none",children:[s.jsx("span",{className:"font-semibold text-sm",children:h.name}),s.jsx("span",{className:"text-[10px] opacity-70 font-bold uppercase tracking-wider mt-0.5",children:h.role.replace("_"," ")})]})]}),t===h._id&&s.jsx(xt,{className:"w-4 h-4"})]},h._id)):s.jsx("div",{className:"p-4 text-center text-sm text-light-muted dark:text-dark-muted",children:"No members found"})})]})})]})}function J_(){const{user:e,isLoading:t}=H(),r=we(),n=Q(E.boardTasks.createTask),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState("Ministry Assignment"),[u,h]=b.useState("medium"),[m,f]=b.useState(""),[v,p]=b.useState(""),[k,y]=b.useState(!1),x=W(E.users.getAllUsers,e&&(e.role==="admin"||e.role==="super_admin")?{adminId:e._id}:"skip"),g=(x==null?void 0:x.filter(j=>j.role==="board_member"||j.role==="admin"||j.role==="super_admin"))||[];if(t)return s.jsx("div",{className:"flex justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/board",replace:!0});const w=async()=>{if(!(!i||!o||!m)){y(!0);try{await n({adminId:e._id,title:i,description:o,type:c,priority:u,assignedTo:m,dueDate:v?new Date(v).getTime():void 0}),r("/board/admin")}catch(j){console.error("Failed to create task:",j)}finally{y(!1)}}};return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"Create New Task"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Assign a new responsibility to a board member"})]}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6 space-y-6",children:[s.jsx(ke,{label:"Task Title",value:i,onChange:j=>a(j.target.value),placeholder:"e.g., Prepare Sunday Teaching"}),s.jsx(Yo,{label:"Description",value:o,onChange:j=>l(j.target.value),rows:4,placeholder:"Describe the task..."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Qo,{label:"Type",value:c,onChange:d,options:[{value:"Ministry Assignment",label:"Ministry Assignment"},{value:"Administrative",label:"Administrative"},{value:"Training",label:"Training"},{value:"Personal Development",label:"Personal Development"},{value:"Team Project",label:"Team Project"}]}),s.jsx(Qo,{label:"Priority",value:u,onChange:h,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"relative z-40",children:s.jsx(Y_,{users:g,selectedUserId:m,onSelect:f,label:"Assign To"})}),s.jsx(ke,{type:"date",label:"Due Date",value:v,onChange:j=>p(j.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(L,{variant:"ghost",onClick:()=>r(-1),children:"Cancel"}),s.jsx(L,{variant:"primary",onClick:w,disabled:k,children:k?"Creating...":"Create Task"})]})]})})]})})}function X_(){const{user:e,isLoading:t}=H(),r=we(),n=Q(E.training.createModule),i=W(E.training.getTrainingStats,e?{userId:e._id}:"skip"),[a,o]=b.useState(""),[l,c]=b.useState(""),[d,u]=b.useState("Leadership"),[h,m]=b.useState(""),[f,v]=b.useState(""),[p,k]=b.useState(""),[y,x]=b.useState(""),[g,w]=b.useState(!1);if(t)return s.jsx("div",{className:"flex justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});if(e.role!=="admin"&&e.role!=="super_admin")return s.jsx(le,{to:"/board",replace:!0});const j=async()=>{if(!(!a||!l)){w(!0);try{const S=(i==null?void 0:i.totalModules)||0;await n({adminId:e._id,title:a,description:l,category:d,content:h,videoUrl:f||void 0,documentUrl:p||void 0,duration:y?parseInt(y):void 0,order:S+1}),r("/board/admin")}catch(S){console.error("Failed to create module:",S)}finally{w(!1)}}};return s.jsx("div",{className:"min-h-screen py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[s.jsx(se,{}),s.jsxs(P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"Create Training Module"}),s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Design a new learning resource"})]}),s.jsx(O,{glass:!0,children:s.jsxs(V,{className:"p-6 space-y-6",children:[s.jsx(ke,{label:"Module Title",value:a,onChange:S=>o(S.target.value),placeholder:"e.g., Leadership Fundamentals"}),s.jsx(Yo,{label:"Description",value:l,onChange:S=>c(S.target.value),rows:2,placeholder:"Brief description..."}),s.jsx(Qo,{label:"Category",value:d,onChange:u,options:[{value:"Leadership",label:"Leadership"},{value:"Ministry Skills",label:"Ministry Skills"},{value:"Spiritual Growth",label:"Spiritual Growth"},{value:"Technical Skills",label:"Technical Skills"},{value:"Team Building",label:"Team Building"}]}),s.jsx(Yo,{label:"Content (HTML)",value:h,onChange:S=>m(S.target.value),rows:6,placeholder:"<h2>Introduction</h2><p>Content here...</p>",className:"font-mono text-sm"}),s.jsx(ke,{label:"Video URL (Optional - YouTube, Vimeo embed)",value:f,onChange:S=>v(S.target.value),placeholder:"https://youtube.com/embed/..."}),s.jsx(ke,{label:"Document URL (Optional - Google Drive, Dropbox)",value:p,onChange:S=>k(S.target.value),placeholder:"https://drive.google.com/..."}),s.jsx(ke,{label:"Duration (Minutes)",type:"number",value:y,onChange:S=>x(S.target.value),placeholder:"30"}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(L,{variant:"ghost",onClick:()=>r(-1),children:"Cancel"}),s.jsx(L,{variant:"primary",onClick:j,disabled:g,children:g?"Creating...":"Create Module"})]})]})})]})})}function Z_(){const{user:e,isLoading:t}=H(),r=we(),[n,i]=b.useState(()=>{const x=localStorage.getItem("teachings_activeTab");return x==="ancient"||x==="wisdom"?x:"wisdom"}),[a,o]=b.useState(0),[l,c]=b.useState(0),[d,u]=b.useState(()=>{const x=localStorage.getItem("ancientCulture_postsVisible");return x!==null?JSON.parse(x):!0}),[h,m]=b.useState(()=>{const x=localStorage.getItem("wisdomNow_postsVisible");return x!==null?JSON.parse(x):!0});if(b.useEffect(()=>{localStorage.setItem("teachings_activeTab",n)},[n]),b.useEffect(()=>{localStorage.setItem("ancientCulture_postsVisible",JSON.stringify(d))},[d]),b.useEffect(()=>{localStorage.setItem("wisdomNow_postsVisible",JSON.stringify(h))},[h]),t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});const f=n==="ancient"?"Ancient Culture":"Wisdom of The Now",v=n==="ancient"?d:h,p=n==="ancient"?u:m,k=n==="ancient"?a:l,y=()=>{n==="ancient"?o(x=>x+1):c(x=>x+1)};return s.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[s.jsxs(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:Y("mb-6 md:mb-8 p-6 md:p-8 rounded-2xl border transition-all duration-300",n==="ancient"?"bg-gradient-to-br from-primary-500/10 via-primary-500/5 to-primary-600/10 border-primary-500/20":"bg-gradient-to-br from-secondary-500/10 via-secondary-500/5 to-secondary-600/10 border-secondary-500/20"),children:[s.jsxs("div",{className:"flex items-start gap-4 justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:Y("w-12 h-12 md:w-16 md:h-16 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0 transition-colors duration-300",n==="ancient"?"bg-primary-500 shadow-primary-500/30":"bg-secondary-500 shadow-secondary-500/30"),children:n==="ancient"?s.jsx(Bt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}):s.jsx(Cr,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})},n),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h1",{className:Y("text-2xl md:text-4xl font-bold font-display transition-colors duration-300",n==="ancient"?"text-primary-600 dark:text-primary-400":"text-secondary-600 dark:text-secondary-400"),children:n==="ancient"?"Ancient Culture":"Wisdom of The Now"}),s.jsx($h,{title:n==="ancient"?"Ancient Culture":"Wisdom of The Now",content:n==="ancient"?"This section features teachings based on prophetic wisdom and systems from the Old Testament. Admin-created posts appear here for community learning and discussion.":"This section features teachings based on spiritual identity and insights from the New Testament. Engage with admin posts to deepen your understanding."})]}),s.jsx("p",{className:"text-light-text dark:text-dark-text text-sm md:text-base leading-relaxed",children:n==="ancient"?"Prophetic wisdom and systems from the Old Testament":"Spiritual identity and insights from the New Testament"})]})]}),s.jsx(P.button,{whileTap:{scale:.95},onClick:async()=>{const x=`${window.location.origin}/teachings`;navigator.share?await navigator.share({title:"Teachings - Baptizo",url:x}):(await navigator.clipboard.writeText(x),alert("Link copied to clipboard!"))},className:Y("p-2 rounded-lg transition-all flex-shrink-0",n==="ancient"?"hover:bg-primary-100 dark:hover:bg-primary-900/20 text-primary-500":"hover:bg-secondary-100 dark:hover:bg-secondary-900/20 text-secondary-500"),title:"Share this page",children:s.jsx(Ws,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex p-1 bg-light-bg/50 dark:bg-dark-bg/50 backdrop-blur-sm rounded-xl border border-light-border dark:border-dark-border mt-6 relative",children:[s.jsx(P.div,{layout:!0,className:Y("absolute top-1 bottom-1 rounded-lg bg-white dark:bg-dark-card shadow-sm z-0",n==="ancient"?"left-1 right-1/2":"left-1/2 right-1"),initial:!1,transition:{type:"spring",bounce:.2,duration:.6}}),s.jsx("button",{onClick:()=>i("wisdom"),className:Y("flex-1 py-2 text-sm md:text-base font-bold rounded-lg relative z-10 transition-colors duration-300",n==="wisdom"?"text-secondary-600 dark:text-secondary-400":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"),children:"Wisdom of The Now"}),s.jsx("button",{onClick:()=>i("ancient"),className:Y("flex-1 py-2 text-sm md:text-base font-bold rounded-lg relative z-10 transition-colors duration-300",n==="ancient"?"text-primary-600 dark:text-primary-400":"text-light-muted dark:text-dark-muted hover:text-light-text dark:hover:text-dark-text"),children:"Ancient Culture"})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Al,{onSuccess:y,defaultCategory:f})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Uh,{isVisible:v,onToggle:()=>p(!v),category:f})}),v?s.jsxs("div",{children:[" ",s.jsx(Pl,{category:f,onlyOfficial:!0,onCommentClick:x=>r(`/post/${x._id}`)},`${n}-${k}`)]},n):s.jsx("div",{className:"text-center py-12 glass rounded-xl",children:s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:'Posts are hidden. Click "Show Posts" to view them.'})})]})]})})}function e3(){const{user:e,isLoading:t}=H(),r=we(),[n,i]=b.useState(null);if(t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e)return s.jsx(le,{to:"/login",replace:!0});e.role==="admin"||e.role;const a=()=>{r("/teachings")};return s.jsx("div",{className:"min-h-screen py-4 md:py-8 pb-20 md:pb-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-2xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 md:mb-8",children:[s.jsx("button",{onClick:()=>n?i(null):r(-1),className:"p-2 -ml-2 rounded-full hover:bg-light-card dark:hover:bg-dark-card transition-colors",children:s.jsx(Fh,{className:"w-6 h-6 text-light-text dark:text-dark-text"})}),s.jsx("h1",{className:"text-2xl font-bold font-display text-light-text dark:text-dark-text",children:n?"Create Post":"Choose Category"})]}),s.jsx("div",{className:"space-y-6",children:n?s.jsx(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-light-bg dark:bg-dark-bg",children:s.jsx(Al,{defaultCategory:n,onSuccess:a,variant:"default"})}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-light-muted dark:text-dark-muted",children:"Select the category where you want to share your thoughts."}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs(P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("Wisdom of The Now"),className:"w-full p-6 rounded-2xl border border-secondary-500/20 bg-gradient-to-br from-secondary-500/5 to-secondary-500/10 hover:shadow-lg hover:shadow-secondary-500/10 transition-all text-left flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-secondary-500/10 text-secondary-500",children:s.jsx(Cr,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-secondary-600 dark:text-secondary-400 font-display mb-1",children:"Wisdom of The Now"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Share spiritual insights and identity from the New Testament"})]})]}),s.jsxs(P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("Ancient Culture"),className:"w-full p-6 rounded-2xl border border-primary-500/20 bg-gradient-to-br from-primary-500/5 to-primary-500/10 hover:shadow-lg hover:shadow-primary-500/10 transition-all text-left flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary-500/10 text-primary-500",children:s.jsx(Bt,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-primary-600 dark:text-primary-400 font-display mb-1",children:"Ancient Culture"}),s.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:"Discuss prophetic wisdom from the Old Testament"})]})]})]})]})})]})})}const t3=new qN("https://perceptive-kudu-144.convex.cloud");function r3(){const e=It(),[t,r]=Xt.useState(!0);if(G_(),Xt.useEffect(()=>{const c=setTimeout(()=>r(!1),2e3);return()=>clearTimeout(c)},[]),t)return s.jsx(Wh,{});const n=e.pathname==="/",a=["/feed","/ancient-culture","/wisdom-now","/teachings","/profile","/admin","/notifications","/tasks","/leaderboard","/admin/reward-responses","/my-responses","/admin/responses","/post","/search"].some(c=>e.pathname.startsWith(c)),l=["/feed","/ancient-culture","/wisdom-now","/notifications","/tasks","/admin/tasks","/leaderboard","/search","/board"].some(c=>e.pathname.startsWith(c));return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx(j4,{}),l&&s.jsx(C4,{}),s.jsx("main",{className:`flex-1 pt-14 md:pt-20 ${a?"pb-20 md:pb-0":""}`,children:s.jsxs(f1,{children:[s.jsx(K,{path:"/",element:s.jsx(T4,{})}),s.jsx(K,{path:"/login",element:s.jsx(A4,{})}),s.jsx(K,{path:"/register",element:s.jsx(M4,{})}),s.jsx(K,{path:"/feed",element:s.jsx(nA,{})}),s.jsx(K,{path:"/ancient-culture",element:s.jsx(iA,{})}),s.jsx(K,{path:"/wisdom-now",element:s.jsx(aA,{})}),s.jsx(K,{path:"/profile",element:s.jsx(mA,{})}),s.jsx(K,{path:"/admin",element:s.jsx(fA,{})}),s.jsx(K,{path:"/admin/rewards",element:s.jsx(pA,{})}),s.jsx(K,{path:"/admin/tasks",element:s.jsx(yA,{})}),s.jsx(K,{path:"/admin/responses",element:s.jsx(kA,{})}),s.jsx(K,{path:"/admin/reward-responses",element:s.jsx(wA,{})}),s.jsx(K,{path:"/admin/contacts",element:s.jsx(VA,{})}),s.jsx(K,{path:"/admin/members",element:s.jsx(BA,{})}),s.jsx(K,{path:"/my-responses",element:s.jsx(jA,{})}),s.jsx(K,{path:"/tasks",element:s.jsx(xA,{})}),s.jsx(K,{path:"/leaderboard",element:s.jsx(NA,{})}),s.jsx(K,{path:"/notifications",element:s.jsx(gA,{})}),s.jsx(K,{path:"/setup",element:s.jsx(vA,{})}),s.jsx(K,{path:"/search",element:s.jsx(AA,{})}),s.jsx(K,{path:"/member-onboarding",element:s.jsx(WA,{})}),s.jsx(K,{path:"/board",element:s.jsx(zA,{})}),s.jsx(K,{path:"/board/tasks",element:s.jsx(UA,{})}),s.jsx(K,{path:"/board/task/new",element:s.jsx(J_,{})}),s.jsx(K,{path:"/board/training",element:s.jsx($A,{})}),s.jsx(K,{path:"/board/training/new",element:s.jsx(X_,{})}),s.jsx(K,{path:"/board/admin",element:s.jsx(qA,{})}),s.jsx(K,{path:"/profile/:userId",element:s.jsx(EA,{})}),s.jsx(K,{path:"/about",element:s.jsx(IA,{})}),s.jsx(K,{path:"/privacy",element:s.jsx(_A,{})}),s.jsx(K,{path:"/terms",element:s.jsx(MA,{})}),s.jsx(K,{path:"/contact",element:s.jsx(RA,{})}),s.jsx(K,{path:"/faq",element:s.jsx(LA,{})}),s.jsx(K,{path:"/guidelines",element:s.jsx(FA,{})}),s.jsx(K,{path:"/post/:postId/responses",element:s.jsx(CA,{})}),s.jsx(K,{path:"/post/:postId",element:s.jsx(PA,{})}),s.jsx(K,{path:"/official-response/:postId",element:s.jsx(HA,{})}),s.jsx(K,{path:"/teachings",element:s.jsx(Z_,{})}),s.jsx(K,{path:"/create-post",element:s.jsx(e3,{})})]})}),n&&s.jsx(N4,{}),a&&s.jsx(S4,{}),s.jsx(QA,{})]})}function n3(){return s.jsx(HN,{client:t3,children:s.jsx(ZN,{children:s.jsx(t2,{children:s.jsxs(k1,{children:[s.jsx(K_,{}),s.jsx(r3,{})]})})})})}qc.createRoot(document.getElementById("root")).render(s.jsx(Xt.StrictMode,{children:s.jsx(n3,{})}));
//# sourceMappingURL=index-CMuxu6-u.js.map
